// ┌────────────────────────────────────────────────────────────────────┐ \\
// │ Raphaël 2.1.0 - JavaScript Vector Library                          │ \\
// ├────────────────────────────────────────────────────────────────────┤ \\
// │ Copyright © 2008-2012 Dmitry Baranovskiy (http://raphaeljs.com)    │ \\
// │ Copyright © 2008-2012 Sencha Labs (http://sencha.com)              │ \\
// ├────────────────────────────────────────────────────────────────────┤ \\
// │ Licensed under the MIT (http://raphaeljs.com/license.html) license.│ \\
// └────────────────────────────────────────────────────────────────────┘ \\

// ┌──────────────────────────────────────────────────────────────────────────────────────┐ \\
// │ Eve 0.3.4 - JavaScript Events Library                                                │ \\
// ├──────────────────────────────────────────────────────────────────────────────────────┤ \\
// │ Copyright (c) 2008-2011 Dmitry Baranovskiy (http://dmitry.baranovskiy.com/)          │ \\
// │ Licensed under the MIT (http://www.opensource.org/licenses/mit-license.php) license. │ \\
// └──────────────────────────────────────────────────────────────────────────────────────┘ \\

(function (glob) {
    var version = "0.3.4",
        has = "hasOwnProperty",
        separator = /[\.\/]/,
        wildcard = "*",
        fun = function () {},
        numsort = function (a, b) {
            return a - b;
        },
        current_event,
        stop,
        events = {n: {}},
    
        eve = function (name, scope) {
            var e = events,
                oldstop = stop,
                args = Array.prototype.slice.call(arguments, 2),
                listeners = eve.listeners(name),
                z = 0,
                f = false,
                l,
                indexed = [],
                queue = {},
                out = [],
                ce = current_event,
                errors = [];
            current_event = name;
            stop = 0;
            for (var i = 0, ii = listeners.length; i < ii; i++) if ("zIndex" in listeners[i]) {
                indexed.push(listeners[i].zIndex);
                if (listeners[i].zIndex < 0) {
                    queue[listeners[i].zIndex] = listeners[i];
                }
            }
            indexed.sort(numsort);
            while (indexed[z] < 0) {
                l = queue[indexed[z++]];
                out.push(l.apply(scope, args));
                if (stop) {
                    stop = oldstop;
                    return out;
                }
            }
            for (i = 0; i < ii; i++) {
                l = listeners[i];
                if ("zIndex" in l) {
                    if (l.zIndex == indexed[z]) {
                        out.push(l.apply(scope, args));
                        if (stop) {
                            break;
                        }
                        do {
                            z++;
                            l = queue[indexed[z]];
                            l && out.push(l.apply(scope, args));
                            if (stop) {
                                break;
                            }
                        } while (l)
                    } else {
                        queue[l.zIndex] = l;
                    }
                } else {
                    out.push(l.apply(scope, args));
                    if (stop) {
                        break;
                    }
                }
            }
            stop = oldstop;
            current_event = ce;
            return out.length ? out : null;
        };
    
    eve.listeners = function (name) {
        var names = name.split(separator),
            e = events,
            item,
            items,
            k,
            i,
            ii,
            j,
            jj,
            nes,
            es = [e],
            out = [];
        for (i = 0, ii = names.length; i < ii; i++) {
            nes = [];
            for (j = 0, jj = es.length; j < jj; j++) {
                e = es[j].n;
                items = [e[names[i]], e[wildcard]];
                k = 2;
                while (k--) {
                    item = items[k];
                    if (item) {
                        nes.push(item);
                        out = out.concat(item.f || []);
                    }
                }
            }
            es = nes;
        }
        return out;
    };
    
    
    eve.on = function (name, f) {
        var names = name.split(separator),
            e = events;
        for (var i = 0, ii = names.length; i < ii; i++) {
            e = e.n;
            !e[names[i]] && (e[names[i]] = {n: {}});
            e = e[names[i]];
        }
        e.f = e.f || [];
        for (i = 0, ii = e.f.length; i < ii; i++) if (e.f[i] == f) {
            return fun;
        }
        e.f.push(f);
        return function (zIndex) {
            if (+zIndex == +zIndex) {
                f.zIndex = +zIndex;
            }
        };
    };
    
    eve.stop = function () {
        stop = 1;
    };
    
    eve.nt = function (subname) {
        if (subname) {
            return new RegExp("(?:\\.|\\/|^)" + subname + "(?:\\.|\\/|$)").test(current_event);
        }
        return current_event;
    };
    
    
    eve.off = eve.unbind = function (name, f) {
        var names = name.split(separator),
            e,
            key,
            splice,
            i, ii, j, jj,
            cur = [events];
        for (i = 0, ii = names.length; i < ii; i++) {
            for (j = 0; j < cur.length; j += splice.length - 2) {
                splice = [j, 1];
                e = cur[j].n;
                if (names[i] != wildcard) {
                    if (e[names[i]]) {
                        splice.push(e[names[i]]);
                    }
                } else {
                    for (key in e) if (e[has](key)) {
                        splice.push(e[key]);
                    }
                }
                cur.splice.apply(cur, splice);
            }
        }
        for (i = 0, ii = cur.length; i < ii; i++) {
            e = cur[i];
            while (e.n) {
                if (f) {
                    if (e.f) {
                        for (j = 0, jj = e.f.length; j < jj; j++) if (e.f[j] == f) {
                            e.f.splice(j, 1);
                            break;
                        }
                        !e.f.length && delete e.f;
                    }
                    for (key in e.n) if (e.n[has](key) && e.n[key].f) {
                        var funcs = e.n[key].f;
                        for (j = 0, jj = funcs.length; j < jj; j++) if (funcs[j] == f) {
                            funcs.splice(j, 1);
                            break;
                        }
                        !funcs.length && delete e.n[key].f;
                    }
                } else {
                    delete e.f;
                    for (key in e.n) if (e.n[has](key) && e.n[key].f) {
                        delete e.n[key].f;
                    }
                }
                e = e.n;
            }
        }
    };
    
    eve.once = function (name, f) {
        var f2 = function () {
            var res = f.apply(this, arguments);
            eve.unbind(name, f2);
            return res;
        };
        return eve.on(name, f2);
    };
    
    eve.version = version;
    eve.toString = function () {
        return "You are running Eve " + version;
    };
    (typeof module != "undefined" && module.exports) ? (module.exports = eve) : (typeof define != "undefined" ? (define("eve", [], function() { return eve; })) : (glob.eve = eve));
})(this);


// ┌─────────────────────────────────────────────────────────────────────┐ \\
// │ "Raphaël 2.1.0" - JavaScript Vector Library                         │ \\
// ├─────────────────────────────────────────────────────────────────────┤ \\
// │ Copyright (c) 2008-2011 Dmitry Baranovskiy (http://raphaeljs.com)   │ \\
// │ Copyright (c) 2008-2011 Sencha Labs (http://sencha.com)             │ \\
// │ Licensed under the MIT (http://raphaeljs.com/license.html) license. │ \\
// └─────────────────────────────────────────────────────────────────────┘ \\
(function () {
    
    function R(first) {
        if (R.is(first, "function")) {
            return loaded ? first() : eve.on("raphael.DOMload", first);
        } else if (R.is(first, array)) {
            return R._engine.create[apply](R, first.splice(0, 3 + R.is(first[0], nu))).add(first);
        } else {
            var args = Array.prototype.slice.call(arguments, 0);
            if (R.is(args[args.length - 1], "function")) {
                var f = args.pop();
                return loaded ? f.call(R._engine.create[apply](R, args)) : eve.on("raphael.DOMload", function () {
                    f.call(R._engine.create[apply](R, args));
                });
            } else {
                return R._engine.create[apply](R, arguments);
            }
        }
    }
    R.version = "2.1.0";
    R.eve = eve;
    var loaded,
        separator = /[, ]+/,
        elements = {circle: 1, rect: 1, path: 1, ellipse: 1, text: 1, image: 1},
        formatrg = /\{(\d+)\}/g,
        proto = "prototype",
        has = "hasOwnProperty",
        g = {
            doc: document,
            win: window
        },
        oldRaphael = {
            was: Object.prototype[has].call(g.win, "Raphael"),
            is: g.win.Raphael
        },
        Paper = function () {
            
            
            this.ca = this.customAttributes = {};
        },
        paperproto,
        appendChild = "appendChild",
        apply = "apply",
        concat = "concat",
        supportsTouch = "createTouch" in g.doc,
        E = "",
        S = " ",
        Str = String,
        split = "split",
        events = "click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[split](S),
        touchMap = {
            mousedown: "touchstart",
            mousemove: "touchmove",
            mouseup: "touchend"
        },
        lowerCase = Str.prototype.toLowerCase,
        math = Math,
        mmax = math.max,
        mmin = math.min,
        abs = math.abs,
        pow = math.pow,
        PI = math.PI,
        nu = "number",
        string = "string",
        array = "array",
        toString = "toString",
        fillString = "fill",
        objectToString = Object.prototype.toString,
        paper = {},
        push = "push",
        ISURL = R._ISURL = /^url\(['"]?([^\)]+?)['"]?\)$/i,
        colourRegExp = /^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,
        isnan = {"NaN": 1, "Infinity": 1, "-Infinity": 1},
        bezierrg = /^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,
        round = math.round,
        setAttribute = "setAttribute",
        toFloat = parseFloat,
        toInt = parseInt,
        upperCase = Str.prototype.toUpperCase,
        availableAttrs = R._availableAttrs = {
            "arrow-end": "none",
            "arrow-start": "none",
            blur: 0,
            "clip-rect": "0 0 1e9 1e9",
            cursor: "default",
            cx: 0,
            cy: 0,
            fill: "#fff",
            "fill-opacity": 1,
            font: '10px "Arial"',
            "font-family": '"Arial"',
            "font-size": "10",
            "font-style": "normal",
            "font-weight": 400,
            gradient: 0,
            height: 0,
            href: "http://raphaeljs.com/",
            "letter-spacing": 0,
            opacity: 1,
            path: "M0,0",
            r: 0,
            rx: 0,
            ry: 0,
            src: "",
            stroke: "#000",
            "stroke-dasharray": "",
            "stroke-linecap": "butt",
            "stroke-linejoin": "butt",
            "stroke-miterlimit": 0,
            "stroke-opacity": 1,
            "stroke-width": 1,
            target: "_blank",
            "text-anchor": "middle",
            title: "Raphael",
            transform: "",
            width: 0,
            x: 0,
            y: 0
        },
        availableAnimAttrs = R._availableAnimAttrs = {
            blur: nu,
            "clip-rect": "csv",
            cx: nu,
            cy: nu,
            fill: "colour",
            "fill-opacity": nu,
            "font-size": nu,
            height: nu,
            opacity: nu,
            path: "path",
            r: nu,
            rx: nu,
            ry: nu,
            stroke: "colour",
            "stroke-opacity": nu,
            "stroke-width": nu,
            transform: "transform",
            width: nu,
            x: nu,
            y: nu
        },
        whitespace = /[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]/g,
        commaSpaces = /[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,
        hsrg = {hs: 1, rg: 1},
        p2s = /,?([achlmqrstvxz]),?/gi,
        pathCommand = /([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/ig,
        tCommand = /([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/ig,
        pathValues = /(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/ig,
        radial_gradient = R._radial_gradient = /^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,
        eldata = {},
        sortByKey = function (a, b) {
            return a.key - b.key;
        },
        sortByNumber = function (a, b) {
            return toFloat(a) - toFloat(b);
        },
        fun = function () {},
        pipe = function (x) {
            return x;
        },
        rectPath = R._rectPath = function (x, y, w, h, r) {
            if (r) {
                return [["M", x + r, y], ["l", w - r * 2, 0], ["a", r, r, 0, 0, 1, r, r], ["l", 0, h - r * 2], ["a", r, r, 0, 0, 1, -r, r], ["l", r * 2 - w, 0], ["a", r, r, 0, 0, 1, -r, -r], ["l", 0, r * 2 - h], ["a", r, r, 0, 0, 1, r, -r], ["z"]];
            }
            return [["M", x, y], ["l", w, 0], ["l", 0, h], ["l", -w, 0], ["z"]];
        },
        ellipsePath = R._ellipsePath = function (x, y, rx, ry) {
            if (ry == null) {
                ry = rx;
            }
            return [["M", x, y], ["m", 0, -ry], ["a", rx, ry, 0, 1, 1, 0, 2 * ry], ["a", rx, ry, 0, 1, 1, 0, -2 * ry], ["z"]];
        },
        getPath = R._getPath = {
            path: function (el) {
                return el.attr("path");
            },
            circle: function (el) {
                var a = el.attrs;
                return ellipsePath(a.cx, a.cy, a.r);
            },
            ellipse: function (el) {
                var a = el.attrs;
                return ellipsePath(a.cx, a.cy, a.rx, a.ry);
            },
            rect: function (el) {
                var a = el.attrs;
                return rectPath(a.x, a.y, a.width, a.height, a.r);
            },
            image: function (el) {
                var a = el.attrs;
                return rectPath(a.x, a.y, a.width, a.height);
            },
            text: function (el) {
                var bbox = el._getBBox();
                return rectPath(bbox.x, bbox.y, bbox.width, bbox.height);
            }
        },
        
        mapPath = R.mapPath = function (path, matrix) {
            if (!matrix) {
                return path;
            }
            var x, y, i, j, ii, jj, pathi;
            path = path2curve(path);
            for (i = 0, ii = path.length; i < ii; i++) {
                pathi = path[i];
                for (j = 1, jj = pathi.length; j < jj; j += 2) {
                    x = matrix.x(pathi[j], pathi[j + 1]);
                    y = matrix.y(pathi[j], pathi[j + 1]);
                    pathi[j] = x;
                    pathi[j + 1] = y;
                }
            }
            return path;
        };

    R._g = g;
    
    R.type = (g.win.SVGAngle || g.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure", "1.1") ? "SVG" : "VML");
    if (R.type == "VML") {
        var d = g.doc.createElement("div"),
            b;
        d.innerHTML = '<v:shape adj="1"/>';
        b = d.firstChild;
        b.style.behavior = "url(#default#VML)";
        if (!(b && typeof b.adj == "object")) {
            return (R.type = E);
        }
        d = null;
    }
    
    
    R.svg = !(R.vml = R.type == "VML");
    R._Paper = Paper;
    
    R.fn = paperproto = Paper.prototype = R.prototype;
    R._id = 0;
    R._oid = 0;
    
    R.is = function (o, type) {
        type = lowerCase.call(type);
        if (type == "finite") {
            return !isnan[has](+o);
        }
        if (type == "array") {
            return o instanceof Array;
        }
        return  (type == "null" && o === null) ||
                (type == typeof o && o !== null) ||
                (type == "object" && o === Object(o)) ||
                (type == "array" && Array.isArray && Array.isArray(o)) ||
                objectToString.call(o).slice(8, -1).toLowerCase() == type;
    };

    function clone(obj) {
        if (Object(obj) !== obj) {
            return obj;
        }
        var res = new obj.constructor;
        for (var key in obj) if (obj[has](key)) {
            res[key] = clone(obj[key]);
        }
        return res;
    }

    
    R.angle = function (x1, y1, x2, y2, x3, y3) {
        if (x3 == null) {
            var x = x1 - x2,
                y = y1 - y2;
            if (!x && !y) {
                return 0;
            }
            return (180 + math.atan2(-y, -x) * 180 / PI + 360) % 360;
        } else {
            return R.angle(x1, y1, x3, y3) - R.angle(x2, y2, x3, y3);
        }
    };
    
    R.rad = function (deg) {
        return deg % 360 * PI / 180;
    };
    
    R.deg = function (rad) {
        return rad * 180 / PI % 360;
    };
    
    R.snapTo = function (values, value, tolerance) {
        tolerance = R.is(tolerance, "finite") ? tolerance : 10;
        if (R.is(values, array)) {
            var i = values.length;
            while (i--) if (abs(values[i] - value) <= tolerance) {
                return values[i];
            }
        } else {
            values = +values;
            var rem = value % values;
            if (rem < tolerance) {
                return value - rem;
            }
            if (rem > values - tolerance) {
                return value - rem + values;
            }
        }
        return value;
    };
    
    
    var createUUID = R.createUUID = (function (uuidRegEx, uuidReplacer) {
        return function () {
            return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(uuidRegEx, uuidReplacer).toUpperCase();
        };
    })(/[xy]/g, function (c) {
        var r = math.random() * 16 | 0,
            v = c == "x" ? r : (r & 3 | 8);
        return v.toString(16);
    });

    
    R.setWindow = function (newwin) {
        eve("raphael.setWindow", R, g.win, newwin);
        g.win = newwin;
        g.doc = g.win.document;
        if (R._engine.initWin) {
            R._engine.initWin(g.win);
        }
    };
    var toHex = function (color) {
        if (R.vml) {
            // http://dean.edwards.name/weblog/2009/10/convert-any-colour-value-to-hex-in-msie/
            var trim = /^\s+|\s+$/g;
            var bod;
            try {
                var docum = new ActiveXObject("htmlfile");
                docum.write("<body>");
                docum.close();
                bod = docum.body;
            } catch(e) {
                bod = createPopup().document.body;
            }
            var range = bod.createTextRange();
            toHex = cacher(function (color) {
                try {
                    bod.style.color = Str(color).replace(trim, E);
                    var value = range.queryCommandValue("ForeColor");
                    value = ((value & 255) << 16) | (value & 65280) | ((value & 16711680) >>> 16);
                    return "#" + ("000000" + value.toString(16)).slice(-6);
                } catch(e) {
                    return "none";
                }
            });
        } else {
            var i = g.doc.createElement("i");
            i.title = "Rapha\xebl Colour Picker";
            i.style.display = "none";
            g.doc.body.appendChild(i);
            toHex = cacher(function (color) {
                i.style.color = color;
                return g.doc.defaultView.getComputedStyle(i, E).getPropertyValue("color");
            });
        }
        return toHex(color);
    },
    hsbtoString = function () {
        return "hsb(" + [this.h, this.s, this.b] + ")";
    },
    hsltoString = function () {
        return "hsl(" + [this.h, this.s, this.l] + ")";
    },
    rgbtoString = function () {
        return this.hex;
    },
    prepareRGB = function (r, g, b) {
        if (g == null && R.is(r, "object") && "r" in r && "g" in r && "b" in r) {
            b = r.b;
            g = r.g;
            r = r.r;
        }
        if (g == null && R.is(r, string)) {
            var clr = R.getRGB(r);
            r = clr.r;
            g = clr.g;
            b = clr.b;
        }
        if (r > 1 || g > 1 || b > 1) {
            r /= 255;
            g /= 255;
            b /= 255;
        }
        
        return [r, g, b];
    },
    packageRGB = function (r, g, b, o) {
        r *= 255;
        g *= 255;
        b *= 255;
        var rgb = {
            r: r,
            g: g,
            b: b,
            hex: R.rgb(r, g, b),
            toString: rgbtoString
        };
        R.is(o, "finite") && (rgb.opacity = o);
        return rgb;
    };
    
    
    R.color = function (clr) {
        var rgb;
        if (R.is(clr, "object") && "h" in clr && "s" in clr && "b" in clr) {
            rgb = R.hsb2rgb(clr);
            clr.r = rgb.r;
            clr.g = rgb.g;
            clr.b = rgb.b;
            clr.hex = rgb.hex;
        } else if (R.is(clr, "object") && "h" in clr && "s" in clr && "l" in clr) {
            rgb = R.hsl2rgb(clr);
            clr.r = rgb.r;
            clr.g = rgb.g;
            clr.b = rgb.b;
            clr.hex = rgb.hex;
        } else {
            if (R.is(clr, "string")) {
                clr = R.getRGB(clr);
            }
            if (R.is(clr, "object") && "r" in clr && "g" in clr && "b" in clr) {
                rgb = R.rgb2hsl(clr);
                clr.h = rgb.h;
                clr.s = rgb.s;
                clr.l = rgb.l;
                rgb = R.rgb2hsb(clr);
                clr.v = rgb.b;
            } else {
                clr = {hex: "none"};
                clr.r = clr.g = clr.b = clr.h = clr.s = clr.v = clr.l = -1;
            }
        }
        clr.toString = rgbtoString;
        return clr;
    };
    
    R.hsb2rgb = function (h, s, v, o) {
        if (this.is(h, "object") && "h" in h && "s" in h && "b" in h) {
            v = h.b;
            s = h.s;
            h = h.h;
            o = h.o;
        }
        h *= 360;
        var R, G, B, X, C;
        h = (h % 360) / 60;
        C = v * s;
        X = C * (1 - abs(h % 2 - 1));
        R = G = B = v - C;

        h = ~~h;
        R += [C, X, 0, 0, X, C][h];
        G += [X, C, C, X, 0, 0][h];
        B += [0, 0, X, C, C, X][h];
        return packageRGB(R, G, B, o);
    };
    
    R.hsl2rgb = function (h, s, l, o) {
        if (this.is(h, "object") && "h" in h && "s" in h && "l" in h) {
            l = h.l;
            s = h.s;
            h = h.h;
        }
        if (h > 1 || s > 1 || l > 1) {
            h /= 360;
            s /= 100;
            l /= 100;
        }
        h *= 360;
        var R, G, B, X, C;
        h = (h % 360) / 60;
        C = 2 * s * (l < .5 ? l : 1 - l);
        X = C * (1 - abs(h % 2 - 1));
        R = G = B = l - C / 2;

        h = ~~h;
        R += [C, X, 0, 0, X, C][h];
        G += [X, C, C, X, 0, 0][h];
        B += [0, 0, X, C, C, X][h];
        return packageRGB(R, G, B, o);
    };
    
    R.rgb2hsb = function (r, g, b) {
        b = prepareRGB(r, g, b);
        r = b[0];
        g = b[1];
        b = b[2];

        var H, S, V, C;
        V = mmax(r, g, b);
        C = V - mmin(r, g, b);
        H = (C == 0 ? null :
             V == r ? (g - b) / C :
             V == g ? (b - r) / C + 2 :
                      (r - g) / C + 4
            );
        H = ((H + 360) % 6) * 60 / 360;
        S = C == 0 ? 0 : C / V;
        return {h: H, s: S, b: V, toString: hsbtoString};
    };
    
    R.rgb2hsl = function (r, g, b) {
        b = prepareRGB(r, g, b);
        r = b[0];
        g = b[1];
        b = b[2];

        var H, S, L, M, m, C;
        M = mmax(r, g, b);
        m = mmin(r, g, b);
        C = M - m;
        H = (C == 0 ? null :
             M == r ? (g - b) / C :
             M == g ? (b - r) / C + 2 :
                      (r - g) / C + 4);
        H = ((H + 360) % 6) * 60 / 360;
        L = (M + m) / 2;
        S = (C == 0 ? 0 :
             L < .5 ? C / (2 * L) :
                      C / (2 - 2 * L));
        return {h: H, s: S, l: L, toString: hsltoString};
    };
    R._path2string = function () {
        return this.join(",").replace(p2s, "$1");
    };
    function repush(array, item) {
        for (var i = 0, ii = array.length; i < ii; i++) if (array[i] === item) {
            return array.push(array.splice(i, 1)[0]);
        }
    }
    function cacher(f, scope, postprocessor) {
        function newf() {
            var arg = Array.prototype.slice.call(arguments, 0),
                args = arg.join("\u2400"),
                cache = newf.cache = newf.cache || {},
                count = newf.count = newf.count || [];
            if (cache[has](args)) {
                repush(count, args);
                return postprocessor ? postprocessor(cache[args]) : cache[args];
            }
            count.length >= 1e3 && delete cache[count.shift()];
            count.push(args);
            cache[args] = f[apply](scope, arg);
            return postprocessor ? postprocessor(cache[args]) : cache[args];
        }
        return newf;
    }

    var preload = R._preload = function (src, f) {
        var img = g.doc.createElement("img");
        img.style.cssText = "position:absolute;left:-9999em;top:-9999em";
        img.onload = function () {
            f.call(this);
            this.onload = null;
            g.doc.body.removeChild(this);
        };
        img.onerror = function () {
            g.doc.body.removeChild(this);
        };
        g.doc.body.appendChild(img);
        img.src = src;
    };
    
    function clrToString() {
        return this.hex;
    }

    
    R.getRGB = cacher(function (colour) {
        if (!colour || !!((colour = Str(colour)).indexOf("-") + 1)) {
            return {r: -1, g: -1, b: -1, hex: "none", error: 1, toString: clrToString};
        }
        if (colour == "none") {
            return {r: -1, g: -1, b: -1, hex: "none", toString: clrToString};
        }
        !(hsrg[has](colour.toLowerCase().substring(0, 2)) || colour.charAt() == "#") && (colour = toHex(colour));
        var res,
            red,
            green,
            blue,
            opacity,
            t,
            values,
            rgb = colour.match(colourRegExp);
        if (rgb) {
            if (rgb[2]) {
                blue = toInt(rgb[2].substring(5), 16);
                green = toInt(rgb[2].substring(3, 5), 16);
                red = toInt(rgb[2].substring(1, 3), 16);
            }
            if (rgb[3]) {
                blue = toInt((t = rgb[3].charAt(3)) + t, 16);
                green = toInt((t = rgb[3].charAt(2)) + t, 16);
                red = toInt((t = rgb[3].charAt(1)) + t, 16);
            }
            if (rgb[4]) {
                values = rgb[4][split](commaSpaces);
                red = toFloat(values[0]);
                values[0].slice(-1) == "%" && (red *= 2.55);
                green = toFloat(values[1]);
                values[1].slice(-1) == "%" && (green *= 2.55);
                blue = toFloat(values[2]);
                values[2].slice(-1) == "%" && (blue *= 2.55);
                rgb[1].toLowerCase().slice(0, 4) == "rgba" && (opacity = toFloat(values[3]));
                values[3] && values[3].slice(-1) == "%" && (opacity /= 100);
            }
            if (rgb[5]) {
                values = rgb[5][split](commaSpaces);
                red = toFloat(values[0]);
                values[0].slice(-1) == "%" && (red *= 2.55);
                green = toFloat(values[1]);
                values[1].slice(-1) == "%" && (green *= 2.55);
                blue = toFloat(values[2]);
                values[2].slice(-1) == "%" && (blue *= 2.55);
                (values[0].slice(-3) == "deg" || values[0].slice(-1) == "\xb0") && (red /= 360);
                rgb[1].toLowerCase().slice(0, 4) == "hsba" && (opacity = toFloat(values[3]));
                values[3] && values[3].slice(-1) == "%" && (opacity /= 100);
                return R.hsb2rgb(red, green, blue, opacity);
            }
            if (rgb[6]) {
                values = rgb[6][split](commaSpaces);
                red = toFloat(values[0]);
                values[0].slice(-1) == "%" && (red *= 2.55);
                green = toFloat(values[1]);
                values[1].slice(-1) == "%" && (green *= 2.55);
                blue = toFloat(values[2]);
                values[2].slice(-1) == "%" && (blue *= 2.55);
                (values[0].slice(-3) == "deg" || values[0].slice(-1) == "\xb0") && (red /= 360);
                rgb[1].toLowerCase().slice(0, 4) == "hsla" && (opacity = toFloat(values[3]));
                values[3] && values[3].slice(-1) == "%" && (opacity /= 100);
                return R.hsl2rgb(red, green, blue, opacity);
            }
            rgb = {r: red, g: green, b: blue, toString: clrToString};
            rgb.hex = "#" + (16777216 | blue | (green << 8) | (red << 16)).toString(16).slice(1);
            R.is(opacity, "finite") && (rgb.opacity = opacity);
            return rgb;
        }
        return {r: -1, g: -1, b: -1, hex: "none", error: 1, toString: clrToString};
    }, R);
    
    R.hsb = cacher(function (h, s, b) {
        return R.hsb2rgb(h, s, b).hex;
    });
    
    R.hsl = cacher(function (h, s, l) {
        return R.hsl2rgb(h, s, l).hex;
    });
    
    R.rgb = cacher(function (r, g, b) {
        return "#" + (16777216 | b | (g << 8) | (r << 16)).toString(16).slice(1);
    });
    
    R.getColor = function (value) {
        var start = this.getColor.start = this.getColor.start || {h: 0, s: 1, b: value || .75},
            rgb = this.hsb2rgb(start.h, start.s, start.b);
        start.h += .075;
        if (start.h > 1) {
            start.h = 0;
            start.s -= .2;
            start.s <= 0 && (this.getColor.start = {h: 0, s: 1, b: start.b});
        }
        return rgb.hex;
    };
    
    R.getColor.reset = function () {
        delete this.start;
    };

    // http://schepers.cc/getting-to-the-point
    function catmullRom2bezier(crp, z) {
        var d = [];
        for (var i = 0, iLen = crp.length; iLen - 2 * !z > i; i += 2) {
            var p = [
                        {x: +crp[i - 2], y: +crp[i - 1]},
                        {x: +crp[i],     y: +crp[i + 1]},
                        {x: +crp[i + 2], y: +crp[i + 3]},
                        {x: +crp[i + 4], y: +crp[i + 5]}
                    ];
            if (z) {
                if (!i) {
                    p[0] = {x: +crp[iLen - 2], y: +crp[iLen - 1]};
                } else if (iLen - 4 == i) {
                    p[3] = {x: +crp[0], y: +crp[1]};
                } else if (iLen - 2 == i) {
                    p[2] = {x: +crp[0], y: +crp[1]};
                    p[3] = {x: +crp[2], y: +crp[3]};
                }
            } else {
                if (iLen - 4 == i) {
                    p[3] = p[2];
                } else if (!i) {
                    p[0] = {x: +crp[i], y: +crp[i + 1]};
                }
            }
            d.push(["C",
                  (-p[0].x + 6 * p[1].x + p[2].x) / 6,
                  (-p[0].y + 6 * p[1].y + p[2].y) / 6,
                  (p[1].x + 6 * p[2].x - p[3].x) / 6,
                  (p[1].y + 6*p[2].y - p[3].y) / 6,
                  p[2].x,
                  p[2].y
            ]);
        }

        return d;
    }
    
    R.parsePathString = function (pathString) {
        if (!pathString) {
            return null;
        }
        var pth = paths(pathString);
        if (pth.arr) {
            return pathClone(pth.arr);
        }
        
        var paramCounts = {a: 7, c: 6, h: 1, l: 2, m: 2, r: 4, q: 4, s: 4, t: 2, v: 1, z: 0},
            data = [];
        if (R.is(pathString, array) && R.is(pathString[0], array)) { // rough assumption
            data = pathClone(pathString);
        }
        if (!data.length) {
            Str(pathString).replace(pathCommand, function (a, b, c) {
                var params = [],
                    name = b.toLowerCase();
                c.replace(pathValues, function (a, b) {
                    b && params.push(+b);
                });
                if (name == "m" && params.length > 2) {
                    data.push([b][concat](params.splice(0, 2)));
                    name = "l";
                    b = b == "m" ? "l" : "L";
                }
                if (name == "r") {
                    data.push([b][concat](params));
                } else while (params.length >= paramCounts[name]) {
                    data.push([b][concat](params.splice(0, paramCounts[name])));
                    if (!paramCounts[name]) {
                        break;
                    }
                }
            });
        }
        data.toString = R._path2string;
        pth.arr = pathClone(data);
        return data;
    };
    
    R.parseTransformString = cacher(function (TString) {
        if (!TString) {
            return null;
        }
        var paramCounts = {r: 3, s: 4, t: 2, m: 6},
            data = [];
        if (R.is(TString, array) && R.is(TString[0], array)) { // rough assumption
            data = pathClone(TString);
        }
        if (!data.length) {
            Str(TString).replace(tCommand, function (a, b, c) {
                var params = [],
                    name = lowerCase.call(b);
                c.replace(pathValues, function (a, b) {
                    b && params.push(+b);
                });
                data.push([b][concat](params));
            });
        }
        data.toString = R._path2string;
        return data;
    });
    // PATHS
    var paths = function (ps) {
        var p = paths.ps = paths.ps || {};
        if (p[ps]) {
            p[ps].sleep = 100;
        } else {
            p[ps] = {
                sleep: 100
            };
        }
        setTimeout(function () {
            for (var key in p) if (p[has](key) && key != ps) {
                p[key].sleep--;
                !p[key].sleep && delete p[key];
            }
        });
        return p[ps];
    };
    
    R.findDotsAtSegment = function (p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, t) {
        var t1 = 1 - t,
            t13 = pow(t1, 3),
            t12 = pow(t1, 2),
            t2 = t * t,
            t3 = t2 * t,
            x = t13 * p1x + t12 * 3 * t * c1x + t1 * 3 * t * t * c2x + t3 * p2x,
            y = t13 * p1y + t12 * 3 * t * c1y + t1 * 3 * t * t * c2y + t3 * p2y,
            mx = p1x + 2 * t * (c1x - p1x) + t2 * (c2x - 2 * c1x + p1x),
            my = p1y + 2 * t * (c1y - p1y) + t2 * (c2y - 2 * c1y + p1y),
            nx = c1x + 2 * t * (c2x - c1x) + t2 * (p2x - 2 * c2x + c1x),
            ny = c1y + 2 * t * (c2y - c1y) + t2 * (p2y - 2 * c2y + c1y),
            ax = t1 * p1x + t * c1x,
            ay = t1 * p1y + t * c1y,
            cx = t1 * c2x + t * p2x,
            cy = t1 * c2y + t * p2y,
            alpha = (90 - math.atan2(mx - nx, my - ny) * 180 / PI);
        (mx > nx || my < ny) && (alpha += 180);
        return {
            x: x,
            y: y,
            m: {x: mx, y: my},
            n: {x: nx, y: ny},
            start: {x: ax, y: ay},
            end: {x: cx, y: cy},
            alpha: alpha
        };
    };
    
    R.bezierBBox = function (p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y) {
        if (!R.is(p1x, "array")) {
            p1x = [p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y];
        }
        var bbox = curveDim.apply(null, p1x);
        return {
            x: bbox.min.x,
            y: bbox.min.y,
            x2: bbox.max.x,
            y2: bbox.max.y,
            width: bbox.max.x - bbox.min.x,
            height: bbox.max.y - bbox.min.y
        };
    };
    
    R.isPointInsideBBox = function (bbox, x, y) {
        return x >= bbox.x && x <= bbox.x2 && y >= bbox.y && y <= bbox.y2;
    };
    
    R.isBBoxIntersect = function (bbox1, bbox2) {
        var i = R.isPointInsideBBox;
        return i(bbox2, bbox1.x, bbox1.y)
            || i(bbox2, bbox1.x2, bbox1.y)
            || i(bbox2, bbox1.x, bbox1.y2)
            || i(bbox2, bbox1.x2, bbox1.y2)
            || i(bbox1, bbox2.x, bbox2.y)
            || i(bbox1, bbox2.x2, bbox2.y)
            || i(bbox1, bbox2.x, bbox2.y2)
            || i(bbox1, bbox2.x2, bbox2.y2)
            || (bbox1.x < bbox2.x2 && bbox1.x > bbox2.x || bbox2.x < bbox1.x2 && bbox2.x > bbox1.x)
            && (bbox1.y < bbox2.y2 && bbox1.y > bbox2.y || bbox2.y < bbox1.y2 && bbox2.y > bbox1.y);
    };
    function base3(t, p1, p2, p3, p4) {
        var t1 = -3 * p1 + 9 * p2 - 9 * p3 + 3 * p4,
            t2 = t * t1 + 6 * p1 - 12 * p2 + 6 * p3;
        return t * t2 - 3 * p1 + 3 * p2;
    }
    function bezlen(x1, y1, x2, y2, x3, y3, x4, y4, z) {
        if (z == null) {
            z = 1;
        }
        z = z > 1 ? 1 : z < 0 ? 0 : z;
        var z2 = z / 2,
            n = 12,
            Tvalues = [-0.1252,0.1252,-0.3678,0.3678,-0.5873,0.5873,-0.7699,0.7699,-0.9041,0.9041,-0.9816,0.9816],
            Cvalues = [0.2491,0.2491,0.2335,0.2335,0.2032,0.2032,0.1601,0.1601,0.1069,0.1069,0.0472,0.0472],
            sum = 0;
        for (var i = 0; i < n; i++) {
            var ct = z2 * Tvalues[i] + z2,
                xbase = base3(ct, x1, x2, x3, x4),
                ybase = base3(ct, y1, y2, y3, y4),
                comb = xbase * xbase + ybase * ybase;
            sum += Cvalues[i] * math.sqrt(comb);
        }
        return z2 * sum;
    }
    function getTatLen(x1, y1, x2, y2, x3, y3, x4, y4, ll) {
        if (ll < 0 || bezlen(x1, y1, x2, y2, x3, y3, x4, y4) < ll) {
            return;
        }
        var t = 1,
            step = t / 2,
            t2 = t - step,
            l,
            e = .01;
        l = bezlen(x1, y1, x2, y2, x3, y3, x4, y4, t2);
        while (abs(l - ll) > e) {
            step /= 2;
            t2 += (l < ll ? 1 : -1) * step;
            l = bezlen(x1, y1, x2, y2, x3, y3, x4, y4, t2);
        }
        return t2;
    }
    function intersect(x1, y1, x2, y2, x3, y3, x4, y4) {
        if (
            mmax(x1, x2) < mmin(x3, x4) ||
            mmin(x1, x2) > mmax(x3, x4) ||
            mmax(y1, y2) < mmin(y3, y4) ||
            mmin(y1, y2) > mmax(y3, y4)
        ) {
            return;
        }
        var nx = (x1 * y2 - y1 * x2) * (x3 - x4) - (x1 - x2) * (x3 * y4 - y3 * x4),
            ny = (x1 * y2 - y1 * x2) * (y3 - y4) - (y1 - y2) * (x3 * y4 - y3 * x4),
            denominator = (x1 - x2) * (y3 - y4) - (y1 - y2) * (x3 - x4);

        if (!denominator) {
            return;
        }
        var px = nx / denominator,
            py = ny / denominator,
            px2 = +px.toFixed(2),
            py2 = +py.toFixed(2);
        if (
            px2 < +mmin(x1, x2).toFixed(2) ||
            px2 > +mmax(x1, x2).toFixed(2) ||
            px2 < +mmin(x3, x4).toFixed(2) ||
            px2 > +mmax(x3, x4).toFixed(2) ||
            py2 < +mmin(y1, y2).toFixed(2) ||
            py2 > +mmax(y1, y2).toFixed(2) ||
            py2 < +mmin(y3, y4).toFixed(2) ||
            py2 > +mmax(y3, y4).toFixed(2)
        ) {
            return;
        }
        return {x: px, y: py};
    }
    function inter(bez1, bez2) {
        return interHelper(bez1, bez2);
    }
    function interCount(bez1, bez2) {
        return interHelper(bez1, bez2, 1);
    }
    function interHelper(bez1, bez2, justCount) {
        var bbox1 = R.bezierBBox(bez1),
            bbox2 = R.bezierBBox(bez2);
        if (!R.isBBoxIntersect(bbox1, bbox2)) {
            return justCount ? 0 : [];
        }
        var l1 = bezlen.apply(0, bez1),
            l2 = bezlen.apply(0, bez2),
            n1 = ~~(l1 / 5),
            n2 = ~~(l2 / 5),
            dots1 = [],
            dots2 = [],
            xy = {},
            res = justCount ? 0 : [];
        for (var i = 0; i < n1 + 1; i++) {
            var p = R.findDotsAtSegment.apply(R, bez1.concat(i / n1));
            dots1.push({x: p.x, y: p.y, t: i / n1});
        }
        for (i = 0; i < n2 + 1; i++) {
            p = R.findDotsAtSegment.apply(R, bez2.concat(i / n2));
            dots2.push({x: p.x, y: p.y, t: i / n2});
        }
        for (i = 0; i < n1; i++) {
            for (var j = 0; j < n2; j++) {
                var di = dots1[i],
                    di1 = dots1[i + 1],
                    dj = dots2[j],
                    dj1 = dots2[j + 1],
                    ci = abs(di1.x - di.x) < .001 ? "y" : "x",
                    cj = abs(dj1.x - dj.x) < .001 ? "y" : "x",
                    is = intersect(di.x, di.y, di1.x, di1.y, dj.x, dj.y, dj1.x, dj1.y);
                if (is) {
                    if (xy[is.x.toFixed(4)] == is.y.toFixed(4)) {
                        continue;
                    }
                    xy[is.x.toFixed(4)] = is.y.toFixed(4);
                    var t1 = di.t + abs((is[ci] - di[ci]) / (di1[ci] - di[ci])) * (di1.t - di.t),
                        t2 = dj.t + abs((is[cj] - dj[cj]) / (dj1[cj] - dj[cj])) * (dj1.t - dj.t);
                    if (t1 >= 0 && t1 <= 1 && t2 >= 0 && t2 <= 1) {
                        if (justCount) {
                            res++;
                        } else {
                            res.push({
                                x: is.x,
                                y: is.y,
                                t1: t1,
                                t2: t2
                            });
                        }
                    }
                }
            }
        }
        return res;
    }
    
    R.pathIntersection = function (path1, path2) {
        return interPathHelper(path1, path2);
    };
    R.pathIntersectionNumber = function (path1, path2) {
        return interPathHelper(path1, path2, 1);
    };
    function interPathHelper(path1, path2, justCount) {
        path1 = R._path2curve(path1);
        path2 = R._path2curve(path2);
        var x1, y1, x2, y2, x1m, y1m, x2m, y2m, bez1, bez2,
            res = justCount ? 0 : [];
        for (var i = 0, ii = path1.length; i < ii; i++) {
            var pi = path1[i];
            if (pi[0] == "M") {
                x1 = x1m = pi[1];
                y1 = y1m = pi[2];
            } else {
                if (pi[0] == "C") {
                    bez1 = [x1, y1].concat(pi.slice(1));
                    x1 = bez1[6];
                    y1 = bez1[7];
                } else {
                    bez1 = [x1, y1, x1, y1, x1m, y1m, x1m, y1m];
                    x1 = x1m;
                    y1 = y1m;
                }
                for (var j = 0, jj = path2.length; j < jj; j++) {
                    var pj = path2[j];
                    if (pj[0] == "M") {
                        x2 = x2m = pj[1];
                        y2 = y2m = pj[2];
                    } else {
                        if (pj[0] == "C") {
                            bez2 = [x2, y2].concat(pj.slice(1));
                            x2 = bez2[6];
                            y2 = bez2[7];
                        } else {
                            bez2 = [x2, y2, x2, y2, x2m, y2m, x2m, y2m];
                            x2 = x2m;
                            y2 = y2m;
                        }
                        var intr = interHelper(bez1, bez2, justCount);
                        if (justCount) {
                            res += intr;
                        } else {
                            for (var k = 0, kk = intr.length; k < kk; k++) {
                                intr[k].segment1 = i;
                                intr[k].segment2 = j;
                                intr[k].bez1 = bez1;
                                intr[k].bez2 = bez2;
                            }
                            res = res.concat(intr);
                        }
                    }
                }
            }
        }
        return res;
    }
    
    R.isPointInsidePath = function (path, x, y) {
        var bbox = R.pathBBox(path);
        return R.isPointInsideBBox(bbox, x, y) &&
               interPathHelper(path, [["M", x, y], ["H", bbox.x2 + 10]], 1) % 2 == 1;
    };
    R._removedFactory = function (methodname) {
        return function () {
            eve("raphael.log", null, "Rapha\xebl: you are calling to method \u201c" + methodname + "\u201d of removed object", methodname);
        };
    };
    
    var pathDimensions = R.pathBBox = function (path) {
        var pth = paths(path);
        if (pth.bbox) {
            return pth.bbox;
        }
        if (!path) {
            return {x: 0, y: 0, width: 0, height: 0, x2: 0, y2: 0};
        }
        path = path2curve(path);
        var x = 0, 
            y = 0,
            X = [],
            Y = [],
            p;
        for (var i = 0, ii = path.length; i < ii; i++) {
            p = path[i];
            if (p[0] == "M") {
                x = p[1];
                y = p[2];
                X.push(x);
                Y.push(y);
            } else {
                var dim = curveDim(x, y, p[1], p[2], p[3], p[4], p[5], p[6]);
                X = X[concat](dim.min.x, dim.max.x);
                Y = Y[concat](dim.min.y, dim.max.y);
                x = p[5];
                y = p[6];
            }
        }
        var xmin = mmin[apply](0, X),
            ymin = mmin[apply](0, Y),
            xmax = mmax[apply](0, X),
            ymax = mmax[apply](0, Y),
            bb = {
                x: xmin,
                y: ymin,
                x2: xmax,
                y2: ymax,
                width: xmax - xmin,
                height: ymax - ymin
            };
        pth.bbox = clone(bb);
        return bb;
    },
        pathClone = function (pathArray) {
            var res = clone(pathArray);
            res.toString = R._path2string;
            return res;
        },
        pathToRelative = R._pathToRelative = function (pathArray) {
            var pth = paths(pathArray);
            if (pth.rel) {
                return pathClone(pth.rel);
            }
            if (!R.is(pathArray, array) || !R.is(pathArray && pathArray[0], array)) { // rough assumption
                pathArray = R.parsePathString(pathArray);
            }
            var res = [],
                x = 0,
                y = 0,
                mx = 0,
                my = 0,
                start = 0;
            if (pathArray[0][0] == "M") {
                x = pathArray[0][1];
                y = pathArray[0][2];
                mx = x;
                my = y;
                start++;
                res.push(["M", x, y]);
            }
            for (var i = start, ii = pathArray.length; i < ii; i++) {
                var r = res[i] = [],
                    pa = pathArray[i];
                if (pa[0] != lowerCase.call(pa[0])) {
                    r[0] = lowerCase.call(pa[0]);
                    switch (r[0]) {
                        case "a":
                            r[1] = pa[1];
                            r[2] = pa[2];
                            r[3] = pa[3];
                            r[4] = pa[4];
                            r[5] = pa[5];
                            r[6] = +(pa[6] - x).toFixed(3);
                            r[7] = +(pa[7] - y).toFixed(3);
                            break;
                        case "v":
                            r[1] = +(pa[1] - y).toFixed(3);
                            break;
                        case "m":
                            mx = pa[1];
                            my = pa[2];
                        default:
                            for (var j = 1, jj = pa.length; j < jj; j++) {
                                r[j] = +(pa[j] - ((j % 2) ? x : y)).toFixed(3);
                            }
                    }
                } else {
                    r = res[i] = [];
                    if (pa[0] == "m") {
                        mx = pa[1] + x;
                        my = pa[2] + y;
                    }
                    for (var k = 0, kk = pa.length; k < kk; k++) {
                        res[i][k] = pa[k];
                    }
                }
                var len = res[i].length;
                switch (res[i][0]) {
                    case "z":
                        x = mx;
                        y = my;
                        break;
                    case "h":
                        x += +res[i][len - 1];
                        break;
                    case "v":
                        y += +res[i][len - 1];
                        break;
                    default:
                        x += +res[i][len - 2];
                        y += +res[i][len - 1];
                }
            }
            res.toString = R._path2string;
            pth.rel = pathClone(res);
            return res;
        },
        pathToAbsolute = R._pathToAbsolute = function (pathArray) {
            var pth = paths(pathArray);
            if (pth.abs) {
                return pathClone(pth.abs);
            }
            if (!R.is(pathArray, array) || !R.is(pathArray && pathArray[0], array)) { // rough assumption
                pathArray = R.parsePathString(pathArray);
            }
            if (!pathArray || !pathArray.length) {
                return [["M", 0, 0]];
            }
            var res = [],
                x = 0,
                y = 0,
                mx = 0,
                my = 0,
                start = 0;
            if (pathArray[0][0] == "M") {
                x = +pathArray[0][1];
                y = +pathArray[0][2];
                mx = x;
                my = y;
                start++;
                res[0] = ["M", x, y];
            }
            var crz = pathArray.length == 3 && pathArray[0][0] == "M" && pathArray[1][0].toUpperCase() == "R" && pathArray[2][0].toUpperCase() == "Z";
            for (var r, pa, i = start, ii = pathArray.length; i < ii; i++) {
                res.push(r = []);
                pa = pathArray[i];
                if (pa[0] != upperCase.call(pa[0])) {
                    r[0] = upperCase.call(pa[0]);
                    switch (r[0]) {
                        case "A":
                            r[1] = pa[1];
                            r[2] = pa[2];
                            r[3] = pa[3];
                            r[4] = pa[4];
                            r[5] = pa[5];
                            r[6] = +(pa[6] + x);
                            r[7] = +(pa[7] + y);
                            break;
                        case "V":
                            r[1] = +pa[1] + y;
                            break;
                        case "H":
                            r[1] = +pa[1] + x;
                            break;
                        case "R":
                            var dots = [x, y][concat](pa.slice(1));
                            for (var j = 2, jj = dots.length; j < jj; j++) {
                                dots[j] = +dots[j] + x;
                                dots[++j] = +dots[j] + y;
                            }
                            res.pop();
                            res = res[concat](catmullRom2bezier(dots, crz));
                            break;
                        case "M":
                            mx = +pa[1] + x;
                            my = +pa[2] + y;
                        default:
                            for (j = 1, jj = pa.length; j < jj; j++) {
                                r[j] = +pa[j] + ((j % 2) ? x : y);
                            }
                    }
                } else if (pa[0] == "R") {
                    dots = [x, y][concat](pa.slice(1));
                    res.pop();
                    res = res[concat](catmullRom2bezier(dots, crz));
                    r = ["R"][concat](pa.slice(-2));
                } else {
                    for (var k = 0, kk = pa.length; k < kk; k++) {
                        r[k] = pa[k];
                    }
                }
                switch (r[0]) {
                    case "Z":
                        x = mx;
                        y = my;
                        break;
                    case "H":
                        x = r[1];
                        break;
                    case "V":
                        y = r[1];
                        break;
                    case "M":
                        mx = r[r.length - 2];
                        my = r[r.length - 1];
                    default:
                        x = r[r.length - 2];
                        y = r[r.length - 1];
                }
            }
            res.toString = R._path2string;
            pth.abs = pathClone(res);
            return res;
        },
        l2c = function (x1, y1, x2, y2) {
            return [x1, y1, x2, y2, x2, y2];
        },
        q2c = function (x1, y1, ax, ay, x2, y2) {
            var _13 = 1 / 3,
                _23 = 2 / 3;
            return [
                    _13 * x1 + _23 * ax,
                    _13 * y1 + _23 * ay,
                    _13 * x2 + _23 * ax,
                    _13 * y2 + _23 * ay,
                    x2,
                    y2
                ];
        },
        a2c = function (x1, y1, rx, ry, angle, large_arc_flag, sweep_flag, x2, y2, recursive) {
            // for more information of where this math came from visit:
            // http://www.w3.org/TR/SVG11/implnote.html#ArcImplementationNotes
            var _120 = PI * 120 / 180,
                rad = PI / 180 * (+angle || 0),
                res = [],
                xy,
                rotate = cacher(function (x, y, rad) {
                    var X = x * math.cos(rad) - y * math.sin(rad),
                        Y = x * math.sin(rad) + y * math.cos(rad);
                    return {x: X, y: Y};
                });
            if (!recursive) {
                xy = rotate(x1, y1, -rad);
                x1 = xy.x;
                y1 = xy.y;
                xy = rotate(x2, y2, -rad);
                x2 = xy.x;
                y2 = xy.y;
                var cos = math.cos(PI / 180 * angle),
                    sin = math.sin(PI / 180 * angle),
                    x = (x1 - x2) / 2,
                    y = (y1 - y2) / 2;
                var h = (x * x) / (rx * rx) + (y * y) / (ry * ry);
                if (h > 1) {
                    h = math.sqrt(h);
                    rx = h * rx;
                    ry = h * ry;
                }
                var rx2 = rx * rx,
                    ry2 = ry * ry,
                    k = (large_arc_flag == sweep_flag ? -1 : 1) *
                        math.sqrt(abs((rx2 * ry2 - rx2 * y * y - ry2 * x * x) / (rx2 * y * y + ry2 * x * x))),
                    cx = k * rx * y / ry + (x1 + x2) / 2,
                    cy = k * -ry * x / rx + (y1 + y2) / 2,
                    f1 = math.asin(((y1 - cy) / ry).toFixed(9)),
                    f2 = math.asin(((y2 - cy) / ry).toFixed(9));

                f1 = x1 < cx ? PI - f1 : f1;
                f2 = x2 < cx ? PI - f2 : f2;
                f1 < 0 && (f1 = PI * 2 + f1);
                f2 < 0 && (f2 = PI * 2 + f2);
                if (sweep_flag && f1 > f2) {
                    f1 = f1 - PI * 2;
                }
                if (!sweep_flag && f2 > f1) {
                    f2 = f2 - PI * 2;
                }
            } else {
                f1 = recursive[0];
                f2 = recursive[1];
                cx = recursive[2];
                cy = recursive[3];
            }
            var df = f2 - f1;
            if (abs(df) > _120) {
                var f2old = f2,
                    x2old = x2,
                    y2old = y2;
                f2 = f1 + _120 * (sweep_flag && f2 > f1 ? 1 : -1);
                x2 = cx + rx * math.cos(f2);
                y2 = cy + ry * math.sin(f2);
                res = a2c(x2, y2, rx, ry, angle, 0, sweep_flag, x2old, y2old, [f2, f2old, cx, cy]);
            }
            df = f2 - f1;
            var c1 = math.cos(f1),
                s1 = math.sin(f1),
                c2 = math.cos(f2),
                s2 = math.sin(f2),
                t = math.tan(df / 4),
                hx = 4 / 3 * rx * t,
                hy = 4 / 3 * ry * t,
                m1 = [x1, y1],
                m2 = [x1 + hx * s1, y1 - hy * c1],
                m3 = [x2 + hx * s2, y2 - hy * c2],
                m4 = [x2, y2];
            m2[0] = 2 * m1[0] - m2[0];
            m2[1] = 2 * m1[1] - m2[1];
            if (recursive) {
                return [m2, m3, m4][concat](res);
            } else {
                res = [m2, m3, m4][concat](res).join()[split](",");
                var newres = [];
                for (var i = 0, ii = res.length; i < ii; i++) {
                    newres[i] = i % 2 ? rotate(res[i - 1], res[i], rad).y : rotate(res[i], res[i + 1], rad).x;
                }
                return newres;
            }
        },
        findDotAtSegment = function (p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, t) {
            var t1 = 1 - t;
            return {
                x: pow(t1, 3) * p1x + pow(t1, 2) * 3 * t * c1x + t1 * 3 * t * t * c2x + pow(t, 3) * p2x,
                y: pow(t1, 3) * p1y + pow(t1, 2) * 3 * t * c1y + t1 * 3 * t * t * c2y + pow(t, 3) * p2y
            };
        },
        curveDim = cacher(function (p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y) {
            var a = (c2x - 2 * c1x + p1x) - (p2x - 2 * c2x + c1x),
                b = 2 * (c1x - p1x) - 2 * (c2x - c1x),
                c = p1x - c1x,
                t1 = (-b + math.sqrt(b * b - 4 * a * c)) / 2 / a,
                t2 = (-b - math.sqrt(b * b - 4 * a * c)) / 2 / a,
                y = [p1y, p2y],
                x = [p1x, p2x],
                dot;
            abs(t1) > "1e12" && (t1 = .5);
            abs(t2) > "1e12" && (t2 = .5);
            if (t1 > 0 && t1 < 1) {
                dot = findDotAtSegment(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, t1);
                x.push(dot.x);
                y.push(dot.y);
            }
            if (t2 > 0 && t2 < 1) {
                dot = findDotAtSegment(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, t2);
                x.push(dot.x);
                y.push(dot.y);
            }
            a = (c2y - 2 * c1y + p1y) - (p2y - 2 * c2y + c1y);
            b = 2 * (c1y - p1y) - 2 * (c2y - c1y);
            c = p1y - c1y;
            t1 = (-b + math.sqrt(b * b - 4 * a * c)) / 2 / a;
            t2 = (-b - math.sqrt(b * b - 4 * a * c)) / 2 / a;
            abs(t1) > "1e12" && (t1 = .5);
            abs(t2) > "1e12" && (t2 = .5);
            if (t1 > 0 && t1 < 1) {
                dot = findDotAtSegment(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, t1);
                x.push(dot.x);
                y.push(dot.y);
            }
            if (t2 > 0 && t2 < 1) {
                dot = findDotAtSegment(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, t2);
                x.push(dot.x);
                y.push(dot.y);
            }
            return {
                min: {x: mmin[apply](0, x), y: mmin[apply](0, y)},
                max: {x: mmax[apply](0, x), y: mmax[apply](0, y)}
            };
        }),
        path2curve = R._path2curve = cacher(function (path, path2) {
            var pth = !path2 && paths(path);
            if (!path2 && pth.curve) {
                return pathClone(pth.curve);
            }
            var p = pathToAbsolute(path),
                p2 = path2 && pathToAbsolute(path2),
                attrs = {x: 0, y: 0, bx: 0, by: 0, X: 0, Y: 0, qx: null, qy: null},
                attrs2 = {x: 0, y: 0, bx: 0, by: 0, X: 0, Y: 0, qx: null, qy: null},
                processPath = function (path, d) {
                    var nx, ny;
                    if (!path) {
                        return ["C", d.x, d.y, d.x, d.y, d.x, d.y];
                    }
                    !(path[0] in {T:1, Q:1}) && (d.qx = d.qy = null);
                    switch (path[0]) {
                        case "M":
                            d.X = path[1];
                            d.Y = path[2];
                            break;
                        case "A":
                            path = ["C"][concat](a2c[apply](0, [d.x, d.y][concat](path.slice(1))));
                            break;
                        case "S":
                            nx = d.x + (d.x - (d.bx || d.x));
                            ny = d.y + (d.y - (d.by || d.y));
                            path = ["C", nx, ny][concat](path.slice(1));
                            break;
                        case "T":
                            d.qx = d.x + (d.x - (d.qx || d.x));
                            d.qy = d.y + (d.y - (d.qy || d.y));
                            path = ["C"][concat](q2c(d.x, d.y, d.qx, d.qy, path[1], path[2]));
                            break;
                        case "Q":
                            d.qx = path[1];
                            d.qy = path[2];
                            path = ["C"][concat](q2c(d.x, d.y, path[1], path[2], path[3], path[4]));
                            break;
                        case "L":
                            path = ["C"][concat](l2c(d.x, d.y, path[1], path[2]));
                            break;
                        case "H":
                            path = ["C"][concat](l2c(d.x, d.y, path[1], d.y));
                            break;
                        case "V":
                            path = ["C"][concat](l2c(d.x, d.y, d.x, path[1]));
                            break;
                        case "Z":
                            path = ["C"][concat](l2c(d.x, d.y, d.X, d.Y));
                            break;
                    }
                    return path;
                },
                fixArc = function (pp, i) {
                    if (pp[i].length > 7) {
                        pp[i].shift();
                        var pi = pp[i];
                        while (pi.length) {
                            pp.splice(i++, 0, ["C"][concat](pi.splice(0, 6)));
                        }
                        pp.splice(i, 1);
                        ii = mmax(p.length, p2 && p2.length || 0);
                    }
                },
                fixM = function (path1, path2, a1, a2, i) {
                    if (path1 && path2 && path1[i][0] == "M" && path2[i][0] != "M") {
                        path2.splice(i, 0, ["M", a2.x, a2.y]);
                        a1.bx = 0;
                        a1.by = 0;
                        a1.x = path1[i][1];
                        a1.y = path1[i][2];
                        ii = mmax(p.length, p2 && p2.length || 0);
                    }
                };
            for (var i = 0, ii = mmax(p.length, p2 && p2.length || 0); i < ii; i++) {
                p[i] = processPath(p[i], attrs);
                fixArc(p, i);
                p2 && (p2[i] = processPath(p2[i], attrs2));
                p2 && fixArc(p2, i);
                fixM(p, p2, attrs, attrs2, i);
                fixM(p2, p, attrs2, attrs, i);
                var seg = p[i],
                    seg2 = p2 && p2[i],
                    seglen = seg.length,
                    seg2len = p2 && seg2.length;
                attrs.x = seg[seglen - 2];
                attrs.y = seg[seglen - 1];
                attrs.bx = toFloat(seg[seglen - 4]) || attrs.x;
                attrs.by = toFloat(seg[seglen - 3]) || attrs.y;
                attrs2.bx = p2 && (toFloat(seg2[seg2len - 4]) || attrs2.x);
                attrs2.by = p2 && (toFloat(seg2[seg2len - 3]) || attrs2.y);
                attrs2.x = p2 && seg2[seg2len - 2];
                attrs2.y = p2 && seg2[seg2len - 1];
            }
            if (!p2) {
                pth.curve = pathClone(p);
            }
            return p2 ? [p, p2] : p;
        }, null, pathClone),
        parseDots = R._parseDots = cacher(function (gradient) {
            var dots = [];
            for (var i = 0, ii = gradient.length; i < ii; i++) {
                var dot = {},
                    par = gradient[i].match(/^([^:]*):?([\d\.]*)/);
                dot.color = R.getRGB(par[1]);
                if (dot.color.error) {
                    return null;
                }
                dot.color = dot.color.hex;
                par[2] && (dot.offset = par[2] + "%");
                dots.push(dot);
            }
            for (i = 1, ii = dots.length - 1; i < ii; i++) {
                if (!dots[i].offset) {
                    var start = toFloat(dots[i - 1].offset || 0),
                        end = 0;
                    for (var j = i + 1; j < ii; j++) {
                        if (dots[j].offset) {
                            end = dots[j].offset;
                            break;
                        }
                    }
                    if (!end) {
                        end = 100;
                        j = ii;
                    }
                    end = toFloat(end);
                    var d = (end - start) / (j - i + 1);
                    for (; i < j; i++) {
                        start += d;
                        dots[i].offset = start + "%";
                    }
                }
            }
            return dots;
        }),
        tear = R._tear = function (el, paper) {
            el == paper.top && (paper.top = el.prev);
            el == paper.bottom && (paper.bottom = el.next);
            el.next && (el.next.prev = el.prev);
            el.prev && (el.prev.next = el.next);
        },
        tofront = R._tofront = function (el, paper) {
            if (paper.top === el) {
                return;
            }
            tear(el, paper);
            el.next = null;
            el.prev = paper.top;
            paper.top.next = el;
            paper.top = el;
        },
        toback = R._toback = function (el, paper) {
            if (paper.bottom === el) {
                return;
            }
            tear(el, paper);
            el.next = paper.bottom;
            el.prev = null;
            paper.bottom.prev = el;
            paper.bottom = el;
        },
        insertafter = R._insertafter = function (el, el2, paper) {
            tear(el, paper);
            el2 == paper.top && (paper.top = el);
            el2.next && (el2.next.prev = el);
            el.next = el2.next;
            el.prev = el2;
            el2.next = el;
        },
        insertbefore = R._insertbefore = function (el, el2, paper) {
            tear(el, paper);
            el2 == paper.bottom && (paper.bottom = el);
            el2.prev && (el2.prev.next = el);
            el.prev = el2.prev;
            el2.prev = el;
            el.next = el2;
        },
        
        toMatrix = R.toMatrix = function (path, transform) {
            var bb = pathDimensions(path),
                el = {
                    _: {
                        transform: E
                    },
                    getBBox: function () {
                        return bb;
                    }
                };
            extractTransform(el, transform);
            return el.matrix;
        },
        
        transformPath = R.transformPath = function (path, transform) {
            return mapPath(path, toMatrix(path, transform));
        },
        extractTransform = R._extractTransform = function (el, tstr) {
            if (tstr == null) {
                return el._.transform;
            }
            tstr = Str(tstr).replace(/\.{3}|\u2026/g, el._.transform || E);
            var tdata = R.parseTransformString(tstr),
                deg = 0,
                dx = 0,
                dy = 0,
                sx = 1,
                sy = 1,
                _ = el._,
                m = new Matrix;
            _.transform = tdata || [];
            if (tdata) {
                for (var i = 0, ii = tdata.length; i < ii; i++) {
                    var t = tdata[i],
                        tlen = t.length,
                        command = Str(t[0]).toLowerCase(),
                        absolute = t[0] != command,
                        inver = absolute ? m.invert() : 0,
                        x1,
                        y1,
                        x2,
                        y2,
                        bb;
                    if (command == "t" && tlen == 3) {
                        if (absolute) {
                            x1 = inver.x(0, 0);
                            y1 = inver.y(0, 0);
                            x2 = inver.x(t[1], t[2]);
                            y2 = inver.y(t[1], t[2]);
                            m.translate(x2 - x1, y2 - y1);
                        } else {
                            m.translate(t[1], t[2]);
                        }
                    } else if (command == "r") {
                        if (tlen == 2) {
                            bb = bb || el.getBBox(1);
                            m.rotate(t[1], bb.x + bb.width / 2, bb.y + bb.height / 2);
                            deg += t[1];
                        } else if (tlen == 4) {
                            if (absolute) {
                                x2 = inver.x(t[2], t[3]);
                                y2 = inver.y(t[2], t[3]);
                                m.rotate(t[1], x2, y2);
                            } else {
                                m.rotate(t[1], t[2], t[3]);
                            }
                            deg += t[1];
                        }
                    } else if (command == "s") {
                        if (tlen == 2 || tlen == 3) {
                            bb = bb || el.getBBox(1);
                            m.scale(t[1], t[tlen - 1], bb.x + bb.width / 2, bb.y + bb.height / 2);
                            sx *= t[1];
                            sy *= t[tlen - 1];
                        } else if (tlen == 5) {
                            if (absolute) {
                                x2 = inver.x(t[3], t[4]);
                                y2 = inver.y(t[3], t[4]);
                                m.scale(t[1], t[2], x2, y2);
                            } else {
                                m.scale(t[1], t[2], t[3], t[4]);
                            }
                            sx *= t[1];
                            sy *= t[2];
                        }
                    } else if (command == "m" && tlen == 7) {
                        m.add(t[1], t[2], t[3], t[4], t[5], t[6]);
                    }
                    _.dirtyT = 1;
                    el.matrix = m;
                }
            }

            
            el.matrix = m;

            _.sx = sx;
            _.sy = sy;
            _.deg = deg;
            _.dx = dx = m.e;
            _.dy = dy = m.f;

            if (sx == 1 && sy == 1 && !deg && _.bbox) {
                _.bbox.x += +dx;
                _.bbox.y += +dy;
            } else {
                _.dirtyT = 1;
            }
        },
        getEmpty = function (item) {
            var l = item[0];
            switch (l.toLowerCase()) {
                case "t": return [l, 0, 0];
                case "m": return [l, 1, 0, 0, 1, 0, 0];
                case "r": if (item.length == 4) {
                    return [l, 0, item[2], item[3]];
                } else {
                    return [l, 0];
                }
                case "s": if (item.length == 5) {
                    return [l, 1, 1, item[3], item[4]];
                } else if (item.length == 3) {
                    return [l, 1, 1];
                } else {
                    return [l, 1];
                }
            }
        },
        equaliseTransform = R._equaliseTransform = function (t1, t2) {
            t2 = Str(t2).replace(/\.{3}|\u2026/g, t1);
            t1 = R.parseTransformString(t1) || [];
            t2 = R.parseTransformString(t2) || [];
            var maxlength = mmax(t1.length, t2.length),
                from = [],
                to = [],
                i = 0, j, jj,
                tt1, tt2;
            for (; i < maxlength; i++) {
                tt1 = t1[i] || getEmpty(t2[i]);
                tt2 = t2[i] || getEmpty(tt1);
                if ((tt1[0] != tt2[0]) ||
                    (tt1[0].toLowerCase() == "r" && (tt1[2] != tt2[2] || tt1[3] != tt2[3])) ||
                    (tt1[0].toLowerCase() == "s" && (tt1[3] != tt2[3] || tt1[4] != tt2[4]))
                    ) {
                    return;
                }
                from[i] = [];
                to[i] = [];
                for (j = 0, jj = mmax(tt1.length, tt2.length); j < jj; j++) {
                    j in tt1 && (from[i][j] = tt1[j]);
                    j in tt2 && (to[i][j] = tt2[j]);
                }
            }
            return {
                from: from,
                to: to
            };
        };
    R._getContainer = function (x, y, w, h) {
        var container;
        container = h == null && !R.is(x, "object") ? g.doc.getElementById(x) : x;
        if (container == null) {
            return;
        }
        if (container.tagName) {
            if (y == null) {
                return {
                    container: container,
                    width: container.style.pixelWidth || container.offsetWidth,
                    height: container.style.pixelHeight || container.offsetHeight
                };
            } else {
                return {
                    container: container,
                    width: y,
                    height: w
                };
            }
        }
        return {
            container: 1,
            x: x,
            y: y,
            width: w,
            height: h
        };
    };
    
    R.pathToRelative = pathToRelative;
    R._engine = {};
    
    R.path2curve = path2curve;
    
    R.matrix = function (a, b, c, d, e, f) {
        return new Matrix(a, b, c, d, e, f);
    };
    function Matrix(a, b, c, d, e, f) {
        if (a != null) {
            this.a = +a;
            this.b = +b;
            this.c = +c;
            this.d = +d;
            this.e = +e;
            this.f = +f;
        } else {
            this.a = 1;
            this.b = 0;
            this.c = 0;
            this.d = 1;
            this.e = 0;
            this.f = 0;
        }
    }
    (function (matrixproto) {
        
        matrixproto.add = function (a, b, c, d, e, f) {
            var out = [[], [], []],
                m = [[this.a, this.c, this.e], [this.b, this.d, this.f], [0, 0, 1]],
                matrix = [[a, c, e], [b, d, f], [0, 0, 1]],
                x, y, z, res;

            if (a && a instanceof Matrix) {
                matrix = [[a.a, a.c, a.e], [a.b, a.d, a.f], [0, 0, 1]];
            }

            for (x = 0; x < 3; x++) {
                for (y = 0; y < 3; y++) {
                    res = 0;
                    for (z = 0; z < 3; z++) {
                        res += m[x][z] * matrix[z][y];
                    }
                    out[x][y] = res;
                }
            }
            this.a = out[0][0];
            this.b = out[1][0];
            this.c = out[0][1];
            this.d = out[1][1];
            this.e = out[0][2];
            this.f = out[1][2];
        };
        
        matrixproto.invert = function () {
            var me = this,
                x = me.a * me.d - me.b * me.c;
            return new Matrix(me.d / x, -me.b / x, -me.c / x, me.a / x, (me.c * me.f - me.d * me.e) / x, (me.b * me.e - me.a * me.f) / x);
        };
        
        matrixproto.clone = function () {
            return new Matrix(this.a, this.b, this.c, this.d, this.e, this.f);
        };
        
        matrixproto.translate = function (x, y) {
            this.add(1, 0, 0, 1, x, y);
        };
        
        matrixproto.scale = function (x, y, cx, cy) {
            y == null && (y = x);
            (cx || cy) && this.add(1, 0, 0, 1, cx, cy);
            this.add(x, 0, 0, y, 0, 0);
            (cx || cy) && this.add(1, 0, 0, 1, -cx, -cy);
        };
        
        matrixproto.rotate = function (a, x, y) {
            a = R.rad(a);
            x = x || 0;
            y = y || 0;
            var cos = +math.cos(a).toFixed(9),
                sin = +math.sin(a).toFixed(9);
            this.add(cos, sin, -sin, cos, x, y);
            this.add(1, 0, 0, 1, -x, -y);
        };
        
        matrixproto.x = function (x, y) {
            return x * this.a + y * this.c + this.e;
        };
        
        matrixproto.y = function (x, y) {
            return x * this.b + y * this.d + this.f;
        };
        matrixproto.get = function (i) {
            return +this[Str.fromCharCode(97 + i)].toFixed(4);
        };
        matrixproto.toString = function () {
            return R.svg ?
                "matrix(" + [this.get(0), this.get(1), this.get(2), this.get(3), this.get(4), this.get(5)].join() + ")" :
                [this.get(0), this.get(2), this.get(1), this.get(3), 0, 0].join();
        };
        matrixproto.toFilter = function () {
            return "progid:DXImageTransform.Microsoft.Matrix(M11=" + this.get(0) +
                ", M12=" + this.get(2) + ", M21=" + this.get(1) + ", M22=" + this.get(3) +
                ", Dx=" + this.get(4) + ", Dy=" + this.get(5) + ", sizingmethod='auto expand')";
        };
        matrixproto.offset = function () {
            return [this.e.toFixed(4), this.f.toFixed(4)];
        };
        function norm(a) {
            return a[0] * a[0] + a[1] * a[1];
        }
        function normalize(a) {
            var mag = math.sqrt(norm(a));
            a[0] && (a[0] /= mag);
            a[1] && (a[1] /= mag);
        }
        
        matrixproto.split = function () {
            var out = {};
            // translation
            out.dx = this.e;
            out.dy = this.f;

            // scale and shear
            var row = [[this.a, this.c], [this.b, this.d]];
            out.scalex = math.sqrt(norm(row[0]));
            normalize(row[0]);

            out.shear = row[0][0] * row[1][0] + row[0][1] * row[1][1];
            row[1] = [row[1][0] - row[0][0] * out.shear, row[1][1] - row[0][1] * out.shear];

            out.scaley = math.sqrt(norm(row[1]));
            normalize(row[1]);
            out.shear /= out.scaley;

            // rotation
            var sin = -row[0][1],
                cos = row[1][1];
            if (cos < 0) {
                out.rotate = R.deg(math.acos(cos));
                if (sin < 0) {
                    out.rotate = 360 - out.rotate;
                }
            } else {
                out.rotate = R.deg(math.asin(sin));
            }

            out.isSimple = !+out.shear.toFixed(9) && (out.scalex.toFixed(9) == out.scaley.toFixed(9) || !out.rotate);
            out.isSuperSimple = !+out.shear.toFixed(9) && out.scalex.toFixed(9) == out.scaley.toFixed(9) && !out.rotate;
            out.noRotation = !+out.shear.toFixed(9) && !out.rotate;
            return out;
        };
        
        matrixproto.toTransformString = function (shorter) {
            var s = shorter || this[split]();
            if (s.isSimple) {
                s.scalex = +s.scalex.toFixed(4);
                s.scaley = +s.scaley.toFixed(4);
                s.rotate = +s.rotate.toFixed(4);
                return  (s.dx || s.dy ? "t" + [s.dx, s.dy] : E) + 
                        (s.scalex != 1 || s.scaley != 1 ? "s" + [s.scalex, s.scaley, 0, 0] : E) +
                        (s.rotate ? "r" + [s.rotate, 0, 0] : E);
            } else {
                return "m" + [this.get(0), this.get(1), this.get(2), this.get(3), this.get(4), this.get(5)];
            }
        };
    })(Matrix.prototype);

    // WebKit rendering bug workaround method
    var version = navigator.userAgent.match(/Version\/(.*?)\s/) || navigator.userAgent.match(/Chrome\/(\d+)/);
    if ((navigator.vendor == "Apple Computer, Inc.") && (version && version[1] < 4 || navigator.platform.slice(0, 2) == "iP") ||
        (navigator.vendor == "Google Inc." && version && version[1] < 8)) {
        
        paperproto.safari = function () {
            var rect = this.rect(-99, -99, this.width + 99, this.height + 99).attr({stroke: "none"});
            setTimeout(function () {rect.remove();});
        };
    } else {
        paperproto.safari = fun;
    }
 
    var preventDefault = function () {
        this.returnValue = false;
    },
    preventTouch = function () {
        return this.originalEvent.preventDefault();
    },
    stopPropagation = function () {
        this.cancelBubble = true;
    },
    stopTouch = function () {
        return this.originalEvent.stopPropagation();
    },
    addEvent = (function () {
        if (g.doc.addEventListener) {
            return function (obj, type, fn, element) {
                var realName = supportsTouch && touchMap[type] ? touchMap[type] : type,
                    f = function (e) {
                        var scrollY = g.doc.documentElement.scrollTop || g.doc.body.scrollTop,
                            scrollX = g.doc.documentElement.scrollLeft || g.doc.body.scrollLeft,
                            x = e.clientX + scrollX,
                            y = e.clientY + scrollY;
                    if (supportsTouch && touchMap[has](type)) {
                        for (var i = 0, ii = e.targetTouches && e.targetTouches.length; i < ii; i++) {
                            if (e.targetTouches[i].target == obj) {
                                var olde = e;
                                e = e.targetTouches[i];
                                e.originalEvent = olde;
                                e.preventDefault = preventTouch;
                                e.stopPropagation = stopTouch;
                                break;
                            }
                        }
                    }
                    return fn.call(element, e, x, y);
                };
                obj.addEventListener(realName, f, false);
                return function () {
                    obj.removeEventListener(realName, f, false);
                    return true;
                };
            };
        } else if (g.doc.attachEvent) {
            return function (obj, type, fn, element) {
                var f = function (e) {
                    e = e || g.win.event;
                    var scrollY = g.doc.documentElement.scrollTop || g.doc.body.scrollTop,
                        scrollX = g.doc.documentElement.scrollLeft || g.doc.body.scrollLeft,
                        x = e.clientX + scrollX,
                        y = e.clientY + scrollY;
                    e.preventDefault = e.preventDefault || preventDefault;
                    e.stopPropagation = e.stopPropagation || stopPropagation;
                    return fn.call(element, e, x, y);
                };
                obj.attachEvent("on" + type, f);
                var detacher = function () {
                    obj.detachEvent("on" + type, f);
                    return true;
                };
                return detacher;
            };
        }
    })(),
    drag = [],
    dragMove = function (e) {
        var x = e.clientX,
            y = e.clientY,
            scrollY = g.doc.documentElement.scrollTop || g.doc.body.scrollTop,
            scrollX = g.doc.documentElement.scrollLeft || g.doc.body.scrollLeft,
            dragi,
            j = drag.length;
        while (j--) {
            dragi = drag[j];
            if (supportsTouch) {
                var i = e.touches.length,
                    touch;
                while (i--) {
                    touch = e.touches[i];
                    if (touch.identifier == dragi.el._drag.id) {
                        x = touch.clientX;
                        y = touch.clientY;
                        (e.originalEvent ? e.originalEvent : e).preventDefault();
                        break;
                    }
                }
            } else {
                e.preventDefault();
            }
            var node = dragi.el.node,
                o,
                next = node.nextSibling,
                parent = node.parentNode,
                display = node.style.display;
            g.win.opera && parent.removeChild(node);
            node.style.display = "none";
            o = dragi.el.paper.getElementByPoint(x, y);
            node.style.display = display;
            g.win.opera && (next ? parent.insertBefore(node, next) : parent.appendChild(node));
            o && eve("raphael.drag.over." + dragi.el.id, dragi.el, o);
            x += scrollX;
            y += scrollY;
            eve("raphael.drag.move." + dragi.el.id, dragi.move_scope || dragi.el, x - dragi.el._drag.x, y - dragi.el._drag.y, x, y, e);
        }
    },
    dragUp = function (e) {
        R.unmousemove(dragMove).unmouseup(dragUp);
        var i = drag.length,
            dragi;
        while (i--) {
            dragi = drag[i];
            dragi.el._drag = {};
            eve("raphael.drag.end." + dragi.el.id, dragi.end_scope || dragi.start_scope || dragi.move_scope || dragi.el, e);
        }
        drag = [];
    },
    
    elproto = R.el = {};
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    for (var i = events.length; i--;) {
        (function (eventName) {
            R[eventName] = elproto[eventName] = function (fn, scope) {
                if (R.is(fn, "function")) {
                    this.events = this.events || [];
                    this.events.push({name: eventName, f: fn, unbind: addEvent(this.shape || this.node || g.doc, eventName, fn, scope || this)});
                }
                return this;
            };
            R["un" + eventName] = elproto["un" + eventName] = function (fn) {
                var events = this.events || [],
                    l = events.length;
                while (l--) if (events[l].name == eventName && events[l].f == fn) {
                    events[l].unbind();
                    events.splice(l, 1);
                    !events.length && delete this.events;
                    return this;
                }
                return this;
            };
        })(events[i]);
    }
    
    
    elproto.data = function (key, value) {
        var data = eldata[this.id] = eldata[this.id] || {};
        if (arguments.length == 1) {
            if (R.is(key, "object")) {
                for (var i in key) if (key[has](i)) {
                    this.data(i, key[i]);
                }
                return this;
            }
            eve("raphael.data.get." + this.id, this, data[key], key);
            return data[key];
        }
        data[key] = value;
        eve("raphael.data.set." + this.id, this, value, key);
        return this;
    };
    
    elproto.removeData = function (key) {
        if (key == null) {
            eldata[this.id] = {};
        } else {
            eldata[this.id] && delete eldata[this.id][key];
        }
        return this;
    };
    
    elproto.hover = function (f_in, f_out, scope_in, scope_out) {
        return this.mouseover(f_in, scope_in).mouseout(f_out, scope_out || scope_in);
    };
    
    elproto.unhover = function (f_in, f_out) {
        return this.unmouseover(f_in).unmouseout(f_out);
    };
    var draggable = [];
    
    elproto.drag = function (onmove, onstart, onend, move_scope, start_scope, end_scope) {
        function start(e) {
            (e.originalEvent || e).preventDefault();
            var scrollY = g.doc.documentElement.scrollTop || g.doc.body.scrollTop,
                scrollX = g.doc.documentElement.scrollLeft || g.doc.body.scrollLeft;
            this._drag.x = e.clientX + scrollX;
            this._drag.y = e.clientY + scrollY;
            this._drag.id = e.identifier;
            !drag.length && R.mousemove(dragMove).mouseup(dragUp);
            drag.push({el: this, move_scope: move_scope, start_scope: start_scope, end_scope: end_scope});
            onstart && eve.on("raphael.drag.start." + this.id, onstart);
            onmove && eve.on("raphael.drag.move." + this.id, onmove);
            onend && eve.on("raphael.drag.end." + this.id, onend);
            eve("raphael.drag.start." + this.id, start_scope || move_scope || this, e.clientX + scrollX, e.clientY + scrollY, e);
        }
        this._drag = {};
        draggable.push({el: this, start: start});
        this.mousedown(start);
        return this;
    };
    
    elproto.onDragOver = function (f) {
        f ? eve.on("raphael.drag.over." + this.id, f) : eve.unbind("raphael.drag.over." + this.id);
    };
    
    elproto.undrag = function () {
        var i = draggable.length;
        while (i--) if (draggable[i].el == this) {
            this.unmousedown(draggable[i].start);
            draggable.splice(i, 1);
            eve.unbind("raphael.drag.*." + this.id);
        }
        !draggable.length && R.unmousemove(dragMove).unmouseup(dragUp);
    };
    
    paperproto.circle = function (x, y, r) {
        var out = R._engine.circle(this, x || 0, y || 0, r || 0);
        this.__set__ && this.__set__.push(out);
        return out;
    };
    
    paperproto.rect = function (x, y, w, h, r) {
        var out = R._engine.rect(this, x || 0, y || 0, w || 0, h || 0, r || 0);
        this.__set__ && this.__set__.push(out);
        return out;
    };
    
    paperproto.ellipse = function (x, y, rx, ry) {
        var out = R._engine.ellipse(this, x || 0, y || 0, rx || 0, ry || 0);
        this.__set__ && this.__set__.push(out);
        return out;
    };
    
    paperproto.path = function (pathString) {
        pathString && !R.is(pathString, string) && !R.is(pathString[0], array) && (pathString += E);
        var out = R._engine.path(R.format[apply](R, arguments), this);
        this.__set__ && this.__set__.push(out);
        return out;
    };
    
    paperproto.image = function (src, x, y, w, h) {
        var out = R._engine.image(this, src || "about:blank", x || 0, y || 0, w || 0, h || 0);
        this.__set__ && this.__set__.push(out);
        return out;
    };
    
    paperproto.text = function (x, y, text) {
        var out = R._engine.text(this, x || 0, y || 0, Str(text));
        this.__set__ && this.__set__.push(out);
        return out;
    };
    
    paperproto.set = function (itemsArray) {
        !R.is(itemsArray, "array") && (itemsArray = Array.prototype.splice.call(arguments, 0, arguments.length));
        var out = new Set(itemsArray);
        this.__set__ && this.__set__.push(out);
        return out;
    };
    
    paperproto.setStart = function (set) {
        this.__set__ = set || this.set();
    };
    
    paperproto.setFinish = function (set) {
        var out = this.__set__;
        delete this.__set__;
        return out;
    };
    
    paperproto.setSize = function (width, height) {
        return R._engine.setSize.call(this, width, height);
    };
    
    paperproto.setViewBox = function (x, y, w, h, fit) {
        return R._engine.setViewBox.call(this, x, y, w, h, fit);
    };
    
    
    paperproto.top = paperproto.bottom = null;
    
    paperproto.raphael = R;
    var getOffset = function (elem) {
        var box = elem.getBoundingClientRect(),
            doc = elem.ownerDocument,
            body = doc.body,
            docElem = doc.documentElement,
            clientTop = docElem.clientTop || body.clientTop || 0, clientLeft = docElem.clientLeft || body.clientLeft || 0,
            top  = box.top  + (g.win.pageYOffset || docElem.scrollTop || body.scrollTop ) - clientTop,
            left = box.left + (g.win.pageXOffset || docElem.scrollLeft || body.scrollLeft) - clientLeft;
        return {
            y: top,
            x: left
        };
    };
    
    paperproto.getElementByPoint = function (x, y) {
        var paper = this,
            svg = paper.canvas,
            target = g.doc.elementFromPoint(x, y);
        if (g.win.opera && target.tagName == "svg") {
            var so = getOffset(svg),
                sr = svg.createSVGRect();
            sr.x = x - so.x;
            sr.y = y - so.y;
            sr.width = sr.height = 1;
            var hits = svg.getIntersectionList(sr, null);
            if (hits.length) {
                target = hits[hits.length - 1];
            }
        }
        if (!target) {
            return null;
        }
        while (target.parentNode && target != svg.parentNode && !target.raphael) {
            target = target.parentNode;
        }
        target == paper.canvas.parentNode && (target = svg);
        target = target && target.raphael ? paper.getById(target.raphaelid) : null;
        return target;
    };
    
    paperproto.getById = function (id) {
        var bot = this.bottom;
        while (bot) {
            if (bot.id == id) {
                return bot;
            }
            bot = bot.next;
        }
        return null;
    };
    
    paperproto.forEach = function (callback, thisArg) {
        var bot = this.bottom;
        while (bot) {
            if (callback.call(thisArg, bot) === false) {
                return this;
            }
            bot = bot.next;
        }
        return this;
    };
    
    paperproto.getElementsByPoint = function (x, y) {
        var set = this.set();
        this.forEach(function (el) {
            if (el.isPointInside(x, y)) {
                set.push(el);
            }
        });
        return set;
    };
    function x_y() {
        return this.x + S + this.y;
    }
    function x_y_w_h() {
        return this.x + S + this.y + S + this.width + " \xd7 " + this.height;
    }
    
    elproto.isPointInside = function (x, y) {
        var rp = this.realPath = this.realPath || getPath[this.type](this);
        return R.isPointInsidePath(rp, x, y);
    };
    
    elproto.getBBox = function (isWithoutTransform) {
        if (this.removed) {
            return {};
        }
        var _ = this._;
        if (isWithoutTransform) {
            if (_.dirty || !_.bboxwt) {
                this.realPath = getPath[this.type](this);
                _.bboxwt = pathDimensions(this.realPath);
                _.bboxwt.toString = x_y_w_h;
                _.dirty = 0;
            }
            return _.bboxwt;
        }
        if (_.dirty || _.dirtyT || !_.bbox) {
            if (_.dirty || !this.realPath) {
                _.bboxwt = 0;
                this.realPath = getPath[this.type](this);
            }
            _.bbox = pathDimensions(mapPath(this.realPath, this.matrix));
            _.bbox.toString = x_y_w_h;
            _.dirty = _.dirtyT = 0;
        }
        return _.bbox;
    };
    
    elproto.clone = function () {
        if (this.removed) {
            return null;
        }
        var out = this.paper[this.type]().attr(this.attr());
        this.__set__ && this.__set__.push(out);
        return out;
    };
    
    elproto.glow = function (glow) {
        if (this.type == "text") {
            return null;
        }
        glow = glow || {};
        var s = {
            width: (glow.width || 10) + (+this.attr("stroke-width") || 1),
            fill: glow.fill || false,
            opacity: glow.opacity || .5,
            offsetx: glow.offsetx || 0,
            offsety: glow.offsety || 0,
            color: glow.color || "#000"
        },
            c = s.width / 2,
            r = this.paper,
            out = r.set(),
            path = this.realPath || getPath[this.type](this);
        path = this.matrix ? mapPath(path, this.matrix) : path;
        for (var i = 1; i < c + 1; i++) {
            out.push(r.path(path).attr({
                stroke: s.color,
                fill: s.fill ? s.color : "none",
                "stroke-linejoin": "round",
                "stroke-linecap": "round",
                "stroke-width": +(s.width / c * i).toFixed(3),
                opacity: +(s.opacity / c).toFixed(3)
            }));
        }
        return out.insertBefore(this).translate(s.offsetx, s.offsety);
    };
    var curveslengths = {},
    getPointAtSegmentLength = function (p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, length) {
        if (length == null) {
            return bezlen(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y);
        } else {
            return R.findDotsAtSegment(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, getTatLen(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, length));
        }
    },
    getLengthFactory = function (istotal, subpath) {
        return function (path, length, onlystart) {
            path = path2curve(path);
            var x, y, p, l, sp = "", subpaths = {}, point,
                len = 0;
            for (var i = 0, ii = path.length; i < ii; i++) {
                p = path[i];
                if (p[0] == "M") {
                    x = +p[1];
                    y = +p[2];
                } else {
                    l = getPointAtSegmentLength(x, y, p[1], p[2], p[3], p[4], p[5], p[6]);
                    if (len + l > length) {
                        if (subpath && !subpaths.start) {
                            point = getPointAtSegmentLength(x, y, p[1], p[2], p[3], p[4], p[5], p[6], length - len);
                            sp += ["C" + point.start.x, point.start.y, point.m.x, point.m.y, point.x, point.y];
                            if (onlystart) {return sp;}
                            subpaths.start = sp;
                            sp = ["M" + point.x, point.y + "C" + point.n.x, point.n.y, point.end.x, point.end.y, p[5], p[6]].join();
                            len += l;
                            x = +p[5];
                            y = +p[6];
                            continue;
                        }
                        if (!istotal && !subpath) {
                            point = getPointAtSegmentLength(x, y, p[1], p[2], p[3], p[4], p[5], p[6], length - len);
                            return {x: point.x, y: point.y, alpha: point.alpha};
                        }
                    }
                    len += l;
                    x = +p[5];
                    y = +p[6];
                }
                sp += p.shift() + p;
            }
            subpaths.end = sp;
            point = istotal ? len : subpath ? subpaths : R.findDotsAtSegment(x, y, p[0], p[1], p[2], p[3], p[4], p[5], 1);
            point.alpha && (point = {x: point.x, y: point.y, alpha: point.alpha});
            return point;
        };
    };
    var getTotalLength = getLengthFactory(1),
        getPointAtLength = getLengthFactory(),
        getSubpathsAtLength = getLengthFactory(0, 1);
    
    R.getTotalLength = getTotalLength;
    
    R.getPointAtLength = getPointAtLength;
    
    R.getSubpath = function (path, from, to) {
        if (this.getTotalLength(path) - to < 1e-6) {
            return getSubpathsAtLength(path, from).end;
        }
        var a = getSubpathsAtLength(path, to, 1);
        return from ? getSubpathsAtLength(a, from).end : a;
    };
    
    elproto.getTotalLength = function () {
        if (this.type != "path") {return;}
        if (this.node.getTotalLength) {
            return this.node.getTotalLength();
        }
        return getTotalLength(this.attrs.path);
    };
    
    elproto.getPointAtLength = function (length) {
        if (this.type != "path") {return;}
        return getPointAtLength(this.attrs.path, length);
    };
    
    elproto.getSubpath = function (from, to) {
        if (this.type != "path") {return;}
        return R.getSubpath(this.attrs.path, from, to);
    };
    
    var ef = R.easing_formulas = {
        linear: function (n) {
            return n;
        },
        "<": function (n) {
            return pow(n, 1.7);
        },
        ">": function (n) {
            return pow(n, .48);
        },
        "<>": function (n) {
            var q = .48 - n / 1.04,
                Q = math.sqrt(.1734 + q * q),
                x = Q - q,
                X = pow(abs(x), 1 / 3) * (x < 0 ? -1 : 1),
                y = -Q - q,
                Y = pow(abs(y), 1 / 3) * (y < 0 ? -1 : 1),
                t = X + Y + .5;
            return (1 - t) * 3 * t * t + t * t * t;
        },
        backIn: function (n) {
            var s = 1.70158;
            return n * n * ((s + 1) * n - s);
        },
        backOut: function (n) {
            n = n - 1;
            var s = 1.70158;
            return n * n * ((s + 1) * n + s) + 1;
        },
        elastic: function (n) {
            if (n == !!n) {
                return n;
            }
            return pow(2, -10 * n) * math.sin((n - .075) * (2 * PI) / .3) + 1;
        },
        bounce: function (n) {
            var s = 7.5625,
                p = 2.75,
                l;
            if (n < (1 / p)) {
                l = s * n * n;
            } else {
                if (n < (2 / p)) {
                    n -= (1.5 / p);
                    l = s * n * n + .75;
                } else {
                    if (n < (2.5 / p)) {
                        n -= (2.25 / p);
                        l = s * n * n + .9375;
                    } else {
                        n -= (2.625 / p);
                        l = s * n * n + .984375;
                    }
                }
            }
            return l;
        }
    };
    ef.easeIn = ef["ease-in"] = ef["<"];
    ef.easeOut = ef["ease-out"] = ef[">"];
    ef.easeInOut = ef["ease-in-out"] = ef["<>"];
    ef["back-in"] = ef.backIn;
    ef["back-out"] = ef.backOut;

    var animationElements = [],
        requestAnimFrame = window.requestAnimationFrame       ||
                           window.webkitRequestAnimationFrame ||
                           window.mozRequestAnimationFrame    ||
                           window.oRequestAnimationFrame      ||
                           window.msRequestAnimationFrame     ||
                           function (callback) {
                               setTimeout(callback, 16);
                           },
        animation = function () {
            var Now = +new Date,
                l = 0;
            for (; l < animationElements.length; l++) {
                var e = animationElements[l];
                if (e.el.removed || e.paused) {
                    continue;
                }
                var time = Now - e.start,
                    ms = e.ms,
                    easing = e.easing,
                    from = e.from,
                    diff = e.diff,
                    to = e.to,
                    t = e.t,
                    that = e.el,
                    set = {},
                    now,
                    init = {},
                    key;
                if (e.initstatus) {
                    time = (e.initstatus * e.anim.top - e.prev) / (e.percent - e.prev) * ms;
                    e.status = e.initstatus;
                    delete e.initstatus;
                    e.stop && animationElements.splice(l--, 1);
                } else {
                    e.status = (e.prev + (e.percent - e.prev) * (time / ms)) / e.anim.top;
                }
                if (time < 0) {
                    continue;
                }
                if (time < ms) {
                    var pos = easing(time / ms);
                    for (var attr in from) if (from[has](attr)) {
                        switch (availableAnimAttrs[attr]) {
                            case nu:
                                now = +from[attr] + pos * ms * diff[attr];
                                break;
                            case "colour":
                                now = "rgb(" + [
                                    upto255(round(from[attr].r + pos * ms * diff[attr].r)),
                                    upto255(round(from[attr].g + pos * ms * diff[attr].g)),
                                    upto255(round(from[attr].b + pos * ms * diff[attr].b))
                                ].join(",") + ")";
                                break;
                            case "path":
                                now = [];
                                for (var i = 0, ii = from[attr].length; i < ii; i++) {
                                    now[i] = [from[attr][i][0]];
                                    for (var j = 1, jj = from[attr][i].length; j < jj; j++) {
                                        now[i][j] = +from[attr][i][j] + pos * ms * diff[attr][i][j];
                                    }
                                    now[i] = now[i].join(S);
                                }
                                now = now.join(S);
                                break;
                            case "transform":
                                if (diff[attr].real) {
                                    now = [];
                                    for (i = 0, ii = from[attr].length; i < ii; i++) {
                                        now[i] = [from[attr][i][0]];
                                        for (j = 1, jj = from[attr][i].length; j < jj; j++) {
                                            now[i][j] = from[attr][i][j] + pos * ms * diff[attr][i][j];
                                        }
                                    }
                                } else {
                                    var get = function (i) {
                                        return +from[attr][i] + pos * ms * diff[attr][i];
                                    };
                                    // now = [["r", get(2), 0, 0], ["t", get(3), get(4)], ["s", get(0), get(1), 0, 0]];
                                    now = [["m", get(0), get(1), get(2), get(3), get(4), get(5)]];
                                }
                                break;
                            case "csv":
                                if (attr == "clip-rect") {
                                    now = [];
                                    i = 4;
                                    while (i--) {
                                        now[i] = +from[attr][i] + pos * ms * diff[attr][i];
                                    }
                                }
                                break;
                            default:
                                var from2 = [][concat](from[attr]);
                                now = [];
                                i = that.paper.customAttributes[attr].length;
                                while (i--) {
                                    now[i] = +from2[i] + pos * ms * diff[attr][i];
                                }
                                break;
                        }
                        set[attr] = now;
                    }
                    that.attr(set);
                    (function (id, that, anim) {
                        setTimeout(function () {
                            eve("raphael.anim.frame." + id, that, anim);
                        });
                    })(that.id, that, e.anim);
                } else {
                    (function(f, el, a) {
                        setTimeout(function() {
                            eve("raphael.anim.frame." + el.id, el, a);
                            eve("raphael.anim.finish." + el.id, el, a);
                            R.is(f, "function") && f.call(el);
                        });
                    })(e.callback, that, e.anim);
                    that.attr(to);
                    animationElements.splice(l--, 1);
                    if (e.repeat > 1 && !e.next) {
                        for (key in to) if (to[has](key)) {
                            init[key] = e.totalOrigin[key];
                        }
                        e.el.attr(init);
                        runAnimation(e.anim, e.el, e.anim.percents[0], null, e.totalOrigin, e.repeat - 1);
                    }
                    if (e.next && !e.stop) {
                        runAnimation(e.anim, e.el, e.next, null, e.totalOrigin, e.repeat);
                    }
                }
            }
            R.svg && that && that.paper && that.paper.safari();
            animationElements.length && requestAnimFrame(animation);
        },
        upto255 = function (color) {
            return color > 255 ? 255 : color < 0 ? 0 : color;
        };
    
    elproto.animateWith = function (el, anim, params, ms, easing, callback) {
        var element = this;
        if (element.removed) {
            callback && callback.call(element);
            return element;
        }
        var a = params instanceof Animation ? params : R.animation(params, ms, easing, callback),
            x, y;
        runAnimation(a, element, a.percents[0], null, element.attr());
        for (var i = 0, ii = animationElements.length; i < ii; i++) {
            if (animationElements[i].anim == anim && animationElements[i].el == el) {
                animationElements[ii - 1].start = animationElements[i].start;
                break;
            }
        }
        return element;
        // 
        // 
        // var a = params ? R.animation(params, ms, easing, callback) : anim,
        //     status = element.status(anim);
        // return this.animate(a).status(a, status * anim.ms / a.ms);
    };
    function CubicBezierAtTime(t, p1x, p1y, p2x, p2y, duration) {
        var cx = 3 * p1x,
            bx = 3 * (p2x - p1x) - cx,
            ax = 1 - cx - bx,
            cy = 3 * p1y,
            by = 3 * (p2y - p1y) - cy,
            ay = 1 - cy - by;
        function sampleCurveX(t) {
            return ((ax * t + bx) * t + cx) * t;
        }
        function solve(x, epsilon) {
            var t = solveCurveX(x, epsilon);
            return ((ay * t + by) * t + cy) * t;
        }
        function solveCurveX(x, epsilon) {
            var t0, t1, t2, x2, d2, i;
            for(t2 = x, i = 0; i < 8; i++) {
                x2 = sampleCurveX(t2) - x;
                if (abs(x2) < epsilon) {
                    return t2;
                }
                d2 = (3 * ax * t2 + 2 * bx) * t2 + cx;
                if (abs(d2) < 1e-6) {
                    break;
                }
                t2 = t2 - x2 / d2;
            }
            t0 = 0;
            t1 = 1;
            t2 = x;
            if (t2 < t0) {
                return t0;
            }
            if (t2 > t1) {
                return t1;
            }
            while (t0 < t1) {
                x2 = sampleCurveX(t2);
                if (abs(x2 - x) < epsilon) {
                    return t2;
                }
                if (x > x2) {
                    t0 = t2;
                } else {
                    t1 = t2;
                }
                t2 = (t1 - t0) / 2 + t0;
            }
            return t2;
        }
        return solve(t, 1 / (200 * duration));
    }
    elproto.onAnimation = function (f) {
        f ? eve.on("raphael.anim.frame." + this.id, f) : eve.unbind("raphael.anim.frame." + this.id);
        return this;
    };
    function Animation(anim, ms) {
        var percents = [],
            newAnim = {};
        this.ms = ms;
        this.times = 1;
        if (anim) {
            for (var attr in anim) if (anim[has](attr)) {
                newAnim[toFloat(attr)] = anim[attr];
                percents.push(toFloat(attr));
            }
            percents.sort(sortByNumber);
        }
        this.anim = newAnim;
        this.top = percents[percents.length - 1];
        this.percents = percents;
    }
    
    Animation.prototype.delay = function (delay) {
        var a = new Animation(this.anim, this.ms);
        a.times = this.times;
        a.del = +delay || 0;
        return a;
    };
    
    Animation.prototype.repeat = function (times) { 
        var a = new Animation(this.anim, this.ms);
        a.del = this.del;
        a.times = math.floor(mmax(times, 0)) || 1;
        return a;
    };
    function runAnimation(anim, element, percent, status, totalOrigin, times) {
        percent = toFloat(percent);
        var params,
            isInAnim,
            isInAnimSet,
            percents = [],
            next,
            prev,
            timestamp,
            ms = anim.ms,
            from = {},
            to = {},
            diff = {};
        if (status) {
            for (i = 0, ii = animationElements.length; i < ii; i++) {
                var e = animationElements[i];
                if (e.el.id == element.id && e.anim == anim) {
                    if (e.percent != percent) {
                        animationElements.splice(i, 1);
                        isInAnimSet = 1;
                    } else {
                        isInAnim = e;
                    }
                    element.attr(e.totalOrigin);
                    break;
                }
            }
        } else {
            status = +to; // NaN
        }
        for (var i = 0, ii = anim.percents.length; i < ii; i++) {
            if (anim.percents[i] == percent || anim.percents[i] > status * anim.top) {
                percent = anim.percents[i];
                prev = anim.percents[i - 1] || 0;
                ms = ms / anim.top * (percent - prev);
                next = anim.percents[i + 1];
                params = anim.anim[percent];
                break;
            } else if (status) {
                element.attr(anim.anim[anim.percents[i]]);
            }
        }
        if (!params) {
            return;
        }
        if (!isInAnim) {
            for (var attr in params) if (params[has](attr)) {
                if (availableAnimAttrs[has](attr) || element.paper.customAttributes[has](attr)) {
                    from[attr] = element.attr(attr);
                    (from[attr] == null) && (from[attr] = availableAttrs[attr]);
                    to[attr] = params[attr];
                    switch (availableAnimAttrs[attr]) {
                        case nu:
                            diff[attr] = (to[attr] - from[attr]) / ms;
                            break;
                        case "colour":
                            from[attr] = R.getRGB(from[attr]);
                            var toColour = R.getRGB(to[attr]);
                            diff[attr] = {
                                r: (toColour.r - from[attr].r) / ms,
                                g: (toColour.g - from[attr].g) / ms,
                                b: (toColour.b - from[attr].b) / ms
                            };
                            break;
                        case "path":
                            var pathes = path2curve(from[attr], to[attr]),
                                toPath = pathes[1];
                            from[attr] = pathes[0];
                            diff[attr] = [];
                            for (i = 0, ii = from[attr].length; i < ii; i++) {
                                diff[attr][i] = [0];
                                for (var j = 1, jj = from[attr][i].length; j < jj; j++) {
                                    diff[attr][i][j] = (toPath[i][j] - from[attr][i][j]) / ms;
                                }
                            }
                            break;
                        case "transform":
                            var _ = element._,
                                eq = equaliseTransform(_[attr], to[attr]);
                            if (eq) {
                                from[attr] = eq.from;
                                to[attr] = eq.to;
                                diff[attr] = [];
                                diff[attr].real = true;
                                for (i = 0, ii = from[attr].length; i < ii; i++) {
                                    diff[attr][i] = [from[attr][i][0]];
                                    for (j = 1, jj = from[attr][i].length; j < jj; j++) {
                                        diff[attr][i][j] = (to[attr][i][j] - from[attr][i][j]) / ms;
                                    }
                                }
                            } else {
                                var m = (element.matrix || new Matrix),
                                    to2 = {
                                        _: {transform: _.transform},
                                        getBBox: function () {
                                            return element.getBBox(1);
                                        }
                                    };
                                from[attr] = [
                                    m.a,
                                    m.b,
                                    m.c,
                                    m.d,
                                    m.e,
                                    m.f
                                ];
                                extractTransform(to2, to[attr]);
                                to[attr] = to2._.transform;
                                diff[attr] = [
                                    (to2.matrix.a - m.a) / ms,
                                    (to2.matrix.b - m.b) / ms,
                                    (to2.matrix.c - m.c) / ms,
                                    (to2.matrix.d - m.d) / ms,
                                    (to2.matrix.e - m.e) / ms,
                                    (to2.matrix.f - m.f) / ms
                                ];
                                // from[attr] = [_.sx, _.sy, _.deg, _.dx, _.dy];
                                // var to2 = {_:{}, getBBox: function () { return element.getBBox(); }};
                                // extractTransform(to2, to[attr]);
                                // diff[attr] = [
                                //     (to2._.sx - _.sx) / ms,
                                //     (to2._.sy - _.sy) / ms,
                                //     (to2._.deg - _.deg) / ms,
                                //     (to2._.dx - _.dx) / ms,
                                //     (to2._.dy - _.dy) / ms
                                // ];
                            }
                            break;
                        case "csv":
                            var values = Str(params[attr])[split](separator),
                                from2 = Str(from[attr])[split](separator);
                            if (attr == "clip-rect") {
                                from[attr] = from2;
                                diff[attr] = [];
                                i = from2.length;
                                while (i--) {
                                    diff[attr][i] = (values[i] - from[attr][i]) / ms;
                                }
                            }
                            to[attr] = values;
                            break;
                        default:
                            values = [][concat](params[attr]);
                            from2 = [][concat](from[attr]);
                            diff[attr] = [];
                            i = element.paper.customAttributes[attr].length;
                            while (i--) {
                                diff[attr][i] = ((values[i] || 0) - (from2[i] || 0)) / ms;
                            }
                            break;
                    }
                }
            }
            var easing = params.easing,
                easyeasy = R.easing_formulas[easing];
            if (!easyeasy) {
                easyeasy = Str(easing).match(bezierrg);
                if (easyeasy && easyeasy.length == 5) {
                    var curve = easyeasy;
                    easyeasy = function (t) {
                        return CubicBezierAtTime(t, +curve[1], +curve[2], +curve[3], +curve[4], ms);
                    };
                } else {
                    easyeasy = pipe;
                }
            }
            timestamp = params.start || anim.start || +new Date;
            e = {
                anim: anim,
                percent: percent,
                timestamp: timestamp,
                start: timestamp + (anim.del || 0),
                status: 0,
                initstatus: status || 0,
                stop: false,
                ms: ms,
                easing: easyeasy,
                from: from,
                diff: diff,
                to: to,
                el: element,
                callback: params.callback,
                prev: prev,
                next: next,
                repeat: times || anim.times,
                origin: element.attr(),
                totalOrigin: totalOrigin
            };
            animationElements.push(e);
            if (status && !isInAnim && !isInAnimSet) {
                e.stop = true;
                e.start = new Date - ms * status;
                if (animationElements.length == 1) {
                    return animation();
                }
            }
            if (isInAnimSet) {
                e.start = new Date - e.ms * status;
            }
            animationElements.length == 1 && requestAnimFrame(animation);
        } else {
            isInAnim.initstatus = status;
            isInAnim.start = new Date - isInAnim.ms * status;
        }
        eve("raphael.anim.start." + element.id, element, anim);
    }
    
    R.animation = function (params, ms, easing, callback) {
        if (params instanceof Animation) {
            return params;
        }
        if (R.is(easing, "function") || !easing) {
            callback = callback || easing || null;
            easing = null;
        }
        params = Object(params);
        ms = +ms || 0;
        var p = {},
            json,
            attr;
        for (attr in params) if (params[has](attr) && toFloat(attr) != attr && toFloat(attr) + "%" != attr) {
            json = true;
            p[attr] = params[attr];
        }
        if (!json) {
            return new Animation(params, ms);
        } else {
            easing && (p.easing = easing);
            callback && (p.callback = callback);
            return new Animation({100: p}, ms);
        }
    };
    
    elproto.animate = function (params, ms, easing, callback) {
        var element = this;
        if (element.removed) {
            callback && callback.call(element);
            return element;
        }
        var anim = params instanceof Animation ? params : R.animation(params, ms, easing, callback);
        runAnimation(anim, element, anim.percents[0], null, element.attr());
        return element;
    };
    
    elproto.setTime = function (anim, value) {
        if (anim && value != null) {
            this.status(anim, mmin(value, anim.ms) / anim.ms);
        }
        return this;
    };
    
    elproto.status = function (anim, value) {
        var out = [],
            i = 0,
            len,
            e;
        if (value != null) {
            runAnimation(anim, this, -1, mmin(value, 1));
            return this;
        } else {
            len = animationElements.length;
            for (; i < len; i++) {
                e = animationElements[i];
                if (e.el.id == this.id && (!anim || e.anim == anim)) {
                    if (anim) {
                        return e.status;
                    }
                    out.push({
                        anim: e.anim,
                        status: e.status
                    });
                }
            }
            if (anim) {
                return 0;
            }
            return out;
        }
    };
    
    elproto.pause = function (anim) {
        for (var i = 0; i < animationElements.length; i++) if (animationElements[i].el.id == this.id && (!anim || animationElements[i].anim == anim)) {
            if (eve("raphael.anim.pause." + this.id, this, animationElements[i].anim) !== false) {
                animationElements[i].paused = true;
            }
        }
        return this;
    };
    
    elproto.resume = function (anim) {
        for (var i = 0; i < animationElements.length; i++) if (animationElements[i].el.id == this.id && (!anim || animationElements[i].anim == anim)) {
            var e = animationElements[i];
            if (eve("raphael.anim.resume." + this.id, this, e.anim) !== false) {
                delete e.paused;
                this.status(e.anim, e.status);
            }
        }
        return this;
    };
    
    elproto.stop = function (anim) {
        for (var i = 0; i < animationElements.length; i++) if (animationElements[i].el.id == this.id && (!anim || animationElements[i].anim == anim)) {
            if (eve("raphael.anim.stop." + this.id, this, animationElements[i].anim) !== false) {
                animationElements.splice(i--, 1);
            }
        }
        return this;
    };
    function stopAnimation(paper) {
        for (var i = 0; i < animationElements.length; i++) if (animationElements[i].el.paper == paper) {
            animationElements.splice(i--, 1);
        }
    }
    eve.on("raphael.remove", stopAnimation);
    eve.on("raphael.clear", stopAnimation);
    elproto.toString = function () {
        return "Rapha\xebl\u2019s object";
    };

    // Set
    var Set = function (items) {
        this.items = [];
        this.length = 0;
        this.type = "set";
        if (items) {
            for (var i = 0, ii = items.length; i < ii; i++) {
                if (items[i] && (items[i].constructor == elproto.constructor || items[i].constructor == Set)) {
                    this[this.items.length] = this.items[this.items.length] = items[i];
                    this.length++;
                }
            }
        }
    },
    setproto = Set.prototype;
    
    setproto.push = function () {
        var item,
            len;
        for (var i = 0, ii = arguments.length; i < ii; i++) {
            item = arguments[i];
            if (item && (item.constructor == elproto.constructor || item.constructor == Set)) {
                len = this.items.length;
                this[len] = this.items[len] = item;
                this.length++;
            }
        }
        return this;
    };
    
    setproto.pop = function () {
        this.length && delete this[this.length--];
        return this.items.pop();
    };
    
    setproto.forEach = function (callback, thisArg) {
        for (var i = 0, ii = this.items.length; i < ii; i++) {
            if (callback.call(thisArg, this.items[i], i) === false) {
                return this;
            }
        }
        return this;
    };
    for (var method in elproto) if (elproto[has](method)) {
        setproto[method] = (function (methodname) {
            return function () {
                var arg = arguments;
                return this.forEach(function (el) {
                    el[methodname][apply](el, arg);
                });
            };
        })(method);
    }
    setproto.attr = function (name, value) {
        if (name && R.is(name, array) && R.is(name[0], "object")) {
            for (var j = 0, jj = name.length; j < jj; j++) {
                this.items[j].attr(name[j]);
            }
        } else {
            for (var i = 0, ii = this.items.length; i < ii; i++) {
                this.items[i].attr(name, value);
            }
        }
        return this;
    };
    
    setproto.clear = function () {
        while (this.length) {
            this.pop();
        }
    };
    
    setproto.splice = function (index, count, insertion) {
        index = index < 0 ? mmax(this.length + index, 0) : index;
        count = mmax(0, mmin(this.length - index, count));
        var tail = [],
            todel = [],
            args = [],
            i;
        for (i = 2; i < arguments.length; i++) {
            args.push(arguments[i]);
        }
        for (i = 0; i < count; i++) {
            todel.push(this[index + i]);
        }
        for (; i < this.length - index; i++) {
            tail.push(this[index + i]);
        }
        var arglen = args.length;
        for (i = 0; i < arglen + tail.length; i++) {
            this.items[index + i] = this[index + i] = i < arglen ? args[i] : tail[i - arglen];
        }
        i = this.items.length = this.length -= count - arglen;
        while (this[i]) {
            delete this[i++];
        }
        return new Set(todel);
    };
    
    setproto.exclude = function (el) {
        for (var i = 0, ii = this.length; i < ii; i++) if (this[i] == el) {
            this.splice(i, 1);
            return true;
        }
    };
    setproto.animate = function (params, ms, easing, callback) {
        (R.is(easing, "function") || !easing) && (callback = easing || null);
        var len = this.items.length,
            i = len,
            item,
            set = this,
            collector;
        if (!len) {
            return this;
        }
        callback && (collector = function () {
            !--len && callback.call(set);
        });
        easing = R.is(easing, string) ? easing : collector;
        var anim = R.animation(params, ms, easing, collector);
        item = this.items[--i].animate(anim);
        while (i--) {
            this.items[i] && !this.items[i].removed && this.items[i].animateWith(item, anim, anim);
        }
        return this;
    };
    setproto.insertAfter = function (el) {
        var i = this.items.length;
        while (i--) {
            this.items[i].insertAfter(el);
        }
        return this;
    };
    setproto.getBBox = function () {
        var x = [],
            y = [],
            x2 = [],
            y2 = [];
        for (var i = this.items.length; i--;) if (!this.items[i].removed) {
            var box = this.items[i].getBBox();
            x.push(box.x);
            y.push(box.y);
            x2.push(box.x + box.width);
            y2.push(box.y + box.height);
        }
        x = mmin[apply](0, x);
        y = mmin[apply](0, y);
        x2 = mmax[apply](0, x2);
        y2 = mmax[apply](0, y2);
        return {
            x: x,
            y: y,
            x2: x2,
            y2: y2,
            width: x2 - x,
            height: y2 - y
        };
    };
    setproto.clone = function (s) {
        s = new Set;
        for (var i = 0, ii = this.items.length; i < ii; i++) {
            s.push(this.items[i].clone());
        }
        return s;
    };
    setproto.toString = function () {
        return "Rapha\xebl\u2018s set";
    };

    
    R.registerFont = function (font) {
        if (!font.face) {
            return font;
        }
        this.fonts = this.fonts || {};
        var fontcopy = {
                w: font.w,
                face: {},
                glyphs: {}
            },
            family = font.face["font-family"];
        for (var prop in font.face) if (font.face[has](prop)) {
            fontcopy.face[prop] = font.face[prop];
        }
        if (this.fonts[family]) {
            this.fonts[family].push(fontcopy);
        } else {
            this.fonts[family] = [fontcopy];
        }
        if (!font.svg) {
            fontcopy.face["units-per-em"] = toInt(font.face["units-per-em"], 10);
            for (var glyph in font.glyphs) if (font.glyphs[has](glyph)) {
                var path = font.glyphs[glyph];
                fontcopy.glyphs[glyph] = {
                    w: path.w,
                    k: {},
                    d: path.d && "M" + path.d.replace(/[mlcxtrv]/g, function (command) {
                            return {l: "L", c: "C", x: "z", t: "m", r: "l", v: "c"}[command] || "M";
                        }) + "z"
                };
                if (path.k) {
                    for (var k in path.k) if (path[has](k)) {
                        fontcopy.glyphs[glyph].k[k] = path.k[k];
                    }
                }
            }
        }
        return font;
    };
    
    paperproto.getFont = function (family, weight, style, stretch) {
        stretch = stretch || "normal";
        style = style || "normal";
        weight = +weight || {normal: 400, bold: 700, lighter: 300, bolder: 800}[weight] || 400;
        if (!R.fonts) {
            return;
        }
        var font = R.fonts[family];
        if (!font) {
            var name = new RegExp("(^|\\s)" + family.replace(/[^\w\d\s+!~.:_-]/g, E) + "(\\s|$)", "i");
            for (var fontName in R.fonts) if (R.fonts[has](fontName)) {
                if (name.test(fontName)) {
                    font = R.fonts[fontName];
                    break;
                }
            }
        }
        var thefont;
        if (font) {
            for (var i = 0, ii = font.length; i < ii; i++) {
                thefont = font[i];
                if (thefont.face["font-weight"] == weight && (thefont.face["font-style"] == style || !thefont.face["font-style"]) && thefont.face["font-stretch"] == stretch) {
                    break;
                }
            }
        }
        return thefont;
    };
    
    paperproto.print = function (x, y, string, font, size, origin, letter_spacing) {
        origin = origin || "middle"; // baseline|middle
        letter_spacing = mmax(mmin(letter_spacing || 0, 1), -1);
        var letters = Str(string)[split](E),
            shift = 0,
            notfirst = 0,
            path = E,
            scale;
        R.is(font, string) && (font = this.getFont(font));
        if (font) {
            scale = (size || 16) / font.face["units-per-em"];
            var bb = font.face.bbox[split](separator),
                top = +bb[0],
                lineHeight = bb[3] - bb[1],
                shifty = 0,
                height = +bb[1] + (origin == "baseline" ? lineHeight + (+font.face.descent) : lineHeight / 2);
            for (var i = 0, ii = letters.length; i < ii; i++) {
                if (letters[i] == "\n") {
                    shift = 0;
                    curr = 0;
                    notfirst = 0;
                    shifty += lineHeight;
                } else {
                    var prev = notfirst && font.glyphs[letters[i - 1]] || {},
                        curr = font.glyphs[letters[i]];
                    shift += notfirst ? (prev.w || font.w) + (prev.k && prev.k[letters[i]] || 0) + (font.w * letter_spacing) : 0;
                    notfirst = 1;
                }
                if (curr && curr.d) {
                    path += R.transformPath(curr.d, ["t", shift * scale, shifty * scale, "s", scale, scale, top, height, "t", (x - top) / scale, (y - height) / scale]);
                }
            }
        }
        return this.path(path).attr({
            fill: "#000",
            stroke: "none"
        });
    };

    
    paperproto.add = function (json) {
        if (R.is(json, "array")) {
            var res = this.set(),
                i = 0,
                ii = json.length,
                j;
            for (; i < ii; i++) {
                j = json[i] || {};
                elements[has](j.type) && res.push(this[j.type]().attr(j));
            }
        }
        return res;
    };

    
    R.format = function (token, params) {
        var args = R.is(params, array) ? [0][concat](params) : arguments;
        token && R.is(token, string) && args.length - 1 && (token = token.replace(formatrg, function (str, i) {
            return args[++i] == null ? E : args[i];
        }));
        return token || E;
    };
    
    R.fullfill = (function () {
        var tokenRegex = /\{([^\}]+)\}/g,
            objNotationRegex = /(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g, // matches .xxxxx or ["xxxxx"] to run over object properties
            replacer = function (all, key, obj) {
                var res = obj;
                key.replace(objNotationRegex, function (all, name, quote, quotedName, isFunc) {
                    name = name || quotedName;
                    if (res) {
                        if (name in res) {
                            res = res[name];
                        }
                        typeof res == "function" && isFunc && (res = res());
                    }
                });
                res = (res == null || res == obj ? all : res) + "";
                return res;
            };
        return function (str, obj) {
            return String(str).replace(tokenRegex, function (all, key) {
                return replacer(all, key, obj);
            });
        };
    })();
    
    R.ninja = function () {
        oldRaphael.was ? (g.win.Raphael = oldRaphael.is) : delete Raphael;
        return R;
    };
    
    R.st = setproto;
    // Firefox <3.6 fix: http://webreflection.blogspot.com/2009/11/195-chars-to-help-lazy-loading.html
    (function (doc, loaded, f) {
        if (doc.readyState == null && doc.addEventListener){
            doc.addEventListener(loaded, f = function () {
                doc.removeEventListener(loaded, f, false);
                doc.readyState = "complete";
            }, false);
            doc.readyState = "loading";
        }
        function isLoaded() {
            (/in/).test(doc.readyState) ? setTimeout(isLoaded, 9) : R.eve("raphael.DOMload");
        }
        isLoaded();
    })(document, "DOMContentLoaded");

    oldRaphael.was ? (g.win.Raphael = R) : (Raphael = R);
    
    eve.on("raphael.DOMload", function () {
        loaded = true;
    });
})();


// ┌─────────────────────────────────────────────────────────────────────┐ \\
// │ Raphaël - JavaScript Vector Library                                 │ \\
// ├─────────────────────────────────────────────────────────────────────┤ \\
// │ SVG Module                                                          │ \\
// ├─────────────────────────────────────────────────────────────────────┤ \\
// │ Copyright (c) 2008-2011 Dmitry Baranovskiy (http://raphaeljs.com)   │ \\
// │ Copyright (c) 2008-2011 Sencha Labs (http://sencha.com)             │ \\
// │ Licensed under the MIT (http://raphaeljs.com/license.html) license. │ \\
// └─────────────────────────────────────────────────────────────────────┘ \\
window.Raphael.svg && function (R) {
    var has = "hasOwnProperty",
        Str = String,
        toFloat = parseFloat,
        toInt = parseInt,
        math = Math,
        mmax = math.max,
        abs = math.abs,
        pow = math.pow,
        separator = /[, ]+/,
        eve = R.eve,
        E = "",
        S = " ";
    var xlink = "http://www.w3.org/1999/xlink",
        markers = {
            block: "M5,0 0,2.5 5,5z",
            classic: "M5,0 0,2.5 5,5 3.5,3 3.5,2z",
            diamond: "M2.5,0 5,2.5 2.5,5 0,2.5z",
            open: "M6,1 1,3.5 6,6",
            oval: "M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"
        },
        markerCounter = {};
    R.toString = function () {
        return  "Your browser supports SVG.\nYou are running Rapha\xebl " + this.version;
    };
    var $ = function (el, attr) {
        if (attr) {
            if (typeof el == "string") {
                el = $(el);
            }
            for (var key in attr) if (attr[has](key)) {
                if (key.substring(0, 6) == "xlink:") {
                    el.setAttributeNS(xlink, key.substring(6), Str(attr[key]));
                } else {
                    el.setAttribute(key, Str(attr[key]));
                }
            }
        } else {
            el = R._g.doc.createElementNS("http://www.w3.org/2000/svg", el);
            el.style && (el.style.webkitTapHighlightColor = "rgba(0,0,0,0)");
        }
        return el;
    },
    addGradientFill = function (element, gradient) {
        var type = "linear",
            id = element.id + gradient,
            fx = .5, fy = .5,
            o = element.node,
            SVG = element.paper,
            s = o.style,
            el = R._g.doc.getElementById(id);
        if (!el) {
            gradient = Str(gradient).replace(R._radial_gradient, function (all, _fx, _fy) {
                type = "radial";
                if (_fx && _fy) {
                    fx = toFloat(_fx);
                    fy = toFloat(_fy);
                    var dir = ((fy > .5) * 2 - 1);
                    pow(fx - .5, 2) + pow(fy - .5, 2) > .25 &&
                        (fy = math.sqrt(.25 - pow(fx - .5, 2)) * dir + .5) &&
                        fy != .5 &&
                        (fy = fy.toFixed(5) - 1e-5 * dir);
                }
                return E;
            });
            gradient = gradient.split(/\s*\-\s*/);
            if (type == "linear") {
                var angle = gradient.shift();
                angle = -toFloat(angle);
                if (isNaN(angle)) {
                    return null;
                }
                var vector = [0, 0, math.cos(R.rad(angle)), math.sin(R.rad(angle))],
                    max = 1 / (mmax(abs(vector[2]), abs(vector[3])) || 1);
                vector[2] *= max;
                vector[3] *= max;
                if (vector[2] < 0) {
                    vector[0] = -vector[2];
                    vector[2] = 0;
                }
                if (vector[3] < 0) {
                    vector[1] = -vector[3];
                    vector[3] = 0;
                }
            }
            var dots = R._parseDots(gradient);
            if (!dots) {
                return null;
            }
            id = id.replace(/[\(\)\s,\xb0#]/g, "_");
            
            if (element.gradient && id != element.gradient.id) {
                SVG.defs.removeChild(element.gradient);
                delete element.gradient;
            }

            if (!element.gradient) {
                el = $(type + "Gradient", {id: id});
                element.gradient = el;
                $(el, type == "radial" ? {
                    fx: fx,
                    fy: fy
                } : {
                    x1: vector[0],
                    y1: vector[1],
                    x2: vector[2],
                    y2: vector[3],
                    gradientTransform: element.matrix.invert()
                });
                SVG.defs.appendChild(el);
                for (var i = 0, ii = dots.length; i < ii; i++) {
                    el.appendChild($("stop", {
                        offset: dots[i].offset ? dots[i].offset : i ? "100%" : "0%",
                        "stop-color": dots[i].color || "#fff"
                    }));
                }
            }
        }
        $(o, {
            fill: "url(#" + id + ")",
            opacity: 1,
            "fill-opacity": 1
        });
        s.fill = E;
        s.opacity = 1;
        s.fillOpacity = 1;
        return 1;
    },
    updatePosition = function (o) {
        var bbox = o.getBBox(1);
        $(o.pattern, {patternTransform: o.matrix.invert() + " translate(" + bbox.x + "," + bbox.y + ")"});
    },
    addArrow = function (o, value, isEnd) {
        if (o.type == "path") {
            var values = Str(value).toLowerCase().split("-"),
                p = o.paper,
                se = isEnd ? "end" : "start",
                node = o.node,
                attrs = o.attrs,
                stroke = attrs["stroke-width"],
                i = values.length,
                type = "classic",
                from,
                to,
                dx,
                refX,
                attr,
                w = 3,
                h = 3,
                t = 5;
            while (i--) {
                switch (values[i]) {
                    case "block":
                    case "classic":
                    case "oval":
                    case "diamond":
                    case "open":
                    case "none":
                        type = values[i];
                        break;
                    case "wide": h = 5; break;
                    case "narrow": h = 2; break;
                    case "long": w = 5; break;
                    case "short": w = 2; break;
                }
            }
            if (type == "open") {
                w += 2;
                h += 2;
                t += 2;
                dx = 1;
                refX = isEnd ? 4 : 1;
                attr = {
                    fill: "none",
                    stroke: attrs.stroke
                };
            } else {
                refX = dx = w / 2;
                attr = {
                    fill: attrs.stroke,
                    stroke: "none"
                };
            }
            if (o._.arrows) {
                if (isEnd) {
                    o._.arrows.endPath && markerCounter[o._.arrows.endPath]--;
                    o._.arrows.endMarker && markerCounter[o._.arrows.endMarker]--;
                } else {
                    o._.arrows.startPath && markerCounter[o._.arrows.startPath]--;
                    o._.arrows.startMarker && markerCounter[o._.arrows.startMarker]--;
                }
            } else {
                o._.arrows = {};
            }
            if (type != "none") {
                var pathId = "raphael-marker-" + type,
                    markerId = "raphael-marker-" + se + type + w + h;
                if (!R._g.doc.getElementById(pathId)) {
                    p.defs.appendChild($($("path"), {
                        "stroke-linecap": "round",
                        d: markers[type],
                        id: pathId
                    }));
                    markerCounter[pathId] = 1;
                } else {
                    markerCounter[pathId]++;
                }
                var marker = R._g.doc.getElementById(markerId),
                    use;
                if (!marker) {
                    marker = $($("marker"), {
                        id: markerId,
                        markerHeight: h,
                        markerWidth: w,
                        orient: "auto",
                        refX: refX,
                        refY: h / 2
                    });
                    use = $($("use"), {
                        "xlink:href": "#" + pathId,
                        transform: (isEnd ? "rotate(180 " + w / 2 + " " + h / 2 + ") " : E) + "scale(" + w / t + "," + h / t + ")",
                        "stroke-width": (1 / ((w / t + h / t) / 2)).toFixed(4)
                    });
                    marker.appendChild(use);
                    p.defs.appendChild(marker);
                    markerCounter[markerId] = 1;
                } else {
                    markerCounter[markerId]++;
                    use = marker.getElementsByTagName("use")[0];
                }
                $(use, attr);
                var delta = dx * (type != "diamond" && type != "oval");
                if (isEnd) {
                    from = o._.arrows.startdx * stroke || 0;
                    to = R.getTotalLength(attrs.path) - delta * stroke;
                } else {
                    from = delta * stroke;
                    to = R.getTotalLength(attrs.path) - (o._.arrows.enddx * stroke || 0);
                }
                attr = {};
                attr["marker-" + se] = "url(#" + markerId + ")";
                if (to || from) {
                    attr.d = Raphael.getSubpath(attrs.path, from, to);
                }
                $(node, attr);
                o._.arrows[se + "Path"] = pathId;
                o._.arrows[se + "Marker"] = markerId;
                o._.arrows[se + "dx"] = delta;
                o._.arrows[se + "Type"] = type;
                o._.arrows[se + "String"] = value;
            } else {
                if (isEnd) {
                    from = o._.arrows.startdx * stroke || 0;
                    to = R.getTotalLength(attrs.path) - from;
                } else {
                    from = 0;
                    to = R.getTotalLength(attrs.path) - (o._.arrows.enddx * stroke || 0);
                }
                o._.arrows[se + "Path"] && $(node, {d: Raphael.getSubpath(attrs.path, from, to)});
                delete o._.arrows[se + "Path"];
                delete o._.arrows[se + "Marker"];
                delete o._.arrows[se + "dx"];
                delete o._.arrows[se + "Type"];
                delete o._.arrows[se + "String"];
            }
            for (attr in markerCounter) if (markerCounter[has](attr) && !markerCounter[attr]) {
                var item = R._g.doc.getElementById(attr);
                item && item.parentNode.removeChild(item);
            }
        }
    },
    dasharray = {
        "": [0],
        "none": [0],
        "-": [3, 1],
        ".": [1, 1],
        "-.": [3, 1, 1, 1],
        "-..": [3, 1, 1, 1, 1, 1],
        ". ": [1, 3],
        "- ": [4, 3],
        "--": [8, 3],
        "- .": [4, 3, 1, 3],
        "--.": [8, 3, 1, 3],
        "--..": [8, 3, 1, 3, 1, 3]
    },
    addDashes = function (o, value, params) {
        value = dasharray[Str(value).toLowerCase()];
        if (value) {
            var width = o.attrs["stroke-width"] || "1",
                butt = {round: width, square: width, butt: 0}[o.attrs["stroke-linecap"] || params["stroke-linecap"]] || 0,
                dashes = [],
                i = value.length;
            while (i--) {
                dashes[i] = value[i] * width + ((i % 2) ? 1 : -1) * butt;
            }
            $(o.node, {"stroke-dasharray": dashes.join(",")});
        }
    },
    setFillAndStroke = function (o, params) {
        var node = o.node,
            attrs = o.attrs,
            vis = node.style.visibility;
        node.style.visibility = "hidden";
        for (var att in params) {
            if (params[has](att)) {
                if (!R._availableAttrs[has](att)) {
                    continue;
                }
                var value = params[att];
                attrs[att] = value;
                switch (att) {
                    case "blur":
                        o.blur(value);
                        break;
                    case "href":
                    case "title":
                    case "target":
                        var pn = node.parentNode;
                        if (pn.tagName.toLowerCase() != "a") {
                            var hl = $("a");
                            pn.insertBefore(hl, node);
                            hl.appendChild(node);
                            pn = hl;
                        }
                        if (att == "target") {
                            pn.setAttributeNS(xlink, "show", value == "blank" ? "new" : value);
                        } else {
                            pn.setAttributeNS(xlink, att, value);
                        }
                        break;
                    case "cursor":
                        node.style.cursor = value;
                        break;
                    case "transform":
                        o.transform(value);
                        break;
                    case "arrow-start":
                        addArrow(o, value);
                        break;
                    case "arrow-end":
                        addArrow(o, value, 1);
                        break;
                    case "clip-rect":
                        var rect = Str(value).split(separator);
                        if (rect.length == 4) {
                            o.clip && o.clip.parentNode.parentNode.removeChild(o.clip.parentNode);
                            var el = $("clipPath"),
                                rc = $("rect");
                            el.id = R.createUUID();
                            $(rc, {
                                x: rect[0],
                                y: rect[1],
                                width: rect[2],
                                height: rect[3]
                            });
                            el.appendChild(rc);
                            o.paper.defs.appendChild(el);
                            $(node, {"clip-path": "url(#" + el.id + ")"});
                            o.clip = rc;
                        }
                        if (!value) {
                            var path = node.getAttribute("clip-path");
                            if (path) {
                                var clip = R._g.doc.getElementById(path.replace(/(^url\(#|\)$)/g, E));
                                clip && clip.parentNode.removeChild(clip);
                                $(node, {"clip-path": E});
                                delete o.clip;
                            }
                        }
                    break;
                    case "path":
                        if (o.type == "path") {
                            $(node, {d: value ? attrs.path = R._pathToAbsolute(value) : "M0,0"});
                            o._.dirty = 1;
                            if (o._.arrows) {
                                "startString" in o._.arrows && addArrow(o, o._.arrows.startString);
                                "endString" in o._.arrows && addArrow(o, o._.arrows.endString, 1);
                            }
                        }
                        break;
                    case "width":
                        node.setAttribute(att, value);
                        o._.dirty = 1;
                        if (attrs.fx) {
                            att = "x";
                            value = attrs.x;
                        } else {
                            break;
                        }
                    case "x":
                        if (attrs.fx) {
                            value = -attrs.x - (attrs.width || 0);
                        }
                    case "rx":
                        if (att == "rx" && o.type == "rect") {
                            break;
                        }
                    case "cx":
                        node.setAttribute(att, value);
                        o.pattern && updatePosition(o);
                        o._.dirty = 1;
                        break;
                    case "height":
                        node.setAttribute(att, value);
                        o._.dirty = 1;
                        if (attrs.fy) {
                            att = "y";
                            value = attrs.y;
                        } else {
                            break;
                        }
                    case "y":
                        if (attrs.fy) {
                            value = -attrs.y - (attrs.height || 0);
                        }
                    case "ry":
                        if (att == "ry" && o.type == "rect") {
                            break;
                        }
                    case "cy":
                        node.setAttribute(att, value);
                        o.pattern && updatePosition(o);
                        o._.dirty = 1;
                        break;
                    case "r":
                        if (o.type == "rect") {
                            $(node, {rx: value, ry: value});
                        } else {
                            node.setAttribute(att, value);
                        }
                        o._.dirty = 1;
                        break;
                    case "src":
                        if (o.type == "image") {
                            node.setAttributeNS(xlink, "href", value);
                        }
                        break;
                    case "stroke-width":
                        if (o._.sx != 1 || o._.sy != 1) {
                            value /= mmax(abs(o._.sx), abs(o._.sy)) || 1;
                        }
                        if (o.paper._vbSize) {
                            value *= o.paper._vbSize;
                        }
                        node.setAttribute(att, value);
                        if (attrs["stroke-dasharray"]) {
                            addDashes(o, attrs["stroke-dasharray"], params);
                        }
                        if (o._.arrows) {
                            "startString" in o._.arrows && addArrow(o, o._.arrows.startString);
                            "endString" in o._.arrows && addArrow(o, o._.arrows.endString, 1);
                        }
                        break;
                    case "stroke-dasharray":
                        addDashes(o, value, params);
                        break;
                    case "fill":
                        var isURL = Str(value).match(R._ISURL);
                        if (isURL) {
                            el = $("pattern");
                            var ig = $("image");
                            el.id = R.createUUID();
                            $(el, {x: 0, y: 0, patternUnits: "userSpaceOnUse", height: 1, width: 1});
                            $(ig, {x: 0, y: 0, "xlink:href": isURL[1]});
                            el.appendChild(ig);

                            (function (el) {
                                R._preload(isURL[1], function () {
                                    var w = this.offsetWidth,
                                        h = this.offsetHeight;
                                    $(el, {width: w, height: h});
                                    $(ig, {width: w, height: h});
                                    o.paper.safari();
                                });
                            })(el);
                            o.paper.defs.appendChild(el);
                            $(node, {fill: "url(#" + el.id + ")"});
                            o.pattern = el;
                            o.pattern && updatePosition(o);
                            break;
                        }
                        var clr = R.getRGB(value);
                        if (!clr.error) {
                            delete params.gradient;
                            delete attrs.gradient;
                            !R.is(attrs.opacity, "undefined") &&
                                R.is(params.opacity, "undefined") &&
                                $(node, {opacity: attrs.opacity});
                            !R.is(attrs["fill-opacity"], "undefined") &&
                                R.is(params["fill-opacity"], "undefined") &&
                                $(node, {"fill-opacity": attrs["fill-opacity"]});
                        } else if ((o.type == "circle" || o.type == "ellipse" || Str(value).charAt() != "r") && addGradientFill(o, value)) {
                            if ("opacity" in attrs || "fill-opacity" in attrs) {
                                var gradient = R._g.doc.getElementById(node.getAttribute("fill").replace(/^url\(#|\)$/g, E));
                                if (gradient) {
                                    var stops = gradient.getElementsByTagName("stop");
                                    $(stops[stops.length - 1], {"stop-opacity": ("opacity" in attrs ? attrs.opacity : 1) * ("fill-opacity" in attrs ? attrs["fill-opacity"] : 1)});
                                }
                            }
                            attrs.gradient = value;
                            attrs.fill = "none";
                            break;
                        }
                        clr[has]("opacity") && $(node, {"fill-opacity": clr.opacity > 1 ? clr.opacity / 100 : clr.opacity});
                    case "stroke":
                        clr = R.getRGB(value);
                        node.setAttribute(att, clr.hex);
                        att == "stroke" && clr[has]("opacity") && $(node, {"stroke-opacity": clr.opacity > 1 ? clr.opacity / 100 : clr.opacity});
                        if (att == "stroke" && o._.arrows) {
                            "startString" in o._.arrows && addArrow(o, o._.arrows.startString);
                            "endString" in o._.arrows && addArrow(o, o._.arrows.endString, 1);
                        }
                        break;
                    case "gradient":
                        (o.type == "circle" || o.type == "ellipse" || Str(value).charAt() != "r") && addGradientFill(o, value);
                        break;
                    case "opacity":
                        if (attrs.gradient && !attrs[has]("stroke-opacity")) {
                            $(node, {"stroke-opacity": value > 1 ? value / 100 : value});
                        }
                        // fall
                    case "fill-opacity":
                        if (attrs.gradient) {
                            gradient = R._g.doc.getElementById(node.getAttribute("fill").replace(/^url\(#|\)$/g, E));
                            if (gradient) {
                                stops = gradient.getElementsByTagName("stop");
                                $(stops[stops.length - 1], {"stop-opacity": value});
                            }
                            break;
                        }
                    default:
                        att == "font-size" && (value = toInt(value, 10) + "px");
                        var cssrule = att.replace(/(\-.)/g, function (w) {
                            return w.substring(1).toUpperCase();
                        });
                        node.style[cssrule] = value;
                        o._.dirty = 1;
                        node.setAttribute(att, value);
                        break;
                }
            }
        }

        tuneText(o, params);
        node.style.visibility = vis;
    },
    leading = 1.2,
    tuneText = function (el, params) {
        if (el.type != "text" || !(params[has]("text") || params[has]("font") || params[has]("font-size") || params[has]("x") || params[has]("y"))) {
            return;
        }
        var a = el.attrs,
            node = el.node,
            fontSize = node.firstChild ? toInt(R._g.doc.defaultView.getComputedStyle(node.firstChild, E).getPropertyValue("font-size"), 10) : 10;

        if (params[has]("text")) {
            a.text = params.text;
            while (node.firstChild) {
                node.removeChild(node.firstChild);
            }
            var texts = Str(params.text).split("\n"),
                tspans = [],
                tspan;
            for (var i = 0, ii = texts.length; i < ii; i++) {
                tspan = $("tspan");
                i && $(tspan, {dy: fontSize * leading, x: a.x});
                tspan.appendChild(R._g.doc.createTextNode(texts[i]));
                node.appendChild(tspan);
                tspans[i] = tspan;
            }
        } else {
            tspans = node.getElementsByTagName("tspan");
            for (i = 0, ii = tspans.length; i < ii; i++) if (i) {
                $(tspans[i], {dy: fontSize * leading, x: a.x});
            } else {
                $(tspans[0], {dy: 0});
            }
        }
        $(node, {x: a.x, y: a.y});
        el._.dirty = 1;
        var bb = el._getBBox(),
            dif = a.y - (bb.y + bb.height / 2);
        dif && R.is(dif, "finite") && $(tspans[0], {dy: dif});
    },
    Element = function (node, svg) {
        var X = 0,
            Y = 0;
        
        this[0] = this.node = node;
        
        node.raphael = true;
        
        this.id = R._oid++;
        node.raphaelid = this.id;
        this.matrix = R.matrix();
        this.realPath = null;
        
        this.paper = svg;
        this.attrs = this.attrs || {};
        this._ = {
            transform: [],
            sx: 1,
            sy: 1,
            deg: 0,
            dx: 0,
            dy: 0,
            dirty: 1
        };
        !svg.bottom && (svg.bottom = this);
        
        this.prev = svg.top;
        svg.top && (svg.top.next = this);
        svg.top = this;
        
        this.next = null;
    },
    elproto = R.el;

    Element.prototype = elproto;
    elproto.constructor = Element;

    R._engine.path = function (pathString, SVG) {
        var el = $("path");
        SVG.canvas && SVG.canvas.appendChild(el);
        var p = new Element(el, SVG);
        p.type = "path";
        setFillAndStroke(p, {
            fill: "none",
            stroke: "#000",
            path: pathString
        });
        return p;
    };
    
    elproto.rotate = function (deg, cx, cy) {
        if (this.removed) {
            return this;
        }
        deg = Str(deg).split(separator);
        if (deg.length - 1) {
            cx = toFloat(deg[1]);
            cy = toFloat(deg[2]);
        }
        deg = toFloat(deg[0]);
        (cy == null) && (cx = cy);
        if (cx == null || cy == null) {
            var bbox = this.getBBox(1);
            cx = bbox.x + bbox.width / 2;
            cy = bbox.y + bbox.height / 2;
        }
        this.transform(this._.transform.concat([["r", deg, cx, cy]]));
        return this;
    };
    
    elproto.scale = function (sx, sy, cx, cy) {
        if (this.removed) {
            return this;
        }
        sx = Str(sx).split(separator);
        if (sx.length - 1) {
            sy = toFloat(sx[1]);
            cx = toFloat(sx[2]);
            cy = toFloat(sx[3]);
        }
        sx = toFloat(sx[0]);
        (sy == null) && (sy = sx);
        (cy == null) && (cx = cy);
        if (cx == null || cy == null) {
            var bbox = this.getBBox(1);
        }
        cx = cx == null ? bbox.x + bbox.width / 2 : cx;
        cy = cy == null ? bbox.y + bbox.height / 2 : cy;
        this.transform(this._.transform.concat([["s", sx, sy, cx, cy]]));
        return this;
    };
    
    elproto.translate = function (dx, dy) {
        if (this.removed) {
            return this;
        }
        dx = Str(dx).split(separator);
        if (dx.length - 1) {
            dy = toFloat(dx[1]);
        }
        dx = toFloat(dx[0]) || 0;
        dy = +dy || 0;
        this.transform(this._.transform.concat([["t", dx, dy]]));
        return this;
    };
    
    elproto.transform = function (tstr) {
        var _ = this._;
        if (tstr == null) {
            return _.transform;
        }
        R._extractTransform(this, tstr);

        this.clip && $(this.clip, {transform: this.matrix.invert()});
        this.pattern && updatePosition(this);
        this.node && $(this.node, {transform: this.matrix});
    
        if (_.sx != 1 || _.sy != 1) {
            var sw = this.attrs[has]("stroke-width") ? this.attrs["stroke-width"] : 1;
            this.attr({"stroke-width": sw});
        }

        return this;
    };
    
    elproto.hide = function () {
        !this.removed && this.paper.safari(this.node.style.display = "none");
        return this;
    };
    
    elproto.show = function () {
        !this.removed && this.paper.safari(this.node.style.display = "");
        return this;
    };
    
    elproto.remove = function () {
        if (this.removed || !this.node.parentNode) {
            return;
        }
        var paper = this.paper;
        paper.__set__ && paper.__set__.exclude(this);
        eve.unbind("raphael.*.*." + this.id);
        if (this.gradient) {
            paper.defs.removeChild(this.gradient);
        }
        R._tear(this, paper);
        if (this.node.parentNode.tagName.toLowerCase() == "a") {
            this.node.parentNode.parentNode.removeChild(this.node.parentNode);
        } else {
            this.node.parentNode.removeChild(this.node);
        }
        for (var i in this) {
            this[i] = typeof this[i] == "function" ? R._removedFactory(i) : null;
        }
        this.removed = true;
    };
    elproto._getBBox = function () {
        if (this.node.style.display == "none") {
            this.show();
            var hide = true;
        }
        var bbox = {};
        try {
            bbox = this.node.getBBox();
        } catch(e) {
            // Firefox 3.0.x plays badly here
        } finally {
            bbox = bbox || {};
        }
        hide && this.hide();
        return bbox;
    };
    
    elproto.attr = function (name, value) {
        if (this.removed) {
            return this;
        }
        if (name == null) {
            var res = {};
            for (var a in this.attrs) if (this.attrs[has](a)) {
                res[a] = this.attrs[a];
            }
            res.gradient && res.fill == "none" && (res.fill = res.gradient) && delete res.gradient;
            res.transform = this._.transform;
            return res;
        }
        if (value == null && R.is(name, "string")) {
            if (name == "fill" && this.attrs.fill == "none" && this.attrs.gradient) {
                return this.attrs.gradient;
            }
            if (name == "transform") {
                return this._.transform;
            }
            var names = name.split(separator),
                out = {};
            for (var i = 0, ii = names.length; i < ii; i++) {
                name = names[i];
                if (name in this.attrs) {
                    out[name] = this.attrs[name];
                } else if (R.is(this.paper.customAttributes[name], "function")) {
                    out[name] = this.paper.customAttributes[name].def;
                } else {
                    out[name] = R._availableAttrs[name];
                }
            }
            return ii - 1 ? out : out[names[0]];
        }
        if (value == null && R.is(name, "array")) {
            out = {};
            for (i = 0, ii = name.length; i < ii; i++) {
                out[name[i]] = this.attr(name[i]);
            }
            return out;
        }
        if (value != null) {
            var params = {};
            params[name] = value;
        } else if (name != null && R.is(name, "object")) {
            params = name;
        }
        for (var key in params) {
            eve("raphael.attr." + key + "." + this.id, this, params[key]);
        }
        for (key in this.paper.customAttributes) if (this.paper.customAttributes[has](key) && params[has](key) && R.is(this.paper.customAttributes[key], "function")) {
            var par = this.paper.customAttributes[key].apply(this, [].concat(params[key]));
            this.attrs[key] = params[key];
            for (var subkey in par) if (par[has](subkey)) {
                params[subkey] = par[subkey];
            }
        }
        setFillAndStroke(this, params);
        return this;
    };
    
    elproto.toFront = function () {
        if (this.removed) {
            return this;
        }
        if (this.node.parentNode.tagName.toLowerCase() == "a") {
            this.node.parentNode.parentNode.appendChild(this.node.parentNode);
        } else {
            this.node.parentNode.appendChild(this.node);
        }
        var svg = this.paper;
        svg.top != this && R._tofront(this, svg);
        return this;
    };
    
    elproto.toBack = function () {
        if (this.removed) {
            return this;
        }
        var parent = this.node.parentNode;
        if (parent.tagName.toLowerCase() == "a") {
            parent.parentNode.insertBefore(this.node.parentNode, this.node.parentNode.parentNode.firstChild); 
        } else if (parent.firstChild != this.node) {
            parent.insertBefore(this.node, this.node.parentNode.firstChild);
        }
        R._toback(this, this.paper);
        var svg = this.paper;
        return this;
    };
    
    elproto.insertAfter = function (element) {
        if (this.removed) {
            return this;
        }
        var node = element.node || element[element.length - 1].node;
        if (node.nextSibling) {
            node.parentNode.insertBefore(this.node, node.nextSibling);
        } else {
            node.parentNode.appendChild(this.node);
        }
        R._insertafter(this, element, this.paper);
        return this;
    };
    
    elproto.insertBefore = function (element) {
        if (this.removed) {
            return this;
        }
        var node = element.node || element[0].node;
        node.parentNode.insertBefore(this.node, node);
        R._insertbefore(this, element, this.paper);
        return this;
    };
    elproto.blur = function (size) {
        // Experimental. No Safari support. Use it on your own risk.
        var t = this;
        if (+size !== 0) {
            var fltr = $("filter"),
                blur = $("feGaussianBlur");
            t.attrs.blur = size;
            fltr.id = R.createUUID();
            $(blur, {stdDeviation: +size || 1.5});
            fltr.appendChild(blur);
            t.paper.defs.appendChild(fltr);
            t._blur = fltr;
            $(t.node, {filter: "url(#" + fltr.id + ")"});
        } else {
            if (t._blur) {
                t._blur.parentNode.removeChild(t._blur);
                delete t._blur;
                delete t.attrs.blur;
            }
            t.node.removeAttribute("filter");
        }
    };
    R._engine.circle = function (svg, x, y, r) {
        var el = $("circle");
        svg.canvas && svg.canvas.appendChild(el);
        var res = new Element(el, svg);
        res.attrs = {cx: x, cy: y, r: r, fill: "none", stroke: "#000"};
        res.type = "circle";
        $(el, res.attrs);
        return res;
    };
    R._engine.rect = function (svg, x, y, w, h, r) {
        var el = $("rect");
        svg.canvas && svg.canvas.appendChild(el);
        var res = new Element(el, svg);
        res.attrs = {x: x, y: y, width: w, height: h, r: r || 0, rx: r || 0, ry: r || 0, fill: "none", stroke: "#000"};
        res.type = "rect";
        $(el, res.attrs);
        return res;
    };
    R._engine.ellipse = function (svg, x, y, rx, ry) {
        var el = $("ellipse");
        svg.canvas && svg.canvas.appendChild(el);
        var res = new Element(el, svg);
        res.attrs = {cx: x, cy: y, rx: rx, ry: ry, fill: "none", stroke: "#000"};
        res.type = "ellipse";
        $(el, res.attrs);
        return res;
    };
    R._engine.image = function (svg, src, x, y, w, h) {
        var el = $("image");
        $(el, {x: x, y: y, width: w, height: h, preserveAspectRatio: "none"});
        el.setAttributeNS(xlink, "href", src);
        svg.canvas && svg.canvas.appendChild(el);
        var res = new Element(el, svg);
        res.attrs = {x: x, y: y, width: w, height: h, src: src};
        res.type = "image";
        return res;
    };
    R._engine.text = function (svg, x, y, text) {
        var el = $("text");
        svg.canvas && svg.canvas.appendChild(el);
        var res = new Element(el, svg);
        res.attrs = {
            x: x,
            y: y,
            "text-anchor": "middle",
            text: text,
            font: R._availableAttrs.font,
            stroke: "none",
            fill: "#000"
        };
        res.type = "text";
        setFillAndStroke(res, res.attrs);
        return res;
    };
    R._engine.setSize = function (width, height) {
        this.width = width || this.width;
        this.height = height || this.height;
        this.canvas.setAttribute("width", this.width);
        this.canvas.setAttribute("height", this.height);
        if (this._viewBox) {
            this.setViewBox.apply(this, this._viewBox);
        }
        return this;
    };
    R._engine.create = function () {
        var con = R._getContainer.apply(0, arguments),
            container = con && con.container,
            x = con.x,
            y = con.y,
            width = con.width,
            height = con.height;
        if (!container) {
            throw new Error("SVG container not found.");
        }
        var cnvs = $("svg"),
            css = "overflow:hidden;",
            isFloating;
        x = x || 0;
        y = y || 0;
        width = width || 512;
        height = height || 342;
        $(cnvs, {
            height: height,
            version: 1.1,
            width: width,
            xmlns: "http://www.w3.org/2000/svg"
        });
        if (container == 1) {
            cnvs.style.cssText = css + "position:absolute;left:" + x + "px;top:" + y + "px";
            R._g.doc.body.appendChild(cnvs);
            isFloating = 1;
        } else {
            cnvs.style.cssText = css + "position:relative";
            if (container.firstChild) {
                container.insertBefore(cnvs, container.firstChild);
            } else {
                container.appendChild(cnvs);
            }
        }
        container = new R._Paper;
        container.width = width;
        container.height = height;
        container.canvas = cnvs;
        container.clear();
        container._left = container._top = 0;
        isFloating && (container.renderfix = function () {});
        container.renderfix();
        return container;
    };
    R._engine.setViewBox = function (x, y, w, h, fit) {
        eve("raphael.setViewBox", this, this._viewBox, [x, y, w, h, fit]);
        var size = mmax(w / this.width, h / this.height),
            top = this.top,
            aspectRatio = fit ? "meet" : "xMinYMin",
            vb,
            sw;
        if (x == null) {
            if (this._vbSize) {
                size = 1;
            }
            delete this._vbSize;
            vb = "0 0 " + this.width + S + this.height;
        } else {
            this._vbSize = size;
            vb = x + S + y + S + w + S + h;
        }
        $(this.canvas, {
            viewBox: vb,
            preserveAspectRatio: aspectRatio
        });
        while (size && top) {
            sw = "stroke-width" in top.attrs ? top.attrs["stroke-width"] : 1;
            top.attr({"stroke-width": sw});
            top._.dirty = 1;
            top._.dirtyT = 1;
            top = top.prev;
        }
        this._viewBox = [x, y, w, h, !!fit];
        return this;
    };
    
    R.prototype.renderfix = function () {
        var cnvs = this.canvas,
            s = cnvs.style,
            pos;
        try {
            pos = cnvs.getScreenCTM() || cnvs.createSVGMatrix();
        } catch (e) {
            pos = cnvs.createSVGMatrix();
        }
        var left = -pos.e % 1,
            top = -pos.f % 1;
        if (left || top) {
            if (left) {
                this._left = (this._left + left) % 1;
                s.left = this._left + "px";
            }
            if (top) {
                this._top = (this._top + top) % 1;
                s.top = this._top + "px";
            }
        }
    };
    
    R.prototype.clear = function () {
        R.eve("raphael.clear", this);
        var c = this.canvas;
        while (c.firstChild) {
            c.removeChild(c.firstChild);
        }
        this.bottom = this.top = null;
        (this.desc = $("desc")).appendChild(R._g.doc.createTextNode("Created with Rapha\xebl " + R.version));
        c.appendChild(this.desc);
        c.appendChild(this.defs = $("defs"));
    };
    
    R.prototype.remove = function () {
        eve("raphael.remove", this);
        this.canvas.parentNode && this.canvas.parentNode.removeChild(this.canvas);
        for (var i in this) {
            this[i] = typeof this[i] == "function" ? R._removedFactory(i) : null;
        }
    };
    var setproto = R.st;
    for (var method in elproto) if (elproto[has](method) && !setproto[has](method)) {
        setproto[method] = (function (methodname) {
            return function () {
                var arg = arguments;
                return this.forEach(function (el) {
                    el[methodname].apply(el, arg);
                });
            };
        })(method);
    }
}(window.Raphael);

// ┌─────────────────────────────────────────────────────────────────────┐ \\
// │ Raphaël - JavaScript Vector Library                                 │ \\
// ├─────────────────────────────────────────────────────────────────────┤ \\
// │ VML Module                                                          │ \\
// ├─────────────────────────────────────────────────────────────────────┤ \\
// │ Copyright (c) 2008-2011 Dmitry Baranovskiy (http://raphaeljs.com)   │ \\
// │ Copyright (c) 2008-2011 Sencha Labs (http://sencha.com)             │ \\
// │ Licensed under the MIT (http://raphaeljs.com/license.html) license. │ \\
// └─────────────────────────────────────────────────────────────────────┘ \\
window.Raphael.vml && function (R) {
    var has = "hasOwnProperty",
        Str = String,
        toFloat = parseFloat,
        math = Math,
        round = math.round,
        mmax = math.max,
        mmin = math.min,
        abs = math.abs,
        fillString = "fill",
        separator = /[, ]+/,
        eve = R.eve,
        ms = " progid:DXImageTransform.Microsoft",
        S = " ",
        E = "",
        map = {M: "m", L: "l", C: "c", Z: "x", m: "t", l: "r", c: "v", z: "x"},
        bites = /([clmz]),?([^clmz]*)/gi,
        blurregexp = / progid:\S+Blur\([^\)]+\)/g,
        val = /-?[^,\s-]+/g,
        cssDot = "position:absolute;left:0;top:0;width:1px;height:1px",
        zoom = 21600,
        pathTypes = {path: 1, rect: 1, image: 1},
        ovalTypes = {circle: 1, ellipse: 1},
        path2vml = function (path) {
            var total =  /[ahqstv]/ig,
                command = R._pathToAbsolute;
            Str(path).match(total) && (command = R._path2curve);
            total = /[clmz]/g;
            if (command == R._pathToAbsolute && !Str(path).match(total)) {
                var res = Str(path).replace(bites, function (all, command, args) {
                    var vals = [],
                        isMove = command.toLowerCase() == "m",
                        res = map[command];
                    args.replace(val, function (value) {
                        if (isMove && vals.length == 2) {
                            res += vals + map[command == "m" ? "l" : "L"];
                            vals = [];
                        }
                        vals.push(round(value * zoom));
                    });
                    return res + vals;
                });
                return res;
            }
            var pa = command(path), p, r;
            res = [];
            for (var i = 0, ii = pa.length; i < ii; i++) {
                p = pa[i];
                r = pa[i][0].toLowerCase();
                r == "z" && (r = "x");
                for (var j = 1, jj = p.length; j < jj; j++) {
                    r += round(p[j] * zoom) + (j != jj - 1 ? "," : E);
                }
                res.push(r);
            }
            return res.join(S);
        },
        compensation = function (deg, dx, dy) {
            var m = R.matrix();
            m.rotate(-deg, .5, .5);
            return {
                dx: m.x(dx, dy),
                dy: m.y(dx, dy)
            };
        },
        setCoords = function (p, sx, sy, dx, dy, deg) {
            var _ = p._,
                m = p.matrix,
                fillpos = _.fillpos,
                o = p.node,
                s = o.style,
                y = 1,
                flip = "",
                dxdy,
                kx = zoom / sx,
                ky = zoom / sy;
            s.visibility = "hidden";
            if (!sx || !sy) {
                return;
            }
            o.coordsize = abs(kx) + S + abs(ky);
            s.rotation = deg * (sx * sy < 0 ? -1 : 1);
            if (deg) {
                var c = compensation(deg, dx, dy);
                dx = c.dx;
                dy = c.dy;
            }
            sx < 0 && (flip += "x");
            sy < 0 && (flip += " y") && (y = -1);
            s.flip = flip;
            o.coordorigin = (dx * -kx) + S + (dy * -ky);
            if (fillpos || _.fillsize) {
                var fill = o.getElementsByTagName(fillString);
                fill = fill && fill[0];
                o.removeChild(fill);
                if (fillpos) {
                    c = compensation(deg, m.x(fillpos[0], fillpos[1]), m.y(fillpos[0], fillpos[1]));
                    fill.position = c.dx * y + S + c.dy * y;
                }
                if (_.fillsize) {
                    fill.size = _.fillsize[0] * abs(sx) + S + _.fillsize[1] * abs(sy);
                }
                o.appendChild(fill);
            }
            s.visibility = "visible";
        };
    R.toString = function () {
        return  "Your browser doesn\u2019t support SVG. Falling down to VML.\nYou are running Rapha\xebl " + this.version;
    };
    var addArrow = function (o, value, isEnd) {
        var values = Str(value).toLowerCase().split("-"),
            se = isEnd ? "end" : "start",
            i = values.length,
            type = "classic",
            w = "medium",
            h = "medium";
        while (i--) {
            switch (values[i]) {
                case "block":
                case "classic":
                case "oval":
                case "diamond":
                case "open":
                case "none":
                    type = values[i];
                    break;
                case "wide":
                case "narrow": h = values[i]; break;
                case "long":
                case "short": w = values[i]; break;
            }
        }
        var stroke = o.node.getElementsByTagName("stroke")[0];
        stroke[se + "arrow"] = type;
        stroke[se + "arrowlength"] = w;
        stroke[se + "arrowwidth"] = h;
    },
    setFillAndStroke = function (o, params) {
        // o.paper.canvas.style.display = "none";
        o.attrs = o.attrs || {};
        var node = o.node,
            a = o.attrs,
            s = node.style,
            xy,
            newpath = pathTypes[o.type] && (params.x != a.x || params.y != a.y || params.width != a.width || params.height != a.height || params.cx != a.cx || params.cy != a.cy || params.rx != a.rx || params.ry != a.ry || params.r != a.r),
            isOval = ovalTypes[o.type] && (a.cx != params.cx || a.cy != params.cy || a.r != params.r || a.rx != params.rx || a.ry != params.ry),
            res = o;


        for (var par in params) if (params[has](par)) {
            a[par] = params[par];
        }
        if (newpath) {
            a.path = R._getPath[o.type](o);
            o._.dirty = 1;
        }
        params.href && (node.href = params.href);
        params.title && (node.title = params.title);
        params.target && (node.target = params.target);
        params.cursor && (s.cursor = params.cursor);
        "blur" in params && o.blur(params.blur);
        if (params.path && o.type == "path" || newpath) {
            node.path = path2vml(~Str(a.path).toLowerCase().indexOf("r") ? R._pathToAbsolute(a.path) : a.path);
            if (o.type == "image") {
                o._.fillpos = [a.x, a.y];
                o._.fillsize = [a.width, a.height];
                setCoords(o, 1, 1, 0, 0, 0);
            }
        }
        "transform" in params && o.transform(params.transform);
        if (isOval) {
            var cx = +a.cx,
                cy = +a.cy,
                rx = +a.rx || +a.r || 0,
                ry = +a.ry || +a.r || 0;
            node.path = R.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x", round((cx - rx) * zoom), round((cy - ry) * zoom), round((cx + rx) * zoom), round((cy + ry) * zoom), round(cx * zoom));
        }
        if ("clip-rect" in params) {
            var rect = Str(params["clip-rect"]).split(separator);
            if (rect.length == 4) {
                rect[2] = +rect[2] + (+rect[0]);
                rect[3] = +rect[3] + (+rect[1]);
                var div = node.clipRect || R._g.doc.createElement("div"),
                    dstyle = div.style;
                dstyle.clip = R.format("rect({1}px {2}px {3}px {0}px)", rect);
                if (!node.clipRect) {
                    dstyle.position = "absolute";
                    dstyle.top = 0;
                    dstyle.left = 0;
                    dstyle.width = o.paper.width + "px";
                    dstyle.height = o.paper.height + "px";
                    node.parentNode.insertBefore(div, node);
                    div.appendChild(node);
                    node.clipRect = div;
                }
            }
            if (!params["clip-rect"]) {
                node.clipRect && (node.clipRect.style.clip = "auto");
            }
        }
        if (o.textpath) {
            var textpathStyle = o.textpath.style;
            params.font && (textpathStyle.font = params.font);
            params["font-family"] && (textpathStyle.fontFamily = '"' + params["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g, E) + '"');
            params["font-size"] && (textpathStyle.fontSize = params["font-size"]);
            params["font-weight"] && (textpathStyle.fontWeight = params["font-weight"]);
            params["font-style"] && (textpathStyle.fontStyle = params["font-style"]);
        }
        if ("arrow-start" in params) {
            addArrow(res, params["arrow-start"]);
        }
        if ("arrow-end" in params) {
            addArrow(res, params["arrow-end"], 1);
        }
        if (params.opacity != null || 
            params["stroke-width"] != null ||
            params.fill != null ||
            params.src != null ||
            params.stroke != null ||
            params["stroke-width"] != null ||
            params["stroke-opacity"] != null ||
            params["fill-opacity"] != null ||
            params["stroke-dasharray"] != null ||
            params["stroke-miterlimit"] != null ||
            params["stroke-linejoin"] != null ||
            params["stroke-linecap"] != null) {
            var fill = node.getElementsByTagName(fillString),
                newfill = false;
            fill = fill && fill[0];
            !fill && (newfill = fill = createNode(fillString));
            if (o.type == "image" && params.src) {
                fill.src = params.src;
            }
            params.fill && (fill.on = true);
            if (fill.on == null || params.fill == "none" || params.fill === null) {
                fill.on = false;
            }
            if (fill.on && params.fill) {
                var isURL = Str(params.fill).match(R._ISURL);
                if (isURL) {
                    fill.parentNode == node && node.removeChild(fill);
                    fill.rotate = true;
                    fill.src = isURL[1];
                    fill.type = "tile";
                    var bbox = o.getBBox(1);
                    fill.position = bbox.x + S + bbox.y;
                    o._.fillpos = [bbox.x, bbox.y];

                    R._preload(isURL[1], function () {
                        o._.fillsize = [this.offsetWidth, this.offsetHeight];
                    });
                } else {
                    fill.color = R.getRGB(params.fill).hex;
                    fill.src = E;
                    fill.type = "solid";
                    if (R.getRGB(params.fill).error && (res.type in {circle: 1, ellipse: 1} || Str(params.fill).charAt() != "r") && addGradientFill(res, params.fill, fill)) {
                        a.fill = "none";
                        a.gradient = params.fill;
                        fill.rotate = false;
                    }
                }
            }
            if ("fill-opacity" in params || "opacity" in params) {
                var opacity = ((+a["fill-opacity"] + 1 || 2) - 1) * ((+a.opacity + 1 || 2) - 1) * ((+R.getRGB(params.fill).o + 1 || 2) - 1);
                opacity = mmin(mmax(opacity, 0), 1);
                fill.opacity = opacity;
                if (fill.src) {
                    fill.color = "none";
                }
            }
            node.appendChild(fill);
            var stroke = (node.getElementsByTagName("stroke") && node.getElementsByTagName("stroke")[0]),
            newstroke = false;
            !stroke && (newstroke = stroke = createNode("stroke"));
            if ((params.stroke && params.stroke != "none") ||
                params["stroke-width"] ||
                params["stroke-opacity"] != null ||
                params["stroke-dasharray"] ||
                params["stroke-miterlimit"] ||
                params["stroke-linejoin"] ||
                params["stroke-linecap"]) {
                stroke.on = true;
            }
            (params.stroke == "none" || params.stroke === null || stroke.on == null || params.stroke == 0 || params["stroke-width"] == 0) && (stroke.on = false);
            var strokeColor = R.getRGB(params.stroke);
            stroke.on && params.stroke && (stroke.color = strokeColor.hex);
            opacity = ((+a["stroke-opacity"] + 1 || 2) - 1) * ((+a.opacity + 1 || 2) - 1) * ((+strokeColor.o + 1 || 2) - 1);
            var width = (toFloat(params["stroke-width"]) || 1) * .75;
            opacity = mmin(mmax(opacity, 0), 1);
            params["stroke-width"] == null && (width = a["stroke-width"]);
            params["stroke-width"] && (stroke.weight = width);
            width && width < 1 && (opacity *= width) && (stroke.weight = 1);
            stroke.opacity = opacity;
        
            params["stroke-linejoin"] && (stroke.joinstyle = params["stroke-linejoin"] || "miter");
            stroke.miterlimit = params["stroke-miterlimit"] || 8;
            params["stroke-linecap"] && (stroke.endcap = params["stroke-linecap"] == "butt" ? "flat" : params["stroke-linecap"] == "square" ? "square" : "round");
            if (params["stroke-dasharray"]) {
                var dasharray = {
                    "-": "shortdash",
                    ".": "shortdot",
                    "-.": "shortdashdot",
                    "-..": "shortdashdotdot",
                    ". ": "dot",
                    "- ": "dash",
                    "--": "longdash",
                    "- .": "dashdot",
                    "--.": "longdashdot",
                    "--..": "longdashdotdot"
                };
                stroke.dashstyle = dasharray[has](params["stroke-dasharray"]) ? dasharray[params["stroke-dasharray"]] : E;
            }
            newstroke && node.appendChild(stroke);
        }
        if (res.type == "text") {
            res.paper.canvas.style.display = E;
            var span = res.paper.span,
                m = 100,
                fontSize = a.font && a.font.match(/\d+(?:\.\d*)?(?=px)/);
            s = span.style;
            a.font && (s.font = a.font);
            a["font-family"] && (s.fontFamily = a["font-family"]);
            a["font-weight"] && (s.fontWeight = a["font-weight"]);
            a["font-style"] && (s.fontStyle = a["font-style"]);
            fontSize = toFloat(a["font-size"] || fontSize && fontSize[0]) || 10;
            s.fontSize = fontSize * m + "px";
            res.textpath.string && (span.innerHTML = Str(res.textpath.string).replace(/</g, "&#60;").replace(/&/g, "&#38;").replace(/\n/g, "<br>"));
            var brect = span.getBoundingClientRect();
            res.W = a.w = (brect.right - brect.left) / m;
            res.H = a.h = (brect.bottom - brect.top) / m;
            // res.paper.canvas.style.display = "none";
            res.X = a.x;
            res.Y = a.y + res.H / 2;

            ("x" in params || "y" in params) && (res.path.v = R.format("m{0},{1}l{2},{1}", round(a.x * zoom), round(a.y * zoom), round(a.x * zoom) + 1));
            var dirtyattrs = ["x", "y", "text", "font", "font-family", "font-weight", "font-style", "font-size"];
            for (var d = 0, dd = dirtyattrs.length; d < dd; d++) if (dirtyattrs[d] in params) {
                res._.dirty = 1;
                break;
            }
        
            // text-anchor emulation
            switch (a["text-anchor"]) {
                case "start":
                    res.textpath.style["v-text-align"] = "left";
                    res.bbx = res.W / 2;
                break;
                case "end":
                    res.textpath.style["v-text-align"] = "right";
                    res.bbx = -res.W / 2;
                break;
                default:
                    res.textpath.style["v-text-align"] = "center";
                    res.bbx = 0;
                break;
            }
            res.textpath.style["v-text-kern"] = true;
        }
        // res.paper.canvas.style.display = E;
    },
    addGradientFill = function (o, gradient, fill) {
        o.attrs = o.attrs || {};
        var attrs = o.attrs,
            pow = Math.pow,
            opacity,
            oindex,
            type = "linear",
            fxfy = ".5 .5";
        o.attrs.gradient = gradient;
        gradient = Str(gradient).replace(R._radial_gradient, function (all, fx, fy) {
            type = "radial";
            if (fx && fy) {
                fx = toFloat(fx);
                fy = toFloat(fy);
                pow(fx - .5, 2) + pow(fy - .5, 2) > .25 && (fy = math.sqrt(.25 - pow(fx - .5, 2)) * ((fy > .5) * 2 - 1) + .5);
                fxfy = fx + S + fy;
            }
            return E;
        });
        gradient = gradient.split(/\s*\-\s*/);
        if (type == "linear") {
            var angle = gradient.shift();
            angle = -toFloat(angle);
            if (isNaN(angle)) {
                return null;
            }
        }
        var dots = R._parseDots(gradient);
        if (!dots) {
            return null;
        }
        o = o.shape || o.node;
        if (dots.length) {
            o.removeChild(fill);
            fill.on = true;
            fill.method = "none";
            fill.color = dots[0].color;
            fill.color2 = dots[dots.length - 1].color;
            var clrs = [];
            for (var i = 0, ii = dots.length; i < ii; i++) {
                dots[i].offset && clrs.push(dots[i].offset + S + dots[i].color);
            }
            fill.colors = clrs.length ? clrs.join() : "0% " + fill.color;
            if (type == "radial") {
                fill.type = "gradientTitle";
                fill.focus = "100%";
                fill.focussize = "0 0";
                fill.focusposition = fxfy;
                fill.angle = 0;
            } else {
                // fill.rotate= true;
                fill.type = "gradient";
                fill.angle = (270 - angle) % 360;
            }
            o.appendChild(fill);
        }
        return 1;
    },
    Element = function (node, vml) {
        this[0] = this.node = node;
        node.raphael = true;
        this.id = R._oid++;
        node.raphaelid = this.id;
        this.X = 0;
        this.Y = 0;
        this.attrs = {};
        this.paper = vml;
        this.matrix = R.matrix();
        this._ = {
            transform: [],
            sx: 1,
            sy: 1,
            dx: 0,
            dy: 0,
            deg: 0,
            dirty: 1,
            dirtyT: 1
        };
        !vml.bottom && (vml.bottom = this);
        this.prev = vml.top;
        vml.top && (vml.top.next = this);
        vml.top = this;
        this.next = null;
    };
    var elproto = R.el;

    Element.prototype = elproto;
    elproto.constructor = Element;
    elproto.transform = function (tstr) {
        if (tstr == null) {
            return this._.transform;
        }
        var vbs = this.paper._viewBoxShift,
            vbt = vbs ? "s" + [vbs.scale, vbs.scale] + "-1-1t" + [vbs.dx, vbs.dy] : E,
            oldt;
        if (vbs) {
            oldt = tstr = Str(tstr).replace(/\.{3}|\u2026/g, this._.transform || E);
        }
        R._extractTransform(this, vbt + tstr);
        var matrix = this.matrix.clone(),
            skew = this.skew,
            o = this.node,
            split,
            isGrad = ~Str(this.attrs.fill).indexOf("-"),
            isPatt = !Str(this.attrs.fill).indexOf("url(");
        matrix.translate(-.5, -.5);
        if (isPatt || isGrad || this.type == "image") {
            skew.matrix = "1 0 0 1";
            skew.offset = "0 0";
            split = matrix.split();
            if ((isGrad && split.noRotation) || !split.isSimple) {
                o.style.filter = matrix.toFilter();
                var bb = this.getBBox(),
                    bbt = this.getBBox(1),
                    dx = bb.x - bbt.x,
                    dy = bb.y - bbt.y;
                o.coordorigin = (dx * -zoom) + S + (dy * -zoom);
                setCoords(this, 1, 1, dx, dy, 0);
            } else {
                o.style.filter = E;
                setCoords(this, split.scalex, split.scaley, split.dx, split.dy, split.rotate);
            }
        } else {
            o.style.filter = E;
            skew.matrix = Str(matrix);
            skew.offset = matrix.offset();
        }
        oldt && (this._.transform = oldt);
        return this;
    };
    elproto.rotate = function (deg, cx, cy) {
        if (this.removed) {
            return this;
        }
        if (deg == null) {
            return;
        }
        deg = Str(deg).split(separator);
        if (deg.length - 1) {
            cx = toFloat(deg[1]);
            cy = toFloat(deg[2]);
        }
        deg = toFloat(deg[0]);
        (cy == null) && (cx = cy);
        if (cx == null || cy == null) {
            var bbox = this.getBBox(1);
            cx = bbox.x + bbox.width / 2;
            cy = bbox.y + bbox.height / 2;
        }
        this._.dirtyT = 1;
        this.transform(this._.transform.concat([["r", deg, cx, cy]]));
        return this;
    };
    elproto.translate = function (dx, dy) {
        if (this.removed) {
            return this;
        }
        dx = Str(dx).split(separator);
        if (dx.length - 1) {
            dy = toFloat(dx[1]);
        }
        dx = toFloat(dx[0]) || 0;
        dy = +dy || 0;
        if (this._.bbox) {
            this._.bbox.x += dx;
            this._.bbox.y += dy;
        }
        this.transform(this._.transform.concat([["t", dx, dy]]));
        return this;
    };
    elproto.scale = function (sx, sy, cx, cy) {
        if (this.removed) {
            return this;
        }
        sx = Str(sx).split(separator);
        if (sx.length - 1) {
            sy = toFloat(sx[1]);
            cx = toFloat(sx[2]);
            cy = toFloat(sx[3]);
            isNaN(cx) && (cx = null);
            isNaN(cy) && (cy = null);
        }
        sx = toFloat(sx[0]);
        (sy == null) && (sy = sx);
        (cy == null) && (cx = cy);
        if (cx == null || cy == null) {
            var bbox = this.getBBox(1);
        }
        cx = cx == null ? bbox.x + bbox.width / 2 : cx;
        cy = cy == null ? bbox.y + bbox.height / 2 : cy;
    
        this.transform(this._.transform.concat([["s", sx, sy, cx, cy]]));
        this._.dirtyT = 1;
        return this;
    };
    elproto.hide = function () {
        !this.removed && (this.node.style.display = "none");
        return this;
    };
    elproto.show = function () {
        !this.removed && (this.node.style.display = E);
        return this;
    };
    elproto._getBBox = function () {
        if (this.removed) {
            return {};
        }
        return {
            x: this.X + (this.bbx || 0) - this.W / 2,
            y: this.Y - this.H,
            width: this.W,
            height: this.H
        };
    };
    elproto.remove = function () {
        if (this.removed || !this.node.parentNode) {
            return;
        }
        this.paper.__set__ && this.paper.__set__.exclude(this);
        R.eve.unbind("raphael.*.*." + this.id);
        R._tear(this, this.paper);
        this.node.parentNode.removeChild(this.node);
        this.shape && this.shape.parentNode.removeChild(this.shape);
        for (var i in this) {
            this[i] = typeof this[i] == "function" ? R._removedFactory(i) : null;
        }
        this.removed = true;
    };
    elproto.attr = function (name, value) {
        if (this.removed) {
            return this;
        }
        if (name == null) {
            var res = {};
            for (var a in this.attrs) if (this.attrs[has](a)) {
                res[a] = this.attrs[a];
            }
            res.gradient && res.fill == "none" && (res.fill = res.gradient) && delete res.gradient;
            res.transform = this._.transform;
            return res;
        }
        if (value == null && R.is(name, "string")) {
            if (name == fillString && this.attrs.fill == "none" && this.attrs.gradient) {
                return this.attrs.gradient;
            }
            var names = name.split(separator),
                out = {};
            for (var i = 0, ii = names.length; i < ii; i++) {
                name = names[i];
                if (name in this.attrs) {
                    out[name] = this.attrs[name];
                } else if (R.is(this.paper.customAttributes[name], "function")) {
                    out[name] = this.paper.customAttributes[name].def;
                } else {
                    out[name] = R._availableAttrs[name];
                }
            }
            return ii - 1 ? out : out[names[0]];
        }
        if (this.attrs && value == null && R.is(name, "array")) {
            out = {};
            for (i = 0, ii = name.length; i < ii; i++) {
                out[name[i]] = this.attr(name[i]);
            }
            return out;
        }
        var params;
        if (value != null) {
            params = {};
            params[name] = value;
        }
        value == null && R.is(name, "object") && (params = name);
        for (var key in params) {
            eve("raphael.attr." + key + "." + this.id, this, params[key]);
        }
        if (params) {
            for (key in this.paper.customAttributes) if (this.paper.customAttributes[has](key) && params[has](key) && R.is(this.paper.customAttributes[key], "function")) {
                var par = this.paper.customAttributes[key].apply(this, [].concat(params[key]));
                this.attrs[key] = params[key];
                for (var subkey in par) if (par[has](subkey)) {
                    params[subkey] = par[subkey];
                }
            }
            // this.paper.canvas.style.display = "none";
            if (params.text && this.type == "text") {
                this.textpath.string = params.text;
            }
            setFillAndStroke(this, params);
            // this.paper.canvas.style.display = E;
        }
        return this;
    };
    elproto.toFront = function () {
        !this.removed && this.node.parentNode.appendChild(this.node);
        this.paper && this.paper.top != this && R._tofront(this, this.paper);
        return this;
    };
    elproto.toBack = function () {
        if (this.removed) {
            return this;
        }
        if (this.node.parentNode.firstChild != this.node) {
            this.node.parentNode.insertBefore(this.node, this.node.parentNode.firstChild);
            R._toback(this, this.paper);
        }
        return this;
    };
    elproto.insertAfter = function (element) {
        if (this.removed) {
            return this;
        }
        if (element.constructor == R.st.constructor) {
            element = element[element.length - 1];
        }
        if (element.node.nextSibling) {
            element.node.parentNode.insertBefore(this.node, element.node.nextSibling);
        } else {
            element.node.parentNode.appendChild(this.node);
        }
        R._insertafter(this, element, this.paper);
        return this;
    };
    elproto.insertBefore = function (element) {
        if (this.removed) {
            return this;
        }
        if (element.constructor == R.st.constructor) {
            element = element[0];
        }
        element.node.parentNode.insertBefore(this.node, element.node);
        R._insertbefore(this, element, this.paper);
        return this;
    };
    elproto.blur = function (size) {
        var s = this.node.runtimeStyle,
            f = s.filter;
        f = f.replace(blurregexp, E);
        if (+size !== 0) {
            this.attrs.blur = size;
            s.filter = f + S + ms + ".Blur(pixelradius=" + (+size || 1.5) + ")";
            s.margin = R.format("-{0}px 0 0 -{0}px", round(+size || 1.5));
        } else {
            s.filter = f;
            s.margin = 0;
            delete this.attrs.blur;
        }
    };

    R._engine.path = function (pathString, vml) {
        var el = createNode("shape");
        el.style.cssText = cssDot;
        el.coordsize = zoom + S + zoom;
        el.coordorigin = vml.coordorigin;
        var p = new Element(el, vml),
            attr = {fill: "none", stroke: "#000"};
        pathString && (attr.path = pathString);
        p.type = "path";
        p.path = [];
        p.Path = E;
        setFillAndStroke(p, attr);
        vml.canvas.appendChild(el);
        var skew = createNode("skew");
        skew.on = true;
        el.appendChild(skew);
        p.skew = skew;
        p.transform(E);
        return p;
    };
    R._engine.rect = function (vml, x, y, w, h, r) {
        var path = R._rectPath(x, y, w, h, r),
            res = vml.path(path),
            a = res.attrs;
        res.X = a.x = x;
        res.Y = a.y = y;
        res.W = a.width = w;
        res.H = a.height = h;
        a.r = r;
        a.path = path;
        res.type = "rect";
        return res;
    };
    R._engine.ellipse = function (vml, x, y, rx, ry) {
        var res = vml.path(),
            a = res.attrs;
        res.X = x - rx;
        res.Y = y - ry;
        res.W = rx * 2;
        res.H = ry * 2;
        res.type = "ellipse";
        setFillAndStroke(res, {
            cx: x,
            cy: y,
            rx: rx,
            ry: ry
        });
        return res;
    };
    R._engine.circle = function (vml, x, y, r) {
        var res = vml.path(),
            a = res.attrs;
        res.X = x - r;
        res.Y = y - r;
        res.W = res.H = r * 2;
        res.type = "circle";
        setFillAndStroke(res, {
            cx: x,
            cy: y,
            r: r
        });
        return res;
    };
    R._engine.image = function (vml, src, x, y, w, h) {
        var path = R._rectPath(x, y, w, h),
            res = vml.path(path).attr({stroke: "none"}),
            a = res.attrs,
            node = res.node,
            fill = node.getElementsByTagName(fillString)[0];
        a.src = src;
        res.X = a.x = x;
        res.Y = a.y = y;
        res.W = a.width = w;
        res.H = a.height = h;
        a.path = path;
        res.type = "image";
        fill.parentNode == node && node.removeChild(fill);
        fill.rotate = true;
        fill.src = src;
        fill.type = "tile";
        res._.fillpos = [x, y];
        res._.fillsize = [w, h];
        node.appendChild(fill);
        setCoords(res, 1, 1, 0, 0, 0);
        return res;
    };
    R._engine.text = function (vml, x, y, text) {
        var el = createNode("shape"),
            path = createNode("path"),
            o = createNode("textpath");
        x = x || 0;
        y = y || 0;
        text = text || "";
        path.v = R.format("m{0},{1}l{2},{1}", round(x * zoom), round(y * zoom), round(x * zoom) + 1);
        path.textpathok = true;
        o.string = Str(text);
        o.on = true;
        el.style.cssText = cssDot;
        el.coordsize = zoom + S + zoom;
        el.coordorigin = "0 0";
        var p = new Element(el, vml),
            attr = {
                fill: "#000",
                stroke: "none",
                font: R._availableAttrs.font,
                text: text
            };
        p.shape = el;
        p.path = path;
        p.textpath = o;
        p.type = "text";
        p.attrs.text = Str(text);
        p.attrs.x = x;
        p.attrs.y = y;
        p.attrs.w = 1;
        p.attrs.h = 1;
        setFillAndStroke(p, attr);
        el.appendChild(o);
        el.appendChild(path);
        vml.canvas.appendChild(el);
        var skew = createNode("skew");
        skew.on = true;
        el.appendChild(skew);
        p.skew = skew;
        p.transform(E);
        return p;
    };
    R._engine.setSize = function (width, height) {
        var cs = this.canvas.style;
        this.width = width;
        this.height = height;
        width == +width && (width += "px");
        height == +height && (height += "px");
        cs.width = width;
        cs.height = height;
        cs.clip = "rect(0 " + width + " " + height + " 0)";
        if (this._viewBox) {
            R._engine.setViewBox.apply(this, this._viewBox);
        }
        return this;
    };
    R._engine.setViewBox = function (x, y, w, h, fit) {
        R.eve("raphael.setViewBox", this, this._viewBox, [x, y, w, h, fit]);
        var width = this.width,
            height = this.height,
            size = 1 / mmax(w / width, h / height),
            H, W;
        if (fit) {
            H = height / h;
            W = width / w;
            if (w * H < width) {
                x -= (width - w * H) / 2 / H;
            }
            if (h * W < height) {
                y -= (height - h * W) / 2 / W;
            }
        }
        this._viewBox = [x, y, w, h, !!fit];
        this._viewBoxShift = {
            dx: -x,
            dy: -y,
            scale: size
        };
        this.forEach(function (el) {
            el.transform("...");
        });
        return this;
    };
    var createNode;
    R._engine.initWin = function (win) {
            var doc = win.document;
            doc.createStyleSheet().addRule(".rvml", "behavior:url(#default#VML)");
            try {
                !doc.namespaces.rvml && doc.namespaces.add("rvml", "urn:schemas-microsoft-com:vml");
                createNode = function (tagName) {
                    return doc.createElement('<rvml:' + tagName + ' class="rvml">');
                };
            } catch (e) {
                createNode = function (tagName) {
                    return doc.createElement('<' + tagName + ' xmlns="urn:schemas-microsoft.com:vml" class="rvml">');
                };
            }
        };
    R._engine.initWin(R._g.win);
    R._engine.create = function () {
        var con = R._getContainer.apply(0, arguments),
            container = con.container,
            height = con.height,
            s,
            width = con.width,
            x = con.x,
            y = con.y;
        if (!container) {
            throw new Error("VML container not found.");
        }
        var res = new R._Paper,
            c = res.canvas = R._g.doc.createElement("div"),
            cs = c.style;
        x = x || 0;
        y = y || 0;
        width = width || 512;
        height = height || 342;
        res.width = width;
        res.height = height;
        width == +width && (width += "px");
        height == +height && (height += "px");
        res.coordsize = zoom * 1e3 + S + zoom * 1e3;
        res.coordorigin = "0 0";
        res.span = R._g.doc.createElement("span");
        res.span.style.cssText = "position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;";
        c.appendChild(res.span);
        cs.cssText = R.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden", width, height);
        if (container == 1) {
            R._g.doc.body.appendChild(c);
            cs.left = x + "px";
            cs.top = y + "px";
            cs.position = "absolute";
        } else {
            if (container.firstChild) {
                container.insertBefore(c, container.firstChild);
            } else {
                container.appendChild(c);
            }
        }
        res.renderfix = function () {};
        return res;
    };
    R.prototype.clear = function () {
        R.eve("raphael.clear", this);
        this.canvas.innerHTML = E;
        this.span = R._g.doc.createElement("span");
        this.span.style.cssText = "position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";
        this.canvas.appendChild(this.span);
        this.bottom = this.top = null;
    };
    R.prototype.remove = function () {
        R.eve("raphael.remove", this);
        this.canvas.parentNode.removeChild(this.canvas);
        for (var i in this) {
            this[i] = typeof this[i] == "function" ? R._removedFactory(i) : null;
        }
        return true;
    };

    var setproto = R.st;
    for (var method in elproto) if (elproto[has](method) && !setproto[has](method)) {
        setproto[method] = (function (methodname) {
            return function () {
                var arg = arguments;
                return this.forEach(function (el) {
                    el[methodname].apply(el, arg);
                });
            };
        })(method);
    }
}(window.Raphael);
/*! Hammer.JS - v2.0.4 - 2014-09-28
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2014 Jorik Tangelder;
 * Licensed under the MIT license */
!function(a,b,c,d){"use strict";function e(a,b,c){return setTimeout(k(a,c),b)}function f(a,b,c){return Array.isArray(a)?(g(a,c[b],c),!0):!1}function g(a,b,c){var e;if(a)if(a.forEach)a.forEach(b,c);else if(a.length!==d)for(e=0;e<a.length;)b.call(c,a[e],e,a),e++;else for(e in a)a.hasOwnProperty(e)&&b.call(c,a[e],e,a)}function h(a,b,c){for(var e=Object.keys(b),f=0;f<e.length;)(!c||c&&a[e[f]]===d)&&(a[e[f]]=b[e[f]]),f++;return a}function i(a,b){return h(a,b,!0)}function j(a,b,c){var d,e=b.prototype;d=a.prototype=Object.create(e),d.constructor=a,d._super=e,c&&h(d,c)}function k(a,b){return function(){return a.apply(b,arguments)}}function l(a,b){return typeof a==kb?a.apply(b?b[0]||d:d,b):a}function m(a,b){return a===d?b:a}function n(a,b,c){g(r(b),function(b){a.addEventListener(b,c,!1)})}function o(a,b,c){g(r(b),function(b){a.removeEventListener(b,c,!1)})}function p(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1}function q(a,b){return a.indexOf(b)>-1}function r(a){return a.trim().split(/\s+/g)}function s(a,b,c){if(a.indexOf&&!c)return a.indexOf(b);for(var d=0;d<a.length;){if(c&&a[d][c]==b||!c&&a[d]===b)return d;d++}return-1}function t(a){return Array.prototype.slice.call(a,0)}function u(a,b,c){for(var d=[],e=[],f=0;f<a.length;){var g=b?a[f][b]:a[f];s(e,g)<0&&d.push(a[f]),e[f]=g,f++}return c&&(d=b?d.sort(function(a,c){return a[b]>c[b]}):d.sort()),d}function v(a,b){for(var c,e,f=b[0].toUpperCase()+b.slice(1),g=0;g<ib.length;){if(c=ib[g],e=c?c+f:b,e in a)return e;g++}return d}function w(){return ob++}function x(a){var b=a.ownerDocument;return b.defaultView||b.parentWindow}function y(a,b){var c=this;this.manager=a,this.callback=b,this.element=a.element,this.target=a.options.inputTarget,this.domHandler=function(b){l(a.options.enable,[a])&&c.handler(b)},this.init()}function z(a){var b,c=a.options.inputClass;return new(b=c?c:rb?N:sb?Q:qb?S:M)(a,A)}function A(a,b,c){var d=c.pointers.length,e=c.changedPointers.length,f=b&yb&&d-e===0,g=b&(Ab|Bb)&&d-e===0;c.isFirst=!!f,c.isFinal=!!g,f&&(a.session={}),c.eventType=b,B(a,c),a.emit("hammer.input",c),a.recognize(c),a.session.prevInput=c}function B(a,b){var c=a.session,d=b.pointers,e=d.length;c.firstInput||(c.firstInput=E(b)),e>1&&!c.firstMultiple?c.firstMultiple=E(b):1===e&&(c.firstMultiple=!1);var f=c.firstInput,g=c.firstMultiple,h=g?g.center:f.center,i=b.center=F(d);b.timeStamp=nb(),b.deltaTime=b.timeStamp-f.timeStamp,b.angle=J(h,i),b.distance=I(h,i),C(c,b),b.offsetDirection=H(b.deltaX,b.deltaY),b.scale=g?L(g.pointers,d):1,b.rotation=g?K(g.pointers,d):0,D(c,b);var j=a.element;p(b.srcEvent.target,j)&&(j=b.srcEvent.target),b.target=j}function C(a,b){var c=b.center,d=a.offsetDelta||{},e=a.prevDelta||{},f=a.prevInput||{};(b.eventType===yb||f.eventType===Ab)&&(e=a.prevDelta={x:f.deltaX||0,y:f.deltaY||0},d=a.offsetDelta={x:c.x,y:c.y}),b.deltaX=e.x+(c.x-d.x),b.deltaY=e.y+(c.y-d.y)}function D(a,b){var c,e,f,g,h=a.lastInterval||b,i=b.timeStamp-h.timeStamp;if(b.eventType!=Bb&&(i>xb||h.velocity===d)){var j=h.deltaX-b.deltaX,k=h.deltaY-b.deltaY,l=G(i,j,k);e=l.x,f=l.y,c=mb(l.x)>mb(l.y)?l.x:l.y,g=H(j,k),a.lastInterval=b}else c=h.velocity,e=h.velocityX,f=h.velocityY,g=h.direction;b.velocity=c,b.velocityX=e,b.velocityY=f,b.direction=g}function E(a){for(var b=[],c=0;c<a.pointers.length;)b[c]={clientX:lb(a.pointers[c].clientX),clientY:lb(a.pointers[c].clientY)},c++;return{timeStamp:nb(),pointers:b,center:F(b),deltaX:a.deltaX,deltaY:a.deltaY}}function F(a){var b=a.length;if(1===b)return{x:lb(a[0].clientX),y:lb(a[0].clientY)};for(var c=0,d=0,e=0;b>e;)c+=a[e].clientX,d+=a[e].clientY,e++;return{x:lb(c/b),y:lb(d/b)}}function G(a,b,c){return{x:b/a||0,y:c/a||0}}function H(a,b){return a===b?Cb:mb(a)>=mb(b)?a>0?Db:Eb:b>0?Fb:Gb}function I(a,b,c){c||(c=Kb);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return Math.sqrt(d*d+e*e)}function J(a,b,c){c||(c=Kb);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return 180*Math.atan2(e,d)/Math.PI}function K(a,b){return J(b[1],b[0],Lb)-J(a[1],a[0],Lb)}function L(a,b){return I(b[0],b[1],Lb)/I(a[0],a[1],Lb)}function M(){this.evEl=Nb,this.evWin=Ob,this.allow=!0,this.pressed=!1,y.apply(this,arguments)}function N(){this.evEl=Rb,this.evWin=Sb,y.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function O(){this.evTarget=Ub,this.evWin=Vb,this.started=!1,y.apply(this,arguments)}function P(a,b){var c=t(a.touches),d=t(a.changedTouches);return b&(Ab|Bb)&&(c=u(c.concat(d),"identifier",!0)),[c,d]}function Q(){this.evTarget=Xb,this.targetIds={},y.apply(this,arguments)}function R(a,b){var c=t(a.touches),d=this.targetIds;if(b&(yb|zb)&&1===c.length)return d[c[0].identifier]=!0,[c,c];var e,f,g=t(a.changedTouches),h=[],i=this.target;if(f=c.filter(function(a){return p(a.target,i)}),b===yb)for(e=0;e<f.length;)d[f[e].identifier]=!0,e++;for(e=0;e<g.length;)d[g[e].identifier]&&h.push(g[e]),b&(Ab|Bb)&&delete d[g[e].identifier],e++;return h.length?[u(f.concat(h),"identifier",!0),h]:void 0}function S(){y.apply(this,arguments);var a=k(this.handler,this);this.touch=new Q(this.manager,a),this.mouse=new M(this.manager,a)}function T(a,b){this.manager=a,this.set(b)}function U(a){if(q(a,bc))return bc;var b=q(a,cc),c=q(a,dc);return b&&c?cc+" "+dc:b||c?b?cc:dc:q(a,ac)?ac:_b}function V(a){this.id=w(),this.manager=null,this.options=i(a||{},this.defaults),this.options.enable=m(this.options.enable,!0),this.state=ec,this.simultaneous={},this.requireFail=[]}function W(a){return a&jc?"cancel":a&hc?"end":a&gc?"move":a&fc?"start":""}function X(a){return a==Gb?"down":a==Fb?"up":a==Db?"left":a==Eb?"right":""}function Y(a,b){var c=b.manager;return c?c.get(a):a}function Z(){V.apply(this,arguments)}function $(){Z.apply(this,arguments),this.pX=null,this.pY=null}function _(){Z.apply(this,arguments)}function ab(){V.apply(this,arguments),this._timer=null,this._input=null}function bb(){Z.apply(this,arguments)}function cb(){Z.apply(this,arguments)}function db(){V.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function eb(a,b){return b=b||{},b.recognizers=m(b.recognizers,eb.defaults.preset),new fb(a,b)}function fb(a,b){b=b||{},this.options=i(b,eb.defaults),this.options.inputTarget=this.options.inputTarget||a,this.handlers={},this.session={},this.recognizers=[],this.element=a,this.input=z(this),this.touchAction=new T(this,this.options.touchAction),gb(this,!0),g(b.recognizers,function(a){var b=this.add(new a[0](a[1]));a[2]&&b.recognizeWith(a[2]),a[3]&&b.requireFailure(a[3])},this)}function gb(a,b){var c=a.element;g(a.options.cssProps,function(a,d){c.style[v(c.style,d)]=b?a:""})}function hb(a,c){var d=b.createEvent("Event");d.initEvent(a,!0,!0),d.gesture=c,c.target.dispatchEvent(d)}var ib=["","webkit","moz","MS","ms","o"],jb=b.createElement("div"),kb="function",lb=Math.round,mb=Math.abs,nb=Date.now,ob=1,pb=/mobile|tablet|ip(ad|hone|od)|android/i,qb="ontouchstart"in a,rb=v(a,"PointerEvent")!==d,sb=qb&&pb.test(navigator.userAgent),tb="touch",ub="pen",vb="mouse",wb="kinect",xb=25,yb=1,zb=2,Ab=4,Bb=8,Cb=1,Db=2,Eb=4,Fb=8,Gb=16,Hb=Db|Eb,Ib=Fb|Gb,Jb=Hb|Ib,Kb=["x","y"],Lb=["clientX","clientY"];y.prototype={handler:function(){},init:function(){this.evEl&&n(this.element,this.evEl,this.domHandler),this.evTarget&&n(this.target,this.evTarget,this.domHandler),this.evWin&&n(x(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&o(this.element,this.evEl,this.domHandler),this.evTarget&&o(this.target,this.evTarget,this.domHandler),this.evWin&&o(x(this.element),this.evWin,this.domHandler)}};var Mb={mousedown:yb,mousemove:zb,mouseup:Ab},Nb="mousedown",Ob="mousemove mouseup";j(M,y,{handler:function(a){var b=Mb[a.type];b&yb&&0===a.button&&(this.pressed=!0),b&zb&&1!==a.which&&(b=Ab),this.pressed&&this.allow&&(b&Ab&&(this.pressed=!1),this.callback(this.manager,b,{pointers:[a],changedPointers:[a],pointerType:vb,srcEvent:a}))}});var Pb={pointerdown:yb,pointermove:zb,pointerup:Ab,pointercancel:Bb,pointerout:Bb},Qb={2:tb,3:ub,4:vb,5:wb},Rb="pointerdown",Sb="pointermove pointerup pointercancel";a.MSPointerEvent&&(Rb="MSPointerDown",Sb="MSPointerMove MSPointerUp MSPointerCancel"),j(N,y,{handler:function(a){var b=this.store,c=!1,d=a.type.toLowerCase().replace("ms",""),e=Pb[d],f=Qb[a.pointerType]||a.pointerType,g=f==tb,h=s(b,a.pointerId,"pointerId");e&yb&&(0===a.button||g)?0>h&&(b.push(a),h=b.length-1):e&(Ab|Bb)&&(c=!0),0>h||(b[h]=a,this.callback(this.manager,e,{pointers:b,changedPointers:[a],pointerType:f,srcEvent:a}),c&&b.splice(h,1))}});var Tb={touchstart:yb,touchmove:zb,touchend:Ab,touchcancel:Bb},Ub="touchstart",Vb="touchstart touchmove touchend touchcancel";j(O,y,{handler:function(a){var b=Tb[a.type];if(b===yb&&(this.started=!0),this.started){var c=P.call(this,a,b);b&(Ab|Bb)&&c[0].length-c[1].length===0&&(this.started=!1),this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:tb,srcEvent:a})}}});var Wb={touchstart:yb,touchmove:zb,touchend:Ab,touchcancel:Bb},Xb="touchstart touchmove touchend touchcancel";j(Q,y,{handler:function(a){var b=Wb[a.type],c=R.call(this,a,b);c&&this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:tb,srcEvent:a})}}),j(S,y,{handler:function(a,b,c){var d=c.pointerType==tb,e=c.pointerType==vb;if(d)this.mouse.allow=!1;else if(e&&!this.mouse.allow)return;b&(Ab|Bb)&&(this.mouse.allow=!0),this.callback(a,b,c)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Yb=v(jb.style,"touchAction"),Zb=Yb!==d,$b="compute",_b="auto",ac="manipulation",bc="none",cc="pan-x",dc="pan-y";T.prototype={set:function(a){a==$b&&(a=this.compute()),Zb&&(this.manager.element.style[Yb]=a),this.actions=a.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var a=[];return g(this.manager.recognizers,function(b){l(b.options.enable,[b])&&(a=a.concat(b.getTouchAction()))}),U(a.join(" "))},preventDefaults:function(a){if(!Zb){var b=a.srcEvent,c=a.offsetDirection;if(this.manager.session.prevented)return void b.preventDefault();var d=this.actions,e=q(d,bc),f=q(d,dc),g=q(d,cc);return e||f&&c&Hb||g&&c&Ib?this.preventSrc(b):void 0}},preventSrc:function(a){this.manager.session.prevented=!0,a.preventDefault()}};var ec=1,fc=2,gc=4,hc=8,ic=hc,jc=16,kc=32;V.prototype={defaults:{},set:function(a){return h(this.options,a),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(a){if(f(a,"recognizeWith",this))return this;var b=this.simultaneous;return a=Y(a,this),b[a.id]||(b[a.id]=a,a.recognizeWith(this)),this},dropRecognizeWith:function(a){return f(a,"dropRecognizeWith",this)?this:(a=Y(a,this),delete this.simultaneous[a.id],this)},requireFailure:function(a){if(f(a,"requireFailure",this))return this;var b=this.requireFail;return a=Y(a,this),-1===s(b,a)&&(b.push(a),a.requireFailure(this)),this},dropRequireFailure:function(a){if(f(a,"dropRequireFailure",this))return this;a=Y(a,this);var b=s(this.requireFail,a);return b>-1&&this.requireFail.splice(b,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(a){return!!this.simultaneous[a.id]},emit:function(a){function b(b){c.manager.emit(c.options.event+(b?W(d):""),a)}var c=this,d=this.state;hc>d&&b(!0),b(),d>=hc&&b(!0)},tryEmit:function(a){return this.canEmit()?this.emit(a):void(this.state=kc)},canEmit:function(){for(var a=0;a<this.requireFail.length;){if(!(this.requireFail[a].state&(kc|ec)))return!1;a++}return!0},recognize:function(a){var b=h({},a);return l(this.options.enable,[this,b])?(this.state&(ic|jc|kc)&&(this.state=ec),this.state=this.process(b),void(this.state&(fc|gc|hc|jc)&&this.tryEmit(b))):(this.reset(),void(this.state=kc))},process:function(){},getTouchAction:function(){},reset:function(){}},j(Z,V,{defaults:{pointers:1},attrTest:function(a){var b=this.options.pointers;return 0===b||a.pointers.length===b},process:function(a){var b=this.state,c=a.eventType,d=b&(fc|gc),e=this.attrTest(a);return d&&(c&Bb||!e)?b|jc:d||e?c&Ab?b|hc:b&fc?b|gc:fc:kc}}),j($,Z,{defaults:{event:"pan",threshold:10,pointers:1,direction:Jb},getTouchAction:function(){var a=this.options.direction,b=[];return a&Hb&&b.push(dc),a&Ib&&b.push(cc),b},directionTest:function(a){var b=this.options,c=!0,d=a.distance,e=a.direction,f=a.deltaX,g=a.deltaY;return e&b.direction||(b.direction&Hb?(e=0===f?Cb:0>f?Db:Eb,c=f!=this.pX,d=Math.abs(a.deltaX)):(e=0===g?Cb:0>g?Fb:Gb,c=g!=this.pY,d=Math.abs(a.deltaY))),a.direction=e,c&&d>b.threshold&&e&b.direction},attrTest:function(a){return Z.prototype.attrTest.call(this,a)&&(this.state&fc||!(this.state&fc)&&this.directionTest(a))},emit:function(a){this.pX=a.deltaX,this.pY=a.deltaY;var b=X(a.direction);b&&this.manager.emit(this.options.event+b,a),this._super.emit.call(this,a)}}),j(_,Z,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[bc]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.scale-1)>this.options.threshold||this.state&fc)},emit:function(a){if(this._super.emit.call(this,a),1!==a.scale){var b=a.scale<1?"in":"out";this.manager.emit(this.options.event+b,a)}}}),j(ab,V,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[_b]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime>b.time;if(this._input=a,!d||!c||a.eventType&(Ab|Bb)&&!f)this.reset();else if(a.eventType&yb)this.reset(),this._timer=e(function(){this.state=ic,this.tryEmit()},b.time,this);else if(a.eventType&Ab)return ic;return kc},reset:function(){clearTimeout(this._timer)},emit:function(a){this.state===ic&&(a&&a.eventType&Ab?this.manager.emit(this.options.event+"up",a):(this._input.timeStamp=nb(),this.manager.emit(this.options.event,this._input)))}}),j(bb,Z,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[bc]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.rotation)>this.options.threshold||this.state&fc)}}),j(cb,Z,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:Hb|Ib,pointers:1},getTouchAction:function(){return $.prototype.getTouchAction.call(this)},attrTest:function(a){var b,c=this.options.direction;return c&(Hb|Ib)?b=a.velocity:c&Hb?b=a.velocityX:c&Ib&&(b=a.velocityY),this._super.attrTest.call(this,a)&&c&a.direction&&a.distance>this.options.threshold&&mb(b)>this.options.velocity&&a.eventType&Ab},emit:function(a){var b=X(a.direction);b&&this.manager.emit(this.options.event+b,a),this.manager.emit(this.options.event,a)}}),j(db,V,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[ac]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime<b.time;if(this.reset(),a.eventType&yb&&0===this.count)return this.failTimeout();if(d&&f&&c){if(a.eventType!=Ab)return this.failTimeout();var g=this.pTime?a.timeStamp-this.pTime<b.interval:!0,h=!this.pCenter||I(this.pCenter,a.center)<b.posThreshold;this.pTime=a.timeStamp,this.pCenter=a.center,h&&g?this.count+=1:this.count=1,this._input=a;var i=this.count%b.taps;if(0===i)return this.hasRequireFailures()?(this._timer=e(function(){this.state=ic,this.tryEmit()},b.interval,this),fc):ic}return kc},failTimeout:function(){return this._timer=e(function(){this.state=kc},this.options.interval,this),kc},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==ic&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),eb.VERSION="2.0.4",eb.defaults={domEvents:!1,touchAction:$b,enable:!0,inputTarget:null,inputClass:null,preset:[[bb,{enable:!1}],[_,{enable:!1},["rotate"]],[cb,{direction:Hb}],[$,{direction:Hb},["swipe"]],[db],[db,{event:"doubletap",taps:2},["tap"]],[ab]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var lc=1,mc=2;fb.prototype={set:function(a){return h(this.options,a),a.touchAction&&this.touchAction.update(),a.inputTarget&&(this.input.destroy(),this.input.target=a.inputTarget,this.input.init()),this},stop:function(a){this.session.stopped=a?mc:lc},recognize:function(a){var b=this.session;if(!b.stopped){this.touchAction.preventDefaults(a);var c,d=this.recognizers,e=b.curRecognizer;(!e||e&&e.state&ic)&&(e=b.curRecognizer=null);for(var f=0;f<d.length;)c=d[f],b.stopped===mc||e&&c!=e&&!c.canRecognizeWith(e)?c.reset():c.recognize(a),!e&&c.state&(fc|gc|hc)&&(e=b.curRecognizer=c),f++}},get:function(a){if(a instanceof V)return a;for(var b=this.recognizers,c=0;c<b.length;c++)if(b[c].options.event==a)return b[c];return null},add:function(a){if(f(a,"add",this))return this;var b=this.get(a.options.event);return b&&this.remove(b),this.recognizers.push(a),a.manager=this,this.touchAction.update(),a},remove:function(a){if(f(a,"remove",this))return this;var b=this.recognizers;return a=this.get(a),b.splice(s(b,a),1),this.touchAction.update(),this},on:function(a,b){var c=this.handlers;return g(r(a),function(a){c[a]=c[a]||[],c[a].push(b)}),this},off:function(a,b){var c=this.handlers;return g(r(a),function(a){b?c[a].splice(s(c[a],b),1):delete c[a]}),this},emit:function(a,b){this.options.domEvents&&hb(a,b);var c=this.handlers[a]&&this.handlers[a].slice();if(c&&c.length){b.type=a,b.preventDefault=function(){b.srcEvent.preventDefault()};for(var d=0;d<c.length;)c[d](b),d++}},destroy:function(){this.element&&gb(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},h(eb,{INPUT_START:yb,INPUT_MOVE:zb,INPUT_END:Ab,INPUT_CANCEL:Bb,STATE_POSSIBLE:ec,STATE_BEGAN:fc,STATE_CHANGED:gc,STATE_ENDED:hc,STATE_RECOGNIZED:ic,STATE_CANCELLED:jc,STATE_FAILED:kc,DIRECTION_NONE:Cb,DIRECTION_LEFT:Db,DIRECTION_RIGHT:Eb,DIRECTION_UP:Fb,DIRECTION_DOWN:Gb,DIRECTION_HORIZONTAL:Hb,DIRECTION_VERTICAL:Ib,DIRECTION_ALL:Jb,Manager:fb,Input:y,TouchAction:T,TouchInput:Q,MouseInput:M,PointerEventInput:N,TouchMouseInput:S,SingleTouchInput:O,Recognizer:V,AttrRecognizer:Z,Tap:db,Pan:$,Swipe:cb,Pinch:_,Rotate:bb,Press:ab,on:n,off:o,each:g,merge:i,extend:h,inherit:j,bindFn:k,prefixed:v}),typeof define==kb&&define.amd?define(function(){return eb}):"undefined"!=typeof module&&module.exports?module.exports=eb:a[c]=eb}(window,document,"Hammer");
/* CodeMirror - Minified & Bundled
   Generated on 3/30/2015 with http://codemirror.net/doc/compress.html
   Version: 4.7

   CodeMirror Library:
   - codemirror.js
   Modes:
   - clike.js
 */

!function(a){if("object"==typeof exports&&"object"==typeof module)module.exports=a();else{if("function"==typeof define&&define.amd)return define([],a);this.CodeMirror=a()}}(function(){"use strict";function w(a,b){if(!(this instanceof w))return new w(a,b);this.options=b=b?Og(b):{},Og(ie,b,!1),K(b);var c=b.value;"string"==typeof c&&(c=new Jf(c,b.mode)),this.doc=c;var f=this.display=new x(a,c);f.wrapper.CodeMirror=this,G(this),E(this),b.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),b.autofocus&&!o&&ad(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,draggingText:!1,highlight:new Eg},d&&11>e&&setTimeout(Pg(_c,this,!0),20),dd(this),gh(),Bc(this),this.curOp.forceUpdate=!0,Nf(this,c),b.autofocus&&!o||_g()==f.input?setTimeout(Pg(Hd,this),20):Id(this);for(var g in je)je.hasOwnProperty(g)&&je[g](this,b[g],le);Q(this);for(var h=0;h<pe.length;++h)pe[h](this);Dc(this)}function x(a,b){var c=this,g=c.input=Wg("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none");f?g.style.width="1000px":g.setAttribute("wrap","off"),n&&(g.style.border="1px solid black"),g.setAttribute("autocorrect","off"),g.setAttribute("autocapitalize","off"),g.setAttribute("spellcheck","false"),c.inputDiv=Wg("div",[g],null,"overflow: hidden; position: relative; width: 3px; height: 0px;"),c.scrollbarH=Wg("div",[Wg("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar"),c.scrollbarV=Wg("div",[Wg("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),c.scrollbarFiller=Wg("div",null,"CodeMirror-scrollbar-filler"),c.gutterFiller=Wg("div",null,"CodeMirror-gutter-filler"),c.lineDiv=Wg("div",null,"CodeMirror-code"),c.selectionDiv=Wg("div",null,null,"position: relative; z-index: 1"),c.cursorDiv=Wg("div",null,"CodeMirror-cursors"),c.measure=Wg("div",null,"CodeMirror-measure"),c.lineMeasure=Wg("div",null,"CodeMirror-measure"),c.lineSpace=Wg("div",[c.measure,c.lineMeasure,c.selectionDiv,c.cursorDiv,c.lineDiv],null,"position: relative; outline: none"),c.mover=Wg("div",[Wg("div",[c.lineSpace],"CodeMirror-lines")],null,"position: relative"),c.sizer=Wg("div",[c.mover],"CodeMirror-sizer"),c.heightForcer=Wg("div",null,null,"position: absolute; height: "+zg+"px; width: 1px;"),c.gutters=Wg("div",null,"CodeMirror-gutters"),c.lineGutter=null,c.scroller=Wg("div",[c.sizer,c.heightForcer,c.gutters],"CodeMirror-scroll"),c.scroller.setAttribute("tabIndex","-1"),c.wrapper=Wg("div",[c.inputDiv,c.scrollbarH,c.scrollbarV,c.scrollbarFiller,c.gutterFiller,c.scroller],"CodeMirror"),d&&8>e&&(c.gutters.style.zIndex=-1,c.scroller.style.paddingRight=0),n&&(g.style.width="0px"),f||(c.scroller.draggable=!0),k&&(c.inputDiv.style.height="1px",c.inputDiv.style.position="absolute"),d&&8>e&&(c.scrollbarH.style.minHeight=c.scrollbarV.style.minWidth="18px"),a.appendChild?a.appendChild(c.wrapper):a(c.wrapper),c.viewFrom=c.viewTo=b.first,c.view=[],c.externalMeasured=null,c.viewOffset=0,c.lastSizeC=0,c.updateLineNumbers=null,c.lineNumWidth=c.lineNumInnerWidth=c.lineNumChars=null,c.prevInput="",c.alignWidgets=!1,c.pollingFast=!1,c.poll=new Eg,c.cachedCharWidth=c.cachedTextHeight=c.cachedPaddingH=null,c.inaccurateSelection=!1,c.maxLine=null,c.maxLineLength=0,c.maxLineChanged=!1,c.wheelDX=c.wheelDY=c.wheelStartX=c.wheelStartY=null,c.shift=!1,c.selForContextMenu=null}function y(a){a.doc.mode=w.getMode(a.options,a.doc.modeOption),z(a)}function z(a){a.doc.iter(function(a){a.stateAfter&&(a.stateAfter=null),a.styles&&(a.styles=null)}),a.doc.frontier=a.doc.first,Ub(a,100),a.state.modeGen++,a.curOp&&Qc(a)}function A(a){a.options.lineWrapping?(ch(a.display.wrapper,"CodeMirror-wrap"),a.display.sizer.style.minWidth=""):(bh(a.display.wrapper,"CodeMirror-wrap"),J(a)),C(a),Qc(a),lc(a),setTimeout(function(){N(a)},100)}function B(a){var b=xc(a.display),c=a.options.lineWrapping,d=c&&Math.max(5,a.display.scroller.clientWidth/yc(a.display)-3);return function(e){if(df(a.doc,e))return 0;var f=0;if(e.widgets)for(var g=0;g<e.widgets.length;g++)e.widgets[g].height&&(f+=e.widgets[g].height);return c?f+(Math.ceil(e.text.length/d)||1)*b:f+b}}function C(a){var b=a.doc,c=B(a);b.iter(function(a){var b=c(a);b!=a.height&&Rf(a,b)})}function D(a){var b=ue[a.options.keyMap],c=b.style;a.display.wrapper.className=a.display.wrapper.className.replace(/\s*cm-keymap-\S+/g,"")+(c?" cm-keymap-"+c:"")}function E(a){a.display.wrapper.className=a.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+a.options.theme.replace(/(^|\s)\s*/g," cm-s-"),lc(a)}function F(a){G(a),Qc(a),setTimeout(function(){P(a)},20)}function G(a){var b=a.display.gutters,c=a.options.gutters;Yg(b);for(var d=0;d<c.length;++d){var e=c[d],f=b.appendChild(Wg("div",null,"CodeMirror-gutter "+e));"CodeMirror-linenumbers"==e&&(a.display.lineGutter=f,f.style.width=(a.display.lineNumWidth||1)+"px")}b.style.display=d?"":"none",H(a)}function H(a){var b=a.display.gutters.offsetWidth;a.display.sizer.style.marginLeft=b+"px",a.display.scrollbarH.style.left=a.options.fixedGutter?b+"px":0}function I(a){if(0==a.height)return 0;for(var c,b=a.text.length,d=a;c=Ye(d);){var e=c.find(0,!0);d=e.from.line,b+=e.from.ch-e.to.ch}for(d=a;c=Ze(d);){var e=c.find(0,!0);b-=d.text.length-e.from.ch,d=e.to.line,b+=d.text.length-e.to.ch}return b}function J(a){var b=a.display,c=a.doc;b.maxLine=Of(c,c.first),b.maxLineLength=I(b.maxLine),b.maxLineChanged=!0,c.iter(function(a){var c=I(a);c>b.maxLineLength&&(b.maxLineLength=c,b.maxLine=a)})}function K(a){var b=Lg(a.gutters,"CodeMirror-linenumbers");-1==b&&a.lineNumbers?a.gutters=a.gutters.concat(["CodeMirror-linenumbers"]):b>-1&&!a.lineNumbers&&(a.gutters=a.gutters.slice(0),a.gutters.splice(b,1))}function L(a){return a.display.scroller.clientHeight-a.display.wrapper.clientHeight<zg-3}function M(a){var b=a.display.scroller;return{clientHeight:b.clientHeight,barHeight:a.display.scrollbarV.clientHeight,scrollWidth:b.scrollWidth,clientWidth:b.clientWidth,hScrollbarTakesSpace:L(a),barWidth:a.display.scrollbarH.clientWidth,docHeight:Math.round(a.doc.height+Zb(a.display))}}function N(a,b){b||(b=M(a));var c=a.display,d=kh(c.measure),e=b.docHeight+zg,f=b.scrollWidth>b.clientWidth;f&&b.scrollWidth<=b.clientWidth+1&&d>0&&!b.hScrollbarTakesSpace&&(f=!1);var g=e>b.clientHeight;if(g?(c.scrollbarV.style.display="block",c.scrollbarV.style.bottom=f?d+"px":"0",c.scrollbarV.firstChild.style.height=Math.max(0,e-b.clientHeight+(b.barHeight||c.scrollbarV.clientHeight))+"px"):(c.scrollbarV.style.display="",c.scrollbarV.firstChild.style.height="0"),f?(c.scrollbarH.style.display="block",c.scrollbarH.style.right=g?d+"px":"0",c.scrollbarH.firstChild.style.width=b.scrollWidth-b.clientWidth+(b.barWidth||c.scrollbarH.clientWidth)+"px"):(c.scrollbarH.style.display="",c.scrollbarH.firstChild.style.width="0"),f&&g?(c.scrollbarFiller.style.display="block",c.scrollbarFiller.style.height=c.scrollbarFiller.style.width=d+"px"):c.scrollbarFiller.style.display="",f&&a.options.coverGutterNextToScrollbar&&a.options.fixedGutter?(c.gutterFiller.style.display="block",c.gutterFiller.style.height=d+"px",c.gutterFiller.style.width=c.gutters.offsetWidth+"px"):c.gutterFiller.style.display="",!a.state.checkedOverlayScrollbar&&b.clientHeight>0){if(0===d){var h=p&&!l?"12px":"18px";c.scrollbarV.style.minWidth=c.scrollbarH.style.minHeight=h;var i=function(b){ng(b)!=c.scrollbarV&&ng(b)!=c.scrollbarH&&Lc(a,hd)(b)};pg(c.scrollbarV,"mousedown",i),pg(c.scrollbarH,"mousedown",i)}a.state.checkedOverlayScrollbar=!0}}function O(a,b,c){var d=c&&null!=c.top?Math.max(0,c.top):a.scroller.scrollTop;d=Math.floor(d-Yb(a));var e=c&&null!=c.bottom?c.bottom:d+a.wrapper.clientHeight,f=Tf(b,d),g=Tf(b,e);if(c&&c.ensure){var h=c.ensure.from.line,i=c.ensure.to.line;if(f>h)return{from:h,to:Tf(b,Uf(Of(b,h))+a.wrapper.clientHeight)};if(Math.min(i,b.lastLine())>=g)return{from:Tf(b,Uf(Of(b,i))-a.wrapper.clientHeight),to:i}}return{from:f,to:Math.max(g,f+1)}}function P(a){var b=a.display,c=b.view;if(b.alignWidgets||b.gutters.firstChild&&a.options.fixedGutter){for(var d=S(b)-b.scroller.scrollLeft+a.doc.scrollLeft,e=b.gutters.offsetWidth,f=d+"px",g=0;g<c.length;g++)if(!c[g].hidden){a.options.fixedGutter&&c[g].gutter&&(c[g].gutter.style.left=f);var h=c[g].alignable;if(h)for(var i=0;i<h.length;i++)h[i].style.left=f}a.options.fixedGutter&&(b.gutters.style.left=d+e+"px")}}function Q(a){if(!a.options.lineNumbers)return!1;var b=a.doc,c=R(a.options,b.first+b.size-1),d=a.display;if(c.length!=d.lineNumChars){var e=d.measure.appendChild(Wg("div",[Wg("div",c)],"CodeMirror-linenumber CodeMirror-gutter-elt")),f=e.firstChild.offsetWidth,g=e.offsetWidth-f;return d.lineGutter.style.width="",d.lineNumInnerWidth=Math.max(f,d.lineGutter.offsetWidth-g),d.lineNumWidth=d.lineNumInnerWidth+g,d.lineNumChars=d.lineNumInnerWidth?c.length:-1,d.lineGutter.style.width=d.lineNumWidth+"px",H(a),!0}return!1}function R(a,b){return String(a.lineNumberFormatter(b+a.firstLineNumber))}function S(a){return a.scroller.getBoundingClientRect().left-a.sizer.getBoundingClientRect().left}function T(a,b,c){var d=a.display;this.viewport=b,this.visible=O(d,a.doc,b),this.editorIsHidden=!d.wrapper.offsetWidth,this.wrapperHeight=d.wrapper.clientHeight,this.oldViewFrom=d.viewFrom,this.oldViewTo=d.viewTo,this.oldScrollerWidth=d.scroller.clientWidth,this.force=c,this.dims=_(a)}function U(a,b){var c=a.display,d=a.doc;if(b.editorIsHidden)return Sc(a),!1;if(!b.force&&b.visible.from>=c.viewFrom&&b.visible.to<=c.viewTo&&(null==c.updateLineNumbers||c.updateLineNumbers>=c.viewTo)&&0==Wc(a))return!1;Q(a)&&(Sc(a),b.dims=_(a));var e=d.first+d.size,f=Math.max(b.visible.from-a.options.viewportMargin,d.first),g=Math.min(e,b.visible.to+a.options.viewportMargin);c.viewFrom<f&&f-c.viewFrom<20&&(f=Math.max(d.first,c.viewFrom)),c.viewTo>g&&c.viewTo-g<20&&(g=Math.min(e,c.viewTo)),v&&(f=bf(a.doc,f),g=cf(a.doc,g));var h=f!=c.viewFrom||g!=c.viewTo||c.lastSizeC!=b.wrapperHeight;Vc(a,f,g),c.viewOffset=Uf(Of(a.doc,c.viewFrom)),a.display.mover.style.top=c.viewOffset+"px";var i=Wc(a);if(!h&&0==i&&!b.force&&(null==c.updateLineNumbers||c.updateLineNumbers>=c.viewTo))return!1;var j=_g();return i>4&&(c.lineDiv.style.display="none"),ab(a,c.updateLineNumbers,b.dims),i>4&&(c.lineDiv.style.display=""),j&&_g()!=j&&j.offsetHeight&&j.focus(),Yg(c.cursorDiv),Yg(c.selectionDiv),h&&(c.lastSizeC=b.wrapperHeight,Ub(a,400)),c.updateLineNumbers=null,!0}function V(a,b){for(var c=b.force,d=b.viewport,e=!0;;e=!1){if(e&&a.options.lineWrapping&&b.oldScrollerWidth!=a.display.scroller.clientWidth)c=!0;else if(c=!1,d&&null!=d.top&&(d={top:Math.min(a.doc.height+Zb(a.display)-zg-a.display.scroller.clientHeight,d.top)}),b.visible=O(a.display,a.doc,d),b.visible.from>=a.display.viewFrom&&b.visible.to<=a.display.viewTo)break;if(!U(a,b))break;Z(a);var f=M(a);Qb(a),X(a,f),N(a,f)}tg(a,"update",a),(a.display.viewFrom!=b.oldViewFrom||a.display.viewTo!=b.oldViewTo)&&tg(a,"viewportChange",a,a.display.viewFrom,a.display.viewTo)}function W(a,b){var c=new T(a,b);if(U(a,c)){Z(a),V(a,c);var d=M(a);Qb(a),X(a,d),N(a,d)}}function X(a,b){a.display.sizer.style.minHeight=a.display.heightForcer.style.top=b.docHeight+"px",a.display.gutters.style.height=Math.max(b.docHeight,b.clientHeight-zg)+"px"}function Y(a,b){a.display.sizer.offsetWidth+a.display.gutters.offsetWidth<a.display.scroller.clientWidth-1&&(a.display.sizer.style.minHeight=a.display.heightForcer.style.top="0px",a.display.gutters.style.height=b.docHeight+"px")}function Z(a){for(var b=a.display,c=b.lineDiv.offsetTop,f=0;f<b.view.length;f++){var h,g=b.view[f];if(!g.hidden){if(d&&8>e){var i=g.node.offsetTop+g.node.offsetHeight;h=i-c,c=i}else{var j=g.node.getBoundingClientRect();h=j.bottom-j.top}var k=g.line.height-h;if(2>h&&(h=xc(b)),(k>.001||-.001>k)&&(Rf(g.line,h),$(g.line),g.rest))for(var l=0;l<g.rest.length;l++)$(g.rest[l])}}}function $(a){if(a.widgets)for(var b=0;b<a.widgets.length;++b)a.widgets[b].height=a.widgets[b].node.offsetHeight}function _(a){for(var b=a.display,c={},d={},e=b.gutters.clientLeft,f=b.gutters.firstChild,g=0;f;f=f.nextSibling,++g)c[a.options.gutters[g]]=f.offsetLeft+f.clientLeft+e,d[a.options.gutters[g]]=f.clientWidth;return{fixedPos:S(b),gutterTotalWidth:b.gutters.offsetWidth,gutterLeft:c,gutterWidth:d,wrapperWidth:b.wrapper.clientWidth}}function ab(a,b,c){function i(b){var c=b.nextSibling;return f&&p&&a.display.currentWheelTarget==b?b.style.display="none":b.parentNode.removeChild(b),c}for(var d=a.display,e=a.options.lineNumbers,g=d.lineDiv,h=g.firstChild,j=d.view,k=d.viewFrom,l=0;l<j.length;l++){var m=j[l];if(m.hidden);else if(m.node){for(;h!=m.node;)h=i(h);var o=e&&null!=b&&k>=b&&m.lineNumber;m.changes&&(Lg(m.changes,"gutter")>-1&&(o=!1),bb(a,m,k,c)),o&&(Yg(m.lineNumber),m.lineNumber.appendChild(document.createTextNode(R(a.options,k)))),h=m.node.nextSibling}else{var n=jb(a,m,k,c);g.insertBefore(n,h)}k+=m.size}for(;h;)h=i(h)}function bb(a,b,c,d){for(var e=0;e<b.changes.length;e++){var f=b.changes[e];"text"==f?fb(a,b):"gutter"==f?hb(a,b,c,d):"class"==f?gb(b):"widget"==f&&ib(b,d)}b.changes=null}function cb(a){return a.node==a.text&&(a.node=Wg("div",null,null,"position: relative"),a.text.parentNode&&a.text.parentNode.replaceChild(a.node,a.text),a.node.appendChild(a.text),d&&8>e&&(a.node.style.zIndex=2)),a.node}function db(a){var b=a.bgClass?a.bgClass+" "+(a.line.bgClass||""):a.line.bgClass;if(b&&(b+=" CodeMirror-linebackground"),a.background)b?a.background.className=b:(a.background.parentNode.removeChild(a.background),a.background=null);else if(b){var c=cb(a);a.background=c.insertBefore(Wg("div",null,b),c.firstChild)}}function eb(a,b){var c=a.display.externalMeasured;return c&&c.line==b.line?(a.display.externalMeasured=null,b.measure=c.measure,c.built):xf(a,b)}function fb(a,b){var c=b.text.className,d=eb(a,b);b.text==b.node&&(b.node=d.pre),b.text.parentNode.replaceChild(d.pre,b.text),b.text=d.pre,d.bgClass!=b.bgClass||d.textClass!=b.textClass?(b.bgClass=d.bgClass,b.textClass=d.textClass,gb(b)):c&&(b.text.className=c)}function gb(a){db(a),a.line.wrapClass?cb(a).className=a.line.wrapClass:a.node!=a.text&&(a.node.className="");var b=a.textClass?a.textClass+" "+(a.line.textClass||""):a.line.textClass;a.text.className=b||""}function hb(a,b,c,d){b.gutter&&(b.node.removeChild(b.gutter),b.gutter=null);var e=b.line.gutterMarkers;if(a.options.lineNumbers||e){var f=cb(b),g=b.gutter=f.insertBefore(Wg("div",null,"CodeMirror-gutter-wrapper","position: absolute; left: "+(a.options.fixedGutter?d.fixedPos:-d.gutterTotalWidth)+"px"),b.text);if(!a.options.lineNumbers||e&&e["CodeMirror-linenumbers"]||(b.lineNumber=g.appendChild(Wg("div",R(a.options,c),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+d.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+a.display.lineNumInnerWidth+"px"))),e)for(var h=0;h<a.options.gutters.length;++h){var i=a.options.gutters[h],j=e.hasOwnProperty(i)&&e[i];j&&g.appendChild(Wg("div",[j],"CodeMirror-gutter-elt","left: "+d.gutterLeft[i]+"px; width: "+d.gutterWidth[i]+"px"))}}}function ib(a,b){a.alignable&&(a.alignable=null);for(var d,c=a.node.firstChild;c;c=d){var d=c.nextSibling;"CodeMirror-linewidget"==c.className&&a.node.removeChild(c)}kb(a,b)}function jb(a,b,c,d){var e=eb(a,b);return b.text=b.node=e.pre,e.bgClass&&(b.bgClass=e.bgClass),e.textClass&&(b.textClass=e.textClass),gb(b),hb(a,b,c,d),kb(b,d),b.node}function kb(a,b){if(lb(a.line,a,b,!0),a.rest)for(var c=0;c<a.rest.length;c++)lb(a.rest[c],a,b,!1)}function lb(a,b,c,d){if(a.widgets)for(var e=cb(b),f=0,g=a.widgets;f<g.length;++f){var h=g[f],i=Wg("div",[h.node],"CodeMirror-linewidget");h.handleMouseEvents||(i.ignoreEvents=!0),mb(h,i,b,c),d&&h.above?e.insertBefore(i,b.gutter||b.text):e.appendChild(i),tg(h,"redraw")}}function mb(a,b,c,d){if(a.noHScroll){(c.alignable||(c.alignable=[])).push(b);var e=d.wrapperWidth;b.style.left=d.fixedPos+"px",a.coverGutter||(e-=d.gutterTotalWidth,b.style.paddingLeft=d.gutterTotalWidth+"px"),b.style.width=e+"px"}a.coverGutter&&(b.style.zIndex=5,b.style.position="relative",a.noHScroll||(b.style.marginLeft=-d.gutterTotalWidth+"px"))}function pb(a){return nb(a.line,a.ch)}function qb(a,b){return ob(a,b)<0?b:a}function rb(a,b){return ob(a,b)<0?a:b}function sb(a,b){this.ranges=a,this.primIndex=b}function tb(a,b){this.anchor=a,this.head=b}function ub(a,b){var c=a[b];a.sort(function(a,b){return ob(a.from(),b.from())}),b=Lg(a,c);for(var d=1;d<a.length;d++){var e=a[d],f=a[d-1];if(ob(f.to(),e.from())>=0){var g=rb(f.from(),e.from()),h=qb(f.to(),e.to()),i=f.empty()?e.from()==e.head:f.from()==f.head;b>=d&&--b,a.splice(--d,2,new tb(i?h:g,i?g:h))}}return new sb(a,b)}function vb(a,b){return new sb([new tb(a,b||a)],0)}function wb(a,b){return Math.max(a.first,Math.min(b,a.first+a.size-1))}function xb(a,b){if(b.line<a.first)return nb(a.first,0);var c=a.first+a.size-1;return b.line>c?nb(c,Of(a,c).text.length):yb(b,Of(a,b.line).text.length)}function yb(a,b){var c=a.ch;return null==c||c>b?nb(a.line,b):0>c?nb(a.line,0):a}function zb(a,b){return b>=a.first&&b<a.first+a.size}function Ab(a,b){for(var c=[],d=0;d<b.length;d++)c[d]=xb(a,b[d]);return c}function Bb(a,b,c,d){if(a.cm&&a.cm.display.shift||a.extend){var e=b.anchor;if(d){var f=ob(c,e)<0;f!=ob(d,e)<0?(e=c,c=d):f!=ob(c,d)<0&&(c=d)}return new tb(e,c)}return new tb(d||c,c)}function Cb(a,b,c,d){Ib(a,new sb([Bb(a,a.sel.primary(),b,c)],0),d)}function Db(a,b,c){for(var d=[],e=0;e<a.sel.ranges.length;e++)d[e]=Bb(a,a.sel.ranges[e],b[e],null);var f=ub(d,a.sel.primIndex);Ib(a,f,c)}function Eb(a,b,c,d){var e=a.sel.ranges.slice(0);e[b]=c,Ib(a,ub(e,a.sel.primIndex),d)}function Fb(a,b,c,d){Ib(a,vb(b,c),d)}function Gb(a,b){var c={ranges:b.ranges,update:function(b){this.ranges=[];for(var c=0;c<b.length;c++)this.ranges[c]=new tb(xb(a,b[c].anchor),xb(a,b[c].head))}};return rg(a,"beforeSelectionChange",a,c),a.cm&&rg(a.cm,"beforeSelectionChange",a.cm,c),c.ranges!=b.ranges?ub(c.ranges,c.ranges.length-1):b}function Hb(a,b,c){var d=a.history.done,e=Jg(d);e&&e.ranges?(d[d.length-1]=b,Jb(a,b,c)):Ib(a,b,c)}function Ib(a,b,c){Jb(a,b,c),ag(a,a.sel,a.cm?a.cm.curOp.id:0/0,c)}function Jb(a,b,c){(xg(a,"beforeSelectionChange")||a.cm&&xg(a.cm,"beforeSelectionChange"))&&(b=Gb(a,b));var d=c&&c.bias||(ob(b.primary().head,a.sel.primary().head)<0?-1:1);Kb(a,Mb(a,b,d,!0)),c&&c.scroll===!1||!a.cm||be(a.cm)}function Kb(a,b){b.equals(a.sel)||(a.sel=b,a.cm&&(a.cm.curOp.updateInput=a.cm.curOp.selectionChanged=!0,wg(a.cm)),tg(a,"cursorActivity",a))}function Lb(a){Kb(a,Mb(a,a.sel,null,!1),Bg)}function Mb(a,b,c,d){for(var e,f=0;f<b.ranges.length;f++){var g=b.ranges[f],h=Nb(a,g.anchor,c,d),i=Nb(a,g.head,c,d);(e||h!=g.anchor||i!=g.head)&&(e||(e=b.ranges.slice(0,f)),e[f]=new tb(h,i))}return e?ub(e,b.primIndex):b}function Nb(a,b,c,d){var e=!1,f=b,g=c||1;a.cantEdit=!1;a:for(;;){var h=Of(a,f.line);if(h.markedSpans)for(var i=0;i<h.markedSpans.length;++i){var j=h.markedSpans[i],k=j.marker;if((null==j.from||(k.inclusiveLeft?j.from<=f.ch:j.from<f.ch))&&(null==j.to||(k.inclusiveRight?j.to>=f.ch:j.to>f.ch))){if(d&&(rg(k,"beforeCursorEnter"),k.explicitlyCleared)){if(h.markedSpans){--i;continue}break}if(!k.atomic)continue;var l=k.find(0>g?-1:1);if(0==ob(l,f)&&(l.ch+=g,l.ch<0?l=l.line>a.first?xb(a,nb(l.line-1)):null:l.ch>h.text.length&&(l=l.line<a.first+a.size-1?nb(l.line+1,0):null),!l)){if(e)return d?(a.cantEdit=!0,nb(a.first,0)):Nb(a,b,c,!0);e=!0,l=b,g=-g}f=l;continue a}}return f}}function Ob(a){for(var b=a.display,c=a.doc,d={},e=d.cursors=document.createDocumentFragment(),f=d.selection=document.createDocumentFragment(),g=0;g<c.sel.ranges.length;g++){var h=c.sel.ranges[g],i=h.empty();(i||a.options.showCursorWhenSelecting)&&Rb(a,h,e),i||Sb(a,h,f)}if(a.options.moveInputWithCursor){var j=rc(a,c.sel.primary().head,"div"),k=b.wrapper.getBoundingClientRect(),l=b.lineDiv.getBoundingClientRect();d.teTop=Math.max(0,Math.min(b.wrapper.clientHeight-10,j.top+l.top-k.top)),d.teLeft=Math.max(0,Math.min(b.wrapper.clientWidth-10,j.left+l.left-k.left))}return d}function Pb(a,b){Zg(a.display.cursorDiv,b.cursors),Zg(a.display.selectionDiv,b.selection),null!=b.teTop&&(a.display.inputDiv.style.top=b.teTop+"px",a.display.inputDiv.style.left=b.teLeft+"px")}function Qb(a){Pb(a,Ob(a))}function Rb(a,b,c){var d=rc(a,b.head,"div",null,null,!a.options.singleCursorHeightPerLine),e=c.appendChild(Wg("div","\xa0","CodeMirror-cursor"));if(e.style.left=d.left+"px",e.style.top=d.top+"px",e.style.height=Math.max(0,d.bottom-d.top)*a.options.cursorHeight+"px",d.other){var f=c.appendChild(Wg("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));f.style.display="",f.style.left=d.other.left+"px",f.style.top=d.other.top+"px",f.style.height=.85*(d.other.bottom-d.other.top)+"px"}}function Sb(a,b,c){function j(a,b,c,d){0>b&&(b=0),b=Math.round(b),d=Math.round(d),f.appendChild(Wg("div",null,"CodeMirror-selected","position: absolute; left: "+a+"px; top: "+b+"px; width: "+(null==c?i-a:c)+"px; height: "+(d-b)+"px"))}function k(b,c,d){function m(c,d){return qc(a,nb(b,c),"div",f,d)}var k,l,f=Of(e,b),g=f.text.length;return vh(Vf(f),c||0,null==d?g:d,function(a,b,e){var n,o,p,f=m(a,"left");if(a==b)n=f,o=p=f.left;else{if(n=m(b-1,"right"),"rtl"==e){var q=f;f=n,n=q}o=f.left,p=n.right}null==c&&0==a&&(o=h),n.top-f.top>3&&(j(o,f.top,null,f.bottom),o=h,f.bottom<n.top&&j(o,f.bottom,null,n.top)),null==d&&b==g&&(p=i),(!k||f.top<k.top||f.top==k.top&&f.left<k.left)&&(k=f),(!l||n.bottom>l.bottom||n.bottom==l.bottom&&n.right>l.right)&&(l=n),h+1>o&&(o=h),j(o,n.top,p-o,n.bottom)}),{start:k,end:l}}var d=a.display,e=a.doc,f=document.createDocumentFragment(),g=$b(a.display),h=g.left,i=d.lineSpace.offsetWidth-g.right,l=b.from(),m=b.to();if(l.line==m.line)k(l.line,l.ch,m.ch);else{var n=Of(e,l.line),o=Of(e,m.line),p=_e(n)==_e(o),q=k(l.line,l.ch,p?n.text.length+1:null).end,r=k(m.line,p?0:null,m.ch).start;p&&(q.top<r.top-2?(j(q.right,q.top,null,q.bottom),j(h,r.top,r.left,r.bottom)):j(q.right,q.top,r.left-q.right,q.bottom)),q.bottom<r.top&&j(h,q.bottom,null,r.top)}c.appendChild(f)}function Tb(a){if(a.state.focused){var b=a.display;clearInterval(b.blinker);var c=!0;b.cursorDiv.style.visibility="",a.options.cursorBlinkRate>0?b.blinker=setInterval(function(){b.cursorDiv.style.visibility=(c=!c)?"":"hidden"},a.options.cursorBlinkRate):a.options.cursorBlinkRate<0&&(b.cursorDiv.style.visibility="hidden")}}function Ub(a,b){a.doc.mode.startState&&a.doc.frontier<a.display.viewTo&&a.state.highlight.set(b,Pg(Vb,a))}function Vb(a){var b=a.doc;if(b.frontier<b.first&&(b.frontier=b.first),!(b.frontier>=a.display.viewTo)){var c=+new Date+a.options.workTime,d=re(b.mode,Xb(a,b.frontier)),e=[];b.iter(b.frontier,Math.min(b.first+b.size,a.display.viewTo+500),function(f){if(b.frontier>=a.display.viewFrom){var g=f.styles,h=rf(a,f,d,!0);f.styles=h.styles;var i=f.styleClasses,j=h.classes;j?f.styleClasses=j:i&&(f.styleClasses=null);for(var k=!g||g.length!=f.styles.length||i!=j&&(!i||!j||i.bgClass!=j.bgClass||i.textClass!=j.textClass),l=0;!k&&l<g.length;++l)k=g[l]!=f.styles[l];k&&e.push(b.frontier),f.stateAfter=re(b.mode,d)}else tf(a,f.text,d),f.stateAfter=0==b.frontier%5?re(b.mode,d):null;return++b.frontier,+new Date>c?(Ub(a,a.options.workDelay),!0):void 0}),e.length&&Kc(a,function(){for(var b=0;b<e.length;b++)Rc(a,e[b],"text")})}}function Wb(a,b,c){for(var d,e,f=a.doc,g=c?-1:b-(a.doc.mode.innerMode?1e3:100),h=b;h>g;--h){if(h<=f.first)return f.first;var i=Of(f,h-1);if(i.stateAfter&&(!c||h<=f.frontier))return h;var j=Fg(i.text,null,a.options.tabSize);(null==e||d>j)&&(e=h-1,d=j)}return e}function Xb(a,b,c){var d=a.doc,e=a.display;if(!d.mode.startState)return!0;var f=Wb(a,b,c),g=f>d.first&&Of(d,f-1).stateAfter;return g=g?re(d.mode,g):se(d.mode),d.iter(f,b,function(c){tf(a,c.text,g);var h=f==b-1||0==f%5||f>=e.viewFrom&&f<e.viewTo;c.stateAfter=h?re(d.mode,g):null,++f}),c&&(d.frontier=f),g}function Yb(a){return a.lineSpace.offsetTop}function Zb(a){return a.mover.offsetHeight-a.lineSpace.offsetHeight}function $b(a){if(a.cachedPaddingH)return a.cachedPaddingH;var b=Zg(a.measure,Wg("pre","x")),c=window.getComputedStyle?window.getComputedStyle(b):b.currentStyle,d={left:parseInt(c.paddingLeft),right:parseInt(c.paddingRight)};return isNaN(d.left)||isNaN(d.right)||(a.cachedPaddingH=d),d}function _b(a,b,c){var d=a.options.lineWrapping,e=d&&a.display.scroller.clientWidth;if(!b.measure.heights||d&&b.measure.width!=e){var f=b.measure.heights=[];if(d){b.measure.width=e;for(var g=b.text.firstChild.getClientRects(),h=0;h<g.length-1;h++){var i=g[h],j=g[h+1];Math.abs(i.bottom-j.bottom)>2&&f.push((i.bottom+j.top)/2-c.top)}}f.push(c.bottom-c.top)}}function ac(a,b,c){if(a.line==b)return{map:a.measure.map,cache:a.measure.cache};for(var d=0;d<a.rest.length;d++)if(a.rest[d]==b)return{map:a.measure.maps[d],cache:a.measure.caches[d]};for(var d=0;d<a.rest.length;d++)if(Sf(a.rest[d])>c)return{map:a.measure.maps[d],cache:a.measure.caches[d],before:!0}}function bc(a,b){b=_e(b);var c=Sf(b),d=a.display.externalMeasured=new Oc(a.doc,b,c);d.lineN=c;var e=d.built=xf(a,d);return d.text=e.pre,Zg(a.display.lineMeasure,e.pre),d}function cc(a,b,c,d){return fc(a,ec(a,b),c,d)}function dc(a,b){if(b>=a.display.viewFrom&&b<a.display.viewTo)return a.display.view[Tc(a,b)];var c=a.display.externalMeasured;return c&&b>=c.lineN&&b<c.lineN+c.size?c:void 0}function ec(a,b){var c=Sf(b),d=dc(a,c);d&&!d.text?d=null:d&&d.changes&&bb(a,d,c,_(a)),d||(d=bc(a,b));var e=ac(d,b,c);return{line:b,view:d,rect:null,map:e.map,cache:e.cache,before:e.before,hasHeights:!1}}function fc(a,b,c,d,e){b.before&&(c=-1);var g,f=c+(d||"");return b.cache.hasOwnProperty(f)?g=b.cache[f]:(b.rect||(b.rect=b.view.text.getBoundingClientRect()),b.hasHeights||(_b(a,b.view,b.rect),b.hasHeights=!0),g=hc(a,b,c,d),g.bogus||(b.cache[f]=g)),{left:g.left,right:g.right,top:e?g.rtop:g.top,bottom:e?g.rbottom:g.bottom}}function hc(a,b,c,f){for(var h,i,j,k,g=b.map,l=0;l<g.length;l+=3){var m=g[l],n=g[l+1];if(m>c?(i=0,j=1,k="left"):n>c?(i=c-m,j=i+1):(l==g.length-3||c==n&&g[l+3]>c)&&(j=n-m,i=j-1,c>=n&&(k="right")),null!=i){if(h=g[l+2],m==n&&f==(h.insertLeft?"left":"right")&&(k=f),"left"==f&&0==i)for(;l&&g[l-2]==g[l-3]&&g[l-1].insertLeft;)h=g[(l-=3)+2],k="left";if("right"==f&&i==n-m)for(;l<g.length-3&&g[l+3]==g[l+4]&&!g[l+5].insertLeft;)h=g[(l+=3)+2],k="right";break}}var o;if(3==h.nodeType){for(var l=0;4>l;l++){for(;i&&Vg(b.line.text.charAt(m+i));)--i;for(;n>m+j&&Vg(b.line.text.charAt(m+j));)++j;if(d&&9>e&&0==i&&j==n-m)o=h.parentNode.getBoundingClientRect();else if(d&&a.options.lineWrapping){var p=Xg(h,i,j).getClientRects();o=p.length?p["right"==f?p.length-1:0]:gc}else o=Xg(h,i,j).getBoundingClientRect()||gc;if(o.left||o.right||0==i)break;j=i,i-=1,k="right"}d&&11>e&&(o=ic(a.display.measure,o))}else{i>0&&(k=f="right");var p;o=a.options.lineWrapping&&(p=h.getClientRects()).length>1?p["right"==f?p.length-1:0]:h.getBoundingClientRect()}if(d&&9>e&&!i&&(!o||!o.left&&!o.right)){var q=h.parentNode.getClientRects()[0];o=q?{left:q.left,right:q.left+yc(a.display),top:q.top,bottom:q.bottom}:gc}for(var r=o.top-b.rect.top,s=o.bottom-b.rect.top,t=(r+s)/2,u=b.view.measure.heights,l=0;l<u.length-1&&!(t<u[l]);l++);var v=l?u[l-1]:0,w=u[l],x={left:("right"==k?o.right:o.left)-b.rect.left,right:("left"==k?o.left:o.right)-b.rect.left,top:v,bottom:w};return o.left||o.right||(x.bogus=!0),a.options.singleCursorHeightPerLine||(x.rtop=r,x.rbottom=s),x}function ic(a,b){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!th(a))return b;var c=screen.logicalXDPI/screen.deviceXDPI,d=screen.logicalYDPI/screen.deviceYDPI;return{left:b.left*c,right:b.right*c,top:b.top*d,bottom:b.bottom*d}}function jc(a){if(a.measure&&(a.measure.cache={},a.measure.heights=null,a.rest))for(var b=0;b<a.rest.length;b++)a.measure.caches[b]={}}function kc(a){a.display.externalMeasure=null,Yg(a.display.lineMeasure);for(var b=0;b<a.display.view.length;b++)jc(a.display.view[b])}function lc(a){kc(a),a.display.cachedCharWidth=a.display.cachedTextHeight=a.display.cachedPaddingH=null,a.options.lineWrapping||(a.display.maxLineChanged=!0),a.display.lineNumChars=null}function mc(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function nc(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function oc(a,b,c,d){if(b.widgets)for(var e=0;e<b.widgets.length;++e)if(b.widgets[e].above){var f=hf(b.widgets[e]);c.top+=f,c.bottom+=f}if("line"==d)return c;d||(d="local");var g=Uf(b);if("local"==d?g+=Yb(a.display):g-=a.display.viewOffset,"page"==d||"window"==d){var h=a.display.lineSpace.getBoundingClientRect();g+=h.top+("window"==d?0:nc());var i=h.left+("window"==d?0:mc());c.left+=i,c.right+=i}return c.top+=g,c.bottom+=g,c}function pc(a,b,c){if("div"==c)return b;var d=b.left,e=b.top;if("page"==c)d-=mc(),e-=nc();else if("local"==c||!c){var f=a.display.sizer.getBoundingClientRect();d+=f.left,e+=f.top}var g=a.display.lineSpace.getBoundingClientRect();return{left:d-g.left,top:e-g.top}}function qc(a,b,c,d,e){return d||(d=Of(a.doc,b.line)),oc(a,d,cc(a,d,b.ch,e),c)}function rc(a,b,c,d,e,f){function g(b,g){var h=fc(a,e,b,g?"right":"left",f);return g?h.left=h.right:h.right=h.left,oc(a,d,h,c)}function h(a,b){var c=i[b],d=c.level%2;return a==wh(c)&&b&&c.level<i[b-1].level?(c=i[--b],a=xh(c)-(c.level%2?0:1),d=!0):a==xh(c)&&b<i.length-1&&c.level<i[b+1].level&&(c=i[++b],a=wh(c)-c.level%2,d=!1),d&&a==c.to&&a>c.from?g(a-1):g(a,d)}d=d||Of(a.doc,b.line),e||(e=ec(a,d));var i=Vf(d),j=b.ch;if(!i)return g(j);var k=Fh(i,j),l=h(j,k);return null!=Eh&&(l.other=h(j,Eh)),l}function sc(a,b){var c=0,b=xb(a.doc,b);a.options.lineWrapping||(c=yc(a.display)*b.ch);var d=Of(a.doc,b.line),e=Uf(d)+Yb(a.display);return{left:c,right:c,top:e,bottom:e+d.height}}function tc(a,b,c,d){var e=nb(a,b);return e.xRel=d,c&&(e.outside=!0),e}function uc(a,b,c){var d=a.doc;if(c+=a.display.viewOffset,0>c)return tc(d.first,0,!0,-1);var e=Tf(d,c),f=d.first+d.size-1;if(e>f)return tc(d.first+d.size-1,Of(d,f).text.length,!0,1);0>b&&(b=0);for(var g=Of(d,e);;){var h=vc(a,g,e,b,c),i=Ze(g),j=i&&i.find(0,!0);if(!i||!(h.ch>j.from.ch||h.ch==j.from.ch&&h.xRel>0))return h;e=Sf(g=j.to.line)}}function vc(a,b,c,d,e){function j(d){var e=rc(a,nb(c,d),"line",b,i);return g=!0,f>e.bottom?e.left-h:f<e.top?e.left+h:(g=!1,e.left)}var f=e-Uf(b),g=!1,h=2*a.display.wrapper.clientWidth,i=ec(a,b),k=Vf(b),l=b.text.length,m=yh(b),n=zh(b),o=j(m),p=g,q=j(n),r=g;if(d>q)return tc(c,n,r,1);for(;;){if(k?n==m||n==Hh(b,m,1):1>=n-m){for(var s=o>d||q-d>=d-o?m:n,t=d-(s==m?o:q);Vg(b.text.charAt(s));)++s;var u=tc(c,s,s==m?p:r,-1>t?-1:t>1?1:0);return u}var v=Math.ceil(l/2),w=m+v;if(k){w=m;for(var x=0;v>x;++x)w=Hh(b,w,1)}var y=j(w);y>d?(n=w,q=y,(r=g)&&(q+=1e3),l=v):(m=w,o=y,p=g,l-=v)}}function xc(a){if(null!=a.cachedTextHeight)return a.cachedTextHeight;if(null==wc){wc=Wg("pre");for(var b=0;49>b;++b)wc.appendChild(document.createTextNode("x")),wc.appendChild(Wg("br"));wc.appendChild(document.createTextNode("x"))}Zg(a.measure,wc);var c=wc.offsetHeight/50;return c>3&&(a.cachedTextHeight=c),Yg(a.measure),c||1}function yc(a){if(null!=a.cachedCharWidth)return a.cachedCharWidth;var b=Wg("span","xxxxxxxxxx"),c=Wg("pre",[b]);Zg(a.measure,c);var d=b.getBoundingClientRect(),e=(d.right-d.left)/10;return e>2&&(a.cachedCharWidth=e),e||10}function Bc(a){a.curOp={cm:a,viewChanged:!1,startHeight:a.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,id:++Ac},zc?zc.ops.push(a.curOp):a.curOp.ownsGroup=zc={ops:[a.curOp],delayedCallbacks:[]}}function Cc(a){var b=a.delayedCallbacks,c=0;do{for(;c<b.length;c++)b[c]();for(var d=0;d<a.ops.length;d++){var e=a.ops[d];if(e.cursorActivityHandlers)for(;e.cursorActivityCalled<e.cursorActivityHandlers.length;)e.cursorActivityHandlers[e.cursorActivityCalled++](e.cm)}}while(c<b.length)}function Dc(a){var b=a.curOp,c=b.ownsGroup;if(c)try{Cc(c)}finally{zc=null;for(var d=0;d<c.ops.length;d++)c.ops[d].cm.curOp=null;Ec(c)}}function Ec(a){for(var b=a.ops,c=0;c<b.length;c++)Fc(b[c]);for(var c=0;c<b.length;c++)Gc(b[c]);for(var c=0;c<b.length;c++)Hc(b[c]);for(var c=0;c<b.length;c++)Ic(b[c]);
for(var c=0;c<b.length;c++)Jc(b[c])}function Fc(a){var b=a.cm,c=b.display;a.updateMaxLine&&J(b),a.mustUpdate=a.viewChanged||a.forceUpdate||null!=a.scrollTop||a.scrollToPos&&(a.scrollToPos.from.line<c.viewFrom||a.scrollToPos.to.line>=c.viewTo)||c.maxLineChanged&&b.options.lineWrapping,a.update=a.mustUpdate&&new T(b,a.mustUpdate&&{top:a.scrollTop,ensure:a.scrollToPos},a.forceUpdate)}function Gc(a){a.updatedDisplay=a.mustUpdate&&U(a.cm,a.update)}function Hc(a){var b=a.cm,c=b.display;a.updatedDisplay&&Z(b),a.barMeasure=M(b),c.maxLineChanged&&!b.options.lineWrapping&&(a.adjustWidthTo=cc(b,c.maxLine,c.maxLine.text.length).left+3,a.maxScrollLeft=Math.max(0,c.sizer.offsetLeft+a.adjustWidthTo+zg-c.scroller.clientWidth)),(a.updatedDisplay||a.selectionChanged)&&(a.newSelectionNodes=Ob(b))}function Ic(a){var b=a.cm;null!=a.adjustWidthTo&&(b.display.sizer.style.minWidth=a.adjustWidthTo+"px",a.maxScrollLeft<b.doc.scrollLeft&&td(b,Math.min(b.display.scroller.scrollLeft,a.maxScrollLeft),!0),b.display.maxLineChanged=!1),a.newSelectionNodes&&Pb(b,a.newSelectionNodes),a.updatedDisplay&&X(b,a.barMeasure),(a.updatedDisplay||a.startHeight!=b.doc.height)&&N(b,a.barMeasure),a.selectionChanged&&Tb(b),b.state.focused&&a.updateInput&&_c(b,a.typing)}function Jc(a){var b=a.cm,c=b.display,d=b.doc;if(null!=a.adjustWidthTo&&Math.abs(a.barMeasure.scrollWidth-b.display.scroller.scrollWidth)>1&&N(b),a.updatedDisplay&&V(b,a.update),null==c.wheelStartX||null==a.scrollTop&&null==a.scrollLeft&&!a.scrollToPos||(c.wheelStartX=c.wheelStartY=null),null!=a.scrollTop&&(c.scroller.scrollTop!=a.scrollTop||a.forceScroll)){var e=Math.max(0,Math.min(c.scroller.scrollHeight-c.scroller.clientHeight,a.scrollTop));c.scroller.scrollTop=c.scrollbarV.scrollTop=d.scrollTop=e}if(null!=a.scrollLeft&&(c.scroller.scrollLeft!=a.scrollLeft||a.forceScroll)){var g=Math.max(0,Math.min(c.scroller.scrollWidth-c.scroller.clientWidth,a.scrollLeft));c.scroller.scrollLeft=c.scrollbarH.scrollLeft=d.scrollLeft=g,P(b)}if(a.scrollToPos){var h=Zd(b,xb(d,a.scrollToPos.from),xb(d,a.scrollToPos.to),a.scrollToPos.margin);a.scrollToPos.isCursor&&b.state.focused&&Yd(b,h)}var i=a.maybeHiddenMarkers,j=a.maybeUnhiddenMarkers;if(i)for(var k=0;k<i.length;++k)i[k].lines.length||rg(i[k],"hide");if(j)for(var k=0;k<j.length;++k)j[k].lines.length&&rg(j[k],"unhide");c.wrapper.offsetHeight&&(d.scrollTop=b.display.scroller.scrollTop),a.updatedDisplay&&f&&(b.options.lineWrapping&&Y(b,a.barMeasure),a.barMeasure.scrollWidth>a.barMeasure.clientWidth&&a.barMeasure.scrollWidth<a.barMeasure.clientWidth+1&&!L(b)&&N(b)),a.changeObjs&&rg(b,"changes",b,a.changeObjs)}function Kc(a,b){if(a.curOp)return b();Bc(a);try{return b()}finally{Dc(a)}}function Lc(a,b){return function(){if(a.curOp)return b.apply(a,arguments);Bc(a);try{return b.apply(a,arguments)}finally{Dc(a)}}}function Mc(a){return function(){if(this.curOp)return a.apply(this,arguments);Bc(this);try{return a.apply(this,arguments)}finally{Dc(this)}}}function Nc(a){return function(){var b=this.cm;if(!b||b.curOp)return a.apply(this,arguments);Bc(b);try{return a.apply(this,arguments)}finally{Dc(b)}}}function Oc(a,b,c){this.line=b,this.rest=af(b),this.size=this.rest?Sf(Jg(this.rest))-c+1:1,this.node=this.text=null,this.hidden=df(a,b)}function Pc(a,b,c){for(var e,d=[],f=b;c>f;f=e){var g=new Oc(a.doc,Of(a.doc,f),f);e=f+g.size,d.push(g)}return d}function Qc(a,b,c,d){null==b&&(b=a.doc.first),null==c&&(c=a.doc.first+a.doc.size),d||(d=0);var e=a.display;if(d&&c<e.viewTo&&(null==e.updateLineNumbers||e.updateLineNumbers>b)&&(e.updateLineNumbers=b),a.curOp.viewChanged=!0,b>=e.viewTo)v&&bf(a.doc,b)<e.viewTo&&Sc(a);else if(c<=e.viewFrom)v&&cf(a.doc,c+d)>e.viewFrom?Sc(a):(e.viewFrom+=d,e.viewTo+=d);else if(b<=e.viewFrom&&c>=e.viewTo)Sc(a);else if(b<=e.viewFrom){var f=Uc(a,c,c+d,1);f?(e.view=e.view.slice(f.index),e.viewFrom=f.lineN,e.viewTo+=d):Sc(a)}else if(c>=e.viewTo){var f=Uc(a,b,b,-1);f?(e.view=e.view.slice(0,f.index),e.viewTo=f.lineN):Sc(a)}else{var g=Uc(a,b,b,-1),h=Uc(a,c,c+d,1);g&&h?(e.view=e.view.slice(0,g.index).concat(Pc(a,g.lineN,h.lineN)).concat(e.view.slice(h.index)),e.viewTo+=d):Sc(a)}var i=e.externalMeasured;i&&(c<i.lineN?i.lineN+=d:b<i.lineN+i.size&&(e.externalMeasured=null))}function Rc(a,b,c){a.curOp.viewChanged=!0;var d=a.display,e=a.display.externalMeasured;if(e&&b>=e.lineN&&b<e.lineN+e.size&&(d.externalMeasured=null),!(b<d.viewFrom||b>=d.viewTo)){var f=d.view[Tc(a,b)];if(null!=f.node){var g=f.changes||(f.changes=[]);-1==Lg(g,c)&&g.push(c)}}}function Sc(a){a.display.viewFrom=a.display.viewTo=a.doc.first,a.display.view=[],a.display.viewOffset=0}function Tc(a,b){if(b>=a.display.viewTo)return null;if(b-=a.display.viewFrom,0>b)return null;for(var c=a.display.view,d=0;d<c.length;d++)if(b-=c[d].size,0>b)return d}function Uc(a,b,c,d){var f,e=Tc(a,b),g=a.display.view;if(!v||c==a.doc.first+a.doc.size)return{index:e,lineN:c};for(var h=0,i=a.display.viewFrom;e>h;h++)i+=g[h].size;if(i!=b){if(d>0){if(e==g.length-1)return null;f=i+g[e].size-b,e++}else f=i-b;b+=f,c+=f}for(;bf(a.doc,c)!=c;){if(e==(0>d?0:g.length-1))return null;c+=d*g[e-(0>d?1:0)].size,e+=d}return{index:e,lineN:c}}function Vc(a,b,c){var d=a.display,e=d.view;0==e.length||b>=d.viewTo||c<=d.viewFrom?(d.view=Pc(a,b,c),d.viewFrom=b):(d.viewFrom>b?d.view=Pc(a,b,d.viewFrom).concat(d.view):d.viewFrom<b&&(d.view=d.view.slice(Tc(a,b))),d.viewFrom=b,d.viewTo<c?d.view=d.view.concat(Pc(a,d.viewTo,c)):d.viewTo>c&&(d.view=d.view.slice(0,Tc(a,c)))),d.viewTo=c}function Wc(a){for(var b=a.display.view,c=0,d=0;d<b.length;d++){var e=b[d];e.hidden||e.node&&!e.changes||++c}return c}function Xc(a){a.display.pollingFast||a.display.poll.set(a.options.pollInterval,function(){$c(a),a.state.focused&&Xc(a)})}function Yc(a){function c(){var d=$c(a);d||b?(a.display.pollingFast=!1,Xc(a)):(b=!0,a.display.poll.set(60,c))}var b=!1;a.display.pollingFast=!0,a.display.poll.set(20,c)}function $c(a){var b=a.display.input,c=a.display.prevInput,f=a.doc;if(!a.state.focused||qh(b)&&!c||cd(a)||a.options.disableInput)return!1;a.state.pasteIncoming&&a.state.fakedLastChar&&(b.value=b.value.substring(0,b.value.length-1),a.state.fakedLastChar=!1);var g=b.value;if(g==c&&!a.somethingSelected())return!1;if(d&&e>=9&&a.display.inputHasSelection===g||p&&/[\uf700-\uf7ff]/.test(g))return _c(a),!1;var h=!a.curOp;h&&Bc(a),a.display.shift=!1,8203!=g.charCodeAt(0)||f.sel!=a.display.selForContextMenu||c||(c="\u200b");for(var i=0,j=Math.min(c.length,g.length);j>i&&c.charCodeAt(i)==g.charCodeAt(i);)++i;var k=g.slice(i),l=ph(k),m=null;a.state.pasteIncoming&&f.sel.ranges.length>1&&(Zc&&Zc.join("\n")==k?m=0==f.sel.ranges.length%Zc.length&&Mg(Zc,ph):l.length==f.sel.ranges.length&&(m=Mg(l,function(a){return[a]})));for(var n=f.sel.ranges.length-1;n>=0;n--){var o=f.sel.ranges[n],q=o.from(),r=o.to();i<c.length?q=nb(q.line,q.ch-(c.length-i)):a.state.overwrite&&o.empty()&&!a.state.pasteIncoming&&(r=nb(r.line,Math.min(Of(f,r.line).text.length,r.ch+Jg(l).length)));var s=a.curOp.updateInput,t={from:q,to:r,text:m?m[n%m.length]:l,origin:a.state.pasteIncoming?"paste":a.state.cutIncoming?"cut":"+input"};if(Rd(a.doc,t),tg(a,"inputRead",a,t),k&&!a.state.pasteIncoming&&a.options.electricChars&&a.options.smartIndent&&o.head.ch<100&&(!n||f.sel.ranges[n-1].head.line!=o.head.line)){var u=a.getModeAt(o.head),v=Ld(t);if(u.electricChars){for(var w=0;w<u.electricChars.length;w++)if(k.indexOf(u.electricChars.charAt(w))>-1){de(a,v.line,"smart");break}}else u.electricInput&&u.electricInput.test(Of(f,v.line).text.slice(0,v.ch))&&de(a,v.line,"smart")}}return be(a),a.curOp.updateInput=s,a.curOp.typing=!0,g.length>1e3||g.indexOf("\n")>-1?b.value=a.display.prevInput="":a.display.prevInput=g,h&&Dc(a),a.state.pasteIncoming=a.state.cutIncoming=!1,!0}function _c(a,b){var c,f,g=a.doc;if(a.somethingSelected()){a.display.prevInput="";var h=g.sel.primary();c=rh&&(h.to().line-h.from().line>100||(f=a.getSelection()).length>1e3);var i=c?"-":f||a.getSelection();a.display.input.value=i,a.state.focused&&Kg(a.display.input),d&&e>=9&&(a.display.inputHasSelection=i)}else b||(a.display.prevInput=a.display.input.value="",d&&e>=9&&(a.display.inputHasSelection=null));a.display.inaccurateSelection=c}function ad(a){"nocursor"==a.options.readOnly||o&&_g()==a.display.input||a.display.input.focus()}function bd(a){a.state.focused||(ad(a),Hd(a))}function cd(a){return a.options.readOnly||a.doc.cantEdit}function dd(a){function c(){a.state.focused&&setTimeout(Pg(ad,a),0)}function g(b){vg(a,b)||mg(b)}function h(c){if(a.somethingSelected())Zc=a.getSelections(),b.inaccurateSelection&&(b.prevInput="",b.inaccurateSelection=!1,b.input.value=Zc.join("\n"),Kg(b.input));else{for(var d=[],e=[],f=0;f<a.doc.sel.ranges.length;f++){var g=a.doc.sel.ranges[f].head.line,h={anchor:nb(g,0),head:nb(g+1,0)};e.push(h),d.push(a.getRange(h.anchor,h.head))}"cut"==c.type?a.setSelections(e,null,Bg):(b.prevInput="",b.input.value=d.join("\n"),Kg(b.input)),Zc=d}"cut"==c.type&&(a.state.cutIncoming=!0)}var b=a.display;pg(b.scroller,"mousedown",Lc(a,hd)),d&&11>e?pg(b.scroller,"dblclick",Lc(a,function(b){if(!vg(a,b)){var c=gd(a,b);if(c&&!od(a,b)&&!fd(a.display,b)){jg(b);var d=a.findWordAt(c);Cb(a.doc,d.anchor,d.head)}}})):pg(b.scroller,"dblclick",function(b){vg(a,b)||jg(b)}),pg(b.lineSpace,"selectstart",function(a){fd(b,a)||jg(a)}),t||pg(b.scroller,"contextmenu",function(b){Jd(a,b)}),pg(b.scroller,"scroll",function(){b.scroller.clientHeight&&(sd(a,b.scroller.scrollTop),td(a,b.scroller.scrollLeft,!0),rg(a,"scroll",a))}),pg(b.scrollbarV,"scroll",function(){b.scroller.clientHeight&&sd(a,b.scrollbarV.scrollTop)}),pg(b.scrollbarH,"scroll",function(){b.scroller.clientHeight&&td(a,b.scrollbarH.scrollLeft)}),pg(b.scroller,"mousewheel",function(b){wd(a,b)}),pg(b.scroller,"DOMMouseScroll",function(b){wd(a,b)}),pg(b.scrollbarH,"mousedown",c),pg(b.scrollbarV,"mousedown",c),pg(b.wrapper,"scroll",function(){b.wrapper.scrollTop=b.wrapper.scrollLeft=0}),pg(b.input,"keyup",function(b){Fd.call(a,b)}),pg(b.input,"input",function(){d&&e>=9&&a.display.inputHasSelection&&(a.display.inputHasSelection=null),Yc(a)}),pg(b.input,"keydown",Lc(a,Dd)),pg(b.input,"keypress",Lc(a,Gd)),pg(b.input,"focus",Pg(Hd,a)),pg(b.input,"blur",Pg(Id,a)),a.options.dragDrop&&(pg(b.scroller,"dragstart",function(b){rd(a,b)}),pg(b.scroller,"dragenter",g),pg(b.scroller,"dragover",g),pg(b.scroller,"drop",Lc(a,qd))),pg(b.scroller,"paste",function(c){fd(b,c)||(a.state.pasteIncoming=!0,ad(a),Yc(a))}),pg(b.input,"paste",function(){if(f&&!a.state.fakedLastChar&&!(new Date-a.state.lastMiddleDown<200)){var c=b.input.selectionStart,d=b.input.selectionEnd;b.input.value+="$",b.input.selectionEnd=d,b.input.selectionStart=c,a.state.fakedLastChar=!0}a.state.pasteIncoming=!0,Yc(a)}),pg(b.input,"cut",h),pg(b.input,"copy",h),k&&pg(b.sizer,"mouseup",function(){_g()==b.input&&b.input.blur(),ad(a)})}function ed(a){var b=a.display;b.cachedCharWidth=b.cachedTextHeight=b.cachedPaddingH=null,a.setSize()}function fd(a,b){for(var c=ng(b);c!=a.wrapper;c=c.parentNode)if(!c||c.ignoreEvents||c.parentNode==a.sizer&&c!=a.mover)return!0}function gd(a,b,c,d){var e=a.display;if(!c){var f=ng(b);if(f==e.scrollbarH||f==e.scrollbarV||f==e.scrollbarFiller||f==e.gutterFiller)return null}var g,h,i=e.lineSpace.getBoundingClientRect();try{g=b.clientX-i.left,h=b.clientY-i.top}catch(b){return null}var k,j=uc(a,g,h);if(d&&1==j.xRel&&(k=Of(a.doc,j.line).text).length==j.ch){var l=Fg(k,k.length,a.options.tabSize)-k.length;j=nb(j.line,Math.max(0,Math.round((g-$b(a.display).left)/yc(a.display))-l))}return j}function hd(a){if(!vg(this,a)){var b=this,c=b.display;if(c.shift=a.shiftKey,fd(c,a))return f||(c.scroller.draggable=!1,setTimeout(function(){c.scroller.draggable=!0},100)),void 0;if(!od(b,a)){var d=gd(b,a);switch(window.focus(),og(a)){case 1:d?kd(b,a,d):ng(a)==c.scroller&&jg(a);break;case 2:f&&(b.state.lastMiddleDown=+new Date),d&&Cb(b.doc,d),setTimeout(Pg(ad,b),20),jg(a);break;case 3:t&&Jd(b,a)}}}}function kd(a,b,c){setTimeout(Pg(bd,a),0);var e,d=+new Date;jd&&jd.time>d-400&&0==ob(jd.pos,c)?e="triple":id&&id.time>d-400&&0==ob(id.pos,c)?(e="double",jd={time:d,pos:c}):(e="single",id={time:d,pos:c});var f=a.doc.sel,g=p?b.metaKey:b.ctrlKey;a.options.dragDrop&&ih&&!cd(a)&&"single"==e&&f.contains(c)>-1&&f.somethingSelected()?ld(a,b,c,g):md(a,b,c,e,g)}function ld(a,b,c,g){var h=a.display,i=Lc(a,function(j){f&&(h.scroller.draggable=!1),a.state.draggingText=!1,qg(document,"mouseup",i),qg(h.scroller,"drop",i),Math.abs(b.clientX-j.clientX)+Math.abs(b.clientY-j.clientY)<10&&(jg(j),g||Cb(a.doc,c),ad(a),d&&9==e&&setTimeout(function(){document.body.focus(),ad(a)},20))});f&&(h.scroller.draggable=!0),a.state.draggingText=i,h.scroller.dragDrop&&h.scroller.dragDrop(),pg(document,"mouseup",i),pg(h.scroller,"drop",i)}function md(a,b,c,d,e){function n(b){if(0!=ob(m,b))if(m=b,"rect"==d){for(var e=[],f=a.options.tabSize,k=Fg(Of(g,c.line).text,c.ch,f),l=Fg(Of(g,b.line).text,b.ch,f),n=Math.min(k,l),o=Math.max(k,l),p=Math.min(c.line,b.line),q=Math.min(a.lastLine(),Math.max(c.line,b.line));q>=p;p++){var r=Of(g,p).text,s=Gg(r,n,f);n==o?e.push(new tb(nb(p,s),nb(p,s))):r.length>s&&e.push(new tb(nb(p,s),nb(p,Gg(r,o,f))))}e.length||e.push(new tb(c,c)),Ib(g,ub(j.ranges.slice(0,i).concat(e),i),{origin:"*mouse",scroll:!1}),a.scrollIntoView(b)}else{var t=h,u=t.anchor,v=b;if("single"!=d){if("double"==d)var w=a.findWordAt(b);else var w=new tb(nb(b.line,0),xb(g,nb(b.line+1,0)));ob(w.anchor,u)>0?(v=w.head,u=rb(t.from(),w.anchor)):(v=w.anchor,u=qb(t.to(),w.head))}var e=j.ranges.slice(0);e[i]=new tb(xb(g,u),v),Ib(g,ub(e,i),Cg)}}function q(b){var c=++p,e=gd(a,b,!0,"rect"==d);if(e)if(0!=ob(e,m)){bd(a),n(e);var h=O(f,g);(e.line>=h.to||e.line<h.from)&&setTimeout(Lc(a,function(){p==c&&q(b)}),150)}else{var i=b.clientY<o.top?-20:b.clientY>o.bottom?20:0;i&&setTimeout(Lc(a,function(){p==c&&(f.scroller.scrollTop+=i,q(b))}),50)}}function r(b){p=1/0,jg(b),ad(a),qg(document,"mousemove",s),qg(document,"mouseup",t),g.history.lastSelOrigin=null}var f=a.display,g=a.doc;jg(b);var h,i,j=g.sel;if(e&&!b.shiftKey?(i=g.sel.contains(c),h=i>-1?g.sel.ranges[i]:new tb(c,c)):h=g.sel.primary(),b.altKey)d="rect",e||(h=new tb(c,c)),c=gd(a,b,!0,!0),i=-1;else if("double"==d){var k=a.findWordAt(c);h=a.display.shift||g.extend?Bb(g,h,k.anchor,k.head):k}else if("triple"==d){var l=new tb(nb(c.line,0),xb(g,nb(c.line+1,0)));h=a.display.shift||g.extend?Bb(g,h,l.anchor,l.head):l}else h=Bb(g,h,c);e?i>-1?Eb(g,i,h,Cg):(i=g.sel.ranges.length,Ib(g,ub(g.sel.ranges.concat([h]),i),{scroll:!1,origin:"*mouse"})):(i=0,Ib(g,new sb([h],0),Cg),j=g.sel);var m=c,o=f.wrapper.getBoundingClientRect(),p=0,s=Lc(a,function(a){og(a)?q(a):r(a)}),t=Lc(a,r);pg(document,"mousemove",s),pg(document,"mouseup",t)}function nd(a,b,c,d,e){try{var f=b.clientX,g=b.clientY}catch(b){return!1}if(f>=Math.floor(a.display.gutters.getBoundingClientRect().right))return!1;d&&jg(b);var h=a.display,i=h.lineDiv.getBoundingClientRect();if(g>i.bottom||!xg(a,c))return lg(b);g-=i.top-h.viewOffset;for(var j=0;j<a.options.gutters.length;++j){var k=h.gutters.childNodes[j];if(k&&k.getBoundingClientRect().right>=f){var l=Tf(a.doc,g),m=a.options.gutters[j];return e(a,c,a,l,m,b),lg(b)}}}function od(a,b){return nd(a,b,"gutterClick",!0,tg)}function qd(a){var b=this;if(!vg(b,a)&&!fd(b.display,a)){jg(a),d&&(pd=+new Date);var c=gd(b,a,!0),e=a.dataTransfer.files;if(c&&!cd(b))if(e&&e.length&&window.FileReader&&window.File)for(var f=e.length,g=Array(f),h=0,i=function(a,d){var e=new FileReader;e.onload=Lc(b,function(){if(g[d]=e.result,++h==f){c=xb(b.doc,c);var a={from:c,to:c,text:ph(g.join("\n")),origin:"paste"};Rd(b.doc,a),Hb(b.doc,vb(c,Ld(a)))}}),e.readAsText(a)},j=0;f>j;++j)i(e[j],j);else{if(b.state.draggingText&&b.doc.sel.contains(c)>-1)return b.state.draggingText(a),setTimeout(Pg(ad,b),20),void 0;try{var g=a.dataTransfer.getData("Text");if(g){if(b.state.draggingText&&!(p?a.metaKey:a.ctrlKey))var k=b.listSelections();if(Jb(b.doc,vb(c,c)),k)for(var j=0;j<k.length;++j)Xd(b.doc,"",k[j].anchor,k[j].head,"drag");b.replaceSelection(g,"around","paste"),ad(b)}}catch(a){}}}}function rd(a,b){if(d&&(!a.state.draggingText||+new Date-pd<100))return mg(b),void 0;if(!vg(a,b)&&!fd(a.display,b)&&(b.dataTransfer.setData("Text",a.getSelection()),b.dataTransfer.setDragImage&&!j)){var c=Wg("img",null,null,"position: fixed; left: 0; top: 0;");c.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",i&&(c.width=c.height=1,a.display.wrapper.appendChild(c),c._top=c.offsetTop),b.dataTransfer.setDragImage(c,0,0),i&&c.parentNode.removeChild(c)}}function sd(b,c){Math.abs(b.doc.scrollTop-c)<2||(b.doc.scrollTop=c,a||W(b,{top:c}),b.display.scroller.scrollTop!=c&&(b.display.scroller.scrollTop=c),b.display.scrollbarV.scrollTop!=c&&(b.display.scrollbarV.scrollTop=c),a&&W(b),Ub(b,100))}function td(a,b,c){(c?b==a.doc.scrollLeft:Math.abs(a.doc.scrollLeft-b)<2)||(b=Math.min(b,a.display.scroller.scrollWidth-a.display.scroller.clientWidth),a.doc.scrollLeft=b,P(a),a.display.scroller.scrollLeft!=b&&(a.display.scroller.scrollLeft=b),a.display.scrollbarH.scrollLeft!=b&&(a.display.scrollbarH.scrollLeft=b))}function wd(b,c){var d=c.wheelDeltaX,e=c.wheelDeltaY;null==d&&c.detail&&c.axis==c.HORIZONTAL_AXIS&&(d=c.detail),null==e&&c.detail&&c.axis==c.VERTICAL_AXIS?e=c.detail:null==e&&(e=c.wheelDelta);var g=b.display,h=g.scroller;if(d&&h.scrollWidth>h.clientWidth||e&&h.scrollHeight>h.clientHeight){if(e&&p&&f)a:for(var j=c.target,k=g.view;j!=h;j=j.parentNode)for(var l=0;l<k.length;l++)if(k[l].node==j){b.display.currentWheelTarget=j;break a}if(d&&!a&&!i&&null!=vd)return e&&sd(b,Math.max(0,Math.min(h.scrollTop+e*vd,h.scrollHeight-h.clientHeight))),td(b,Math.max(0,Math.min(h.scrollLeft+d*vd,h.scrollWidth-h.clientWidth))),jg(c),g.wheelStartX=null,void 0;if(e&&null!=vd){var m=e*vd,n=b.doc.scrollTop,o=n+g.wrapper.clientHeight;0>m?n=Math.max(0,n+m-50):o=Math.min(b.doc.height,o+m+50),W(b,{top:n,bottom:o})}20>ud&&(null==g.wheelStartX?(g.wheelStartX=h.scrollLeft,g.wheelStartY=h.scrollTop,g.wheelDX=d,g.wheelDY=e,setTimeout(function(){if(null!=g.wheelStartX){var a=h.scrollLeft-g.wheelStartX,b=h.scrollTop-g.wheelStartY,c=b&&g.wheelDY&&b/g.wheelDY||a&&g.wheelDX&&a/g.wheelDX;g.wheelStartX=g.wheelStartY=null,c&&(vd=(vd*ud+c)/(ud+1),++ud)}},200)):(g.wheelDX+=d,g.wheelDY+=e))}}function xd(a,b,c){if("string"==typeof b&&(b=te[b],!b))return!1;a.display.pollingFast&&$c(a)&&(a.display.pollingFast=!1);var d=a.display.shift,e=!1;try{cd(a)&&(a.state.suppressEdits=!0),c&&(a.display.shift=!1),e=b(a)!=Ag}finally{a.display.shift=d,a.state.suppressEdits=!1}return e}function yd(a){var b=a.state.keyMaps.slice(0);return a.options.extraKeys&&b.push(a.options.extraKeys),b.push(a.options.keyMap),b}function Ad(a,b){var c=ve(a.options.keyMap),d=c.auto;clearTimeout(zd),d&&!xe(b)&&(zd=setTimeout(function(){ve(a.options.keyMap)==c&&(a.options.keyMap=d.call?d.call(null,a):d,D(a))},50));var e=ye(b,!0),f=!1;if(!e)return!1;var g=yd(a);return f=b.shiftKey?we("Shift-"+e,g,function(b){return xd(a,b,!0)})||we(e,g,function(b){return("string"==typeof b?/^go[A-Z]/.test(b):b.motion)?xd(a,b):void 0}):we(e,g,function(b){return xd(a,b)}),f&&(jg(b),Tb(a),tg(a,"keyHandled",a,e,b)),f}function Bd(a,b,c){var d=we("'"+c+"'",yd(a),function(b){return xd(a,b,!0)});return d&&(jg(b),Tb(a),tg(a,"keyHandled",a,"'"+c+"'",b)),d}function Dd(a){var b=this;if(bd(b),!vg(b,a)){d&&11>e&&27==a.keyCode&&(a.returnValue=!1);var c=a.keyCode;b.display.shift=16==c||a.shiftKey;var f=Ad(b,a);i&&(Cd=f?c:null,!f&&88==c&&!rh&&(p?a.metaKey:a.ctrlKey)&&b.replaceSelection("",null,"cut")),18!=c||/\bCodeMirror-crosshair\b/.test(b.display.lineDiv.className)||Ed(b)}}function Ed(a){function c(a){18!=a.keyCode&&a.altKey||(bh(b,"CodeMirror-crosshair"),qg(document,"keyup",c),qg(document,"mouseover",c))}var b=a.display.lineDiv;ch(b,"CodeMirror-crosshair"),pg(document,"keyup",c),pg(document,"mouseover",c)}function Fd(a){16==a.keyCode&&(this.doc.sel.shift=!1),vg(this,a)}function Gd(a){var b=this;if(!(vg(b,a)||a.ctrlKey&&!a.altKey||p&&a.metaKey)){var c=a.keyCode,f=a.charCode;if(i&&c==Cd)return Cd=null,jg(a),void 0;if(!(i&&(!a.which||a.which<10)||k)||!Ad(b,a)){var g=String.fromCharCode(null==f?c:f);Bd(b,a,g)||(d&&e>=9&&(b.display.inputHasSelection=null),Yc(b))}}}function Hd(a){"nocursor"!=a.options.readOnly&&(a.state.focused||(rg(a,"focus",a),a.state.focused=!0,ch(a.display.wrapper,"CodeMirror-focused"),a.curOp||a.display.selForContextMenu==a.doc.sel||(_c(a),f&&setTimeout(Pg(_c,a,!0),0))),Xc(a),Tb(a))}function Id(a){a.state.focused&&(rg(a,"blur",a),a.state.focused=!1,bh(a.display.wrapper,"CodeMirror-focused")),clearInterval(a.display.blinker),setTimeout(function(){a.state.focused||(a.display.shift=!1)},150)}function Jd(a,b){function m(){if(null!=c.input.selectionStart){var b=a.somethingSelected(),d=c.input.value="\u200b"+(b?c.input.value:"");c.prevInput=b?"":"\u200b",c.input.selectionStart=1,c.input.selectionEnd=d.length,c.selForContextMenu=a.doc.sel}}function n(){if(c.inputDiv.style.position="relative",c.input.style.cssText=k,d&&9>e&&(c.scrollbarV.scrollTop=c.scroller.scrollTop=h),Xc(a),null!=c.input.selectionStart){(!d||d&&9>e)&&m();var b=0,f=function(){c.selForContextMenu==a.doc.sel&&0==c.input.selectionStart?Lc(a,te.selectAll)(a):b++<10?c.detectingSelectAll=setTimeout(f,500):_c(a)};c.detectingSelectAll=setTimeout(f,200)}}if(!vg(a,b,"contextmenu")){var c=a.display;if(!fd(c,b)&&!Kd(a,b)){var g=gd(a,b),h=c.scroller.scrollTop;if(g&&!i){var j=a.options.resetSelectionOnContextMenu;j&&-1==a.doc.sel.contains(g)&&Lc(a,Ib)(a.doc,vb(g),Bg);var k=c.input.style.cssText;if(c.inputDiv.style.position="absolute",c.input.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(b.clientY-5)+"px; left: "+(b.clientX-5)+"px; z-index: 1000; background: "+(d?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",f)var l=window.scrollY;if(ad(a),f&&window.scrollTo(null,l),_c(a),a.somethingSelected()||(c.input.value=c.prevInput=" "),c.selForContextMenu=a.doc.sel,clearTimeout(c.detectingSelectAll),d&&e>=9&&m(),t){mg(b);var o=function(){qg(window,"mouseup",o),setTimeout(n,20)};pg(window,"mouseup",o)}else setTimeout(n,50)}}}}function Kd(a,b){return xg(a,"gutterContextMenu")?nd(a,b,"gutterContextMenu",!1,rg):!1}function Md(a,b){if(ob(a,b.from)<0)return a;if(ob(a,b.to)<=0)return Ld(b);var c=a.line+b.text.length-(b.to.line-b.from.line)-1,d=a.ch;return a.line==b.to.line&&(d+=Ld(b).ch-b.to.ch),nb(c,d)}function Nd(a,b){for(var c=[],d=0;d<a.sel.ranges.length;d++){var e=a.sel.ranges[d];c.push(new tb(Md(e.anchor,b),Md(e.head,b)))}return ub(c,a.sel.primIndex)}function Od(a,b,c){return a.line==b.line?nb(c.line,a.ch-b.ch+c.ch):nb(c.line+(a.line-b.line),a.ch)}function Pd(a,b,c){for(var d=[],e=nb(a.first,0),f=e,g=0;g<b.length;g++){var h=b[g],i=Od(h.from,e,f),j=Od(Ld(h),e,f);if(e=h.to,f=j,"around"==c){var k=a.sel.ranges[g],l=ob(k.head,k.anchor)<0;d[g]=new tb(l?j:i,l?i:j)}else d[g]=new tb(i,i)}return new sb(d,a.sel.primIndex)}function Qd(a,b,c){var d={canceled:!1,from:b.from,to:b.to,text:b.text,origin:b.origin,cancel:function(){this.canceled=!0}};return c&&(d.update=function(b,c,d,e){b&&(this.from=xb(a,b)),c&&(this.to=xb(a,c)),d&&(this.text=d),void 0!==e&&(this.origin=e)}),rg(a,"beforeChange",a,d),a.cm&&rg(a.cm,"beforeChange",a.cm,d),d.canceled?null:{from:d.from,to:d.to,text:d.text,origin:d.origin}}function Rd(a,b,c){if(a.cm){if(!a.cm.curOp)return Lc(a.cm,Rd)(a,b,c);if(a.cm.state.suppressEdits)return}if(!(xg(a,"beforeChange")||a.cm&&xg(a.cm,"beforeChange"))||(b=Qd(a,b,!0))){var d=u&&!c&&Re(a,b.from,b.to);if(d)for(var e=d.length-1;e>=0;--e)Sd(a,{from:d[e].from,to:d[e].to,text:e?[""]:b.text});else Sd(a,b)}}function Sd(a,b){if(1!=b.text.length||""!=b.text[0]||0!=ob(b.from,b.to)){var c=Nd(a,b);$f(a,b,c,a.cm?a.cm.curOp.id:0/0),Vd(a,b,c,Oe(a,b));var d=[];Mf(a,function(a,c){c||-1!=Lg(d,a.history)||(ig(a.history,b),d.push(a.history)),Vd(a,b,null,Oe(a,b))})}}function Td(a,b,c){if(!a.cm||!a.cm.state.suppressEdits){for(var e,d=a.history,f=a.sel,g="undo"==b?d.done:d.undone,h="undo"==b?d.undone:d.done,i=0;i<g.length&&(e=g[i],c?!e.ranges||e.equals(a.sel):e.ranges);i++);if(i!=g.length){for(d.lastOrigin=d.lastSelOrigin=null;e=g.pop(),e.ranges;){if(bg(e,h),c&&!e.equals(a.sel))return Ib(a,e,{clearRedo:!1}),void 0;f=e}var j=[];bg(f,h),h.push({changes:j,generation:d.generation}),d.generation=e.generation||++d.maxGeneration;for(var k=xg(a,"beforeChange")||a.cm&&xg(a.cm,"beforeChange"),i=e.changes.length-1;i>=0;--i){var l=e.changes[i];if(l.origin=b,k&&!Qd(a,l,!1))return g.length=0,void 0;j.push(Xf(a,l));var m=i?Nd(a,l):Jg(g);Vd(a,l,m,Qe(a,l)),!i&&a.cm&&a.cm.scrollIntoView({from:l.from,to:Ld(l)});var n=[];Mf(a,function(a,b){b||-1!=Lg(n,a.history)||(ig(a.history,l),n.push(a.history)),Vd(a,l,null,Qe(a,l))})}}}}function Ud(a,b){if(0!=b&&(a.first+=b,a.sel=new sb(Mg(a.sel.ranges,function(a){return new tb(nb(a.anchor.line+b,a.anchor.ch),nb(a.head.line+b,a.head.ch))}),a.sel.primIndex),a.cm)){Qc(a.cm,a.first,a.first-b,b);for(var c=a.cm.display,d=c.viewFrom;d<c.viewTo;d++)Rc(a.cm,d,"gutter")}}function Vd(a,b,c,d){if(a.cm&&!a.cm.curOp)return Lc(a.cm,Vd)(a,b,c,d);if(b.to.line<a.first)return Ud(a,b.text.length-1-(b.to.line-b.from.line)),void 0;if(!(b.from.line>a.lastLine())){if(b.from.line<a.first){var e=b.text.length-1-(a.first-b.from.line);Ud(a,e),b={from:nb(a.first,0),to:nb(b.to.line+e,b.to.ch),text:[Jg(b.text)],origin:b.origin}}var f=a.lastLine();b.to.line>f&&(b={from:b.from,to:nb(f,Of(a,f).text.length),text:[b.text[0]],origin:b.origin}),b.removed=Pf(a,b.from,b.to),c||(c=Nd(a,b)),a.cm?Wd(a.cm,b,d):Ff(a,b,d),Jb(a,c,Bg)}}function Wd(a,b,c){var d=a.doc,e=a.display,f=b.from,g=b.to,h=!1,i=f.line;a.options.lineWrapping||(i=Sf(_e(Of(d,f.line))),d.iter(i,g.line+1,function(a){return a==e.maxLine?(h=!0,!0):void 0})),d.sel.contains(b.from,b.to)>-1&&wg(a),Ff(d,b,c,B(a)),a.options.lineWrapping||(d.iter(i,f.line+b.text.length,function(a){var b=I(a);b>e.maxLineLength&&(e.maxLine=a,e.maxLineLength=b,e.maxLineChanged=!0,h=!1)}),h&&(a.curOp.updateMaxLine=!0)),d.frontier=Math.min(d.frontier,f.line),Ub(a,400);var j=b.text.length-(g.line-f.line)-1;f.line!=g.line||1!=b.text.length||Ef(a.doc,b)?Qc(a,f.line,g.line+1,j):Rc(a,f.line,"text");var k=xg(a,"changes"),l=xg(a,"change");if(l||k){var m={from:f,to:g,text:b.text,removed:b.removed,origin:b.origin};l&&tg(a,"change",a,m),k&&(a.curOp.changeObjs||(a.curOp.changeObjs=[])).push(m)}a.display.selForContextMenu=null}function Xd(a,b,c,d,e){if(d||(d=c),ob(d,c)<0){var f=d;d=c,c=f}"string"==typeof b&&(b=ph(b)),Rd(a,{from:c,to:d,text:b,origin:e})}function Yd(a,b){var c=a.display,d=c.sizer.getBoundingClientRect(),e=null;if(b.top+d.top<0?e=!0:b.bottom+d.top>(window.innerHeight||document.documentElement.clientHeight)&&(e=!1),null!=e&&!m){var f=Wg("div","\u200b",null,"position: absolute; top: "+(b.top-c.viewOffset-Yb(a.display))+"px; height: "+(b.bottom-b.top+zg)+"px; left: "+b.left+"px; width: 2px;");a.display.lineSpace.appendChild(f),f.scrollIntoView(e),a.display.lineSpace.removeChild(f)}}function Zd(a,b,c,d){null==d&&(d=0);for(var e=0;5>e;e++){var f=!1,g=rc(a,b),h=c&&c!=b?rc(a,c):g,i=_d(a,Math.min(g.left,h.left),Math.min(g.top,h.top)-d,Math.max(g.left,h.left),Math.max(g.bottom,h.bottom)+d),j=a.doc.scrollTop,k=a.doc.scrollLeft;if(null!=i.scrollTop&&(sd(a,i.scrollTop),Math.abs(a.doc.scrollTop-j)>1&&(f=!0)),null!=i.scrollLeft&&(td(a,i.scrollLeft),Math.abs(a.doc.scrollLeft-k)>1&&(f=!0)),!f)return g}}function $d(a,b,c,d,e){var f=_d(a,b,c,d,e);null!=f.scrollTop&&sd(a,f.scrollTop),null!=f.scrollLeft&&td(a,f.scrollLeft)}function _d(a,b,c,d,e){var f=a.display,g=xc(a.display);0>c&&(c=0);var h=a.curOp&&null!=a.curOp.scrollTop?a.curOp.scrollTop:f.scroller.scrollTop,i=f.scroller.clientHeight-zg,j={};e-c>i&&(e=c+i);var k=a.doc.height+Zb(f),l=g>c,m=e>k-g;if(h>c)j.scrollTop=l?0:c;else if(e>h+i){var n=Math.min(c,(m?k:e)-i);n!=h&&(j.scrollTop=n)}var o=a.curOp&&null!=a.curOp.scrollLeft?a.curOp.scrollLeft:f.scroller.scrollLeft,p=f.scroller.clientWidth-zg-f.gutters.offsetWidth,q=d-b>p;return q&&(d=b+p),10>b?j.scrollLeft=0:o>b?j.scrollLeft=Math.max(0,b-(q?0:10)):d>p+o-3&&(j.scrollLeft=d+(q?0:10)-p),j}function ae(a,b,c){(null!=b||null!=c)&&ce(a),null!=b&&(a.curOp.scrollLeft=(null==a.curOp.scrollLeft?a.doc.scrollLeft:a.curOp.scrollLeft)+b),null!=c&&(a.curOp.scrollTop=(null==a.curOp.scrollTop?a.doc.scrollTop:a.curOp.scrollTop)+c)}function be(a){ce(a);var b=a.getCursor(),c=b,d=b;a.options.lineWrapping||(c=b.ch?nb(b.line,b.ch-1):b,d=nb(b.line,b.ch+1)),a.curOp.scrollToPos={from:c,to:d,margin:a.options.cursorScrollMargin,isCursor:!0}}function ce(a){var b=a.curOp.scrollToPos;if(b){a.curOp.scrollToPos=null;var c=sc(a,b.from),d=sc(a,b.to),e=_d(a,Math.min(c.left,d.left),Math.min(c.top,d.top)-b.margin,Math.max(c.right,d.right),Math.max(c.bottom,d.bottom)+b.margin);a.scrollTo(e.scrollLeft,e.scrollTop)}}function de(a,b,c,d){var f,e=a.doc;null==c&&(c="add"),"smart"==c&&(e.mode.indent?f=Xb(a,b):c="prev");var g=a.options.tabSize,h=Of(e,b),i=Fg(h.text,null,g);h.stateAfter&&(h.stateAfter=null);var k,j=h.text.match(/^\s*/)[0];if(d||/\S/.test(h.text)){if("smart"==c&&(k=e.mode.indent(f,h.text.slice(j.length),h.text),k==Ag||k>150)){if(!d)return;c="prev"}}else k=0,c="not";"prev"==c?k=b>e.first?Fg(Of(e,b-1).text,null,g):0:"add"==c?k=i+a.options.indentUnit:"subtract"==c?k=i-a.options.indentUnit:"number"==typeof c&&(k=i+c),k=Math.max(0,k);var l="",m=0;if(a.options.indentWithTabs)for(var n=Math.floor(k/g);n;--n)m+=g,l+="	";if(k>m&&(l+=Ig(k-m)),l!=j)Xd(e,l,nb(b,0),nb(b,j.length),"+input");else for(var n=0;n<e.sel.ranges.length;n++){var o=e.sel.ranges[n];if(o.head.line==b&&o.head.ch<j.length){var m=nb(b,j.length);Eb(e,n,new tb(m,m));break}}h.stateAfter=null}function ee(a,b,c,d){var e=b,f=b;return"number"==typeof b?f=Of(a,wb(a,b)):e=Sf(b),null==e?null:(d(f,e)&&a.cm&&Rc(a.cm,e,c),f)}function fe(a,b){for(var c=a.doc.sel.ranges,d=[],e=0;e<c.length;e++){for(var f=b(c[e]);d.length&&ob(f.from,Jg(d).to)<=0;){var g=d.pop();if(ob(g.from,f.from)<0){f.from=g.from;break}}d.push(f)}Kc(a,function(){for(var b=d.length-1;b>=0;b--)Xd(a.doc,"",d[b].from,d[b].to,"+delete");be(a)})}function ge(a,b,c,d,e){function k(){var b=f+c;return b<a.first||b>=a.first+a.size?j=!1:(f=b,i=Of(a,b))}function l(a){var b=(e?Hh:Ih)(i,g,c,!0);if(null==b){if(a||!k())return j=!1;g=e?(0>c?zh:yh)(i):0>c?i.text.length:0}else g=b;return!0}var f=b.line,g=b.ch,h=c,i=Of(a,f),j=!0;if("char"==d)l();else if("column"==d)l(!0);else if("word"==d||"group"==d)for(var m=null,n="group"==d,o=a.cm&&a.cm.getHelper(b,"wordChars"),p=!0;!(0>c)||l(!p);p=!1){var q=i.text.charAt(g)||"\n",r=Sg(q,o)?"w":n&&"\n"==q?"n":!n||/\s/.test(q)?null:"p";if(!n||p||r||(r="s"),m&&m!=r){0>c&&(c=1,l());break}if(r&&(m=r),c>0&&!l(!p))break}var s=Nb(a,nb(f,g),h,!0);return j||(s.hitSide=!0),s}function he(a,b,c,d){var g,e=a.doc,f=b.left;if("page"==d){var h=Math.min(a.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);g=b.top+c*(h-(0>c?1.5:.5)*xc(a.display))}else"line"==d&&(g=c>0?b.bottom+3:b.top-3);for(;;){var i=uc(a,f,g);if(!i.outside)break;if(0>c?0>=g:g>=e.height){i.hitSide=!0;break}g+=5*c}return i}function ke(a,b,c,d){w.defaults[a]=b,c&&(je[a]=d?function(a,b,d){d!=le&&c(a,b,d)}:c)}function ve(a){return"string"==typeof a?ue[a]:a}function Ce(a,b,c,d,e){if(d&&d.shared)return Ee(a,b,c,d,e);if(a.cm&&!a.cm.curOp)return Lc(a.cm,Ce)(a,b,c,d,e);var f=new Ae(a,e),g=ob(b,c);if(d&&Og(d,f,!1),g>0||0==g&&f.clearWhenEmpty!==!1)return f;if(f.replacedWith&&(f.collapsed=!0,f.widgetNode=Wg("span",[f.replacedWith],"CodeMirror-widget"),d.handleMouseEvents||(f.widgetNode.ignoreEvents=!0),d.insertLeft&&(f.widgetNode.insertLeft=!0)),f.collapsed){if($e(a,b.line,b,c,f)||b.line!=c.line&&$e(a,c.line,b,c,f))throw new Error("Inserting collapsed marker partially overlapping an existing one");v=!0}f.addToHistory&&$f(a,{from:b,to:c,origin:"markText"},a.sel,0/0);var j,h=b.line,i=a.cm;if(a.iter(h,c.line+1,function(a){i&&f.collapsed&&!i.options.lineWrapping&&_e(a)==i.display.maxLine&&(j=!0),f.collapsed&&h!=b.line&&Rf(a,0),Le(a,new Ie(f,h==b.line?b.ch:null,h==c.line?c.ch:null)),++h}),f.collapsed&&a.iter(b.line,c.line+1,function(b){df(a,b)&&Rf(b,0)
}),f.clearOnEnter&&pg(f,"beforeCursorEnter",function(){f.clear()}),f.readOnly&&(u=!0,(a.history.done.length||a.history.undone.length)&&a.clearHistory()),f.collapsed&&(f.id=++Be,f.atomic=!0),i){if(j&&(i.curOp.updateMaxLine=!0),f.collapsed)Qc(i,b.line,c.line+1);else if(f.className||f.title||f.startStyle||f.endStyle)for(var k=b.line;k<=c.line;k++)Rc(i,k,"text");f.atomic&&Lb(i.doc),tg(i,"markerAdded",i,f)}return f}function Ee(a,b,c,d,e){d=Og(d),d.shared=!1;var f=[Ce(a,b,c,d,e)],g=f[0],h=d.widgetNode;return Mf(a,function(a){h&&(d.widgetNode=h.cloneNode(!0)),f.push(Ce(a,xb(a,b),xb(a,c),d,e));for(var i=0;i<a.linked.length;++i)if(a.linked[i].isParent)return;g=Jg(f)}),new De(f,g)}function Fe(a){return a.findMarks(nb(a.first,0),a.clipPos(nb(a.lastLine())),function(a){return a.parent})}function Ge(a,b){for(var c=0;c<b.length;c++){var d=b[c],e=d.find(),f=a.clipPos(e.from),g=a.clipPos(e.to);if(ob(f,g)){var h=Ce(a,f,g,d.primary,d.primary.type);d.markers.push(h),h.parent=d}}}function He(a){for(var b=0;b<a.length;b++){var c=a[b],d=[c.primary.doc];Mf(c.primary.doc,function(a){d.push(a)});for(var e=0;e<c.markers.length;e++){var f=c.markers[e];-1==Lg(d,f.doc)&&(f.parent=null,c.markers.splice(e--,1))}}}function Ie(a,b,c){this.marker=a,this.from=b,this.to=c}function Je(a,b){if(a)for(var c=0;c<a.length;++c){var d=a[c];if(d.marker==b)return d}}function Ke(a,b){for(var c,d=0;d<a.length;++d)a[d]!=b&&(c||(c=[])).push(a[d]);return c}function Le(a,b){a.markedSpans=a.markedSpans?a.markedSpans.concat([b]):[b],b.marker.attachLine(a)}function Me(a,b,c){if(a)for(var e,d=0;d<a.length;++d){var f=a[d],g=f.marker,h=null==f.from||(g.inclusiveLeft?f.from<=b:f.from<b);if(h||f.from==b&&"bookmark"==g.type&&(!c||!f.marker.insertLeft)){var i=null==f.to||(g.inclusiveRight?f.to>=b:f.to>b);(e||(e=[])).push(new Ie(g,f.from,i?null:f.to))}}return e}function Ne(a,b,c){if(a)for(var e,d=0;d<a.length;++d){var f=a[d],g=f.marker,h=null==f.to||(g.inclusiveRight?f.to>=b:f.to>b);if(h||f.from==b&&"bookmark"==g.type&&(!c||f.marker.insertLeft)){var i=null==f.from||(g.inclusiveLeft?f.from<=b:f.from<b);(e||(e=[])).push(new Ie(g,i?null:f.from-b,null==f.to?null:f.to-b))}}return e}function Oe(a,b){var c=zb(a,b.from.line)&&Of(a,b.from.line).markedSpans,d=zb(a,b.to.line)&&Of(a,b.to.line).markedSpans;if(!c&&!d)return null;var e=b.from.ch,f=b.to.ch,g=0==ob(b.from,b.to),h=Me(c,e,g),i=Ne(d,f,g),j=1==b.text.length,k=Jg(b.text).length+(j?e:0);if(h)for(var l=0;l<h.length;++l){var m=h[l];if(null==m.to){var n=Je(i,m.marker);n?j&&(m.to=null==n.to?null:n.to+k):m.to=e}}if(i)for(var l=0;l<i.length;++l){var m=i[l];if(null!=m.to&&(m.to+=k),null==m.from){var n=Je(h,m.marker);n||(m.from=k,j&&(h||(h=[])).push(m))}else m.from+=k,j&&(h||(h=[])).push(m)}h&&(h=Pe(h)),i&&i!=h&&(i=Pe(i));var o=[h];if(!j){var q,p=b.text.length-2;if(p>0&&h)for(var l=0;l<h.length;++l)null==h[l].to&&(q||(q=[])).push(new Ie(h[l].marker,null,null));for(var l=0;p>l;++l)o.push(q);o.push(i)}return o}function Pe(a){for(var b=0;b<a.length;++b){var c=a[b];null!=c.from&&c.from==c.to&&c.marker.clearWhenEmpty!==!1&&a.splice(b--,1)}return a.length?a:null}function Qe(a,b){var c=eg(a,b),d=Oe(a,b);if(!c)return d;if(!d)return c;for(var e=0;e<c.length;++e){var f=c[e],g=d[e];if(f&&g)a:for(var h=0;h<g.length;++h){for(var i=g[h],j=0;j<f.length;++j)if(f[j].marker==i.marker)continue a;f.push(i)}else g&&(c[e]=g)}return c}function Re(a,b,c){var d=null;if(a.iter(b.line,c.line+1,function(a){if(a.markedSpans)for(var b=0;b<a.markedSpans.length;++b){var c=a.markedSpans[b].marker;!c.readOnly||d&&-1!=Lg(d,c)||(d||(d=[])).push(c)}}),!d)return null;for(var e=[{from:b,to:c}],f=0;f<d.length;++f)for(var g=d[f],h=g.find(0),i=0;i<e.length;++i){var j=e[i];if(!(ob(j.to,h.from)<0||ob(j.from,h.to)>0)){var k=[i,1],l=ob(j.from,h.from),m=ob(j.to,h.to);(0>l||!g.inclusiveLeft&&!l)&&k.push({from:j.from,to:h.from}),(m>0||!g.inclusiveRight&&!m)&&k.push({from:h.to,to:j.to}),e.splice.apply(e,k),i+=k.length-1}}return e}function Se(a){var b=a.markedSpans;if(b){for(var c=0;c<b.length;++c)b[c].marker.detachLine(a);a.markedSpans=null}}function Te(a,b){if(b){for(var c=0;c<b.length;++c)b[c].marker.attachLine(a);a.markedSpans=b}}function Ue(a){return a.inclusiveLeft?-1:0}function Ve(a){return a.inclusiveRight?1:0}function We(a,b){var c=a.lines.length-b.lines.length;if(0!=c)return c;var d=a.find(),e=b.find(),f=ob(d.from,e.from)||Ue(a)-Ue(b);if(f)return-f;var g=ob(d.to,e.to)||Ve(a)-Ve(b);return g?g:b.id-a.id}function Xe(a,b){var d,c=v&&a.markedSpans;if(c)for(var e,f=0;f<c.length;++f)e=c[f],e.marker.collapsed&&null==(b?e.from:e.to)&&(!d||We(d,e.marker)<0)&&(d=e.marker);return d}function Ye(a){return Xe(a,!0)}function Ze(a){return Xe(a,!1)}function $e(a,b,c,d,e){var f=Of(a,b),g=v&&f.markedSpans;if(g)for(var h=0;h<g.length;++h){var i=g[h];if(i.marker.collapsed){var j=i.marker.find(0),k=ob(j.from,c)||Ue(i.marker)-Ue(e),l=ob(j.to,d)||Ve(i.marker)-Ve(e);if(!(k>=0&&0>=l||0>=k&&l>=0)&&(0>=k&&(ob(j.to,c)>0||i.marker.inclusiveRight&&e.inclusiveLeft)||k>=0&&(ob(j.from,d)<0||i.marker.inclusiveLeft&&e.inclusiveRight)))return!0}}}function _e(a){for(var b;b=Ye(a);)a=b.find(-1,!0).line;return a}function af(a){for(var b,c;b=Ze(a);)a=b.find(1,!0).line,(c||(c=[])).push(a);return c}function bf(a,b){var c=Of(a,b),d=_e(c);return c==d?b:Sf(d)}function cf(a,b){if(b>a.lastLine())return b;var d,c=Of(a,b);if(!df(a,c))return b;for(;d=Ze(c);)c=d.find(1,!0).line;return Sf(c)+1}function df(a,b){var c=v&&b.markedSpans;if(c)for(var d,e=0;e<c.length;++e)if(d=c[e],d.marker.collapsed){if(null==d.from)return!0;if(!d.marker.widgetNode&&0==d.from&&d.marker.inclusiveLeft&&ef(a,b,d))return!0}}function ef(a,b,c){if(null==c.to){var d=c.marker.find(1,!0);return ef(a,d.line,Je(d.line.markedSpans,c.marker))}if(c.marker.inclusiveRight&&c.to==b.text.length)return!0;for(var e,f=0;f<b.markedSpans.length;++f)if(e=b.markedSpans[f],e.marker.collapsed&&!e.marker.widgetNode&&e.from==c.to&&(null==e.to||e.to!=c.from)&&(e.marker.inclusiveLeft||c.marker.inclusiveRight)&&ef(a,b,e))return!0}function gf(a,b,c){Uf(b)<(a.curOp&&a.curOp.scrollTop||a.doc.scrollTop)&&ae(a,null,c)}function hf(a){if(null!=a.height)return a.height;if(!$g(document.body,a.node)){var b="position: relative;";a.coverGutter&&(b+="margin-left: -"+a.cm.getGutterElement().offsetWidth+"px;"),Zg(a.cm.display.measure,Wg("div",[a.node],null,b))}return a.height=a.node.offsetHeight}function jf(a,b,c,d){var e=new ff(a,c,d);return e.noHScroll&&(a.display.alignWidgets=!0),ee(a.doc,b,"widget",function(b){var c=b.widgets||(b.widgets=[]);if(null==e.insertAt?c.push(e):c.splice(Math.min(c.length-1,Math.max(0,e.insertAt)),0,e),e.line=b,!df(a.doc,b)){var d=Uf(b)<a.doc.scrollTop;Rf(b,b.height+hf(e)),d&&ae(a,null,e.height),a.curOp.forceUpdate=!0}return!0}),e}function lf(a,b,c,d){a.text=b,a.stateAfter&&(a.stateAfter=null),a.styles&&(a.styles=null),null!=a.order&&(a.order=null),Se(a),Te(a,c);var e=d?d(a):1;e!=a.height&&Rf(a,e)}function mf(a){a.parent=null,Se(a)}function nf(a,b){if(a)for(;;){var c=a.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!c)break;a=a.slice(0,c.index)+a.slice(c.index+c[0].length);var d=c[1]?"bgClass":"textClass";null==b[d]?b[d]=c[2]:new RegExp("(?:^|s)"+c[2]+"(?:$|s)").test(b[d])||(b[d]+=" "+c[2])}return a}function of(a,b){if(a.blankLine)return a.blankLine(b);if(a.innerMode){var c=w.innerMode(a,b);return c.mode.blankLine?c.mode.blankLine(c.state):void 0}}function pf(a,b,c){for(var d=0;10>d;d++){var e=a.token(b,c);if(b.pos>b.start)return e}throw new Error("Mode "+a.name+" failed to advance stream.")}function qf(a,b,c,d,e,f,g){var h=c.flattenSpans;null==h&&(h=a.options.flattenSpans);var l,i=0,j=null,k=new ze(b,a.options.tabSize);for(""==b&&nf(of(c,d),f);!k.eol();){if(k.pos>a.options.maxHighlightLength?(h=!1,g&&tf(a,b,d,k.pos),k.pos=b.length,l=null):l=nf(pf(c,k,d),f),a.options.addModeClass){var m=w.innerMode(c,d).mode.name;m&&(l="m-"+(l?m+" "+l:m))}h&&j==l||(i<k.start&&e(k.start,j),i=k.start,j=l),k.start=k.pos}for(;i<k.pos;){var n=Math.min(k.pos,i+5e4);e(n,j),i=n}}function rf(a,b,c,d){var e=[a.state.modeGen],f={};qf(a,b.text,a.doc.mode,c,function(a,b){e.push(a,b)},f,d);for(var g=0;g<a.state.overlays.length;++g){var h=a.state.overlays[g],i=1,j=0;qf(a,b.text,h.mode,!0,function(a,b){for(var c=i;a>j;){var d=e[i];d>a&&e.splice(i,1,a,e[i+1],d),i+=2,j=Math.min(a,d)}if(b)if(h.opaque)e.splice(c,i-c,a,"cm-overlay "+b),i=c+2;else for(;i>c;c+=2){var f=e[c+1];e[c+1]=(f?f+" ":"")+"cm-overlay "+b}},f)}return{styles:e,classes:f.bgClass||f.textClass?f:null}}function sf(a,b){if(!b.styles||b.styles[0]!=a.state.modeGen){var c=rf(a,b,b.stateAfter=Xb(a,Sf(b)));b.styles=c.styles,c.classes?b.styleClasses=c.classes:b.styleClasses&&(b.styleClasses=null)}return b.styles}function tf(a,b,c,d){var e=a.doc.mode,f=new ze(b,a.options.tabSize);for(f.start=f.pos=d||0,""==b&&of(e,c);!f.eol()&&f.pos<=a.options.maxHighlightLength;)pf(e,f,c),f.start=f.pos}function wf(a,b){if(!a||/^\s*$/.test(a))return null;var c=b.addModeClass?vf:uf;return c[a]||(c[a]=a.replace(/\S+/g,"cm-$&"))}function xf(a,b){var c=Wg("span",null,null,f?"padding-right: .1px":null),e={pre:Wg("pre",[c]),content:c,col:0,pos:0,cm:a};b.measure={};for(var g=0;g<=(b.rest?b.rest.length:0);g++){var i,h=g?b.rest[g-1]:b.line;e.pos=0,e.addToken=zf,(d||f)&&a.getOption("lineWrapping")&&(e.addToken=Af(e.addToken)),oh(a.display.measure)&&(i=Vf(h))&&(e.addToken=Bf(e.addToken,i)),e.map=[],Df(h,e,sf(a,h)),h.styleClasses&&(h.styleClasses.bgClass&&(e.bgClass=dh(h.styleClasses.bgClass,e.bgClass||"")),h.styleClasses.textClass&&(e.textClass=dh(h.styleClasses.textClass,e.textClass||""))),0==e.map.length&&e.map.push(0,0,e.content.appendChild(mh(a.display.measure))),0==g?(b.measure.map=e.map,b.measure.cache={}):((b.measure.maps||(b.measure.maps=[])).push(e.map),(b.measure.caches||(b.measure.caches=[])).push({}))}return rg(a,"renderLine",a,b.line,e.pre),e.pre.className&&(e.textClass=dh(e.pre.className,e.textClass||"")),e}function yf(a){var b=Wg("span","\u2022","cm-invalidchar");return b.title="\\u"+a.charCodeAt(0).toString(16),b}function zf(a,b,c,f,g,h){if(b){var i=a.cm.options.specialChars,j=!1;if(i.test(b))for(var k=document.createDocumentFragment(),l=0;;){i.lastIndex=l;var m=i.exec(b),n=m?m.index-l:b.length-l;if(n){var o=document.createTextNode(b.slice(l,l+n));d&&9>e?k.appendChild(Wg("span",[o])):k.appendChild(o),a.map.push(a.pos,a.pos+n,o),a.col+=n,a.pos+=n}if(!m)break;if(l+=n+1,"	"==m[0]){var p=a.cm.options.tabSize,q=p-a.col%p,o=k.appendChild(Wg("span",Ig(q),"cm-tab"));a.col+=q}else{var o=a.cm.options.specialCharPlaceholder(m[0]);d&&9>e?k.appendChild(Wg("span",[o])):k.appendChild(o),a.col+=1}a.map.push(a.pos,a.pos+1,o),a.pos++}else{a.col+=b.length;var k=document.createTextNode(b);a.map.push(a.pos,a.pos+b.length,k),d&&9>e&&(j=!0),a.pos+=b.length}if(c||f||g||j){var r=c||"";f&&(r+=f),g&&(r+=g);var s=Wg("span",[k],r);return h&&(s.title=h),a.content.appendChild(s)}a.content.appendChild(k)}}function Af(a){function b(a){for(var b=" ",c=0;c<a.length-2;++c)b+=c%2?" ":"\xa0";return b+=" "}return function(c,d,e,f,g,h){a(c,d.replace(/ {3,}/g,b),e,f,g,h)}}function Bf(a,b){return function(c,d,e,f,g,h){e=e?e+" cm-force-border":"cm-force-border";for(var i=c.pos,j=i+d.length;;){for(var k=0;k<b.length;k++){var l=b[k];if(l.to>i&&l.from<=i)break}if(l.to>=j)return a(c,d,e,f,g,h);a(c,d.slice(0,l.to-i),e,f,null,h),f=null,d=d.slice(l.to-i),i=l.to}}}function Cf(a,b,c,d){var e=!d&&c.widgetNode;e&&(a.map.push(a.pos,a.pos+b,e),a.content.appendChild(e)),a.pos+=b}function Df(a,b,c){var d=a.markedSpans,e=a.text,f=0;if(d)for(var k,m,n,o,p,q,h=e.length,i=0,g=1,j="",l=0;;){if(l==i){m=n=o=p="",q=null,l=1/0;for(var r=[],s=0;s<d.length;++s){var t=d[s],u=t.marker;t.from<=i&&(null==t.to||t.to>i)?(null!=t.to&&l>t.to&&(l=t.to,n=""),u.className&&(m+=" "+u.className),u.startStyle&&t.from==i&&(o+=" "+u.startStyle),u.endStyle&&t.to==l&&(n+=" "+u.endStyle),u.title&&!p&&(p=u.title),u.collapsed&&(!q||We(q.marker,u)<0)&&(q=t)):t.from>i&&l>t.from&&(l=t.from),"bookmark"==u.type&&t.from==i&&u.widgetNode&&r.push(u)}if(q&&(q.from||0)==i&&(Cf(b,(null==q.to?h+1:q.to)-i,q.marker,null==q.from),null==q.to))return;if(!q&&r.length)for(var s=0;s<r.length;++s)Cf(b,0,r[s])}if(i>=h)break;for(var v=Math.min(h,l);;){if(j){var w=i+j.length;if(!q){var x=w>v?j.slice(0,v-i):j;b.addToken(b,x,k?k+m:m,o,i+x.length==l?n:"",p)}if(w>=v){j=j.slice(v-i),i=v;break}i=w,o=""}j=e.slice(f,f=c[g++]),k=wf(c[g++],b.cm.options)}}else for(var g=1;g<c.length;g+=2)b.addToken(b,e.slice(f,f=c[g]),wf(c[g+1],b.cm.options))}function Ef(a,b){return 0==b.from.ch&&0==b.to.ch&&""==Jg(b.text)&&(!a.cm||a.cm.options.wholeLineUpdateBefore)}function Ff(a,b,c,d){function e(a){return c?c[a]:null}function f(a,c,e){lf(a,c,e,d),tg(a,"change",a,b)}var g=b.from,h=b.to,i=b.text,j=Of(a,g.line),k=Of(a,h.line),l=Jg(i),m=e(i.length-1),n=h.line-g.line;if(Ef(a,b)){for(var o=0,p=[];o<i.length-1;++o)p.push(new kf(i[o],e(o),d));f(k,k.text,m),n&&a.remove(g.line,n),p.length&&a.insert(g.line,p)}else if(j==k)if(1==i.length)f(j,j.text.slice(0,g.ch)+l+j.text.slice(h.ch),m);else{for(var p=[],o=1;o<i.length-1;++o)p.push(new kf(i[o],e(o),d));p.push(new kf(l+j.text.slice(h.ch),m,d)),f(j,j.text.slice(0,g.ch)+i[0],e(0)),a.insert(g.line+1,p)}else if(1==i.length)f(j,j.text.slice(0,g.ch)+i[0]+k.text.slice(h.ch),e(0)),a.remove(g.line+1,n);else{f(j,j.text.slice(0,g.ch)+i[0],e(0)),f(k,l+k.text.slice(h.ch),m);for(var o=1,p=[];o<i.length-1;++o)p.push(new kf(i[o],e(o),d));n>1&&a.remove(g.line+1,n-1),a.insert(g.line+1,p)}tg(a,"change",a,b)}function Gf(a){this.lines=a,this.parent=null;for(var b=0,c=0;b<a.length;++b)a[b].parent=this,c+=a[b].height;this.height=c}function Hf(a){this.children=a;for(var b=0,c=0,d=0;d<a.length;++d){var e=a[d];b+=e.chunkSize(),c+=e.height,e.parent=this}this.size=b,this.height=c,this.parent=null}function Mf(a,b,c){function d(a,e,f){if(a.linked)for(var g=0;g<a.linked.length;++g){var h=a.linked[g];if(h.doc!=e){var i=f&&h.sharedHist;(!c||i)&&(b(h.doc,i),d(h.doc,a,i))}}}d(a,null,!0)}function Nf(a,b){if(b.cm)throw new Error("This document is already in use.");a.doc=b,b.cm=a,C(a),y(a),a.options.lineWrapping||J(a),a.options.mode=b.modeOption,Qc(a)}function Of(a,b){if(b-=a.first,0>b||b>=a.size)throw new Error("There is no line "+(b+a.first)+" in the document.");for(var c=a;!c.lines;)for(var d=0;;++d){var e=c.children[d],f=e.chunkSize();if(f>b){c=e;break}b-=f}return c.lines[b]}function Pf(a,b,c){var d=[],e=b.line;return a.iter(b.line,c.line+1,function(a){var f=a.text;e==c.line&&(f=f.slice(0,c.ch)),e==b.line&&(f=f.slice(b.ch)),d.push(f),++e}),d}function Qf(a,b,c){var d=[];return a.iter(b,c,function(a){d.push(a.text)}),d}function Rf(a,b){var c=b-a.height;if(c)for(var d=a;d;d=d.parent)d.height+=c}function Sf(a){if(null==a.parent)return null;for(var b=a.parent,c=Lg(b.lines,a),d=b.parent;d;b=d,d=d.parent)for(var e=0;d.children[e]!=b;++e)c+=d.children[e].chunkSize();return c+b.first}function Tf(a,b){var c=a.first;a:do{for(var d=0;d<a.children.length;++d){var e=a.children[d],f=e.height;if(f>b){a=e;continue a}b-=f,c+=e.chunkSize()}return c}while(!a.lines);for(var d=0;d<a.lines.length;++d){var g=a.lines[d],h=g.height;if(h>b)break;b-=h}return c+d}function Uf(a){a=_e(a);for(var b=0,c=a.parent,d=0;d<c.lines.length;++d){var e=c.lines[d];if(e==a)break;b+=e.height}for(var f=c.parent;f;c=f,f=c.parent)for(var d=0;d<f.children.length;++d){var g=f.children[d];if(g==c)break;b+=g.height}return b}function Vf(a){var b=a.order;return null==b&&(b=a.order=Jh(a.text)),b}function Wf(a){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=a||1}function Xf(a,b){var c={from:pb(b.from),to:Ld(b),text:Pf(a,b.from,b.to)};return cg(a,c,b.from.line,b.to.line+1),Mf(a,function(a){cg(a,c,b.from.line,b.to.line+1)},!0),c}function Yf(a){for(;a.length;){var b=Jg(a);if(!b.ranges)break;a.pop()}}function Zf(a,b){return b?(Yf(a.done),Jg(a.done)):a.done.length&&!Jg(a.done).ranges?Jg(a.done):a.done.length>1&&!a.done[a.done.length-2].ranges?(a.done.pop(),Jg(a.done)):void 0}function $f(a,b,c,d){var e=a.history;e.undone.length=0;var g,f=+new Date;if((e.lastOp==d||e.lastOrigin==b.origin&&b.origin&&("+"==b.origin.charAt(0)&&a.cm&&e.lastModTime>f-a.cm.options.historyEventDelay||"*"==b.origin.charAt(0)))&&(g=Zf(e,e.lastOp==d))){var h=Jg(g.changes);0==ob(b.from,b.to)&&0==ob(b.from,h.to)?h.to=Ld(b):g.changes.push(Xf(a,b))}else{var i=Jg(e.done);for(i&&i.ranges||bg(a.sel,e.done),g={changes:[Xf(a,b)],generation:e.generation},e.done.push(g);e.done.length>e.undoDepth;)e.done.shift(),e.done[0].ranges||e.done.shift()}e.done.push(c),e.generation=++e.maxGeneration,e.lastModTime=e.lastSelTime=f,e.lastOp=e.lastSelOp=d,e.lastOrigin=e.lastSelOrigin=b.origin,h||rg(a,"historyAdded")}function _f(a,b,c,d){var e=b.charAt(0);return"*"==e||"+"==e&&c.ranges.length==d.ranges.length&&c.somethingSelected()==d.somethingSelected()&&new Date-a.history.lastSelTime<=(a.cm?a.cm.options.historyEventDelay:500)}function ag(a,b,c,d){var e=a.history,f=d&&d.origin;c==e.lastSelOp||f&&e.lastSelOrigin==f&&(e.lastModTime==e.lastSelTime&&e.lastOrigin==f||_f(a,f,Jg(e.done),b))?e.done[e.done.length-1]=b:bg(b,e.done),e.lastSelTime=+new Date,e.lastSelOrigin=f,e.lastSelOp=c,d&&d.clearRedo!==!1&&Yf(e.undone)}function bg(a,b){var c=Jg(b);c&&c.ranges&&c.equals(a)||b.push(a)}function cg(a,b,c,d){var e=b["spans_"+a.id],f=0;a.iter(Math.max(a.first,c),Math.min(a.first+a.size,d),function(c){c.markedSpans&&((e||(e=b["spans_"+a.id]={}))[f]=c.markedSpans),++f})}function dg(a){if(!a)return null;for(var c,b=0;b<a.length;++b)a[b].marker.explicitlyCleared?c||(c=a.slice(0,b)):c&&c.push(a[b]);return c?c.length?c:null:a}function eg(a,b){var c=b["spans_"+a.id];if(!c)return null;for(var d=0,e=[];d<b.text.length;++d)e.push(dg(c[d]));return e}function fg(a,b,c){for(var d=0,e=[];d<a.length;++d){var f=a[d];if(f.ranges)e.push(c?sb.prototype.deepCopy.call(f):f);else{var g=f.changes,h=[];e.push({changes:h});for(var i=0;i<g.length;++i){var k,j=g[i];if(h.push({from:j.from,to:j.to,text:j.text}),b)for(var l in j)(k=l.match(/^spans_(\d+)$/))&&Lg(b,Number(k[1]))>-1&&(Jg(h)[l]=j[l],delete j[l])}}}return e}function gg(a,b,c,d){c<a.line?a.line+=d:b<a.line&&(a.line=b,a.ch=0)}function hg(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e],g=!0;if(f.ranges){f.copied||(f=a[e]=f.deepCopy(),f.copied=!0);for(var h=0;h<f.ranges.length;h++)gg(f.ranges[h].anchor,b,c,d),gg(f.ranges[h].head,b,c,d)}else{for(var h=0;h<f.changes.length;++h){var i=f.changes[h];if(c<i.from.line)i.from=nb(i.from.line+d,i.from.ch),i.to=nb(i.to.line+d,i.to.ch);else if(b<=i.to.line){g=!1;break}}g||(a.splice(0,e+1),e=0)}}}function ig(a,b){var c=b.from.line,d=b.to.line,e=b.text.length-(d-c)-1;hg(a.done,c,d,e),hg(a.undone,c,d,e)}function lg(a){return null!=a.defaultPrevented?a.defaultPrevented:0==a.returnValue}function ng(a){return a.target||a.srcElement}function og(a){var b=a.which;return null==b&&(1&a.button?b=1:2&a.button?b=3:4&a.button&&(b=2)),p&&a.ctrlKey&&1==b&&(b=3),b}function tg(a,b){function f(a){return function(){a.apply(null,d)}}var c=a._handlers&&a._handlers[b];if(c){var e,d=Array.prototype.slice.call(arguments,2);zc?e=zc.delayedCallbacks:sg?e=sg:(e=sg=[],setTimeout(ug,0));for(var g=0;g<c.length;++g)e.push(f(c[g]))}}function ug(){var a=sg;sg=null;for(var b=0;b<a.length;++b)a[b]()}function vg(a,b,c){return rg(a,c||b.type,a,b),lg(b)||b.codemirrorIgnore}function wg(a){var b=a._handlers&&a._handlers.cursorActivity;if(b)for(var c=a.curOp.cursorActivityHandlers||(a.curOp.cursorActivityHandlers=[]),d=0;d<b.length;++d)-1==Lg(c,b[d])&&c.push(b[d])}function xg(a,b){var c=a._handlers&&a._handlers[b];return c&&c.length>0}function yg(a){a.prototype.on=function(a,b){pg(this,a,b)},a.prototype.off=function(a,b){qg(this,a,b)}}function Eg(){this.id=null}function Gg(a,b,c){for(var d=0,e=0;;){var f=a.indexOf("	",d);-1==f&&(f=a.length);var g=f-d;if(f==a.length||e+g>=b)return d+Math.min(g,b-e);if(e+=f-d,e+=c-e%c,d=f+1,e>=b)return d}}function Ig(a){for(;Hg.length<=a;)Hg.push(Jg(Hg)+" ");return Hg[a]}function Jg(a){return a[a.length-1]}function Lg(a,b){for(var c=0;c<a.length;++c)if(a[c]==b)return c;return-1}function Mg(a,b){for(var c=[],d=0;d<a.length;d++)c[d]=b(a[d],d);return c}function Ng(a,b){var c;if(Object.create)c=Object.create(a);else{var d=function(){};d.prototype=a,c=new d}return b&&Og(b,c),c}function Og(a,b,c){b||(b={});for(var d in a)!a.hasOwnProperty(d)||c===!1&&b.hasOwnProperty(d)||(b[d]=a[d]);return b}function Pg(a){var b=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,b)}}function Sg(a,b){return b?b.source.indexOf("\\w")>-1&&Rg(a)?!0:b.test(a):Rg(a)}function Tg(a){for(var b in a)if(a.hasOwnProperty(b)&&a[b])return!1;return!0}function Vg(a){return a.charCodeAt(0)>=768&&Ug.test(a)}function Wg(a,b,c,d){var e=document.createElement(a);if(c&&(e.className=c),d&&(e.style.cssText=d),"string"==typeof b)e.appendChild(document.createTextNode(b));else if(b)for(var f=0;f<b.length;++f)e.appendChild(b[f]);return e}function Yg(a){for(var b=a.childNodes.length;b>0;--b)a.removeChild(a.firstChild);return a}function Zg(a,b){return Yg(a).appendChild(b)}function $g(a,b){if(a.contains)return a.contains(b);for(;b=b.parentNode;)if(b==a)return!0}function _g(){return document.activeElement}function ah(a){return new RegExp("\\b"+a+"\\b\\s*")}function bh(a,b){var c=ah(b);c.test(a.className)&&(a.className=a.className.replace(c,""))}function ch(a,b){ah(b).test(a.className)||(a.className+=" "+b)}function dh(a,b){for(var c=a.split(" "),d=0;d<c.length;d++)c[d]&&!ah(c[d]).test(b)&&(b+=" "+c[d]);return b}function eh(a){if(document.body.getElementsByClassName)for(var b=document.body.getElementsByClassName("CodeMirror"),c=0;c<b.length;c++){var d=b[c].CodeMirror;d&&a(d)}}function gh(){fh||(hh(),fh=!0)}function hh(){var a;pg(window,"resize",function(){null==a&&(a=setTimeout(function(){a=null,jh=null,eh(ed)},100))}),pg(window,"blur",function(){eh(Id)})}function kh(a){if(null!=jh)return jh;var b=Wg("div",null,null,"width: 50px; height: 50px; overflow-x: scroll");return Zg(a,b),b.offsetWidth&&(jh=b.offsetHeight-b.clientHeight),jh||0}function mh(a){if(null==lh){var b=Wg("span","\u200b");Zg(a,Wg("span",[b,document.createTextNode("x")])),0!=a.firstChild.offsetHeight&&(lh=b.offsetWidth<=1&&b.offsetHeight>2&&!(d&&8>e))}return lh?Wg("span","\u200b"):Wg("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px")}function oh(a){if(null!=nh)return nh;var b=Zg(a,document.createTextNode("A\u062eA")),c=Xg(b,0,1).getBoundingClientRect();if(!c||c.left==c.right)return!1;var d=Xg(b,1,2).getBoundingClientRect();return nh=d.right-c.right<3}function th(a){if(null!=sh)return sh;var b=Zg(a,Wg("span","x")),c=b.getBoundingClientRect(),d=Xg(b,0,1).getBoundingClientRect();return sh=Math.abs(c.left-d.left)>1}function vh(a,b,c,d){if(!a)return d(b,c,"ltr");for(var e=!1,f=0;f<a.length;++f){var g=a[f];(g.from<c&&g.to>b||b==c&&g.to==b)&&(d(Math.max(g.from,b),Math.min(g.to,c),1==g.level?"rtl":"ltr"),e=!0)}e||d(b,c,"ltr")}function wh(a){return a.level%2?a.to:a.from}function xh(a){return a.level%2?a.from:a.to}function yh(a){var b=Vf(a);return b?wh(b[0]):0}function zh(a){var b=Vf(a);return b?xh(Jg(b)):a.text.length}function Ah(a,b){var c=Of(a.doc,b),d=_e(c);d!=c&&(b=Sf(d));var e=Vf(d),f=e?e[0].level%2?zh(d):yh(d):0;return nb(b,f)}function Bh(a,b){for(var c,d=Of(a.doc,b);c=Ze(d);)d=c.find(1,!0).line,b=null;var e=Vf(d),f=e?e[0].level%2?yh(d):zh(d):d.text.length;return nb(null==b?Sf(d):b,f)}function Ch(a,b){var c=Ah(a,b.line),d=Of(a.doc,c.line),e=Vf(d);if(!e||0==e[0].level){var f=Math.max(0,d.text.search(/\S/)),g=b.line==c.line&&b.ch<=f&&b.ch;return nb(c.line,g?0:f)}return c}function Dh(a,b,c){var d=a[0].level;return b==d?!0:c==d?!1:c>b}function Fh(a,b){Eh=null;for(var d,c=0;c<a.length;++c){var e=a[c];if(e.from<b&&e.to>b)return c;if(e.from==b||e.to==b){if(null!=d)return Dh(a,e.level,a[d].level)?(e.from!=e.to&&(Eh=d),c):(e.from!=e.to&&(Eh=c),d);d=c}}return d}function Gh(a,b,c,d){if(!d)return b+c;do b+=c;while(b>0&&Vg(a.text.charAt(b)));return b}function Hh(a,b,c,d){var e=Vf(a);if(!e)return Ih(a,b,c,d);for(var f=Fh(e,b),g=e[f],h=Gh(a,b,g.level%2?-c:c,d);;){if(h>g.from&&h<g.to)return h;if(h==g.from||h==g.to)return Fh(e,h)==f?h:(g=e[f+=c],c>0==g.level%2?g.to:g.from);if(g=e[f+=c],!g)return null;h=c>0==g.level%2?Gh(a,g.to,-1,d):Gh(a,g.from,1,d)}}function Ih(a,b,c,d){var e=b+c;if(d)for(;e>0&&Vg(a.text.charAt(e));)e+=c;return 0>e||e>a.text.length?null:e}var a=/gecko\/\d/i.test(navigator.userAgent),b=/MSIE \d/.test(navigator.userAgent),c=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),d=b||c,e=d&&(b?document.documentMode||6:c[1]),f=/WebKit\//.test(navigator.userAgent),g=f&&/Qt\/\d+\.\d+/.test(navigator.userAgent),h=/Chrome\//.test(navigator.userAgent),i=/Opera\//.test(navigator.userAgent),j=/Apple Computer/.test(navigator.vendor),k=/KHTML\//.test(navigator.userAgent),l=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent),m=/PhantomJS/.test(navigator.userAgent),n=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),o=n||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent),p=n||/Mac/.test(navigator.platform),q=/win/i.test(navigator.platform),r=i&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);r&&(r=Number(r[1])),r&&r>=15&&(i=!1,f=!0);var s=p&&(g||i&&(null==r||12.11>r)),t=a||d&&e>=9,u=!1,v=!1,nb=w.Pos=function(a,b){return this instanceof nb?(this.line=a,this.ch=b,void 0):new nb(a,b)},ob=w.cmpPos=function(a,b){return a.line-b.line||a.ch-b.ch};sb.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(a){if(a==this)return!0;if(a.primIndex!=this.primIndex||a.ranges.length!=this.ranges.length)return!1;for(var b=0;b<this.ranges.length;b++){var c=this.ranges[b],d=a.ranges[b];if(0!=ob(c.anchor,d.anchor)||0!=ob(c.head,d.head))return!1}return!0},deepCopy:function(){for(var a=[],b=0;b<this.ranges.length;b++)a[b]=new tb(pb(this.ranges[b].anchor),pb(this.ranges[b].head));return new sb(a,this.primIndex)},somethingSelected:function(){for(var a=0;a<this.ranges.length;a++)if(!this.ranges[a].empty())return!0;return!1},contains:function(a,b){b||(b=a);for(var c=0;c<this.ranges.length;c++){var d=this.ranges[c];if(ob(b,d.from())>=0&&ob(a,d.to())<=0)return c}return-1}},tb.prototype={from:function(){return rb(this.anchor,this.head)},to:function(){return qb(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var wc,id,jd,gc={left:0,right:0,top:0,bottom:0},zc=null,Ac=0,Zc=null,pd=0,ud=0,vd=null;d?vd=-.53:a?vd=15:h?vd=-.7:j&&(vd=-1/3);var zd,Cd=null,Ld=w.changeEnd=function(a){return a.text?nb(a.from.line+a.text.length-1,Jg(a.text).length+(1==a.text.length?a.from.ch:0)):a.to};w.prototype={constructor:w,focus:function(){window.focus(),ad(this),Yc(this)},setOption:function(a,b){var c=this.options,d=c[a];(c[a]!=b||"mode"==a)&&(c[a]=b,je.hasOwnProperty(a)&&Lc(this,je[a])(this,b,d))},getOption:function(a){return this.options[a]},getDoc:function(){return this.doc},addKeyMap:function(a,b){this.state.keyMaps[b?"push":"unshift"](a)},removeKeyMap:function(a){for(var b=this.state.keyMaps,c=0;c<b.length;++c)if(b[c]==a||"string"!=typeof b[c]&&b[c].name==a)return b.splice(c,1),!0},addOverlay:Mc(function(a,b){var c=a.token?a:w.getMode(this.options,a);if(c.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:c,modeSpec:a,opaque:b&&b.opaque}),this.state.modeGen++,Qc(this)}),removeOverlay:Mc(function(a){for(var b=this.state.overlays,c=0;c<b.length;++c){var d=b[c].modeSpec;if(d==a||"string"==typeof a&&d.name==a)return b.splice(c,1),this.state.modeGen++,Qc(this),void 0}}),indentLine:Mc(function(a,b,c){"string"!=typeof b&&"number"!=typeof b&&(b=null==b?this.options.smartIndent?"smart":"prev":b?"add":"subtract"),zb(this.doc,a)&&de(this,a,b,c)}),indentSelection:Mc(function(a){for(var b=this.doc.sel.ranges,c=-1,d=0;d<b.length;d++){var e=b[d];if(e.empty())e.head.line>c&&(de(this,e.head.line,a,!0),c=e.head.line,d==this.doc.sel.primIndex&&be(this));else{var f=e.from(),g=e.to(),h=Math.max(c,f.line);c=Math.min(this.lastLine(),g.line-(g.ch?0:1))+1;for(var i=h;c>i;++i)de(this,i,a);var j=this.doc.sel.ranges;0==f.ch&&b.length==j.length&&j[d].from().ch>0&&Eb(this.doc,d,new tb(f,j[d].to()),Bg)}}}),getTokenAt:function(a,b){var c=this.doc;a=xb(c,a);for(var d=Xb(this,a.line,b),e=this.doc.mode,f=Of(c,a.line),g=new ze(f.text,this.options.tabSize);g.pos<a.ch&&!g.eol();){g.start=g.pos;var h=pf(e,g,d)}return{start:g.start,end:g.pos,string:g.current(),type:h||null,state:d}},getTokenTypeAt:function(a){a=xb(this.doc,a);var f,b=sf(this,Of(this.doc,a.line)),c=0,d=(b.length-1)/2,e=a.ch;if(0==e)f=b[2];else for(;;){var g=c+d>>1;if((g?b[2*g-1]:0)>=e)d=g;else{if(!(b[2*g+1]<e)){f=b[2*g+2];break}c=g+1}}var h=f?f.indexOf("cm-overlay "):-1;return 0>h?f:0==h?null:f.slice(0,h-1)},getModeAt:function(a){var b=this.doc.mode;return b.innerMode?w.innerMode(b,this.getTokenAt(a).state).mode:b},getHelper:function(a,b){return this.getHelpers(a,b)[0]},getHelpers:function(a,b){var c=[];if(!qe.hasOwnProperty(b))return qe;var d=qe[b],e=this.getModeAt(a);if("string"==typeof e[b])d[e[b]]&&c.push(d[e[b]]);else if(e[b])for(var f=0;f<e[b].length;f++){var g=d[e[b][f]];g&&c.push(g)}else e.helperType&&d[e.helperType]?c.push(d[e.helperType]):d[e.name]&&c.push(d[e.name]);for(var f=0;f<d._global.length;f++){var h=d._global[f];h.pred(e,this)&&-1==Lg(c,h.val)&&c.push(h.val)}return c},getStateAfter:function(a,b){var c=this.doc;return a=wb(c,null==a?c.first+c.size-1:a),Xb(this,a+1,b)},cursorCoords:function(a,b){var c,d=this.doc.sel.primary();return c=null==a?d.head:"object"==typeof a?xb(this.doc,a):a?d.from():d.to(),rc(this,c,b||"page")},charCoords:function(a,b){return qc(this,xb(this.doc,a),b||"page")},coordsChar:function(a,b){return a=pc(this,a,b||"page"),uc(this,a.left,a.top)},lineAtHeight:function(a,b){return a=pc(this,{top:a,left:0},b||"page").top,Tf(this.doc,a+this.display.viewOffset)},heightAtLine:function(a,b){var c=!1,d=this.doc.first+this.doc.size-1;a<this.doc.first?a=this.doc.first:a>d&&(a=d,c=!0);var e=Of(this.doc,a);return oc(this,e,{top:0,left:0},b||"page").top+(c?this.doc.height-Uf(e):0)},defaultTextHeight:function(){return xc(this.display)},defaultCharWidth:function(){return yc(this.display)},setGutterMarker:Mc(function(a,b,c){return ee(this.doc,a,"gutter",function(a){var d=a.gutterMarkers||(a.gutterMarkers={});return d[b]=c,!c&&Tg(d)&&(a.gutterMarkers=null),!0})}),clearGutter:Mc(function(a){var b=this,c=b.doc,d=c.first;c.iter(function(c){c.gutterMarkers&&c.gutterMarkers[a]&&(c.gutterMarkers[a]=null,Rc(b,d,"gutter"),Tg(c.gutterMarkers)&&(c.gutterMarkers=null)),++d})}),addLineWidget:Mc(function(a,b,c){return jf(this,a,b,c)}),removeLineWidget:function(a){a.clear()},lineInfo:function(a){if("number"==typeof a){if(!zb(this.doc,a))return null;var b=a;if(a=Of(this.doc,a),!a)return null}else{var b=Sf(a);if(null==b)return null}return{line:b,handle:a,text:a.text,gutterMarkers:a.gutterMarkers,textClass:a.textClass,bgClass:a.bgClass,wrapClass:a.wrapClass,widgets:a.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(a,b,c,d,e){var f=this.display;a=rc(this,xb(this.doc,a));var g=a.bottom,h=a.left;if(b.style.position="absolute",f.sizer.appendChild(b),"over"==d)g=a.top;else if("above"==d||"near"==d){var i=Math.max(f.wrapper.clientHeight,this.doc.height),j=Math.max(f.sizer.clientWidth,f.lineSpace.clientWidth);("above"==d||a.bottom+b.offsetHeight>i)&&a.top>b.offsetHeight?g=a.top-b.offsetHeight:a.bottom+b.offsetHeight<=i&&(g=a.bottom),h+b.offsetWidth>j&&(h=j-b.offsetWidth)}b.style.top=g+"px",b.style.left=b.style.right="","right"==e?(h=f.sizer.clientWidth-b.offsetWidth,b.style.right="0px"):("left"==e?h=0:"middle"==e&&(h=(f.sizer.clientWidth-b.offsetWidth)/2),b.style.left=h+"px"),c&&$d(this,h,g,h+b.offsetWidth,g+b.offsetHeight)},triggerOnKeyDown:Mc(Dd),triggerOnKeyPress:Mc(Gd),triggerOnKeyUp:Fd,execCommand:function(a){return te.hasOwnProperty(a)?te[a](this):void 0},findPosH:function(a,b,c,d){var e=1;0>b&&(e=-1,b=-b);
for(var f=0,g=xb(this.doc,a);b>f&&(g=ge(this.doc,g,e,c,d),!g.hitSide);++f);return g},moveH:Mc(function(a,b){var c=this;c.extendSelectionsBy(function(d){return c.display.shift||c.doc.extend||d.empty()?ge(c.doc,d.head,a,b,c.options.rtlMoveVisually):0>a?d.from():d.to()},Dg)}),deleteH:Mc(function(a,b){var c=this.doc.sel,d=this.doc;c.somethingSelected()?d.replaceSelection("",null,"+delete"):fe(this,function(c){var e=ge(d,c.head,a,b,!1);return 0>a?{from:e,to:c.head}:{from:c.head,to:e}})}),findPosV:function(a,b,c,d){var e=1,f=d;0>b&&(e=-1,b=-b);for(var g=0,h=xb(this.doc,a);b>g;++g){var i=rc(this,h,"div");if(null==f?f=i.left:i.left=f,h=he(this,i,e,c),h.hitSide)break}return h},moveV:Mc(function(a,b){var c=this,d=this.doc,e=[],f=!c.display.shift&&!d.extend&&d.sel.somethingSelected();if(d.extendSelectionsBy(function(g){if(f)return 0>a?g.from():g.to();var h=rc(c,g.head,"div");null!=g.goalColumn&&(h.left=g.goalColumn),e.push(h.left);var i=he(c,h,a,b);return"page"==b&&g==d.sel.primary()&&ae(c,null,qc(c,i,"div").top-h.top),i},Dg),e.length)for(var g=0;g<d.sel.ranges.length;g++)d.sel.ranges[g].goalColumn=e[g]}),findWordAt:function(a){var b=this.doc,c=Of(b,a.line).text,d=a.ch,e=a.ch;if(c){var f=this.getHelper(a,"wordChars");(a.xRel<0||e==c.length)&&d?--d:++e;for(var g=c.charAt(d),h=Sg(g,f)?function(a){return Sg(a,f)}:/\s/.test(g)?function(a){return/\s/.test(a)}:function(a){return!/\s/.test(a)&&!Sg(a)};d>0&&h(c.charAt(d-1));)--d;for(;e<c.length&&h(c.charAt(e));)++e}return new tb(nb(a.line,d),nb(a.line,e))},toggleOverwrite:function(a){(null==a||a!=this.state.overwrite)&&((this.state.overwrite=!this.state.overwrite)?ch(this.display.cursorDiv,"CodeMirror-overwrite"):bh(this.display.cursorDiv,"CodeMirror-overwrite"),rg(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return _g()==this.display.input},scrollTo:Mc(function(a,b){(null!=a||null!=b)&&ce(this),null!=a&&(this.curOp.scrollLeft=a),null!=b&&(this.curOp.scrollTop=b)}),getScrollInfo:function(){var a=this.display.scroller,b=zg;return{left:a.scrollLeft,top:a.scrollTop,height:a.scrollHeight-b,width:a.scrollWidth-b,clientHeight:a.clientHeight-b,clientWidth:a.clientWidth-b}},scrollIntoView:Mc(function(a,b){if(null==a?(a={from:this.doc.sel.primary().head,to:null},null==b&&(b=this.options.cursorScrollMargin)):"number"==typeof a?a={from:nb(a,0),to:null}:null==a.from&&(a={from:a,to:null}),a.to||(a.to=a.from),a.margin=b||0,null!=a.from.line)ce(this),this.curOp.scrollToPos=a;else{var c=_d(this,Math.min(a.from.left,a.to.left),Math.min(a.from.top,a.to.top)-a.margin,Math.max(a.from.right,a.to.right),Math.max(a.from.bottom,a.to.bottom)+a.margin);this.scrollTo(c.scrollLeft,c.scrollTop)}}),setSize:Mc(function(a,b){function d(a){return"number"==typeof a||/^\d+$/.test(String(a))?a+"px":a}var c=this;null!=a&&(c.display.wrapper.style.width=d(a)),null!=b&&(c.display.wrapper.style.height=d(b)),c.options.lineWrapping&&kc(this);var e=c.display.viewFrom;c.doc.iter(e,c.display.viewTo,function(a){if(a.widgets)for(var b=0;b<a.widgets.length;b++)if(a.widgets[b].noHScroll){Rc(c,e,"widget");break}++e}),c.curOp.forceUpdate=!0,rg(c,"refresh",this)}),operation:function(a){return Kc(this,a)},refresh:Mc(function(){var a=this.display.cachedTextHeight;Qc(this),this.curOp.forceUpdate=!0,lc(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),H(this),(null==a||Math.abs(a-xc(this.display))>.5)&&C(this),rg(this,"refresh",this)}),swapDoc:Mc(function(a){var b=this.doc;return b.cm=null,Nf(this,a),lc(this),_c(this),this.scrollTo(a.scrollLeft,a.scrollTop),this.curOp.forceScroll=!0,tg(this,"swapDoc",this,b),b}),getInputField:function(){return this.display.input},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},yg(w);var ie=w.defaults={},je=w.optionHandlers={},le=w.Init={toString:function(){return"CodeMirror.Init"}};ke("value","",function(a,b){a.setValue(b)},!0),ke("mode",null,function(a,b){a.doc.modeOption=b,y(a)},!0),ke("indentUnit",2,y,!0),ke("indentWithTabs",!1),ke("smartIndent",!0),ke("tabSize",4,function(a){z(a),lc(a),Qc(a)},!0),ke("specialChars",/[\t\u0000-\u0019\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(a,b){a.options.specialChars=new RegExp(b.source+(b.test("	")?"":"|	"),"g"),a.refresh()},!0),ke("specialCharPlaceholder",yf,function(a){a.refresh()},!0),ke("electricChars",!0),ke("rtlMoveVisually",!q),ke("wholeLineUpdateBefore",!0),ke("theme","default",function(a){E(a),F(a)},!0),ke("keyMap","default",D),ke("extraKeys",null),ke("lineWrapping",!1,A,!0),ke("gutters",[],function(a){K(a.options),F(a)},!0),ke("fixedGutter",!0,function(a,b){a.display.gutters.style.left=b?S(a.display)+"px":"0",a.refresh()},!0),ke("coverGutterNextToScrollbar",!1,N,!0),ke("lineNumbers",!1,function(a){K(a.options),F(a)},!0),ke("firstLineNumber",1,F,!0),ke("lineNumberFormatter",function(a){return a},F,!0),ke("showCursorWhenSelecting",!1,Qb,!0),ke("resetSelectionOnContextMenu",!0),ke("readOnly",!1,function(a,b){"nocursor"==b?(Id(a),a.display.input.blur(),a.display.disabled=!0):(a.display.disabled=!1,b||_c(a))}),ke("disableInput",!1,function(a,b){b||_c(a)},!0),ke("dragDrop",!0),ke("cursorBlinkRate",530),ke("cursorScrollMargin",0),ke("cursorHeight",1,Qb,!0),ke("singleCursorHeightPerLine",!0,Qb,!0),ke("workTime",100),ke("workDelay",100),ke("flattenSpans",!0,z,!0),ke("addModeClass",!1,z,!0),ke("pollInterval",100),ke("undoDepth",200,function(a,b){a.doc.history.undoDepth=b}),ke("historyEventDelay",1250),ke("viewportMargin",10,function(a){a.refresh()},!0),ke("maxHighlightLength",1e4,z,!0),ke("moveInputWithCursor",!0,function(a,b){b||(a.display.inputDiv.style.top=a.display.inputDiv.style.left=0)}),ke("tabindex",null,function(a,b){a.display.input.tabIndex=b||""}),ke("autofocus",null);var me=w.modes={},ne=w.mimeModes={};w.defineMode=function(a,b){w.defaults.mode||"null"==a||(w.defaults.mode=a),arguments.length>2&&(b.dependencies=Array.prototype.slice.call(arguments,2)),me[a]=b},w.defineMIME=function(a,b){ne[a]=b},w.resolveMode=function(a){if("string"==typeof a&&ne.hasOwnProperty(a))a=ne[a];else if(a&&"string"==typeof a.name&&ne.hasOwnProperty(a.name)){var b=ne[a.name];"string"==typeof b&&(b={name:b}),a=Ng(b,a),a.name=b.name}else if("string"==typeof a&&/^[\w\-]+\/[\w\-]+\+xml$/.test(a))return w.resolveMode("application/xml");return"string"==typeof a?{name:a}:a||{name:"null"}},w.getMode=function(a,b){var b=w.resolveMode(b),c=me[b.name];if(!c)return w.getMode(a,"text/plain");var d=c(a,b);if(oe.hasOwnProperty(b.name)){var e=oe[b.name];for(var f in e)e.hasOwnProperty(f)&&(d.hasOwnProperty(f)&&(d["_"+f]=d[f]),d[f]=e[f])}if(d.name=b.name,b.helperType&&(d.helperType=b.helperType),b.modeProps)for(var f in b.modeProps)d[f]=b.modeProps[f];return d},w.defineMode("null",function(){return{token:function(a){a.skipToEnd()}}}),w.defineMIME("text/plain","null");var oe=w.modeExtensions={};w.extendMode=function(a,b){var c=oe.hasOwnProperty(a)?oe[a]:oe[a]={};Og(b,c)},w.defineExtension=function(a,b){w.prototype[a]=b},w.defineDocExtension=function(a,b){Jf.prototype[a]=b},w.defineOption=ke;var pe=[];w.defineInitHook=function(a){pe.push(a)};var qe=w.helpers={};w.registerHelper=function(a,b,c){qe.hasOwnProperty(a)||(qe[a]=w[a]={_global:[]}),qe[a][b]=c},w.registerGlobalHelper=function(a,b,c,d){w.registerHelper(a,b,d),qe[a]._global.push({pred:c,val:d})};var re=w.copyState=function(a,b){if(b===!0)return b;if(a.copyState)return a.copyState(b);var c={};for(var d in b){var e=b[d];e instanceof Array&&(e=e.concat([])),c[d]=e}return c},se=w.startState=function(a,b,c){return a.startState?a.startState(b,c):!0};w.innerMode=function(a,b){for(;a.innerMode;){var c=a.innerMode(b);if(!c||c.mode==a)break;b=c.state,a=c.mode}return c||{mode:a,state:b}};var te=w.commands={selectAll:function(a){a.setSelection(nb(a.firstLine(),0),nb(a.lastLine()),Bg)},singleSelection:function(a){a.setSelection(a.getCursor("anchor"),a.getCursor("head"),Bg)},killLine:function(a){fe(a,function(b){if(b.empty()){var c=Of(a.doc,b.head.line).text.length;return b.head.ch==c&&b.head.line<a.lastLine()?{from:b.head,to:nb(b.head.line+1,0)}:{from:b.head,to:nb(b.head.line,c)}}return{from:b.from(),to:b.to()}})},deleteLine:function(a){fe(a,function(b){return{from:nb(b.from().line,0),to:xb(a.doc,nb(b.to().line+1,0))}})},delLineLeft:function(a){fe(a,function(a){return{from:nb(a.from().line,0),to:a.from()}})},delWrappedLineLeft:function(a){fe(a,function(b){var c=a.charCoords(b.head,"div").top+5,d=a.coordsChar({left:0,top:c},"div");return{from:d,to:b.from()}})},delWrappedLineRight:function(a){fe(a,function(b){var c=a.charCoords(b.head,"div").top+5,d=a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:c},"div");return{from:b.from(),to:d}})},undo:function(a){a.undo()},redo:function(a){a.redo()},undoSelection:function(a){a.undoSelection()},redoSelection:function(a){a.redoSelection()},goDocStart:function(a){a.extendSelection(nb(a.firstLine(),0))},goDocEnd:function(a){a.extendSelection(nb(a.lastLine()))},goLineStart:function(a){a.extendSelectionsBy(function(b){return Ah(a,b.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(a){a.extendSelectionsBy(function(b){return Ch(a,b.head)},{origin:"+move",bias:1})},goLineEnd:function(a){a.extendSelectionsBy(function(b){return Bh(a,b.head.line)},{origin:"+move",bias:-1})},goLineRight:function(a){a.extendSelectionsBy(function(b){var c=a.charCoords(b.head,"div").top+5;return a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:c},"div")},Dg)},goLineLeft:function(a){a.extendSelectionsBy(function(b){var c=a.charCoords(b.head,"div").top+5;return a.coordsChar({left:0,top:c},"div")},Dg)},goLineLeftSmart:function(a){a.extendSelectionsBy(function(b){var c=a.charCoords(b.head,"div").top+5,d=a.coordsChar({left:0,top:c},"div");return d.ch<a.getLine(d.line).search(/\S/)?Ch(a,b.head):d},Dg)},goLineUp:function(a){a.moveV(-1,"line")},goLineDown:function(a){a.moveV(1,"line")},goPageUp:function(a){a.moveV(-1,"page")},goPageDown:function(a){a.moveV(1,"page")},goCharLeft:function(a){a.moveH(-1,"char")},goCharRight:function(a){a.moveH(1,"char")},goColumnLeft:function(a){a.moveH(-1,"column")},goColumnRight:function(a){a.moveH(1,"column")},goWordLeft:function(a){a.moveH(-1,"word")},goGroupRight:function(a){a.moveH(1,"group")},goGroupLeft:function(a){a.moveH(-1,"group")},goWordRight:function(a){a.moveH(1,"word")},delCharBefore:function(a){a.deleteH(-1,"char")},delCharAfter:function(a){a.deleteH(1,"char")},delWordBefore:function(a){a.deleteH(-1,"word")},delWordAfter:function(a){a.deleteH(1,"word")},delGroupBefore:function(a){a.deleteH(-1,"group")},delGroupAfter:function(a){a.deleteH(1,"group")},indentAuto:function(a){a.indentSelection("smart")},indentMore:function(a){a.indentSelection("add")},indentLess:function(a){a.indentSelection("subtract")},insertTab:function(a){a.replaceSelection("	")},insertSoftTab:function(a){for(var b=[],c=a.listSelections(),d=a.options.tabSize,e=0;e<c.length;e++){var f=c[e].from(),g=Fg(a.getLine(f.line),f.ch,d);b.push(new Array(d-g%d+1).join(" "))}a.replaceSelections(b)},defaultTab:function(a){a.somethingSelected()?a.indentSelection("add"):a.execCommand("insertTab")},transposeChars:function(a){Kc(a,function(){for(var b=a.listSelections(),c=[],d=0;d<b.length;d++){var e=b[d].head,f=Of(a.doc,e.line).text;if(f)if(e.ch==f.length&&(e=new nb(e.line,e.ch-1)),e.ch>0)e=new nb(e.line,e.ch+1),a.replaceRange(f.charAt(e.ch-1)+f.charAt(e.ch-2),nb(e.line,e.ch-2),e,"+transpose");else if(e.line>a.doc.first){var g=Of(a.doc,e.line-1).text;g&&a.replaceRange(f.charAt(0)+"\n"+g.charAt(g.length-1),nb(e.line-1,g.length-1),nb(e.line,1),"+transpose")}c.push(new tb(e,e))}a.setSelections(c)})},newlineAndIndent:function(a){Kc(a,function(){for(var b=a.listSelections().length,c=0;b>c;c++){var d=a.listSelections()[c];a.replaceRange("\n",d.anchor,d.head,"+input"),a.indentLine(d.from().line+1,null,!0),be(a)}})},toggleOverwrite:function(a){a.toggleOverwrite()}},ue=w.keyMap={};ue.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},ue.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},ue.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},ue.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},ue["default"]=p?ue.macDefault:ue.pcDefault;var we=w.lookupKey=function(a,b,c){function d(b){b=ve(b);var e=b[a];if(e===!1)return"stop";if(null!=e&&c(e))return!0;if(b.nofallthrough)return"stop";var f=b.fallthrough;if(null==f)return!1;if("[object Array]"!=Object.prototype.toString.call(f))return d(f);for(var g=0;g<f.length;++g){var h=d(f[g]);if(h)return h}return!1}for(var e=0;e<b.length;++e){var f=d(b[e]);if(f)return"stop"!=f}},xe=w.isModifierKey=function(a){var b=uh[a.keyCode];return"Ctrl"==b||"Alt"==b||"Shift"==b||"Mod"==b},ye=w.keyName=function(a,b){if(i&&34==a.keyCode&&a["char"])return!1;var c=uh[a.keyCode];return null==c||a.altGraphKey?!1:(a.altKey&&(c="Alt-"+c),(s?a.metaKey:a.ctrlKey)&&(c="Ctrl-"+c),(s?a.ctrlKey:a.metaKey)&&(c="Cmd-"+c),!b&&a.shiftKey&&(c="Shift-"+c),c)};w.fromTextArea=function(a,b){function d(){a.value=i.getValue()}if(b||(b={}),b.value=a.value,!b.tabindex&&a.tabindex&&(b.tabindex=a.tabindex),!b.placeholder&&a.placeholder&&(b.placeholder=a.placeholder),null==b.autofocus){var c=_g();b.autofocus=c==a||null!=a.getAttribute("autofocus")&&c==document.body}if(a.form&&(pg(a.form,"submit",d),!b.leaveSubmitMethodAlone)){var e=a.form,f=e.submit;try{var g=e.submit=function(){d(),e.submit=f,e.submit(),e.submit=g}}catch(h){}}a.style.display="none";var i=w(function(b){a.parentNode.insertBefore(b,a.nextSibling)},b);return i.save=d,i.getTextArea=function(){return a},i.toTextArea=function(){i.toTextArea=isNaN,d(),a.parentNode.removeChild(i.getWrapperElement()),a.style.display="",a.form&&(qg(a.form,"submit",d),"function"==typeof a.form.submit&&(a.form.submit=f))},i};var ze=w.StringStream=function(a,b){this.pos=this.start=0,this.string=a,this.tabSize=b||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};ze.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(a){var b=this.string.charAt(this.pos);if("string"==typeof a)var c=b==a;else var c=b&&(a.test?a.test(b):a(b));return c?(++this.pos,b):void 0},eatWhile:function(a){for(var b=this.pos;this.eat(a););return this.pos>b},eatSpace:function(){for(var a=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>a},skipToEnd:function(){this.pos=this.string.length},skipTo:function(a){var b=this.string.indexOf(a,this.pos);return b>-1?(this.pos=b,!0):void 0},backUp:function(a){this.pos-=a},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Fg(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Fg(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return Fg(this.string,null,this.tabSize)-(this.lineStart?Fg(this.string,this.lineStart,this.tabSize):0)},match:function(a,b,c){if("string"!=typeof a){var f=this.string.slice(this.pos).match(a);return f&&f.index>0?null:(f&&b!==!1&&(this.pos+=f[0].length),f)}var d=function(a){return c?a.toLowerCase():a},e=this.string.substr(this.pos,a.length);return d(e)==d(a)?(b!==!1&&(this.pos+=a.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(a,b){this.lineStart+=a;try{return b()}finally{this.lineStart-=a}}};var Ae=w.TextMarker=function(a,b){this.lines=[],this.type=b,this.doc=a};yg(Ae),Ae.prototype.clear=function(){if(!this.explicitlyCleared){var a=this.doc.cm,b=a&&!a.curOp;if(b&&Bc(a),xg(this,"clear")){var c=this.find();c&&tg(this,"clear",c.from,c.to)}for(var d=null,e=null,f=0;f<this.lines.length;++f){var g=this.lines[f],h=Je(g.markedSpans,this);a&&!this.collapsed?Rc(a,Sf(g),"text"):a&&(null!=h.to&&(e=Sf(g)),null!=h.from&&(d=Sf(g))),g.markedSpans=Ke(g.markedSpans,h),null==h.from&&this.collapsed&&!df(this.doc,g)&&a&&Rf(g,xc(a.display))}if(a&&this.collapsed&&!a.options.lineWrapping)for(var f=0;f<this.lines.length;++f){var i=_e(this.lines[f]),j=I(i);j>a.display.maxLineLength&&(a.display.maxLine=i,a.display.maxLineLength=j,a.display.maxLineChanged=!0)}null!=d&&a&&this.collapsed&&Qc(a,d,e+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,a&&Lb(a.doc)),a&&tg(a,"markerCleared",a,this),b&&Dc(a),this.parent&&this.parent.clear()}},Ae.prototype.find=function(a,b){null==a&&"bookmark"==this.type&&(a=1);for(var c,d,e=0;e<this.lines.length;++e){var f=this.lines[e],g=Je(f.markedSpans,this);if(null!=g.from&&(c=nb(b?f:Sf(f),g.from),-1==a))return c;if(null!=g.to&&(d=nb(b?f:Sf(f),g.to),1==a))return d}return c&&{from:c,to:d}},Ae.prototype.changed=function(){var a=this.find(-1,!0),b=this,c=this.doc.cm;a&&c&&Kc(c,function(){var d=a.line,e=Sf(a.line),f=dc(c,e);if(f&&(jc(f),c.curOp.selectionChanged=c.curOp.forceUpdate=!0),c.curOp.updateMaxLine=!0,!df(b.doc,d)&&null!=b.height){var g=b.height;b.height=null;var h=hf(b)-g;h&&Rf(d,d.height+h)}})},Ae.prototype.attachLine=function(a){if(!this.lines.length&&this.doc.cm){var b=this.doc.cm.curOp;b.maybeHiddenMarkers&&-1!=Lg(b.maybeHiddenMarkers,this)||(b.maybeUnhiddenMarkers||(b.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(a)},Ae.prototype.detachLine=function(a){if(this.lines.splice(Lg(this.lines,a),1),!this.lines.length&&this.doc.cm){var b=this.doc.cm.curOp;(b.maybeHiddenMarkers||(b.maybeHiddenMarkers=[])).push(this)}};var Be=0,De=w.SharedTextMarker=function(a,b){this.markers=a,this.primary=b;for(var c=0;c<a.length;++c)a[c].parent=this};yg(De),De.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var a=0;a<this.markers.length;++a)this.markers[a].clear();tg(this,"clear")}},De.prototype.find=function(a,b){return this.primary.find(a,b)};var ff=w.LineWidget=function(a,b,c){if(c)for(var d in c)c.hasOwnProperty(d)&&(this[d]=c[d]);this.cm=a,this.node=b};yg(ff),ff.prototype.clear=function(){var a=this.cm,b=this.line.widgets,c=this.line,d=Sf(c);if(null!=d&&b){for(var e=0;e<b.length;++e)b[e]==this&&b.splice(e--,1);b.length||(c.widgets=null);var f=hf(this);Kc(a,function(){gf(a,c,-f),Rc(a,d,"widget"),Rf(c,Math.max(0,c.height-f))})}},ff.prototype.changed=function(){var a=this.height,b=this.cm,c=this.line;this.height=null;var d=hf(this)-a;d&&Kc(b,function(){b.curOp.forceUpdate=!0,gf(b,c,d),Rf(c,c.height+d)})};var kf=w.Line=function(a,b,c){this.text=a,Te(this,b),this.height=c?c(this):1};yg(kf),kf.prototype.lineNo=function(){return Sf(this)};var uf={},vf={};Gf.prototype={chunkSize:function(){return this.lines.length},removeInner:function(a,b){for(var c=a,d=a+b;d>c;++c){var e=this.lines[c];this.height-=e.height,mf(e),tg(e,"delete")}this.lines.splice(a,b)},collapse:function(a){a.push.apply(a,this.lines)},insertInner:function(a,b,c){this.height+=c,this.lines=this.lines.slice(0,a).concat(b).concat(this.lines.slice(a));for(var d=0;d<b.length;++d)b[d].parent=this},iterN:function(a,b,c){for(var d=a+b;d>a;++a)if(c(this.lines[a]))return!0}},Hf.prototype={chunkSize:function(){return this.size},removeInner:function(a,b){this.size-=b;for(var c=0;c<this.children.length;++c){var d=this.children[c],e=d.chunkSize();if(e>a){var f=Math.min(b,e-a),g=d.height;if(d.removeInner(a,f),this.height-=g-d.height,e==f&&(this.children.splice(c--,1),d.parent=null),0==(b-=f))break;a=0}else a-=e}if(this.size-b<25&&(this.children.length>1||!(this.children[0]instanceof Gf))){var h=[];this.collapse(h),this.children=[new Gf(h)],this.children[0].parent=this}},collapse:function(a){for(var b=0;b<this.children.length;++b)this.children[b].collapse(a)},insertInner:function(a,b,c){this.size+=b.length,this.height+=c;for(var d=0;d<this.children.length;++d){var e=this.children[d],f=e.chunkSize();if(f>=a){if(e.insertInner(a,b,c),e.lines&&e.lines.length>50){for(;e.lines.length>50;){var g=e.lines.splice(e.lines.length-25,25),h=new Gf(g);e.height-=h.height,this.children.splice(d+1,0,h),h.parent=this}this.maybeSpill()}break}a-=f}},maybeSpill:function(){if(!(this.children.length<=10)){var a=this;do{var b=a.children.splice(a.children.length-5,5),c=new Hf(b);if(a.parent){a.size-=c.size,a.height-=c.height;var e=Lg(a.parent.children,a);a.parent.children.splice(e+1,0,c)}else{var d=new Hf(a.children);d.parent=a,a.children=[d,c],a=d}c.parent=a.parent}while(a.children.length>10);a.parent.maybeSpill()}},iterN:function(a,b,c){for(var d=0;d<this.children.length;++d){var e=this.children[d],f=e.chunkSize();if(f>a){var g=Math.min(b,f-a);if(e.iterN(a,g,c))return!0;if(0==(b-=g))break;a=0}else a-=f}}};var If=0,Jf=w.Doc=function(a,b,c){if(!(this instanceof Jf))return new Jf(a,b,c);null==c&&(c=0),Hf.call(this,[new Gf([new kf("",null)])]),this.first=c,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=c;var d=nb(c,0);this.sel=vb(d),this.history=new Wf(null),this.id=++If,this.modeOption=b,"string"==typeof a&&(a=ph(a)),Ff(this,{from:d,to:d,text:a}),Ib(this,vb(d),Bg)};Jf.prototype=Ng(Hf.prototype,{constructor:Jf,iter:function(a,b,c){c?this.iterN(a-this.first,b-a,c):this.iterN(this.first,this.first+this.size,a)},insert:function(a,b){for(var c=0,d=0;d<b.length;++d)c+=b[d].height;this.insertInner(a-this.first,b,c)},remove:function(a,b){this.removeInner(a-this.first,b)},getValue:function(a){var b=Qf(this,this.first,this.first+this.size);return a===!1?b:b.join(a||"\n")},setValue:Nc(function(a){var b=nb(this.first,0),c=this.first+this.size-1;Rd(this,{from:b,to:nb(c,Of(this,c).text.length),text:ph(a),origin:"setValue"},!0),Ib(this,vb(b))}),replaceRange:function(a,b,c,d){b=xb(this,b),c=c?xb(this,c):b,Xd(this,a,b,c,d)},getRange:function(a,b,c){var d=Pf(this,xb(this,a),xb(this,b));return c===!1?d:d.join(c||"\n")},getLine:function(a){var b=this.getLineHandle(a);return b&&b.text},getLineHandle:function(a){return zb(this,a)?Of(this,a):void 0},getLineNumber:function(a){return Sf(a)},getLineHandleVisualStart:function(a){return"number"==typeof a&&(a=Of(this,a)),_e(a)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(a){return xb(this,a)},getCursor:function(a){var c,b=this.sel.primary();return c=null==a||"head"==a?b.head:"anchor"==a?b.anchor:"end"==a||"to"==a||a===!1?b.to():b.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Nc(function(a,b,c){Fb(this,xb(this,"number"==typeof a?nb(a,b||0):a),null,c)}),setSelection:Nc(function(a,b,c){Fb(this,xb(this,a),xb(this,b||a),c)}),extendSelection:Nc(function(a,b,c){Cb(this,xb(this,a),b&&xb(this,b),c)}),extendSelections:Nc(function(a,b){Db(this,Ab(this,a,b))}),extendSelectionsBy:Nc(function(a,b){Db(this,Mg(this.sel.ranges,a),b)}),setSelections:Nc(function(a,b,c){if(a.length){for(var d=0,e=[];d<a.length;d++)e[d]=new tb(xb(this,a[d].anchor),xb(this,a[d].head));null==b&&(b=Math.min(a.length-1,this.sel.primIndex)),Ib(this,ub(e,b),c)}}),addSelection:Nc(function(a,b,c){var d=this.sel.ranges.slice(0);d.push(new tb(xb(this,a),xb(this,b||a))),Ib(this,ub(d,d.length-1),c)}),getSelection:function(a){for(var c,b=this.sel.ranges,d=0;d<b.length;d++){var e=Pf(this,b[d].from(),b[d].to());c=c?c.concat(e):e}return a===!1?c:c.join(a||"\n")},getSelections:function(a){for(var b=[],c=this.sel.ranges,d=0;d<c.length;d++){var e=Pf(this,c[d].from(),c[d].to());a!==!1&&(e=e.join(a||"\n")),b[d]=e}return b},replaceSelection:function(a,b,c){for(var d=[],e=0;e<this.sel.ranges.length;e++)d[e]=a;this.replaceSelections(d,b,c||"+input")},replaceSelections:Nc(function(a,b,c){for(var d=[],e=this.sel,f=0;f<e.ranges.length;f++){var g=e.ranges[f];d[f]={from:g.from(),to:g.to(),text:ph(a[f]),origin:c}}for(var h=b&&"end"!=b&&Pd(this,d,b),f=d.length-1;f>=0;f--)Rd(this,d[f]);h?Hb(this,h):this.cm&&be(this.cm)}),undo:Nc(function(){Td(this,"undo")}),redo:Nc(function(){Td(this,"redo")}),undoSelection:Nc(function(){Td(this,"undo",!0)}),redoSelection:Nc(function(){Td(this,"redo",!0)}),setExtending:function(a){this.extend=a},getExtending:function(){return this.extend},historySize:function(){for(var a=this.history,b=0,c=0,d=0;d<a.done.length;d++)a.done[d].ranges||++b;for(var d=0;d<a.undone.length;d++)a.undone[d].ranges||++c;return{undo:b,redo:c}},clearHistory:function(){this.history=new Wf(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(a){return a&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(a){return this.history.generation==(a||this.cleanGeneration)},getHistory:function(){return{done:fg(this.history.done),undone:fg(this.history.undone)}},setHistory:function(a){var b=this.history=new Wf(this.history.maxGeneration);b.done=fg(a.done.slice(0),null,!0),b.undone=fg(a.undone.slice(0),null,!0)},addLineClass:Nc(function(a,b,c){return ee(this,a,"class",function(a){var d="text"==b?"textClass":"background"==b?"bgClass":"wrapClass";if(a[d]){if(new RegExp("(?:^|\\s)"+c+"(?:$|\\s)").test(a[d]))return!1;a[d]+=" "+c}else a[d]=c;return!0})}),removeLineClass:Nc(function(a,b,c){return ee(this,a,"class",function(a){var d="text"==b?"textClass":"background"==b?"bgClass":"wrapClass",e=a[d];if(!e)return!1;if(null==c)a[d]=null;else{var f=e.match(new RegExp("(?:^|\\s+)"+c+"(?:$|\\s+)"));if(!f)return!1;var g=f.index+f[0].length;a[d]=e.slice(0,f.index)+(f.index&&g!=e.length?" ":"")+e.slice(g)||null}return!0})}),markText:function(a,b,c){return Ce(this,xb(this,a),xb(this,b),c,"range")},setBookmark:function(a,b){var c={replacedWith:b&&(null==b.nodeType?b.widget:b),insertLeft:b&&b.insertLeft,clearWhenEmpty:!1,shared:b&&b.shared};return a=xb(this,a),Ce(this,a,a,c,"bookmark")},findMarksAt:function(a){a=xb(this,a);var b=[],c=Of(this,a.line).markedSpans;if(c)for(var d=0;d<c.length;++d){var e=c[d];(null==e.from||e.from<=a.ch)&&(null==e.to||e.to>=a.ch)&&b.push(e.marker.parent||e.marker)}return b},findMarks:function(a,b,c){a=xb(this,a),b=xb(this,b);var d=[],e=a.line;return this.iter(a.line,b.line+1,function(f){var g=f.markedSpans;if(g)for(var h=0;h<g.length;h++){var i=g[h];e==a.line&&a.ch>i.to||null==i.from&&e!=a.line||e==b.line&&i.from>b.ch||c&&!c(i.marker)||d.push(i.marker.parent||i.marker)}++e}),d},getAllMarks:function(){var a=[];return this.iter(function(b){var c=b.markedSpans;if(c)for(var d=0;d<c.length;++d)null!=c[d].from&&a.push(c[d].marker)}),a},posFromIndex:function(a){var b,c=this.first;return this.iter(function(d){var e=d.text.length+1;return e>a?(b=a,!0):(a-=e,++c,void 0)}),xb(this,nb(c,b))},indexFromPos:function(a){a=xb(this,a);var b=a.ch;return a.line<this.first||a.ch<0?0:(this.iter(this.first,a.line,function(a){b+=a.text.length+1}),b)},copy:function(a){var b=new Jf(Qf(this,this.first,this.first+this.size),this.modeOption,this.first);return b.scrollTop=this.scrollTop,b.scrollLeft=this.scrollLeft,b.sel=this.sel,b.extend=!1,a&&(b.history.undoDepth=this.history.undoDepth,b.setHistory(this.getHistory())),b},linkedDoc:function(a){a||(a={});var b=this.first,c=this.first+this.size;null!=a.from&&a.from>b&&(b=a.from),null!=a.to&&a.to<c&&(c=a.to);var d=new Jf(Qf(this,b,c),a.mode||this.modeOption,b);return a.sharedHist&&(d.history=this.history),(this.linked||(this.linked=[])).push({doc:d,sharedHist:a.sharedHist}),d.linked=[{doc:this,isParent:!0,sharedHist:a.sharedHist}],Ge(d,Fe(this)),d},unlinkDoc:function(a){if(a instanceof w&&(a=a.doc),this.linked)for(var b=0;b<this.linked.length;++b){var c=this.linked[b];if(c.doc==a){this.linked.splice(b,1),a.unlinkDoc(this),He(Fe(this));break}}if(a.history==this.history){var d=[a.id];Mf(a,function(a){d.push(a.id)},!0),a.history=new Wf(null),a.history.done=fg(this.history.done,d),a.history.undone=fg(this.history.undone,d)}},iterLinkedDocs:function(a){Mf(this,a)},getMode:function(){return this.mode},getEditor:function(){return this.cm}}),Jf.prototype.eachLine=Jf.prototype.iter;var Kf="iter insert remove copy getEditor".split(" ");for(var Lf in Jf.prototype)Jf.prototype.hasOwnProperty(Lf)&&Lg(Kf,Lf)<0&&(w.prototype[Lf]=function(a){return function(){return a.apply(this.doc,arguments)}}(Jf.prototype[Lf]));yg(Jf);var jg=w.e_preventDefault=function(a){a.preventDefault?a.preventDefault():a.returnValue=!1},kg=w.e_stopPropagation=function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},mg=w.e_stop=function(a){jg(a),kg(a)},pg=w.on=function(a,b,c){if(a.addEventListener)a.addEventListener(b,c,!1);else if(a.attachEvent)a.attachEvent("on"+b,c);else{var d=a._handlers||(a._handlers={}),e=d[b]||(d[b]=[]);e.push(c)}},qg=w.off=function(a,b,c){if(a.removeEventListener)a.removeEventListener(b,c,!1);else if(a.detachEvent)a.detachEvent("on"+b,c);else{var d=a._handlers&&a._handlers[b];if(!d)return;for(var e=0;e<d.length;++e)if(d[e]==c){d.splice(e,1);break}}},rg=w.signal=function(a,b){var c=a._handlers&&a._handlers[b];if(c)for(var d=Array.prototype.slice.call(arguments,2),e=0;e<c.length;++e)c[e].apply(null,d)},sg=null,zg=30,Ag=w.Pass={toString:function(){return"CodeMirror.Pass"}},Bg={scroll:!1},Cg={origin:"*mouse"},Dg={origin:"+move"};Eg.prototype.set=function(a,b){clearTimeout(this.id),this.id=setTimeout(b,a)};var Fg=w.countColumn=function(a,b,c,d,e){null==b&&(b=a.search(/[^\s\u00a0]/),-1==b&&(b=a.length));for(var f=d||0,g=e||0;;){var h=a.indexOf("	",f);if(0>h||h>=b)return g+(b-f);g+=h-f,g+=c-g%c,f=h+1}},Hg=[""],Kg=function(a){a.select()};n?Kg=function(a){a.selectionStart=0,a.selectionEnd=a.value.length}:d&&(Kg=function(a){try{a.select()}catch(b){}}),[].indexOf&&(Lg=function(a,b){return a.indexOf(b)}),[].map&&(Mg=function(a,b){return a.map(b)});var Xg,Qg=/[\u00df\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Rg=w.isWordChar=function(a){return/\w/.test(a)||a>"\x80"&&(a.toUpperCase()!=a.toLowerCase()||Qg.test(a))},Ug=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;
Xg=document.createRange?function(a,b,c){var d=document.createRange();return d.setEnd(a,c),d.setStart(a,b),d}:function(a,b,c){var d=document.body.createTextRange();return d.moveToElementText(a.parentNode),d.collapse(!0),d.moveEnd("character",c),d.moveStart("character",b),d},d&&11>e&&(_g=function(){try{return document.activeElement}catch(a){return document.body}});var jh,lh,nh,fh=!1,ih=function(){if(d&&9>e)return!1;var a=Wg("div");return"draggable"in a||"dragDrop"in a}(),ph=w.splitLines=3!="\n\nb".split(/\n/).length?function(a){for(var b=0,c=[],d=a.length;d>=b;){var e=a.indexOf("\n",b);-1==e&&(e=a.length);var f=a.slice(b,"\r"==a.charAt(e-1)?e-1:e),g=f.indexOf("\r");-1!=g?(c.push(f.slice(0,g)),b+=g+1):(c.push(f),b=e+1)}return c}:function(a){return a.split(/\r\n?|\n/)},qh=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch(b){return!1}}:function(a){try{var b=a.ownerDocument.selection.createRange()}catch(c){}return b&&b.parentElement()==a?0!=b.compareEndPoints("StartToEnd",b):!1},rh=function(){var a=Wg("div");return"oncopy"in a?!0:(a.setAttribute("oncopy","return;"),"function"==typeof a.oncopy)}(),sh=null,uh={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",107:"=",109:"-",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};w.keyNames=uh,function(){for(var a=0;10>a;a++)uh[a+48]=uh[a+96]=String(a);for(var a=65;90>=a;a++)uh[a]=String.fromCharCode(a);for(var a=1;12>=a;a++)uh[a+111]=uh[a+63235]="F"+a}();var Eh,Jh=function(){function c(c){return 247>=c?a.charAt(c):c>=1424&&1524>=c?"R":c>=1536&&1773>=c?b.charAt(c-1536):c>=1774&&2220>=c?"r":c>=8192&&8203>=c?"w":8204==c?"b":"L"}function j(a,b,c){this.level=a,this.from=b,this.to=c}var a="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",b="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",d=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,e=/[stwN]/,f=/[LRr]/,g=/[Lb1n]/,h=/[1n]/,i="L";return function(a){if(!d.test(a))return!1;for(var m,b=a.length,k=[],l=0;b>l;++l)k.push(m=c(a.charCodeAt(l)));for(var l=0,n=i;b>l;++l){var m=k[l];"m"==m?k[l]=n:n=m}for(var l=0,o=i;b>l;++l){var m=k[l];"1"==m&&"r"==o?k[l]="n":f.test(m)&&(o=m,"r"==m&&(k[l]="R"))}for(var l=1,n=k[0];b-1>l;++l){var m=k[l];"+"==m&&"1"==n&&"1"==k[l+1]?k[l]="1":","!=m||n!=k[l+1]||"1"!=n&&"n"!=n||(k[l]=n),n=m}for(var l=0;b>l;++l){var m=k[l];if(","==m)k[l]="N";else if("%"==m){for(var p=l+1;b>p&&"%"==k[p];++p);for(var q=l&&"!"==k[l-1]||b>p&&"1"==k[p]?"1":"N",r=l;p>r;++r)k[r]=q;l=p-1}}for(var l=0,o=i;b>l;++l){var m=k[l];"L"==o&&"1"==m?k[l]="L":f.test(m)&&(o=m)}for(var l=0;b>l;++l)if(e.test(k[l])){for(var p=l+1;b>p&&e.test(k[p]);++p);for(var s="L"==(l?k[l-1]:i),t="L"==(b>p?k[p]:i),q=s||t?"L":"R",r=l;p>r;++r)k[r]=q;l=p-1}for(var v,u=[],l=0;b>l;)if(g.test(k[l])){var w=l;for(++l;b>l&&g.test(k[l]);++l);u.push(new j(0,w,l))}else{var x=l,y=u.length;for(++l;b>l&&"L"!=k[l];++l);for(var r=x;l>r;)if(h.test(k[r])){r>x&&u.splice(y,0,new j(1,x,r));var z=r;for(++r;l>r&&h.test(k[r]);++r);u.splice(y,0,new j(2,z,r)),x=r}else++r;l>x&&u.splice(y,0,new j(1,x,l))}return 1==u[0].level&&(v=a.match(/^\s+/))&&(u[0].from=v[0].length,u.unshift(new j(0,0,v[0].length))),1==Jg(u).level&&(v=a.match(/\s+$/))&&(Jg(u).to-=v[0].length,u.push(new j(0,b-v[0].length,b))),u[0].level!=Jg(u).level&&u.push(new j(u[0].level,b,b)),u}}();return w.version="4.7.0",w}),function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)}(function(a){"use strict";function b(a){for(var b={},c=a.split(" "),d=0;d<c.length;++d)b[c[d]]=!0;return b}function d(a,b){if(!b.startOfLine)return!1;for(;;){if(!a.skipTo("\\")){a.skipToEnd(),b.tokenize=null;break}if(a.next(),a.eol()){b.tokenize=d;break}}return"meta"}function e(a,b){if(a.backUp(1),a.match(/(R|u8R|uR|UR|LR)/)){var c=a.match(/"([^\s\\()]{0,16})\(/);return c?(b.cpp11RawStringDelim=c[1],b.tokenize=g,g(a,b)):!1}return a.match(/(u8|u|U|L)/)?a.match(/["']/,!1)?"string":!1:(a.next(),!1)}function f(a,b){for(var c;null!=(c=a.next());)if('"'==c&&!a.eat('"')){b.tokenize=null;break}return"string"}function g(a,b){var c=b.cpp11RawStringDelim.replace(/[^\w\s]/g,"\\$&"),d=a.match(new RegExp(".*?\\)"+c+'"'));return d?b.tokenize=null:a.skipToEnd(),"string"}function h(b,c){function e(a){if(a)for(var b in a)a.hasOwnProperty(b)&&d.push(b)}"string"==typeof b&&(b=[b]);var d=[];e(c.keywords),e(c.builtin),e(c.atoms),d.length&&(c.helperType=b[0],a.registerHelper("hintWords",b[0],d));for(var f=0;f<b.length;++f)a.defineMIME(b[f],c)}function i(a,b){for(var c=!1;!a.eol();){if(!c&&a.match('"""')){b.tokenize=null;break}c="\\"!=a.next()&&!c}return"string"}a.defineMode("clike",function(b,c){function p(a,b){var c=a.next();if(k[c]){var d=k[c](a,b);if(d!==!1)return d}if('"'==c||"'"==c)return b.tokenize=q(c),b.tokenize(a,b);if(/[\[\]{}\(\),;\:\.]/.test(c))return o=c,null;if(/\d/.test(c))return a.eatWhile(/[\w\.]/),"number";if("/"==c){if(a.eat("*"))return b.tokenize=r,r(a,b);if(a.eat("/"))return a.skipToEnd(),"comment"}if(n.test(c))return a.eatWhile(n),"operator";a.eatWhile(/[\w\$_\xa1-\uffff]/);var e=a.current();return g.propertyIsEnumerable(e)?(i.propertyIsEnumerable(e)&&(o="newstatement"),"keyword"):h.propertyIsEnumerable(e)?(i.propertyIsEnumerable(e)&&(o="newstatement"),"builtin"):j.propertyIsEnumerable(e)?"atom":"variable"}function q(a){return function(b,c){for(var e,d=!1,f=!1;null!=(e=b.next());){if(e==a&&!d){f=!0;break}d=!d&&"\\"==e}return(f||!d&&!l)&&(c.tokenize=null),"string"}}function r(a,b){for(var d,c=!1;d=a.next();){if("/"==d&&c){b.tokenize=null;break}c="*"==d}return"comment"}function s(a,b,c,d,e){this.indented=a,this.column=b,this.type=c,this.align=d,this.prev=e}function t(a,b,c){var d=a.indented;return a.context&&"statement"==a.context.type&&(d=a.context.indented),a.context=new s(d,b,c,null,a.context)}function u(a){var b=a.context.type;return(")"==b||"]"==b||"}"==b)&&(a.indented=a.context.indented),a.context=a.context.prev}var o,d=b.indentUnit,e=c.statementIndentUnit||d,f=c.dontAlignCalls,g=c.keywords||{},h=c.builtin||{},i=c.blockKeywords||{},j=c.atoms||{},k=c.hooks||{},l=c.multiLineStrings,m=c.indentStatements!==!1,n=/[+\-*&%=<>!?|\/]/;return{startState:function(a){return{tokenize:null,context:new s((a||0)-d,0,"top",!1),indented:0,startOfLine:!0}},token:function(a,b){var c=b.context;if(a.sol()&&(null==c.align&&(c.align=!1),b.indented=a.indentation(),b.startOfLine=!0),a.eatSpace())return null;o=null;var d=(b.tokenize||p)(a,b);if("comment"==d||"meta"==d)return d;if(null==c.align&&(c.align=!0),";"!=o&&":"!=o&&","!=o||"statement"!=c.type)if("{"==o)t(b,a.column(),"}");else if("["==o)t(b,a.column(),"]");else if("("==o)t(b,a.column(),")");else if("}"==o){for(;"statement"==c.type;)c=u(b);for("}"==c.type&&(c=u(b));"statement"==c.type;)c=u(b)}else o==c.type?u(b):m&&(("}"==c.type||"top"==c.type)&&";"!=o||"statement"==c.type&&"newstatement"==o)&&t(b,a.column(),"statement");else u(b);return b.startOfLine=!1,d},indent:function(b,c){if(b.tokenize!=p&&null!=b.tokenize)return a.Pass;var g=b.context,h=c&&c.charAt(0);"statement"==g.type&&"}"==h&&(g=g.prev);var i=h==g.type;return"statement"==g.type?g.indented+("{"==h?0:e):!g.align||f&&")"==g.type?")"!=g.type||i?g.indented+(i?0:d):g.indented+e:g.column+(i?0:1)},electricChars:"{}",blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",fold:"brace"}});var c="auto if break int case long char register continue return default short do sizeof double static else struct entry switch extern typedef float union for unsigned goto while enum void const signed volatile";h(["text/x-csrc","text/x-c","text/x-chdr"],{name:"clike",keywords:b(c),blockKeywords:b("case do else for if switch while struct"),atoms:b("null"),hooks:{"#":d},modeProps:{fold:["brace","include"]}}),h(["text/x-c++src","text/x-c++hdr"],{name:"clike",keywords:b(c+" asm dynamic_cast namespace reinterpret_cast try bool explicit new "+"static_cast typeid catch operator template typename class friend private "+"this using const_cast inline public throw virtual delete mutable protected "+"wchar_t alignas alignof constexpr decltype nullptr noexcept thread_local final "+"static_assert override"),blockKeywords:b("catch class do else finally for if struct switch try while"),atoms:b("true false null"),hooks:{"#":d,u:e,U:e,L:e,R:e},modeProps:{fold:["brace","include"]}}),h("text/x-java",{name:"clike",keywords:b("abstract assert boolean break byte case catch char class const continue default do double else enum extends final finally float for goto if implements import instanceof int interface long native new package private protected public return short static strictfp super switch synchronized this throw throws transient try void volatile while"),blockKeywords:b("catch class do else finally for if switch try while"),atoms:b("true false null"),hooks:{"@":function(a){return a.eatWhile(/[\w\$_]/),"meta"}},modeProps:{fold:["brace","import"]}}),h("text/x-csharp",{name:"clike",keywords:b("abstract as base break case catch checked class const continue default delegate do else enum event explicit extern finally fixed for foreach goto if implicit in interface internal is lock namespace new operator out override params private protected public readonly ref return sealed sizeof stackalloc static struct switch this throw try typeof unchecked unsafe using virtual void volatile while add alias ascending descending dynamic from get global group into join let orderby partial remove select set value var yield"),blockKeywords:b("catch class do else finally for foreach if struct switch try while"),builtin:b("Boolean Byte Char DateTime DateTimeOffset Decimal Double Guid Int16 Int32 Int64 Object SByte Single String TimeSpan UInt16 UInt32 UInt64 bool byte char decimal double short int long object sbyte float string ushort uint ulong"),atoms:b("true false null"),hooks:{"@":function(a,b){return a.eat('"')?(b.tokenize=f,f(a,b)):(a.eatWhile(/[\w\$_]/),"meta")}}}),h("text/x-scala",{name:"clike",keywords:b("abstract case catch class def do else extends false final finally for forSome if implicit import lazy match new null object override package private protected return sealed super this throw trait try trye type val var while with yield _ : = => <- <: <% >: # @ assert assume require print println printf readLine readBoolean readByte readShort readChar readInt readLong readFloat readDouble AnyVal App Application Array BufferedIterator BigDecimal BigInt Char Console Either Enumeration Equiv Error Exception Fractional Function IndexedSeq Integral Iterable Iterator List Map Numeric Nil NotNull Option Ordered Ordering PartialFunction PartialOrdering Product Proxy Range Responder Seq Serializable Set Specializable Stream StringBuilder StringContext Symbol Throwable Traversable TraversableOnce Tuple Unit Vector :: #:: Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"),multiLineStrings:!0,blockKeywords:b("catch class do else finally for forSome if match switch try while"),atoms:b("true false null"),indentStatements:!1,hooks:{"@":function(a){return a.eatWhile(/[\w\$_]/),"meta"},'"':function(a,b){return a.match('""')?(b.tokenize=i,b.tokenize(a,b)):!1}}}),h(["x-shader/x-vertex","x-shader/x-fragment"],{name:"clike",keywords:b("float int bool void vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 mat2 mat3 mat4 sampler1D sampler2D sampler3D samplerCube sampler1DShadow sampler2DShadowconst attribute uniform varying break continue discard return for while do if else struct in out inout"),blockKeywords:b("for while do if else struct"),builtin:b("radians degrees sin cos tan asin acos atan pow exp log exp2 sqrt inversesqrt abs sign floor ceil fract mod min max clamp mix step smootstep length distance dot cross normalize ftransform faceforward reflect refract matrixCompMult lessThan lessThanEqual greaterThan greaterThanEqual equal notEqual any all not texture1D texture1DProj texture1DLod texture1DProjLod texture2D texture2DProj texture2DLod texture2DProjLod texture3D texture3DProj texture3DLod texture3DProjLod textureCube textureCubeLod shadow1D shadow2D shadow1DProj shadow2DProj shadow1DLod shadow2DLod shadow1DProjLod shadow2DProjLod dFdx dFdy fwidth noise1 noise2 noise3 noise4"),atoms:b("true false gl_FragColor gl_SecondaryColor gl_Normal gl_Vertex gl_MultiTexCoord0 gl_MultiTexCoord1 gl_MultiTexCoord2 gl_MultiTexCoord3 gl_MultiTexCoord4 gl_MultiTexCoord5 gl_MultiTexCoord6 gl_MultiTexCoord7 gl_FogCoord gl_Position gl_PointSize gl_ClipVertex gl_FrontColor gl_BackColor gl_FrontSecondaryColor gl_BackSecondaryColor gl_TexCoord gl_FogFragCoord gl_FragCoord gl_FrontFacing gl_FragColor gl_FragData gl_FragDepth gl_ModelViewMatrix gl_ProjectionMatrix gl_ModelViewProjectionMatrix gl_TextureMatrix gl_NormalMatrix gl_ModelViewMatrixInverse gl_ProjectionMatrixInverse gl_ModelViewProjectionMatrixInverse gl_TexureMatrixTranspose gl_ModelViewMatrixInverseTranspose gl_ProjectionMatrixInverseTranspose gl_ModelViewProjectionMatrixInverseTranspose gl_TextureMatrixInverseTranspose gl_NormalScale gl_DepthRange gl_ClipPlane gl_Point gl_FrontMaterial gl_BackMaterial gl_LightSource gl_LightModel gl_FrontLightModelProduct gl_BackLightModelProduct gl_TextureColor gl_EyePlaneS gl_EyePlaneT gl_EyePlaneR gl_EyePlaneQ gl_FogParameters gl_MaxLights gl_MaxClipPlanes gl_MaxTextureUnits gl_MaxTextureCoords gl_MaxVertexAttribs gl_MaxVertexUniformComponents gl_MaxVaryingFloats gl_MaxVertexTextureImageUnits gl_MaxTextureImageUnits gl_MaxFragmentUniformComponents gl_MaxCombineTextureImageUnits gl_MaxDrawBuffers"),hooks:{"#":d},modeProps:{fold:["brace","include"]}}),h("text/x-nesc",{name:"clike",keywords:b(c+"as atomic async call command component components configuration event generic "+"implementation includes interface module new norace nx_struct nx_union post provides "+"signal task uses abstract extends"),blockKeywords:b("case do else for if switch while struct"),atoms:b("null"),hooks:{"#":d},modeProps:{fold:["brace","include"]}})});
"use strict";var numeric=typeof exports=="undefined"?function(){}:exports;typeof global!="undefined"&&(global.numeric=numeric),numeric.version="1.2.6",numeric.bench=function(t,n){var r,i,s,o;typeof n=="undefined"&&(n=15),s=.5,r=new Date;for(;;){s*=2;for(o=s;o>3;o-=4)t(),t(),t(),t();while(o>0)t(),o--;i=new Date;if(i-r>n)break}for(o=s;o>3;o-=4)t(),t(),t(),t();while(o>0)t(),o--;return i=new Date,1e3*(3*s-1)/(i-r)},numeric._myIndexOf=function(t){var n=this.length,r;for(r=0;r<n;++r)if(this[r]===t)return r;return-1},numeric.myIndexOf=Array.prototype.indexOf?Array.prototype.indexOf:numeric._myIndexOf,numeric.Function=Function,numeric.precision=4,numeric.largeArray=50,numeric.prettyPrint=function(t){function n(e){if(e===0)return"0";if(isNaN(e))return"NaN";if(e<0)return"-"+n(-e);if(isFinite(e)){var t=Math.floor(Math.log(e)/Math.log(10)),r=e/Math.pow(10,t),i=r.toPrecision(numeric.precision);return parseFloat(i)===10&&(t++,r=1,i=r.toPrecision(numeric.precision)),parseFloat(i).toString()+"e"+t.toString()}return"Infinity"}function i(e){var t;if(typeof e=="undefined")return r.push(Array(numeric.precision+8).join(" ")),!1;if(typeof e=="string")return r.push('"'+e+'"'),!1;if(typeof e=="boolean")return r.push(e.toString()),!1;if(typeof e=="number"){var s=n(e),o=e.toPrecision(numeric.precision),u=parseFloat(e.toString()).toString(),a=[s,o,u,parseFloat(o).toString(),parseFloat(u).toString()];for(t=1;t<a.length;t++)a[t].length<s.length&&(s=a[t]);return r.push(Array(numeric.precision+8-s.length).join(" ")+s),!1}if(e===null)return r.push("null"),!1;if(typeof e=="function"){r.push(e.toString());var f=!1;for(t in e)e.hasOwnProperty(t)&&(f?r.push(",\n"):r.push("\n{"),f=!0,r.push(t),r.push(": \n"),i(e[t]));return f&&r.push("}\n"),!0}if(e instanceof Array){if(e.length>numeric.largeArray)return r.push("...Large Array..."),!0;var f=!1;r.push("[");for(t=0;t<e.length;t++)t>0&&(r.push(","),f&&r.push("\n ")),f=i(e[t]);return r.push("]"),!0}r.push("{");var f=!1;for(t in e)e.hasOwnProperty(t)&&(f&&r.push(",\n"),f=!0,r.push(t),r.push(": \n"),i(e[t]));return r.push("}"),!0}var r=[];return i(t),r.join("")},numeric.parseDate=function(t){function n(e){if(typeof e=="string")return Date.parse(e.replace(/-/g,"/"));if(e instanceof Array){var t=[],r;for(r=0;r<e.length;r++)t[r]=n(e[r]);return t}throw new Error("parseDate: parameter must be arrays of strings")}return n(t)},numeric.parseFloat=function(t){function n(e){if(typeof e=="string")return parseFloat(e);if(e instanceof Array){var t=[],r;for(r=0;r<e.length;r++)t[r]=n(e[r]);return t}throw new Error("parseFloat: parameter must be arrays of strings")}return n(t)},numeric.parseCSV=function(t){var n=t.split("\n"),r,i,s=[],o=/(([^'",]*)|('[^']*')|("[^"]*")),/g,u=/^\s*(([+-]?[0-9]+(\.[0-9]*)?(e[+-]?[0-9]+)?)|([+-]?[0-9]*(\.[0-9]+)?(e[+-]?[0-9]+)?))\s*$/,a=function(e){return e.substr(0,e.length-1)},f=0;for(i=0;i<n.length;i++){var l=(n[i]+",").match(o),c;if(l.length>0){s[f]=[];for(r=0;r<l.length;r++)c=a(l[r]),u.test(c)?s[f][r]=parseFloat(c):s[f][r]=c;f++}}return s},numeric.toCSV=function(t){var n=numeric.dim(t),r,i,s,o,u,a;s=n[0],o=n[1],a=[];for(r=0;r<s;r++){u=[];for(i=0;i<s;i++)u[i]=t[r][i].toString();a[r]=u.join(", ")}return a.join("\n")+"\n"},numeric.getURL=function(t){var n=new XMLHttpRequest;return n.open("GET",t,!1),n.send(),n},numeric.imageURL=function(t){function n(e){var t=e.length,n,r,i,s,o,u,a,f,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c="";for(n=0;n<t;n+=3)r=e[n],i=e[n+1],s=e[n+2],o=r>>2,u=((r&3)<<4)+(i>>4),a=((i&15)<<2)+(s>>6),f=s&63,n+1>=t?a=f=64:n+2>=t&&(f=64),c+=l.charAt(o)+l.charAt(u)+l.charAt(a)+l.charAt(f);return c}function r(e,t,n){typeof t=="undefined"&&(t=0),typeof n=="undefined"&&(n=e.length);var r=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],i=-1,s=0,o=e.length,u;for(u=t;u<n;u++)s=(i^e[u])&255,i=i>>>8^r[s];return i^-1}var i=t[0].length,s=t[0][0].length,o,u,a,f,l,c,h,p,d,v,m,g=[137,80,78,71,13,10,26,10,0,0,0,13,73,72,68,82,s>>24&255,s>>16&255,s>>8&255,s&255,i>>24&255,i>>16&255,i>>8&255,i&255,8,2,0,0,0,-1,-2,-3,-4,-5,-6,-7,-8,73,68,65,84,8,29];m=r(g,12,29),g[29]=m>>24&255,g[30]=m>>16&255,g[31]=m>>8&255,g[32]=m&255,o=1,u=0;for(p=0;p<i;p++){p<i-1?g.push(0):g.push(1),c=3*s+1+(p===0)&255,h=3*s+1+(p===0)>>8&255,g.push(c),g.push(h),g.push(~c&255),g.push(~h&255),p===0&&g.push(0);for(d=0;d<s;d++)for(f=0;f<3;f++)c=t[f][p][d],c>255?c=255:c<0?c=0:c=Math.round(c),o=(o+c)%65521,u=(u+o)%65521,g.push(c);g.push(0)}return v=(u<<16)+o,g.push(v>>24&255),g.push(v>>16&255),g.push(v>>8&255),g.push(v&255),l=g.length-41,g[33]=l>>24&255,g[34]=l>>16&255,g[35]=l>>8&255,g[36]=l&255,m=r(g,37),g.push(m>>24&255),g.push(m>>16&255),g.push(m>>8&255),g.push(m&255),g.push(0),g.push(0),g.push(0),g.push(0),g.push(73),g.push(69),g.push(78),g.push(68),g.push(174),g.push(66),g.push(96),g.push(130),"data:image/png;base64,"+n(g)},numeric._dim=function(t){var n=[];while(typeof t=="object")n.push(t.length),t=t[0];return n},numeric.dim=function(t){var n,r;if(typeof t=="object")return n=t[0],typeof n=="object"?(r=n[0],typeof r=="object"?numeric._dim(t):[t.length,n.length]):[t.length];return[]},numeric.mapreduce=function(t,n){return Function("x","accum","_s","_k",'if(typeof accum === "undefined") accum = '+n+";\n"+'if(typeof x === "number") { var xi = x; '+t+"; return accum; }\n"+'if(typeof _s === "undefined") _s = numeric.dim(x);\n'+'if(typeof _k === "undefined") _k = 0;\n'+"var _n = _s[_k];\n"+"var i,xi;\n"+"if(_k < _s.length-1) {\n"+"    for(i=_n-1;i>=0;i--) {\n"+"        accum = arguments.callee(x[i],accum,_s,_k+1);\n"+"    }"+"    return accum;\n"+"}\n"+"for(i=_n-1;i>=1;i-=2) { \n"+"    xi = x[i];\n"+"    "+t+";\n"+"    xi = x[i-1];\n"+"    "+t+";\n"+"}\n"+"if(i === 0) {\n"+"    xi = x[i];\n"+"    "+t+"\n"+"}\n"+"return accum;")},numeric.mapreduce2=function(t,n){return Function("x","var n = x.length;\nvar i,xi;\n"+n+";\n"+"for(i=n-1;i!==-1;--i) { \n"+"    xi = x[i];\n"+"    "+t+";\n"+"}\n"+"return accum;")},numeric.same=function same(e,t){var n,r;if(e instanceof Array&&t instanceof Array){r=e.length;if(r!==t.length)return!1;for(n=0;n<r;n++){if(e[n]===t[n])continue;if(typeof e[n]!="object")return!1;if(!same(e[n],t[n]))return!1}return!0}return!1},numeric.rep=function(t,n,r){typeof r=="undefined"&&(r=0);var i=t[r],s=Array(i),o;if(r===t.length-1){for(o=i-2;o>=0;o-=2)s[o+1]=n,s[o]=n;return o===-1&&(s[0]=n),s}for(o=i-1;o>=0;o--)s[o]=numeric.rep(t,n,r+1);return s},numeric.dotMMsmall=function(t,n){var r,i,s,o,u,a,f,l,c,h,p,d,v,m;o=t.length,u=n.length,a=n[0].length,f=Array(o);for(r=o-1;r>=0;r--){l=Array(a),c=t[r];for(s=a-1;s>=0;s--){h=c[u-1]*n[u-1][s];for(i=u-2;i>=1;i-=2)p=i-1,h+=c[i]*n[i][s]+c[p]*n[p][s];i===0&&(h+=c[0]*n[0][s]),l[s]=h}f[r]=l}return f},numeric._getCol=function(t,n,r){var i=t.length,s;for(s=i-1;s>0;--s)r[s]=t[s][n],--s,r[s]=t[s][n];s===0&&(r[0]=t[0][n])},numeric.dotMMbig=function(t,n){var r=numeric._getCol,i=n.length,s=Array(i),o=t.length,u=n[0].length,a=new Array(o),f,l=numeric.dotVV,c,h,p,d;--i,--o;for(c=o;c!==-1;--c)a[c]=Array(u);--u;for(c=u;c!==-1;--c){r(n,c,s);for(h=o;h!==-1;--h)d=0,f=t[h],a[h][c]=l(f,s)}return a},numeric.dotMV=function(t,n){var r=t.length,i=n.length,s,o=Array(r),u=numeric.dotVV;for(s=r-1;s>=0;s--)o[s]=u(t[s],n);return o},numeric.dotVM=function(t,n){var r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E;o=t.length,u=n[0].length,f=Array(u);for(s=u-1;s>=0;s--){h=t[o-1]*n[o-1][s];for(i=o-2;i>=1;i-=2)p=i-1,h+=t[i]*n[i][s]+t[p]*n[p][s];i===0&&(h+=t[0]*n[0][s]),f[s]=h}return f},numeric.dotVV=function(t,n){var r,i=t.length,s,o=t[i-1]*n[i-1];for(r=i-2;r>=1;r-=2)s=r-1,o+=t[r]*n[r]+t[s]*n[s];return r===0&&(o+=t[0]*n[0]),o},numeric.dot=function(t,n){var r=numeric.dim;switch(r(t).length*1e3+r(n).length){case 2002:return n.length<10?numeric.dotMMsmall(t,n):numeric.dotMMbig(t,n);case 2001:return numeric.dotMV(t,n);case 1002:return numeric.dotVM(t,n);case 1001:return numeric.dotVV(t,n);case 1e3:return numeric.mulVS(t,n);case 1:return numeric.mulSV(t,n);case 0:return t*n;default:throw new Error("numeric.dot only works on vectors and matrices")}},numeric.diag=function(t){var n,r,i,s=t.length,o=Array(s),u;for(n=s-1;n>=0;n--){u=Array(s),r=n+2;for(i=s-1;i>=r;i-=2)u[i]=0,u[i-1]=0;i>n&&(u[i]=0),u[n]=t[n];for(i=n-1;i>=1;i-=2)u[i]=0,u[i-1]=0;i===0&&(u[0]=0),o[n]=u}return o},numeric.getDiag=function(e){var t=Math.min(e.length,e[0].length),n,r=Array(t);for(n=t-1;n>=1;--n)r[n]=e[n][n],--n,r[n]=e[n][n];return n===0&&(r[0]=e[0][0]),r},numeric.identity=function(t){return numeric.diag(numeric.rep([t],1))},numeric.pointwise=function(t,n,r){typeof r=="undefined"&&(r="");var i=[],s,o=/\[i\]$/,u,a="",f=!1;for(s=0;s<t.length;s++)o.test(t[s])?(u=t[s].substring(0,t[s].length-3),a=u):u=t[s],u==="ret"&&(f=!0),i.push(u);return i[t.length]="_s",i[t.length+1]="_k",i[t.length+2]='if(typeof _s === "undefined") _s = numeric.dim('+a+");\n"+'if(typeof _k === "undefined") _k = 0;\n'+"var _n = _s[_k];\n"+"var i"+(f?"":", ret = Array(_n)")+";\n"+"if(_k < _s.length-1) {\n"+"    for(i=_n-1;i>=0;i--) ret[i] = arguments.callee("+t.join(",")+",_s,_k+1);\n"+"    return ret;\n"+"}\n"+r+"\n"+"for(i=_n-1;i!==-1;--i) {\n"+"    "+n+"\n"+"}\n"+"return ret;",Function.apply(null,i)},numeric.pointwise2=function(t,n,r){typeof r=="undefined"&&(r="");var i=[],s,o=/\[i\]$/,u,a="",f=!1;for(s=0;s<t.length;s++)o.test(t[s])?(u=t[s].substring(0,t[s].length-3),a=u):u=t[s],u==="ret"&&(f=!0),i.push(u);return i[t.length]="var _n = "+a+".length;\n"+"var i"+(f?"":", ret = Array(_n)")+";\n"+r+"\n"+"for(i=_n-1;i!==-1;--i) {\n"+n+"\n"+"}\n"+"return ret;",Function.apply(null,i)},numeric._biforeach=function _biforeach(e,t,n,r,i){if(r===n.length-1){i(e,t);return}var s,o=n[r];for(s=o-1;s>=0;s--)_biforeach(typeof e=="object"?e[s]:e,typeof t=="object"?t[s]:t,n,r+1,i)},numeric._biforeach2=function _biforeach2(e,t,n,r,i){if(r===n.length-1)return i(e,t);var s,o=n[r],u=Array(o);for(s=o-1;s>=0;--s)u[s]=_biforeach2(typeof e=="object"?e[s]:e,typeof t=="object"?t[s]:t,n,r+1,i);return u},numeric._foreach=function _foreach(e,t,n,r){if(n===t.length-1){r(e);return}var i,s=t[n];for(i=s-1;i>=0;i--)_foreach(e[i],t,n+1,r)},numeric._foreach2=function _foreach2(e,t,n,r){if(n===t.length-1)return r(e);var i,s=t[n],o=Array(s);for(i=s-1;i>=0;i--)o[i]=_foreach2(e[i],t,n+1,r);return o},numeric.ops2={add:"+",sub:"-",mul:"*",div:"/",mod:"%",and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">=",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"},numeric.opseq={addeq:"+=",subeq:"-=",muleq:"*=",diveq:"/=",modeq:"%=",lshifteq:"<<=",rshifteq:">>=",rrshifteq:">>>=",bandeq:"&=",boreq:"|=",bxoreq:"^="},numeric.mathfuns=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan","isNaN","isFinite"],numeric.mathfuns2=["atan2","pow","max","min"],numeric.ops1={neg:"-",not:"!",bnot:"~",clone:""},numeric.mapreducers={any:["if(xi) return true;","var accum = false;"],all:["if(!xi) return false;","var accum = true;"],sum:["accum += xi;","var accum = 0;"],prod:["accum *= xi;","var accum = 1;"],norm2Squared:["accum += xi*xi;","var accum = 0;"],norminf:["accum = max(accum,abs(xi));","var accum = 0, max = Math.max, abs = Math.abs;"],norm1:["accum += abs(xi)","var accum = 0, abs = Math.abs;"],sup:["accum = max(accum,xi);","var accum = -Infinity, max = Math.max;"],inf:["accum = min(accum,xi);","var accum = Infinity, min = Math.min;"]},function(){var e,t;for(e=0;e<numeric.mathfuns2.length;++e)t=numeric.mathfuns2[e],numeric.ops2[t]=t;for(e in numeric.ops2)if(numeric.ops2.hasOwnProperty(e)){t=numeric.ops2[e];var n,r,i="";numeric.myIndexOf.call(numeric.mathfuns2,e)!==-1?(i="var "+t+" = Math."+t+";\n",n=function(e,n,r){return e+" = "+t+"("+n+","+r+")"},r=function(e,n){return e+" = "+t+"("+e+","+n+")"}):(n=function(e,n,r){return e+" = "+n+" "+t+" "+r},numeric.opseq.hasOwnProperty(e+"eq")?r=function(e,n){return e+" "+t+"= "+n}:r=function(e,n){return e+" = "+e+" "+t+" "+n}),numeric[e+"VV"]=numeric.pointwise2(["x[i]","y[i]"],n("ret[i]","x[i]","y[i]"),i),numeric[e+"SV"]=numeric.pointwise2(["x","y[i]"],n("ret[i]","x","y[i]"),i),numeric[e+"VS"]=numeric.pointwise2(["x[i]","y"],n("ret[i]","x[i]","y"),i),numeric[e]=Function("var n = arguments.length, i, x = arguments[0], y;\nvar VV = numeric."+e+"VV, VS = numeric."+e+"VS, SV = numeric."+e+"SV;\n"+"var dim = numeric.dim;\n"+"for(i=1;i!==n;++i) { \n"+"  y = arguments[i];\n"+'  if(typeof x === "object") {\n'+'      if(typeof y === "object") x = numeric._biforeach2(x,y,dim(x),0,VV);\n'+"      else x = numeric._biforeach2(x,y,dim(x),0,VS);\n"+'  } else if(typeof y === "object") x = numeric._biforeach2(x,y,dim(y),0,SV);\n'+"  else "+r("x","y")+"\n"+"}\nreturn x;\n"),numeric[t]=numeric[e],numeric[e+"eqV"]=numeric.pointwise2(["ret[i]","x[i]"],r("ret[i]","x[i]"),i),numeric[e+"eqS"]=numeric.pointwise2(["ret[i]","x"],r("ret[i]","x"),i),numeric[e+"eq"]=Function("var n = arguments.length, i, x = arguments[0], y;\nvar V = numeric."+e+"eqV, S = numeric."+e+"eqS\n"+"var s = numeric.dim(x);\n"+"for(i=1;i!==n;++i) { \n"+"  y = arguments[i];\n"+'  if(typeof y === "object") numeric._biforeach(x,y,s,0,V);\n'+"  else numeric._biforeach(x,y,s,0,S);\n"+"}\nreturn x;\n")}for(e=0;e<numeric.mathfuns2.length;++e)t=numeric.mathfuns2[e],delete numeric.ops2[t];for(e=0;e<numeric.mathfuns.length;++e)t=numeric.mathfuns[e],numeric.ops1[t]=t;for(e in numeric.ops1)numeric.ops1.hasOwnProperty(e)&&(i="",t=numeric.ops1[e],numeric.myIndexOf.call(numeric.mathfuns,e)!==-1&&Math.hasOwnProperty(t)&&(i="var "+t+" = Math."+t+";\n"),numeric[e+"eqV"]=numeric.pointwise2(["ret[i]"],"ret[i] = "+t+"(ret[i]);",i),numeric[e+"eq"]=Function("x",'if(typeof x !== "object") return '+t+"x\n"+"var i;\n"+"var V = numeric."+e+"eqV;\n"+"var s = numeric.dim(x);\n"+"numeric._foreach(x,s,0,V);\n"+"return x;\n"),numeric[e+"V"]=numeric.pointwise2(["x[i]"],"ret[i] = "+t+"(x[i]);",i),numeric[e]=Function("x",'if(typeof x !== "object") return '+t+"(x)\n"+"var i;\n"+"var V = numeric."+e+"V;\n"+"var s = numeric.dim(x);\n"+"return numeric._foreach2(x,s,0,V);\n"));for(e=0;e<numeric.mathfuns.length;++e)t=numeric.mathfuns[e],delete numeric.ops1[t];for(e in numeric.mapreducers)numeric.mapreducers.hasOwnProperty(e)&&(t=numeric.mapreducers[e],numeric[e+"V"]=numeric.mapreduce2(t[0],t[1]),numeric[e]=Function("x","s","k",t[1]+'if(typeof x !== "object") {'+"    xi = x;\n"+t[0]+";\n"+"    return accum;\n"+"}"+'if(typeof s === "undefined") s = numeric.dim(x);\n'+'if(typeof k === "undefined") k = 0;\n'+"if(k === s.length-1) return numeric."+e+"V(x);\n"+"var xi;\n"+"var n = x.length, i;\n"+"for(i=n-1;i!==-1;--i) {\n"+"   xi = arguments.callee(x[i]);\n"+t[0]+";\n"+"}\n"+"return accum;\n"))}(),numeric.truncVV=numeric.pointwise(["x[i]","y[i]"],"ret[i] = round(x[i]/y[i])*y[i];","var round = Math.round;"),numeric.truncVS=numeric.pointwise(["x[i]","y"],"ret[i] = round(x[i]/y)*y;","var round = Math.round;"),numeric.truncSV=numeric.pointwise(["x","y[i]"],"ret[i] = round(x/y[i])*y[i];","var round = Math.round;"),numeric.trunc=function(t,n){return typeof t=="object"?typeof n=="object"?numeric.truncVV(t,n):numeric.truncVS(t,n):typeof n=="object"?numeric.truncSV(t,n):Math.round(t/n)*n},numeric.inv=function(t){var n=numeric.dim(t),r=Math.abs,i=n[0],s=n[1],o=numeric.clone(t),u,a,f=numeric.identity(i),l,c,h,p,d,t;for(p=0;p<s;++p){var v=-1,m=-1;for(h=p;h!==i;++h)d=r(o[h][p]),d>m&&(v=h,m=d);a=o[v],o[v]=o[p],o[p]=a,c=f[v],f[v]=f[p],f[p]=c,t=a[p];for(d=p;d!==s;++d)a[d]/=t;for(d=s-1;d!==-1;--d)c[d]/=t;for(h=i-1;h!==-1;--h)if(h!==p){u=o[h],l=f[h],t=u[p];for(d=p+1;d!==s;++d)u[d]-=a[d]*t;for(d=s-1;d>0;--d)l[d]-=c[d]*t,--d,l[d]-=c[d]*t;d===0&&(l[0]-=c[0]*t)}}return f},numeric.det=function(t){var n=numeric.dim(t);if(n.length!==2||n[0]!==n[1])throw new Error("numeric: det() only works on square matrices");var r=n[0],i=1,s,o,u,a=numeric.clone(t),f,l,c,h,p,d,v;for(o=0;o<r-1;o++){u=o;for(s=o+1;s<r;s++)Math.abs(a[s][o])>Math.abs(a[u][o])&&(u=s);u!==o&&(h=a[u],a[u]=a[o],a[o]=h,i*=-1),f=a[o];for(s=o+1;s<r;s++){l=a[s],c=l[o]/f[o];for(u=o+1;u<r-1;u+=2)p=u+1,l[u]-=f[u]*c,l[p]-=f[p]*c;u!==r&&(l[u]-=f[u]*c)}if(f[o]===0)return 0;i*=f[o]}return i*a[o][o]},numeric.transpose=function(t){var n,r,i=t.length,s=t[0].length,o=Array(s),u,a,f;for(r=0;r<s;r++)o[r]=Array(i);for(n=i-1;n>=1;n-=2){a=t[n],u=t[n-1];for(r=s-1;r>=1;--r)f=o[r],f[n]=a[r],f[n-1]=u[r],--r,f=o[r],f[n]=a[r],f[n-1]=u[r];r===0&&(f=o[0],f[n]=a[0],f[n-1]=u[0])}if(n===0){u=t[0];for(r=s-1;r>=1;--r)o[r][0]=u[r],--r,o[r][0]=u[r];r===0&&(o[0][0]=u[0])}return o},numeric.negtranspose=function(t){var n,r,i=t.length,s=t[0].length,o=Array(s),u,a,f;for(r=0;r<s;r++)o[r]=Array(i);for(n=i-1;n>=1;n-=2){a=t[n],u=t[n-1];for(r=s-1;r>=1;--r)f=o[r],f[n]=-a[r],f[n-1]=-u[r],--r,f=o[r],f[n]=-a[r],f[n-1]=-u[r];r===0&&(f=o[0],f[n]=-a[0],f[n-1]=-u[0])}if(n===0){u=t[0];for(r=s-1;r>=1;--r)o[r][0]=-u[r],--r,o[r][0]=-u[r];r===0&&(o[0][0]=-u[0])}return o},numeric._random=function _random(e,t){var n,r=e[t],i=Array(r),s;if(t===e.length-1){s=Math.random;for(n=r-1;n>=1;n-=2)i[n]=s(),i[n-1]=s();return n===0&&(i[0]=s()),i}for(n=r-1;n>=0;n--)i[n]=_random(e,t+1);return i},numeric.random=function(t){return numeric._random(t,0)},numeric.norm2=function(t){return Math.sqrt(numeric.norm2Squared(t))},numeric.linspace=function(t,n,r){typeof r=="undefined"&&(r=Math.max(Math.round(n-t)+1,1));if(r<2)return r===1?[t]:[];var i,s=Array(r);r--;for(i=r;i>=0;i--)s[i]=(i*n+(r-i)*t)/r;return s},numeric.getBlock=function(t,n,r){function s(e,t){var o,u=n[t],a=r[t]-u,f=Array(a);if(t===i.length-1){for(o=a;o>=0;o--)f[o]=e[o+u];return f}for(o=a;o>=0;o--)f[o]=s(e[o+u],t+1);return f}var i=numeric.dim(t);return s(t,0)},numeric.setBlock=function(t,n,r,i){function o(e,t,i){var u,a=n[i],f=r[i]-a;if(i===s.length-1)for(u=f;u>=0;u--)e[u+a]=t[u];for(u=f;u>=0;u--)o(e[u+a],t[u],i+1)}var s=numeric.dim(t);return o(t,i,0),t},numeric.getRange=function(t,n,r){var i=n.length,s=r.length,o,u,a=Array(i),f,l;for(o=i-1;o!==-1;--o){a[o]=Array(s),f=a[o],l=t[n[o]];for(u=s-1;u!==-1;--u)f[u]=l[r[u]]}return a},numeric.blockMatrix=function(t){var n=numeric.dim(t);if(n.length<4)return numeric.blockMatrix([t]);var r=n[0],i=n[1],s,o,u,a,f;s=0,o=0;for(u=0;u<r;++u)s+=t[u][0].length;for(a=0;a<i;++a)o+=t[0][a][0].length;var l=Array(s);for(u=0;u<s;++u)l[u]=Array(o);var c=0,h,p,d,v,m;for(u=0;u<r;++u){h=o;for(a=i-1;a!==-1;--a){f=t[u][a],h-=f[0].length;for(d=f.length-1;d!==-1;--d){m=f[d],p=l[c+d];for(v=m.length-1;v!==-1;--v)p[h+v]=m[v]}}c+=t[u][0].length}return l},numeric.tensor=function(t,n){if(typeof t=="number"||typeof n=="number")return numeric.mul(t,n);var r=numeric.dim(t),i=numeric.dim(n);if(r.length!==1||i.length!==1)throw new Error("numeric: tensor product is only defined for vectors");var s=r[0],o=i[0],u=Array(s),a,f,l,c;for(f=s-1;f>=0;f--){a=Array(o),c=t[f];for(l=o-1;l>=3;--l)a[l]=c*n[l],--l,a[l]=c*n[l],--l,a[l]=c*n[l],--l,a[l]=c*n[l];while(l>=0)a[l]=c*n[l],--l;u[f]=a}return u},numeric.T=function(t,n){this.x=t,this.y=n},numeric.t=function(t,n){return new numeric.T(t,n)},numeric.Tbinop=function(t,n,r,i,s){var o=numeric.indexOf;if(typeof s!="string"){var u;s="";for(u in numeric)numeric.hasOwnProperty(u)&&(t.indexOf(u)>=0||n.indexOf(u)>=0||r.indexOf(u)>=0||i.indexOf(u)>=0)&&u.length>1&&(s+="var "+u+" = numeric."+u+";\n")}return Function(["y"],"var x = this;\nif(!(y instanceof numeric.T)) { y = new numeric.T(y); }\n"+s+"\n"+"if(x.y) {"+"  if(y.y) {"+"    return new numeric.T("+i+");\n"+"  }\n"+"  return new numeric.T("+r+");\n"+"}\n"+"if(y.y) {\n"+"  return new numeric.T("+n+");\n"+"}\n"+"return new numeric.T("+t+");\n")},numeric.T.prototype.add=numeric.Tbinop("add(x.x,y.x)","add(x.x,y.x),y.y","add(x.x,y.x),x.y","add(x.x,y.x),add(x.y,y.y)"),numeric.T.prototype.sub=numeric.Tbinop("sub(x.x,y.x)","sub(x.x,y.x),neg(y.y)","sub(x.x,y.x),x.y","sub(x.x,y.x),sub(x.y,y.y)"),numeric.T.prototype.mul=numeric.Tbinop("mul(x.x,y.x)","mul(x.x,y.x),mul(x.x,y.y)","mul(x.x,y.x),mul(x.y,y.x)","sub(mul(x.x,y.x),mul(x.y,y.y)),add(mul(x.x,y.y),mul(x.y,y.x))"),numeric.T.prototype.reciprocal=function(){var t=numeric.mul,n=numeric.div;if(this.y){var r=numeric.add(t(this.x,this.x),t(this.y,this.y));return new numeric.T(n(this.x,r),n(numeric.neg(this.y),r))}return new T(n(1,this.x))},numeric.T.prototype.div=function div(e){e instanceof numeric.T||(e=new numeric.T(e));if(e.y)return this.mul(e.reciprocal());var div=numeric.div;return this.y?new numeric.T(div(this.x,e.x),div(this.y,e.x)):new numeric.T(div(this.x,e.x))},numeric.T.prototype.dot=numeric.Tbinop("dot(x.x,y.x)","dot(x.x,y.x),dot(x.x,y.y)","dot(x.x,y.x),dot(x.y,y.x)","sub(dot(x.x,y.x),dot(x.y,y.y)),add(dot(x.x,y.y),dot(x.y,y.x))"),numeric.T.prototype.transpose=function(){var t=numeric.transpose,n=this.x,r=this.y;return r?new numeric.T(t(n),t(r)):new numeric.T(t(n))},numeric.T.prototype.transjugate=function(){var t=numeric.transpose,n=this.x,r=this.y;return r?new numeric.T(t(n),numeric.negtranspose(r)):new numeric.T(t(n))},numeric.Tunop=function(t,n,r){return typeof r!="string"&&(r=""),Function("var x = this;\n"+r+"\n"+"if(x.y) {"+"  "+n+";\n"+"}\n"+t+";\n")},numeric.T.prototype.exp=numeric.Tunop("return new numeric.T(ex)","return new numeric.T(mul(cos(x.y),ex),mul(sin(x.y),ex))","var ex = numeric.exp(x.x), cos = numeric.cos, sin = numeric.sin, mul = numeric.mul;"),numeric.T.prototype.conj=numeric.Tunop("return new numeric.T(x.x);","return new numeric.T(x.x,numeric.neg(x.y));"),numeric.T.prototype.neg=numeric.Tunop("return new numeric.T(neg(x.x));","return new numeric.T(neg(x.x),neg(x.y));","var neg = numeric.neg;"),numeric.T.prototype.sin=numeric.Tunop("return new numeric.T(numeric.sin(x.x))","return x.exp().sub(x.neg().exp()).div(new numeric.T(0,2));"),numeric.T.prototype.cos=numeric.Tunop("return new numeric.T(numeric.cos(x.x))","return x.exp().add(x.neg().exp()).div(2);"),numeric.T.prototype.abs=numeric.Tunop("return new numeric.T(numeric.abs(x.x));","return new numeric.T(numeric.sqrt(numeric.add(mul(x.x,x.x),mul(x.y,x.y))));","var mul = numeric.mul;"),numeric.T.prototype.log=numeric.Tunop("return new numeric.T(numeric.log(x.x));","var theta = new numeric.T(numeric.atan2(x.y,x.x)), r = x.abs();\nreturn new numeric.T(numeric.log(r.x),theta.x);"),numeric.T.prototype.norm2=numeric.Tunop("return numeric.norm2(x.x);","var f = numeric.norm2Squared;\nreturn Math.sqrt(f(x.x)+f(x.y));"),numeric.T.prototype.inv=function(){var t=this;if(typeof t.y=="undefined")return new numeric.T(numeric.inv(t.x));var n=t.x.length,r,i,s,o=numeric.identity(n),u=numeric.rep([n,n],0),a=numeric.clone(t.x),f=numeric.clone(t.y),l,c,h,p,d,v,m,g,r,i,s,y,b,w,E,S,x,T;for(r=0;r<n;r++){w=a[r][r],E=f[r][r],y=w*w+E*E,s=r;for(i=r+1;i<n;i++)w=a[i][r],E=f[i][r],b=w*w+E*E,b>y&&(s=i,y=b);s!==r&&(T=a[r],a[r]=a[s],a[s]=T,T=f[r],f[r]=f[s],f[s]=T,T=o[r],o[r]=o[s],o[s]=T,T=u[r],u[r]=u[s],u[s]=T),l=a[r],c=f[r],d=o[r],v=u[r],w=l[r],E=c[r];for(i=r+1;i<n;i++)S=l[i],x=c[i],l[i]=(S*w+x*E)/y,c[i]=(x*w-S*E)/y;for(i=0;i<n;i++)S=d[i],x=v[i],d[i]=(S*w+x*E)/y,v[i]=(x*w-S*E)/y;for(i=r+1;i<n;i++){h=a[i],p=f[i],m=o[i],g=u[i],w=h[r],E=p[r];for(s=r+1;s<n;s++)S=l[s],x=c[s],h[s]-=S*w-x*E,p[s]-=x*w+S*E;for(s=0;s<n;s++)S=d[s],x=v[s],m[s]-=S*w-x*E,g[s]-=x*w+S*E}}for(r=n-1;r>0;r--){d=o[r],v=u[r];for(i=r-1;i>=0;i--){m=o[i],g=u[i],w=a[i][r],E=f[i][r];for(s=n-1;s>=0;s--)S=d[s],x=v[s],m[s]-=w*S-E*x,g[s]-=w*x+E*S}}return new numeric.T(o,u)},numeric.T.prototype.get=function(t){var n=this.x,r=this.y,i=0,s,o=t.length;if(r){while(i<o)s=t[i],n=n[s],r=r[s],i++;return new numeric.T(n,r)}while(i<o)s=t[i],n=n[s],i++;return new numeric.T(n)},numeric.T.prototype.set=function(t,n){var r=this.x,i=this.y,s=0,o,u=t.length,a=n.x,f=n.y;if(u===0)return f?this.y=f:i&&(this.y=undefined),this.x=r,this;if(f){i||(i=numeric.rep(numeric.dim(r),0),this.y=i);while(s<u-1)o=t[s],r=r[o],i=i[o],s++;return o=t[s],r[o]=a,i[o]=f,this}if(i){while(s<u-1)o=t[s],r=r[o],i=i[o],s++;return o=t[s],r[o]=a,a instanceof Array?i[o]=numeric.rep(numeric.dim(a),0):i[o]=0,this}while(s<u-1)o=t[s],r=r[o],s++;return o=t[s],r[o]=a,this},numeric.T.prototype.getRows=function(t,n){var r=n-t+1,i,s=Array(r),o,u=this.x,a=this.y;for(i=t;i<=n;i++)s[i-t]=u[i];if(a){o=Array(r);for(i=t;i<=n;i++)o[i-t]=a[i];return new numeric.T(s,o)}return new numeric.T(s)},numeric.T.prototype.setRows=function(t,n,r){var i,s=this.x,o=this.y,u=r.x,a=r.y;for(i=t;i<=n;i++)s[i]=u[i-t];if(a){o||(o=numeric.rep(numeric.dim(s),0),this.y=o);for(i=t;i<=n;i++)o[i]=a[i-t]}else if(o)for(i=t;i<=n;i++)o[i]=numeric.rep([u[i-t].length],0);return this},numeric.T.prototype.getRow=function(t){var n=this.x,r=this.y;return r?new numeric.T(n[t],r[t]):new numeric.T(n[t])},numeric.T.prototype.setRow=function(t,n){var r=this.x,i=this.y,s=n.x,o=n.y;return r[t]=s,o?(i||(i=numeric.rep(numeric.dim(r),0),this.y=i),i[t]=o):i&&(i=numeric.rep([s.length],0)),this},numeric.T.prototype.getBlock=function(t,n){var r=this.x,i=this.y,s=numeric.getBlock;return i?new numeric.T(s(r,t,n),s(i,t,n)):new numeric.T(s(r,t,n))},numeric.T.prototype.setBlock=function(t,n,r){r instanceof numeric.T||(r=new numeric.T(r));var i=this.x,s=this.y,o=numeric.setBlock,u=r.x,a=r.y;if(a)return s||(this.y=numeric.rep(numeric.dim(this),0),s=this.y),o(i,t,n,u),o(s,t,n,a),this;o(i,t,n,u),s&&o(s,t,n,numeric.rep(numeric.dim(u),0))},numeric.T.rep=function(t,n){var r=numeric.T;n instanceof r||(n=new r(n));var i=n.x,s=n.y,o=numeric.rep;return s?new r(o(t,i),o(t,s)):new r(o(t,i))},numeric.T.diag=function diag(e){e instanceof numeric.T||(e=new numeric.T(e));var t=e.x,n=e.y,diag=numeric.diag;return n?new numeric.T(diag(t),diag(n)):new numeric.T(diag(t))},numeric.T.eig=function(){if(this.y)throw new Error("eig: not implemented for complex matrices.");return numeric.eig(this.x)},numeric.T.identity=function(t){return new numeric.T(numeric.identity(t))},numeric.T.prototype.getDiag=function(){var t=numeric,n=this.x,r=this.y;return r?new t.T(t.getDiag(n),t.getDiag(r)):new t.T(t.getDiag(n))},numeric.house=function(t){var n=numeric.clone(t),r=t[0]>=0?1:-1,i=r*numeric.norm2(t);n[0]+=i;var s=numeric.norm2(n);if(s===0)throw new Error("eig: internal error");return numeric.div(n,s)},numeric.toUpperHessenberg=function(t){var n=numeric.dim(t);if(n.length!==2||n[0]!==n[1])throw new Error("numeric: toUpperHessenberg() only works on square matrices");var r=n[0],i,s,o,u,a,f=numeric.clone(t),l,c,h,p,d=numeric.identity(r),v;for(s=0;s<r-2;s++){u=Array(r-s-1);for(i=s+1;i<r;i++)u[i-s-1]=f[i][s];if(numeric.norm2(u)>0){a=numeric.house(u),l=numeric.getBlock(f,[s+1,s],[r-1,r-1]),c=numeric.tensor(a,numeric.dot(a,l));for(i=s+1;i<r;i++){h=f[i],p=c[i-s-1];for(o=s;o<r;o++)h[o]-=2*p[o-s]}l=numeric.getBlock(f,[0,s+1],[r-1,r-1]),c=numeric.tensor(numeric.dot(l,a),a);for(i=0;i<r;i++){h=f[i],p=c[i];for(o=s+1;o<r;o++)h[o]-=2*p[o-s-1]}l=Array(r-s-1);for(i=s+1;i<r;i++)l[i-s-1]=d[i];c=numeric.tensor(a,numeric.dot(a,l));for(i=s+1;i<r;i++){v=d[i],p=c[i-s-1];for(o=0;o<r;o++)v[o]-=2*p[o]}}}return{H:f,Q:d}},numeric.epsilon=2.220446049250313e-16,numeric.QRFrancis=function(e,t){typeof t=="undefined"&&(t=1e4),e=numeric.clone(e);var n=numeric.clone(e),r=numeric.dim(e),i=r[0],s,o,u,a,f,l,c,h,p,d=numeric.identity(i),v,m,g,y,b,w,E,S,x;if(i<3)return{Q:d,B:[[0,i-1]]};var T=numeric.epsilon;for(x=0;x<t;x++){for(E=0;E<i-1;E++)if(Math.abs(e[E+1][E])<T*(Math.abs(e[E][E])+Math.abs(e[E+1][E+1]))){var N=numeric.QRFrancis(numeric.getBlock(e,[0,0],[E,E]),t),C=numeric.QRFrancis(numeric.getBlock(e,[E+1,E+1],[i-1,i-1]),t);g=Array(E+1);for(w=0;w<=E;w++)g[w]=d[w];y=numeric.dot(N.Q,g);for(w=0;w<=E;w++)d[w]=y[w];g=Array(i-E-1);for(w=E+1;w<i;w++)g[w-E-1]=d[w];y=numeric.dot(C.Q,g);for(w=E+1;w<i;w++)d[w]=y[w-E-1];return{Q:d,B:N.B.concat(numeric.add(C.B,E+1))}}u=e[i-2][i-2],a=e[i-2][i-1],f=e[i-1][i-2],l=e[i-1][i-1],h=u+l,c=u*l-a*f,p=numeric.getBlock(e,[0,0],[2,2]);if(h*h>=4*c){var k,L;k=.5*(h+Math.sqrt(h*h-4*c)),L=.5*(h-Math.sqrt(h*h-4*c)),p=numeric.add(numeric.sub(numeric.dot(p,p),numeric.mul(p,k+L)),numeric.diag(numeric.rep([3],k*L)))}else p=numeric.add(numeric.sub(numeric.dot(p,p),numeric.mul(p,h)),numeric.diag(numeric.rep([3],c)));s=[p[0][0],p[1][0],p[2][0]],o=numeric.house(s),g=[e[0],e[1],e[2]],y=numeric.tensor(o,numeric.dot(o,g));for(w=0;w<3;w++){m=e[w],b=y[w];for(S=0;S<i;S++)m[S]-=2*b[S]}g=numeric.getBlock(e,[0,0],[i-1,2]),y=numeric.tensor(numeric.dot(g,o),o);for(w=0;w<i;w++){m=e[w],b=y[w];for(S=0;S<3;S++)m[S]-=2*b[S]}g=[d[0],d[1],d[2]],y=numeric.tensor(o,numeric.dot(o,g));for(w=0;w<3;w++){v=d[w],b=y[w];for(S=0;S<i;S++)v[S]-=2*b[S]}var A;for(E=0;E<i-2;E++){for(S=E;S<=E+1;S++)if(Math.abs(e[S+1][S])<T*(Math.abs(e[S][S])+Math.abs(e[S+1][S+1]))){var N=numeric.QRFrancis(numeric.getBlock(e,[0,0],[S,S]),t),C=numeric.QRFrancis(numeric.getBlock(e,[S+1,S+1],[i-1,i-1]),t);g=Array(S+1);for(w=0;w<=S;w++)g[w]=d[w];y=numeric.dot(N.Q,g);for(w=0;w<=S;w++)d[w]=y[w];g=Array(i-S-1);for(w=S+1;w<i;w++)g[w-S-1]=d[w];y=numeric.dot(C.Q,g);for(w=S+1;w<i;w++)d[w]=y[w-S-1];return{Q:d,B:N.B.concat(numeric.add(C.B,S+1))}}A=Math.min(i-1,E+3),s=Array(A-E);for(w=E+1;w<=A;w++)s[w-E-1]=e[w][E];o=numeric.house(s),g=numeric.getBlock(e,[E+1,E],[A,i-1]),y=numeric.tensor(o,numeric.dot(o,g));for(w=E+1;w<=A;w++){m=e[w],b=y[w-E-1];for(S=E;S<i;S++)m[S]-=2*b[S-E]}g=numeric.getBlock(e,[0,E+1],[i-1,A]),y=numeric.tensor(numeric.dot(g,o),o);for(w=0;w<i;w++){m=e[w],b=y[w];for(S=E+1;S<=A;S++)m[S]-=2*b[S-E-1]}g=Array(A-E);for(w=E+1;w<=A;w++)g[w-E-1]=d[w];y=numeric.tensor(o,numeric.dot(o,g));for(w=E+1;w<=A;w++){v=d[w],b=y[w-E-1];for(S=0;S<i;S++)v[S]-=2*b[S]}}}throw new Error("numeric: eigenvalue iteration does not converge -- increase maxiter?")},numeric.eig=function(t,n){var r=numeric.toUpperHessenberg(t),i=numeric.QRFrancis(r.H,n),s=numeric.T,o=t.length,u,a,f=!1,l=i.B,c=numeric.dot(i.Q,numeric.dot(r.H,numeric.transpose(i.Q))),h=new s(numeric.dot(i.Q,r.Q)),p,d=l.length,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A=Math.sqrt;for(a=0;a<d;a++){u=l[a][0];if(u!==l[a][1]){v=u+1,m=c[u][u],g=c[u][v],y=c[v][u],b=c[v][v];if(g===0&&y===0)continue;w=-m-b,E=m*b-g*y,S=w*w-4*E,S>=0?(w<0?x=-0.5*(w-A(S)):x=-0.5*(w+A(S)),k=(m-x)*(m-x)+g*g,L=y*y+(b-x)*(b-x),k>L?(k=A(k),N=(m-x)/k,C=g/k):(L=A(L),N=y/L,C=(b-x)/L),p=new s([[C,-N],[N,C]]),h.setRows(u,v,p.dot(h.getRows(u,v)))):(x=-0.5*w,T=.5*A(-S),k=(m-x)*(m-x)+g*g,L=y*y+(b-x)*(b-x),k>L?(k=A(k+T*T),N=(m-x)/k,C=g/k,x=0,T/=k):(L=A(L+T*T),N=y/L,C=(b-x)/L,x=T/L,T=0),p=new s([[C,-N],[N,C]],[[x,
T],[T,-x]]),h.setRows(u,v,p.dot(h.getRows(u,v))))}}var O=h.dot(t).dot(h.transjugate()),o=t.length,M=numeric.T.identity(o);for(v=0;v<o;v++)if(v>0)for(a=v-1;a>=0;a--){var _=O.get([a,a]),D=O.get([v,v]);if(!numeric.neq(_.x,D.x)&&!numeric.neq(_.y,D.y)){M.setRow(v,M.getRow(a));continue}x=O.getRow(a).getBlock([a],[v-1]),T=M.getRow(v).getBlock([a],[v-1]),M.set([v,a],O.get([a,v]).neg().sub(x.dot(T)).div(_.sub(D)))}for(v=0;v<o;v++)x=M.getRow(v),M.setRow(v,x.div(x.norm2()));return M=M.transpose(),M=h.transjugate().dot(M),{lambda:O.getDiag(),E:M}},numeric.ccsSparse=function(t){var n=t.length,r,i,s,o,u=[];for(s=n-1;s!==-1;--s){i=t[s];for(o in i){o=parseInt(o);while(o>=u.length)u[u.length]=0;i[o]!==0&&u[o]++}}var r=u.length,a=Array(r+1);a[0]=0;for(s=0;s<r;++s)a[s+1]=a[s]+u[s];var f=Array(a[r]),l=Array(a[r]);for(s=n-1;s!==-1;--s){i=t[s];for(o in i)i[o]!==0&&(u[o]--,f[a[o]+u[o]]=s,l[a[o]+u[o]]=i[o])}return[a,f,l]},numeric.ccsFull=function(t){var n=t[0],r=t[1],i=t[2],s=numeric.ccsDim(t),o=s[0],u=s[1],a,f,l,c,h,p=numeric.rep([o,u],0);for(a=0;a<u;a++){l=n[a],c=n[a+1];for(f=l;f<c;++f)p[r[f]][a]=i[f]}return p},numeric.ccsTSolve=function(t,n,r,i,s){function h(e){var t;if(r[e]!==0)return;r[e]=1;for(t=o[e];t<o[e+1];++t)h(u[t]);s[c]=e,++c}var o=t[0],u=t[1],a=t[2],f=o.length-1,l=Math.max,c=0;typeof i=="undefined"&&(r=numeric.rep([f],0)),typeof i=="undefined"&&(i=numeric.linspace(0,r.length-1)),typeof s=="undefined"&&(s=[]);var p,d,v,m,g,y,b,w,E;for(p=i.length-1;p!==-1;--p)h(i[p]);s.length=c;for(p=s.length-1;p!==-1;--p)r[s[p]]=0;for(p=i.length-1;p!==-1;--p)d=i[p],r[d]=n[d];for(p=s.length-1;p!==-1;--p){d=s[p],v=o[d],m=l(o[d+1],v);for(g=v;g!==m;++g)if(u[g]===d){r[d]/=a[g];break}E=r[d];for(g=v;g!==m;++g)y=u[g],y!==d&&(r[y]-=E*a[g])}return r},numeric.ccsDFS=function(t){this.k=Array(t),this.k1=Array(t),this.j=Array(t)},numeric.ccsDFS.prototype.dfs=function(t,n,r,i,s,o){var u=0,a,f=s.length,l=this.k,c=this.k1,h=this.j,p,d;if(i[t]!==0)return;i[t]=1,h[0]=t,l[0]=p=n[t],c[0]=d=n[t+1];for(;;)if(p>=d){s[f]=h[u];if(u===0)return;++f,--u,p=l[u],d=c[u]}else a=o[r[p]],i[a]===0?(i[a]=1,l[u]=p,++u,h[u]=a,p=n[a],c[u]=d=n[a+1]):++p},numeric.ccsLPSolve=function(t,n,r,i,s,o,u){var a=t[0],f=t[1],l=t[2],c=a.length-1,h=0,p=n[0],d=n[1],v=n[2],m,g,y,b,w,E,S,x,T,N,C,k;g=p[s],y=p[s+1],i.length=0;for(m=g;m<y;++m)u.dfs(o[d[m]],a,f,r,i,o);for(m=i.length-1;m!==-1;--m)r[i[m]]=0;for(m=g;m!==y;++m)b=o[d[m]],r[b]=v[m];for(m=i.length-1;m!==-1;--m){b=i[m],E=a[b],S=a[b+1];for(x=E;x<S;++x)if(o[f[x]]===b){r[b]/=l[x];break}k=r[b];for(x=E;x<S;++x)T=o[f[x]],T!==b&&(r[T]-=k*l[x])}return r},numeric.ccsLUP1=function(t,n){var r=t[0].length-1,i=[numeric.rep([r+1],0),[],[]],s=[numeric.rep([r+1],0),[],[]],o=i[0],u=i[1],a=i[2],f=s[0],l=s[1],c=s[2],h=numeric.rep([r],0),p=numeric.rep([r],0),d,v,m,g,y,b,w,E,S,x,T=numeric.ccsLPSolve,N=Math.max,C=Math.abs,k=numeric.linspace(0,r-1),L=numeric.linspace(0,r-1),A=new numeric.ccsDFS(r);typeof n=="undefined"&&(n=1);for(d=0;d<r;++d){T(i,t,h,p,d,L,A),b=-1,w=-1;for(v=p.length-1;v!==-1;--v){m=p[v];if(m<=d)continue;E=C(h[m]),E>b&&(w=m,b=E)}C(h[d])<n*b&&(v=k[d],b=k[w],k[d]=b,L[b]=d,k[w]=v,L[v]=w,b=h[d],h[d]=h[w],h[w]=b),b=o[d],w=f[d],S=h[d],u[b]=k[d],a[b]=1,++b;for(v=p.length-1;v!==-1;--v)m=p[v],E=h[m],p[v]=0,h[m]=0,m<=d?(l[w]=m,c[w]=E,++w):(u[b]=k[m],a[b]=E/S,++b);o[d+1]=b,f[d+1]=w}for(v=u.length-1;v!==-1;--v)u[v]=L[u[v]];return{L:i,U:s,P:k,Pinv:L}},numeric.ccsDFS0=function(t){this.k=Array(t),this.k1=Array(t),this.j=Array(t)},numeric.ccsDFS0.prototype.dfs=function(t,n,r,i,s,o,u){var a=0,f,l=s.length,c=this.k,h=this.k1,p=this.j,d,v;if(i[t]!==0)return;i[t]=1,p[0]=t,c[0]=d=n[o[t]],h[0]=v=n[o[t]+1];for(;;){if(isNaN(d))throw new Error("Ow!");if(d>=v){s[l]=o[p[a]];if(a===0)return;++l,--a,d=c[a],v=h[a]}else f=r[d],i[f]===0?(i[f]=1,c[a]=d,++a,p[a]=f,f=o[f],d=n[f],h[a]=v=n[f+1]):++d}},numeric.ccsLPSolve0=function(t,n,r,i,s,o,u,a){var f=t[0],l=t[1],c=t[2],h=f.length-1,p=0,d=n[0],v=n[1],m=n[2],g,y,b,w,E,S,x,T,N,C,k,L;y=d[s],b=d[s+1],i.length=0;for(g=y;g<b;++g)a.dfs(v[g],f,l,r,i,o,u);for(g=i.length-1;g!==-1;--g)w=i[g],r[u[w]]=0;for(g=y;g!==b;++g)w=v[g],r[w]=m[g];for(g=i.length-1;g!==-1;--g){w=i[g],N=u[w],S=f[w],x=f[w+1];for(T=S;T<x;++T)if(l[T]===N){r[N]/=c[T];break}L=r[N];for(T=S;T<x;++T)r[l[T]]-=L*c[T];r[N]=L}},numeric.ccsLUP0=function(t,n){var r=t[0].length-1,i=[numeric.rep([r+1],0),[],[]],s=[numeric.rep([r+1],0),[],[]],o=i[0],u=i[1],a=i[2],f=s[0],l=s[1],c=s[2],h=numeric.rep([r],0),p=numeric.rep([r],0),d,v,m,g,y,b,w,E,S,x,T=numeric.ccsLPSolve0,N=Math.max,C=Math.abs,k=numeric.linspace(0,r-1),L=numeric.linspace(0,r-1),A=new numeric.ccsDFS0(r);typeof n=="undefined"&&(n=1);for(d=0;d<r;++d){T(i,t,h,p,d,L,k,A),b=-1,w=-1;for(v=p.length-1;v!==-1;--v){m=p[v];if(m<=d)continue;E=C(h[k[m]]),E>b&&(w=m,b=E)}C(h[k[d]])<n*b&&(v=k[d],b=k[w],k[d]=b,L[b]=d,k[w]=v,L[v]=w),b=o[d],w=f[d],S=h[k[d]],u[b]=k[d],a[b]=1,++b;for(v=p.length-1;v!==-1;--v)m=p[v],E=h[k[m]],p[v]=0,h[k[m]]=0,m<=d?(l[w]=m,c[w]=E,++w):(u[b]=k[m],a[b]=E/S,++b);o[d+1]=b,f[d+1]=w}for(v=u.length-1;v!==-1;--v)u[v]=L[u[v]];return{L:i,U:s,P:k,Pinv:L}},numeric.ccsLUP=numeric.ccsLUP0,numeric.ccsDim=function(t){return[numeric.sup(t[1])+1,t[0].length-1]},numeric.ccsGetBlock=function(t,n,r){var i=numeric.ccsDim(t),s=i[0],o=i[1];typeof n=="undefined"?n=numeric.linspace(0,s-1):typeof n=="number"&&(n=[n]),typeof r=="undefined"?r=numeric.linspace(0,o-1):typeof r=="number"&&(r=[r]);var u,a,f,l=n.length,c,h=r.length,p,d,v,m=numeric.rep([o],0),g=[],y=[],b=[m,g,y],w=t[0],E=t[1],S=t[2],x=numeric.rep([s],0),T=0,N=numeric.rep([s],0);for(c=0;c<h;++c){d=r[c];var C=w[d],k=w[d+1];for(u=C;u<k;++u)p=E[u],N[p]=1,x[p]=S[u];for(u=0;u<l;++u)v=n[u],N[v]&&(g[T]=u,y[T]=x[n[u]],++T);for(u=C;u<k;++u)p=E[u],N[p]=0;m[c+1]=T}return b},numeric.ccsDot=function(t,n){var r=t[0],i=t[1],s=t[2],o=n[0],u=n[1],a=n[2],f=numeric.ccsDim(t),l=numeric.ccsDim(n),c=f[0],h=f[1],p=l[1],d=numeric.rep([c],0),v=numeric.rep([c],0),m=Array(c),g=numeric.rep([p],0),y=[],b=[],w=[g,y,b],E,S,x,T,N,C,k,L,A,O,M;for(x=0;x!==p;++x){T=o[x],N=o[x+1],A=0;for(S=T;S<N;++S){O=u[S],M=a[S],C=r[O],k=r[O+1];for(E=C;E<k;++E)L=i[E],v[L]===0&&(m[A]=L,v[L]=1,A+=1),d[L]=d[L]+s[E]*M}T=g[x],N=T+A,g[x+1]=N;for(S=A-1;S!==-1;--S)M=T+S,E=m[S],y[M]=E,b[M]=d[E],v[E]=0,d[E]=0;g[x+1]=g[x]+A}return w},numeric.ccsLUPSolve=function(t,n){var r=t.L,i=t.U,s=t.P,o=n[0],u=!1;typeof o!="object"&&(n=[[0,n.length],numeric.linspace(0,n.length-1),n],o=n[0],u=!0);var a=n[1],f=n[2],l=r[0].length-1,c=o.length-1,h=numeric.rep([l],0),p=Array(l),d=numeric.rep([l],0),v=Array(l),m=numeric.rep([c+1],0),g=[],y=[],b=numeric.ccsTSolve,w,E,S,x,T,N,C=0;for(w=0;w<c;++w){T=0,S=o[w],x=o[w+1];for(E=S;E<x;++E)N=t.Pinv[a[E]],v[T]=N,d[N]=f[E],++T;v.length=T,b(r,d,h,v,p);for(E=v.length-1;E!==-1;--E)d[v[E]]=0;b(i,h,d,p,v);if(u)return d;for(E=p.length-1;E!==-1;--E)h[p[E]]=0;for(E=v.length-1;E!==-1;--E)N=v[E],g[C]=N,y[C]=d[N],d[N]=0,++C;m[w+1]=C}return[m,g,y]},numeric.ccsbinop=function(t,n){return typeof n=="undefined"&&(n=""),Function("X","Y","var Xi = X[0], Xj = X[1], Xv = X[2];\nvar Yi = Y[0], Yj = Y[1], Yv = Y[2];\nvar n = Xi.length-1,m = Math.max(numeric.sup(Xj),numeric.sup(Yj))+1;\nvar Zi = numeric.rep([n+1],0), Zj = [], Zv = [];\nvar x = numeric.rep([m],0),y = numeric.rep([m],0);\nvar xk,yk,zk;\nvar i,j,j0,j1,k,p=0;\n"+n+"for(i=0;i<n;++i) {\n"+"  j0 = Xi[i]; j1 = Xi[i+1];\n"+"  for(j=j0;j!==j1;++j) {\n"+"    k = Xj[j];\n"+"    x[k] = 1;\n"+"    Zj[p] = k;\n"+"    ++p;\n"+"  }\n"+"  j0 = Yi[i]; j1 = Yi[i+1];\n"+"  for(j=j0;j!==j1;++j) {\n"+"    k = Yj[j];\n"+"    y[k] = Yv[j];\n"+"    if(x[k] === 0) {\n"+"      Zj[p] = k;\n"+"      ++p;\n"+"    }\n"+"  }\n"+"  Zi[i+1] = p;\n"+"  j0 = Xi[i]; j1 = Xi[i+1];\n"+"  for(j=j0;j!==j1;++j) x[Xj[j]] = Xv[j];\n"+"  j0 = Zi[i]; j1 = Zi[i+1];\n"+"  for(j=j0;j!==j1;++j) {\n"+"    k = Zj[j];\n"+"    xk = x[k];\n"+"    yk = y[k];\n"+t+"\n"+"    Zv[j] = zk;\n"+"  }\n"+"  j0 = Xi[i]; j1 = Xi[i+1];\n"+"  for(j=j0;j!==j1;++j) x[Xj[j]] = 0;\n"+"  j0 = Yi[i]; j1 = Yi[i+1];\n"+"  for(j=j0;j!==j1;++j) y[Yj[j]] = 0;\n"+"}\n"+"return [Zi,Zj,Zv];")},function(){var k,A,B,C;for(k in numeric.ops2)isFinite(eval("1"+numeric.ops2[k]+"0"))?A="[Y[0],Y[1],numeric."+k+"(X,Y[2])]":A="NaN",isFinite(eval("0"+numeric.ops2[k]+"1"))?B="[X[0],X[1],numeric."+k+"(X[2],Y)]":B="NaN",isFinite(eval("1"+numeric.ops2[k]+"0"))&&isFinite(eval("0"+numeric.ops2[k]+"1"))?C="numeric.ccs"+k+"MM(X,Y)":C="NaN",numeric["ccs"+k+"MM"]=numeric.ccsbinop("zk = xk "+numeric.ops2[k]+"yk;"),numeric["ccs"+k]=Function("X","Y",'if(typeof X === "number") return '+A+";\n"+'if(typeof Y === "number") return '+B+";\n"+"return "+C+";\n")}(),numeric.ccsScatter=function(t){var n=t[0],r=t[1],i=t[2],s=numeric.sup(r)+1,o=n.length,u=numeric.rep([s],0),a=Array(o),f=Array(o),l=numeric.rep([s],0),c;for(c=0;c<o;++c)l[r[c]]++;for(c=0;c<s;++c)u[c+1]=u[c]+l[c];var h=u.slice(0),p,d;for(c=0;c<o;++c)d=r[c],p=h[d],a[p]=n[c],f[p]=i[c],h[d]=h[d]+1;return[u,a,f]},numeric.ccsGather=function(t){var n=t[0],r=t[1],i=t[2],s=n.length-1,o=r.length,u=Array(o),a=Array(o),f=Array(o),l,c,h,p,d;d=0;for(l=0;l<s;++l){h=n[l],p=n[l+1];for(c=h;c!==p;++c)a[d]=l,u[d]=r[c],f[d]=i[c],++d}return[u,a,f]},numeric.sdim=function dim(e,t,n){typeof t=="undefined"&&(t=[]);if(typeof e!="object")return t;typeof n=="undefined"&&(n=0),n in t||(t[n]=0),e.length>t[n]&&(t[n]=e.length);var r;for(r in e)e.hasOwnProperty(r)&&dim(e[r],t,n+1);return t},numeric.sclone=function clone(e,t,n){typeof t=="undefined"&&(t=0),typeof n=="undefined"&&(n=numeric.sdim(e).length);var r,i=Array(e.length);if(t===n-1){for(r in e)e.hasOwnProperty(r)&&(i[r]=e[r]);return i}for(r in e)e.hasOwnProperty(r)&&(i[r]=clone(e[r],t+1,n));return i},numeric.sdiag=function(t){var n=t.length,r,i=Array(n),s,o,u;for(r=n-1;r>=1;r-=2)s=r-1,i[r]=[],i[r][r]=t[r],i[s]=[],i[s][s]=t[s];return r===0&&(i[0]=[],i[0][0]=t[r]),i},numeric.sidentity=function(t){return numeric.sdiag(numeric.rep([t],1))},numeric.stranspose=function(t){var n=[],r=t.length,i,s,o;for(i in t){if(!t.hasOwnProperty(i))continue;o=t[i];for(s in o){if(!o.hasOwnProperty(s))continue;typeof n[s]!="object"&&(n[s]=[]),n[s][i]=o[s]}}return n},numeric.sLUP=function(t,n){throw new Error("The function numeric.sLUP had a bug in it and has been removed. Please use the new numeric.ccsLUP function instead.")},numeric.sdotMM=function(t,n){var r=t.length,i=n.length,s=numeric.stranspose(n),o=s.length,u,a,f,l,c,h,p=Array(r),d;for(f=r-1;f>=0;f--){d=[],u=t[f];for(c=o-1;c>=0;c--){h=0,a=s[c];for(l in u){if(!u.hasOwnProperty(l))continue;l in a&&(h+=u[l]*a[l])}h&&(d[c]=h)}p[f]=d}return p},numeric.sdotMV=function(t,n){var r=t.length,i,s,o,u=Array(r),a;for(s=r-1;s>=0;s--){i=t[s],a=0;for(o in i){if(!i.hasOwnProperty(o))continue;n[o]&&(a+=i[o]*n[o])}a&&(u[s]=a)}return u},numeric.sdotVM=function(t,n){var r,i,s,o,u=[],a;for(r in t){if(!t.hasOwnProperty(r))continue;s=n[r],o=t[r];for(i in s){if(!s.hasOwnProperty(i))continue;u[i]||(u[i]=0),u[i]+=o*s[i]}}return u},numeric.sdotVV=function(t,n){var r,i=0;for(r in t)t[r]&&n[r]&&(i+=t[r]*n[r]);return i},numeric.sdot=function(t,n){var r=numeric.sdim(t).length,i=numeric.sdim(n).length,s=r*1e3+i;switch(s){case 0:return t*n;case 1001:return numeric.sdotVV(t,n);case 2001:return numeric.sdotMV(t,n);case 1002:return numeric.sdotVM(t,n);case 2002:return numeric.sdotMM(t,n);default:throw new Error("numeric.sdot not implemented for tensors of order "+r+" and "+i)}},numeric.sscatter=function(t){var n=t[0].length,r,i,s,o=t.length,u=[],a;for(i=n-1;i>=0;--i){if(!t[o-1][i])continue;a=u;for(s=0;s<o-2;s++)r=t[s][i],a[r]||(a[r]=[]),a=a[r];a[t[s][i]]=t[s+1][i]}return u},numeric.sgather=function gather(e,t,n){typeof t=="undefined"&&(t=[]),typeof n=="undefined"&&(n=[]);var r,i,s;r=n.length;for(i in e)if(e.hasOwnProperty(i)){n[r]=parseInt(i),s=e[i];if(typeof s=="number"){if(s){if(t.length===0)for(i=r+1;i>=0;--i)t[i]=[];for(i=r;i>=0;--i)t[i].push(n[i]);t[r+1].push(s)}}else gather(s,t,n)}return n.length>r&&n.pop(),t},numeric.cLU=function(t){var n=t[0],r=t[1],i=t[2],s=n.length,o=0,u,a,f,l,c,h;for(u=0;u<s;u++)n[u]>o&&(o=n[u]);o++;var p=Array(o),d=Array(o),v=numeric.rep([o],Infinity),m=numeric.rep([o],-Infinity),g,y,b;for(f=0;f<s;f++)u=n[f],a=r[f],a<v[u]&&(v[u]=a),a>m[u]&&(m[u]=a);for(u=0;u<o-1;u++)m[u]>m[u+1]&&(m[u+1]=m[u]);for(u=o-1;u>=1;u--)v[u]<v[u-1]&&(v[u-1]=v[u]);var w=0,E=0;for(u=0;u<o;u++)d[u]=numeric.rep([m[u]-v[u]+1],0),p[u]=numeric.rep([u-v[u]],0),w+=u-v[u]+1,E+=m[u]-u+1;for(f=0;f<s;f++)u=n[f],d[u][r[f]-v[u]]=i[f];for(u=0;u<o-1;u++){l=u-v[u],g=d[u];for(a=u+1;v[a]<=u&&a<o;a++){c=u-v[a],h=m[u]-u,y=d[a],b=y[c]/g[l];if(b){for(f=1;f<=h;f++)y[f+c]-=b*g[f+l];p[a][u-v[a]]=b}}}var g=[],y=[],S=[],x=[],T=[],N=[],s,C,k;s=0,C=0;for(u=0;u<o;u++){l=v[u],c=m[u],k=d[u];for(a=u;a<=c;a++)k[a-l]&&(g[s]=u,y[s]=a,S[s]=k[a-l],s++);k=p[u];for(a=l;a<u;a++)k[a-l]&&(x[C]=u,T[C]=a,N[C]=k[a-l],C++);x[C]=u,T[C]=u,N[C]=1,C++}return{U:[g,y,S],L:[x,T,N]}},numeric.cLUsolve=function(t,n){var r=t.L,i=t.U,s=numeric.clone(n),o=r[0],u=r[1],a=r[2],f=i[0],l=i[1],c=i[2],h=f.length,p=o.length,d=s.length,v,m,g;g=0;for(v=0;v<d;v++){while(u[g]<v)s[v]-=a[g]*s[u[g]],g++;g++}g=h-1;for(v=d-1;v>=0;v--){while(l[g]>v)s[v]-=c[g]*s[l[g]],g--;s[v]/=c[g],g--}return s},numeric.cgrid=function(t,n){typeof t=="number"&&(t=[t,t]);var r=numeric.rep(t,-1),i,s,o;if(typeof n!="function")switch(n){case"L":n=function(e,n){return e>=t[0]/2||n<t[1]/2};break;default:n=function(e,t){return!0}}o=0;for(i=1;i<t[0]-1;i++)for(s=1;s<t[1]-1;s++)n(i,s)&&(r[i][s]=o,o++);return r},numeric.cdelsq=function(t){var n=[[-1,0],[0,-1],[0,1],[1,0]],r=numeric.dim(t),i=r[0],s=r[1],o,u,a,f,l,c=[],h=[],p=[];for(o=1;o<i-1;o++)for(u=1;u<s-1;u++){if(t[o][u]<0)continue;for(a=0;a<4;a++){f=o+n[a][0],l=u+n[a][1];if(t[f][l]<0)continue;c.push(t[o][u]),h.push(t[f][l]),p.push(-1)}c.push(t[o][u]),h.push(t[o][u]),p.push(4)}return[c,h,p]},numeric.cdotMV=function(t,n){var r,i=t[0],s=t[1],o=t[2],u,a=i.length,f;f=0;for(u=0;u<a;u++)i[u]>f&&(f=i[u]);f++,r=numeric.rep([f],0);for(u=0;u<a;u++)r[i[u]]+=o[u]*n[s[u]];return r},numeric.Spline=function(t,n,r,i,s){this.x=t,this.yl=n,this.yr=r,this.kl=i,this.kr=s},numeric.Spline.prototype._at=function(t,n){var r=this.x,i=this.yl,s=this.yr,o=this.kl,u=this.kr,t,a,f,l,c=numeric.add,h=numeric.sub,p=numeric.mul;a=h(p(o[n],r[n+1]-r[n]),h(s[n+1],i[n])),f=c(p(u[n+1],r[n]-r[n+1]),h(s[n+1],i[n])),l=(t-r[n])/(r[n+1]-r[n]);var d=l*(1-l);return c(c(c(p(1-l,i[n]),p(l,s[n+1])),p(a,d*(1-l))),p(f,d*l))},numeric.Spline.prototype.at=function(t){if(typeof t=="number"){var n=this.x,r=n.length,i,s,o,u=Math.floor,a,f,l;i=0,s=r-1;while(s-i>1)o=u((i+s)/2),n[o]<=t?i=o:s=o;return this._at(t,i)}var r=t.length,c,h=Array(r);for(c=r-1;c!==-1;--c)h[c]=this.at(t[c]);return h},numeric.Spline.prototype.diff=function(){var t=this.x,n=this.yl,r=this.yr,i=this.kl,s=this.kr,o=n.length,u,a,f,l=i,c=s,h=Array(o),p=Array(o),d=numeric.add,v=numeric.mul,m=numeric.div,g=numeric.sub;for(u=o-1;u!==-1;--u)a=t[u+1]-t[u],f=g(r[u+1],n[u]),h[u]=m(d(v(f,6),v(i[u],-4*a),v(s[u+1],-2*a)),a*a),p[u+1]=m(d(v(f,-6),v(i[u],2*a),v(s[u+1],4*a)),a*a);return new numeric.Spline(t,l,c,h,p)},numeric.Spline.prototype.roots=function(){function t(e){return e*e}function n(e,t,n,r,i){var s=n*2-(t-e),o=-r*2+(t-e),u=(i+1)*.5,a=u*(1-u);return(1-u)*e+u*t+s*a*(1-u)+o*a*u}var r=[],i=this.x,s=this.yl,o=this.yr,u=this.kl,a=this.kr;typeof s[0]=="number"&&(s=[s],o=[o],u=[u],a=[a]);var f=s.length,l=i.length-1,c,h,p,d,v,m,g,y,b,w,r=Array(f),E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F=Math.sqrt;for(c=0;c!==f;++c){g=s[c],y=o[c],b=u[c],w=a[c],E=[];for(h=0;h!==l;h++){h>0&&y[h]*g[h]<0&&E.push(i[h]),A=i[h+1]-i[h],O=i[h],T=g[h],N=y[h+1],S=b[h]/A,x=w[h+1]/A,L=t(S-x+3*(T-N))+12*x*T,C=x+3*T+2*S-3*N,k=3*(x+S+2*(T-N)),L<=0?(_=C/k,_>i[h]&&_<i[h+1]?M=[i[h],_,i[h+1]]:M=[i[h],i[h+1]]):(_=(C-F(L))/k,D=(C+F(L))/k,M=[i[h]],_>i[h]&&_<i[h+1]&&M.push(_),D>i[h]&&D<i[h+1]&&M.push(D),M.push(i[h+1])),H=M[0],_=this._at(H,h);for(p=0;p<M.length-1;p++){B=M[p+1],D=this._at(B,h);if(_===0){E.push(H),H=B,_=D;continue}if(D===0||_*D>0){H=B,_=D;continue}var I=0;for(;;){j=(_*B-D*H)/(_-D);if(j<=H||j>=B)break;P=this._at(j,h);if(P*D>0)B=j,D=P,I===-1&&(_*=.5),I=-1;else{if(!(P*_>0))break;H=j,_=P,I===1&&(D*=.5),I=1}}E.push(j),H=M[p+1],_=this._at(H,h)}D===0&&E.push(B)}r[c]=E}return typeof this.yl[0]=="number"?r[0]:r},numeric.spline=function(t,n,r,i){var s=t.length,o=[],u=[],a=[],f,l=numeric.sub,c=numeric.mul,h=numeric.add;for(f=s-2;f>=0;f--)u[f]=t[f+1]-t[f],a[f]=l(n[f+1],n[f]);if(typeof r=="string"||typeof i=="string")r=i="periodic";var p=[[],[],[]];switch(typeof r){case"undefined":o[0]=c(3/(u[0]*u[0]),a[0]),p[0].push(0,0),p[1].push(0,1),p[2].push(2/u[0],1/u[0]);break;case"string":o[0]=h(c(3/(u[s-2]*u[s-2]),a[s-2]),c(3/(u[0]*u[0]),a[0])),p[0].push(0,0,0),p[1].push(s-2,0,1),p[2].push(1/u[s-2],2/u[s-2]+2/u[0],1/u[0]);break;default:o[0]=r,p[0].push(0),p[1].push(0),p[2].push(1)}for(f=1;f<s-1;f++)o[f]=h(c(3/(u[f-1]*u[f-1]),a[f-1]),c(3/(u[f]*u[f]),a[f])),p[0].push(f,f,f),p[1].push(f-1,f,f+1),p[2].push(1/u[f-1],2/u[f-1]+2/u[f],1/u[f]);switch(typeof i){case"undefined":o[s-1]=c(3/(u[s-2]*u[s-2]),a[s-2]),p[0].push(s-1,s-1),p[1].push(s-2,s-1),p[2].push(1/u[s-2],2/u[s-2]);break;case"string":p[1][p[1].length-1]=0;break;default:o[s-1]=i,p[0].push(s-1),p[1].push(s-1),p[2].push(1)}typeof o[0]!="number"?o=numeric.transpose(o):o=[o];var d=Array(o.length);if(typeof r=="string")for(f=d.length-1;f!==-1;--f)d[f]=numeric.ccsLUPSolve(numeric.ccsLUP(numeric.ccsScatter(p)),o[f]),d[f][s-1]=d[f][0];else for(f=d.length-1;f!==-1;--f)d[f]=numeric.cLUsolve(numeric.cLU(p),o[f]);return typeof n[0]=="number"?d=d[0]:d=numeric.transpose(d),new numeric.Spline(t,n,n,d,d)},numeric.fftpow2=function fftpow2(e,t){var n=e.length;if(n===1)return;var r=Math.cos,i=Math.sin,s,o,u=Array(n/2),a=Array(n/2),f=Array(n/2),l=Array(n/2);o=n/2;for(s=n-1;s!==-1;--s)--o,f[o]=e[s],l[o]=t[s],--s,u[o]=e[s],a[o]=t[s];fftpow2(u,a),fftpow2(f,l),o=n/2;var c,h=-6.283185307179586/n,p,d;for(s=n-1;s!==-1;--s)--o,o===-1&&(o=n/2-1),c=h*s,p=r(c),d=i(c),e[s]=u[o]+p*f[o]-d*l[o],t[s]=a[o]+p*l[o]+d*f[o]},numeric._ifftpow2=function _ifftpow2(e,t){var n=e.length;if(n===1)return;var r=Math.cos,i=Math.sin,s,o,u=Array(n/2),a=Array(n/2),f=Array(n/2),l=Array(n/2);o=n/2;for(s=n-1;s!==-1;--s)--o,f[o]=e[s],l[o]=t[s],--s,u[o]=e[s],a[o]=t[s];_ifftpow2(u,a),_ifftpow2(f,l),o=n/2;var c,h=6.283185307179586/n,p,d;for(s=n-1;s!==-1;--s)--o,o===-1&&(o=n/2-1),c=h*s,p=r(c),d=i(c),e[s]=u[o]+p*f[o]-d*l[o],t[s]=a[o]+p*l[o]+d*f[o]},numeric.ifftpow2=function(t,n){numeric._ifftpow2(t,n),numeric.diveq(t,t.length),numeric.diveq(n,n.length)},numeric.convpow2=function(t,n,r,i){numeric.fftpow2(t,n),numeric.fftpow2(r,i);var s,o=t.length,u,a,f,l;for(s=o-1;s!==-1;--s)u=t[s],f=n[s],a=r[s],l=i[s],t[s]=u*a-f*l,n[s]=u*l+f*a;numeric.ifftpow2(t,n)},numeric.T.prototype.fft=function(){var t=this.x,n=this.y,r=t.length,i=Math.log,s=i(2),o=Math.ceil(i(2*r-1)/s),u=Math.pow(2,o),a=numeric.rep([u],0),f=numeric.rep([u],0),l=Math.cos,c=Math.sin,h,p=-3.141592653589793/r,d,v=numeric.rep([u],0),m=numeric.rep([u],0),g=Math.floor(r/2);for(h=0;h<r;h++)v[h]=t[h];if(typeof n!="undefined")for(h=0;h<r;h++)m[h]=n[h];a[0]=1;for(h=1;h<=u/2;h++)d=p*h*h,a[h]=l(d),f[h]=c(d),a[u-h]=l(d),f[u-h]=c(d);var y=new numeric.T(v,m),b=new numeric.T(a,f);return y=y.mul(b),numeric.convpow2(y.x,y.y,numeric.clone(b.x),numeric.neg(b.y)),y=y.mul(b),y.x.length=r,y.y.length=r,y},numeric.T.prototype.ifft=function(){var t=this.x,n=this.y,r=t.length,i=Math.log,s=i(2),o=Math.ceil(i(2*r-1)/s),u=Math.pow(2,o),a=numeric.rep([u],0),f=numeric.rep([u],0),l=Math.cos,c=Math.sin,h,p=3.141592653589793/r,d,v=numeric.rep([u],0),m=numeric.rep([u],0),g=Math.floor(r/2);for(h=0;h<r;h++)v[h]=t[h];if(typeof n!="undefined")for(h=0;h<r;h++)m[h]=n[h];a[0]=1;for(h=1;h<=u/2;h++)d=p*h*h,a[h]=l(d),f[h]=c(d),a[u-h]=l(d),f[u-h]=c(d);var y=new numeric.T(v,m),b=new numeric.T(a,f);return y=y.mul(b),numeric.convpow2(y.x,y.y,numeric.clone(b.x),numeric.neg(b.y)),y=y.mul(b),y.x.length=r,y.y.length=r,y.div(r)},numeric.gradient=function(t,n){var r=n.length,i=t(n);if(isNaN(i))throw new Error("gradient: f(x) is a NaN!");var s=Math.max,o,u=numeric.clone(n),a,f,l=Array(r),c=numeric.div,h=numeric.sub,p,d,s=Math.max,v=.001,m=Math.abs,g=Math.min,y,b,w,E=0,S,x,T;for(o=0;o<r;o++){var N=s(1e-6*i,1e-8);for(;;){++E;if(E>20)throw new Error("Numerical gradient fails");u[o]=n[o]+N,a=t(u),u[o]=n[o]-N,f=t(u),u[o]=n[o];if(isNaN(a)||isNaN(f)){N/=16;continue}l[o]=(a-f)/(2*N),y=n[o]-N,b=n[o],w=n[o]+N,S=(a-i)/N,x=(i-f)/N,T=s(m(l[o]),m(i),m(a),m(f),m(y),m(b),m(w),1e-8),p=g(s(m(S-l[o]),m(x-l[o]),m(S-x))/T,N/T);if(!(p>v))break;N/=16}}return l},numeric.uncmin=function(t,n,r,i,s,o,u){var a=numeric.gradient;typeof u=="undefined"&&(u={}),typeof r=="undefined"&&(r=1e-8),typeof i=="undefined"&&(i=function(e){return a(t,e)}),typeof s=="undefined"&&(s=1e3),n=numeric.clone(n);var f=n.length,l=t(n),c,h;if(isNaN(l))throw new Error("uncmin: f(x0) is a NaN!");var p=Math.max,d=numeric.norm2;r=p(r,numeric.epsilon);var v,m,g,y=u.Hinv||numeric.identity(f),b=numeric.dot,w=numeric.inv,E=numeric.sub,S=numeric.add,x=numeric.tensor,T=numeric.div,N=numeric.mul,C=numeric.all,k=numeric.isFinite,L=numeric.neg,A=0,O,M,_,D,P,H,B,j,F,I,q,R,U="";m=i(n);while(A<s){if(typeof o=="function"&&o(A,n,l,m,y)){U="Callback returned true";break}if(!C(k(m))){U="Gradient has Infinity or NaN";break}v=L(b(y,m));if(!C(k(v))){U="Search direction has Infinity or NaN";break}I=d(v);if(I<r){U="Newton step smaller than tol";break}F=1,h=b(m,v),_=n;while(A<s){if(F*I<r)break;M=N(v,F),_=S(n,M),c=t(_);if(c-l>=.1*F*h||isNaN(c)){F*=.5,++A;continue}break}if(F*I<r){U="Line search step size smaller than tol";break}if(A===s){U="maxit reached during line search";break}g=i(_),D=E(g,m),B=b(D,M),P=b(y,D),y=E(S(y,N((B+b(D,P))/(B*B),x(M,M))),T(S(x(P,M),x(M,P)),B)),n=_,l=c,m=g,++A}return{solution:n,f:l,gradient:m,invHessian:y,iterations:A,message:U}},numeric.Dopri=function(t,n,r,i,s,o,u){this.x=t,this.y=n,this.f=r,this.ymid=i,this.iterations=s,this.events=u,this.message=o},numeric.Dopri.prototype._at=function(t,n){function r(e){return e*e}var i=this,s=i.x,o=i.y,u=i.f,a=i.ymid,f=s.length,l,c,h,p,d,v,t,m=Math.floor,g,y=.5,b=numeric.add,w=numeric.mul,E=numeric.sub,S,x,T;return l=s[n],c=s[n+1],p=o[n],d=o[n+1],g=c-l,h=l+y*g,v=a[n],S=E(u[n],w(p,1/(l-h)+2/(l-c))),x=E(u[n+1],w(d,1/(c-h)+2/(c-l))),T=[r(t-c)*(t-h)/r(l-c)/(l-h),r(t-l)*r(t-c)/r(l-h)/r(c-h),r(t-l)*(t-h)/r(c-l)/(c-h),(t-l)*r(t-c)*(t-h)/r(l-c)/(l-h),(t-c)*r(t-l)*(t-h)/r(l-c)/(c-h)],b(b(b(b(w(p,T[0]),w(v,T[1])),w(d,T[2])),w(S,T[3])),w(x,T[4]))},numeric.Dopri.prototype.at=function(t){var n,r,i,s=Math.floor;if(typeof t!="number"){var o=t.length,u=Array(o);for(n=o-1;n!==-1;--n)u[n]=this.at(t[n]);return u}var a=this.x;n=0,r=a.length-1;while(r-n>1)i=s(.5*(n+r)),a[i]<=t?n=i:r=i;return this._at(t,n)},numeric.dopri=function(t,n,r,i,s,o,u){typeof s=="undefined"&&(s=1e-6),typeof o=="undefined"&&(o=1e3);var a=[t],f=[r],l=[i(t,r)],c,h,p,d,v,m,g=[],y=.2,b=[.075,.225],w=[44/45,-56/15,32/9],E=[19372/6561,-25360/2187,64448/6561,-212/729],S=[9017/3168,-355/33,46732/5247,49/176,-5103/18656],x=[35/384,0,500/1113,125/192,-2187/6784,11/84],T=[.10013431883002395,0,.3918321794184259,-0.02982460176594817,.05893268337240795,-0.04497888809104361,.023904308236133973],N=[.2,.3,.8,8/9,1,1],C=[-71/57600,0,71/16695,-71/1920,17253/339200,-22/525,.025],k=0,L,A,O=(n-t)/10,M=0,_=numeric.add,D=numeric.mul,P,H,B=Math.max,j=Math.min,F=Math.abs,I=numeric.norminf,q=Math.pow,R=numeric.any,U=numeric.lt,z=numeric.and,W=numeric.sub,X,V,$,J=new numeric.Dopri(a,f,l,g,-1,"");typeof u=="function"&&(X=u(t,r));while(t<n&&M<o){++M,t+O>n&&(O=n-t),c=i(t+N[0]*O,_(r,D(y*O,l[k]))),h=i(t+N[1]*O,_(_(r,D(b[0]*O,l[k])),D(b[1]*O,c))),p=i(t+N[2]*O,_(_(_(r,D(w[0]*O,l[k])),D(w[1]*O,c)),D(w[2]*O,h))),d=i(t+N[3]*O,_(_(_(_(r,D(E[0]*O,l[k])),D(E[1]*O,c)),D(E[2]*O,h)),D(E[3]*O,p))),v=i(t+N[4]*O,_(_(_(_(_(r,D(S[0]*O,l[k])),D(S[1]*O,c)),D(S[2]*O,h)),D(S[3]*O,p)),D(S[4]*O,d))),P=_(_(_(_(_(r,D(l[k],O*x[0])),D(h,O*x[2])),D(p,O*x[3])),D(d,O*x[4])),D(v,O*x[5])),m=i(t+O,P),L=_(_(_(_(_(D(l[k],O*C[0]),D(h,O*C[2])),D(p,O*C[3])),D(d,O*C[4])),D(v,O*C[5])),D(m,O*C[6])),typeof L=="number"?H=F(L):H=I(L);if(H>s){O=.2*O*q(s/H,.25);if(t+O===t){J.msg="Step size became too small";break}continue}g[k]=_(_(_(_(_(_(r,D(l[k],O*T[0])),D(h,O*T[2])),D(p,O*T[3])),D(d,O*T[4])),D(v,O*T[5])),D(m,O*T[6])),++k,a[k]=t+O,f[k]=P,l[k]=m;if(typeof u=="function"){var K,Q=t,G=t+.5*O,Y;V=u(G,g[k-1]),$=z(U(X,0),U(0,V)),R($)||(Q=G,G=t+O,X=V,V=u(G,P),$=z(U(X,0),U(0,V)));if(R($)){var Z,et,tt,nt,rt=0,it=1,st=1;for(;;){if(typeof X=="number")Y=(st*V*Q-it*X*G)/(st*V-it*X);else{Y=G;for(A=X.length-1;A!==-1;--A)X[A]<0&&V[A]>0&&(Y=j(Y,(st*V[A]*Q-it*X[A]*G)/(st*V[A]-it*X[A])))}if(Y<=Q||Y>=G)break;K=J._at(Y,k-1),nt=u(Y,K),tt=z(U(X,0),U(0,nt)),R(tt)?(G=Y,V=nt,$=tt,st=1,rt===-1?it*=.5:it=1,rt=-1):(Q=Y,X=nt,it=1,rt===1?st*=.5:st=1,rt=1)}return P=J._at(.5*(t+Y),k-1),J.f[k]=i(Y,K),J.x[k]=Y,J.y[k]=K,J.ymid[k-1]=P,J.events=$,J.iterations=M,J}}t+=O,r=P,X=V,O=j(.8*O*q(s/H,.25),4*O)}return J.iterations=M,J},numeric.LU=function(e,t){t=t||!1;var n=Math.abs,r,i,s,o,u,a,f,l,c,h=e.length,p=h-1,d=new Array(h);t||(e=numeric.clone(e));for(s=0;s<h;++s){f=s,a=e[s],c=n(a[s]);for(i=s+1;i<h;++i)o=n(e[i][s]),c<o&&(c=o,f=i);d[s]=f,f!=s&&(e[s]=e[f],e[f]=a,a=e[s]),u=a[s];for(r=s+1;r<h;++r)e[r][s]/=u;for(r=s+1;r<h;++r){l=e[r];for(i=s+1;i<p;++i)l[i]-=l[s]*a[i],++i,l[i]-=l[s]*a[i];i===p&&(l[i]-=l[s]*a[i])}}return{LU:e,P:d}},numeric.LUsolve=function(t,n){var r,i,s=t.LU,o=s.length,u=numeric.clone(n),a=t.P,f,l,c,h;for(r=o-1;r!==-1;--r)u[r]=n[r];for(r=0;r<o;++r){f=a[r],a[r]!==r&&(h=u[r],u[r]=u[f],u[f]=h),l=s[r];for(i=0;i<r;++i)u[r]-=u[i]*l[i]}for(r=o-1;r>=0;--r){l=s[r];for(i=r+1;i<o;++i)u[r]-=u[i]*l[i];u[r]/=l[r]}return u},numeric.solve=function(t,n,r){return numeric.LUsolve(numeric.LU(t,r),n)},numeric.echelonize=function(t){var n=numeric.dim(t),r=n[0],i=n[1],s=numeric.identity(r),o=Array(r),u,a,f,l,c,h,p,d,v=Math.abs,m=numeric.diveq;t=numeric.clone(t);for(u=0;u<r;++u){f=0,c=t[u],h=s[u];for(a=1;a<i;++a)v(c[f])<v(c[a])&&(f=a);o[u]=f,m(h,c[f]),m(c,c[f]);for(a=0;a<r;++a)if(a!==u){p=t[a],d=p[f];for(l=i-1;l!==-1;--l)p[l]-=c[l]*d;p=s[a];for(l=r-1;l!==-1;--l)p[l]-=h[l]*d}}return{I:s,A:t,P:o}},numeric.__solveLP=function(t,n,r,i,s,o,u){var a=numeric.sum,f=numeric.log,l=numeric.mul,c=numeric.sub,h=numeric.dot,p=numeric.div,d=numeric.add,v=t.length,m=r.length,g,y=!1,b,w=0,E=1,S,x,T=numeric.transpose(n),N=numeric.svd,C=numeric.transpose,k=numeric.leq,L=Math.sqrt,A=Math.abs,O=numeric.muleq,M=numeric.norminf,_=numeric.any,D=Math.min,P=numeric.all,H=numeric.gt,B=Array(v),j=Array(m),F=numeric.rep([m],1),I,q=numeric.solve,R=c(r,h(n,o)),U,z=h(t,t),W;for(U=w;U<s;++U){var X,V,$;for(X=m-1;X!==-1;--X)j[X]=p(n[X],R[X]);var J=C(j);for(X=v-1;X!==-1;--X)B[X]=a(J[X]);E=.25*A(z/h(t,B));var K=100*L(z/h(B,B));if(!isFinite(E)||E>K)E=K;W=d(t,l(E,B)),I=h(J,j);for(X=v-1;X!==-1;--X)I[X][X]+=1;$=q(I,p(W,E),!0);var Q=p(R,h(n,$)),G=1;for(X=m-1;X!==-1;--X)Q[X]<0&&(G=D(G,-0.999*Q[X]));g=c(o,l($,G)),R=c(r,h(n,g));if(!P(H(R,0)))return{solution:o,message:"",iterations:U};o=g;if(E<i)return{solution:g,message:"",iterations:U};if(u){var Y=h(t,W),Z=h(n,W);y=!0;for(X=m-1;X!==-1;--X)if(Y*Z[X]<0){y=!1;break}}else o[v-1]>=0?y=!1:y=!0;if(y)return{solution:g,message:"Unbounded",iterations:U}}return{solution:o,message:"maximum iteration count exceeded",iterations:U}},numeric._solveLP=function(t,n,r,i,s){var o=t.length,u=r.length,a,f=numeric.sum,l=numeric.log,c=numeric.mul,h=numeric.sub,p=numeric.dot,d=numeric.div,v=numeric.add,m=numeric.rep([o],0).concat([1]),g=numeric.rep([u,1],-1),y=numeric.blockMatrix([[n,g]]),b=r,a=numeric.rep([o],0).concat(Math.max(0,numeric.sup(numeric.neg(r)))+1),w=numeric.__solveLP(m,y,b,i,s,a,!1),E=numeric.clone(w.solution);E.length=o;var S=numeric.inf(h(r,p(n,E)));if(S<0)return{solution:NaN,message:"Infeasible",iterations:w.iterations};var x=numeric.__solveLP(t,n,r,i,s-w.iterations,E,!0);return x.iterations+=w.iterations,x},numeric.solveLP=function(t,n,r,i,s,o,u){typeof u=="undefined"&&(u=1e3),typeof o=="undefined"&&(o=numeric.epsilon);if(typeof i=="undefined")return numeric._solveLP(t,n,r,o,u);var a=i.length,f=i[0].length,l=n.length,c=numeric.echelonize(i),h=numeric.rep([f],0),p=c.P,d=[],v;for(v=p.length-1;v!==-1;--v)h[p[v]]=1;for(v=f-1;v!==-1;--v)h[v]===0&&d.push(v);var m=numeric.getRange,g=numeric.linspace(0,a-1),y=numeric.linspace(0,l-1),b=m(i,g,d),w=m(n,y,p),E=m(n,y,d),S=numeric.dot,x=numeric.sub,T=S(w,c.I),N=x(E,S(T,b)),C=x(r,S(T,s)),k=Array(p.length),L=Array(d.length);for(v=p.length-1;v!==-1;--v)k[v]=t[p[v]];for(v=d.length-1;v!==-1;--v)L[v]=t[d[v]];var A=x(L,S(k,S(c.I,b))),O=numeric._solveLP(A,N,C,o,u),M=O.solution;if(M!==M)return O;var _=S(c.I,x(s,S(b,M))),D=Array(t.length);for(v=p.length-1;v!==-1;--v)D[p[v]]=_[v];for(v=d.length-1;v!==-1;--v)D[d[v]]=M[v];return{solution:D,message:O.message,iterations:O.iterations}},numeric.MPStoLP=function(t){function y(e){throw new Error("MPStoLP: "+e+"\nLine "+s+": "+t[s]+"\nCurrent state: "+r[n]+"\n")}t instanceof String&&t.split("\n");var n=0,r=["Initial state","NAME","ROWS","COLUMNS","RHS","BOUNDS","ENDATA"],i=t.length,s,o,u,a=0,f={},l=[],c=0,h={},p=0,d,v=[],m=[],g=[];for(s=0;s<i;++s){u=t[s];var b=u.match(/\S*/g),w=[];for(o=0;o<b.length;++o)b[o]!==""&&w.push(b[o]);if(w.length===0)continue;for(o=0;o<r.length;++o)if(u.substr(0,r[o].length)===r[o])break;if(o<r.length){n=o,o===1&&(d=w[1]);if(o===6)return{name:d,c:v,A:numeric.transpose(m),b:g,rows:f,vars:h};continue}switch(n){case 0:case 1:y("Unexpected line");case 2:switch(w[0]){case"N":a===0?a=w[1]:y("Two or more N rows");break;case"L":f[w[1]]=c,l[c]=1,g[c]=0,++c;break;case"G":f[w[1]]=c,l[c]=-1,g[c]=0,++c;break;case"E":f[w[1]]=c,l[c]=0,g[c]=0,++c;break;default:y("Parse error "+numeric.prettyPrint(w))}break;case 3:h.hasOwnProperty(w[0])||(h[w[0]]=p,v[p]=0,m[p]=numeric.rep([c],0),++p);var E=h[w[0]];for(o=1;o<w.length;o+=2){if(w[o]===a){v[E]=parseFloat(w[o+1]);continue}var S=f[w[o]];m[E][S]=(l[S]<0?-1:1)*parseFloat(w[o+1])}break;case 4:for(o=1;o<w.length;o+=2)g[f[w[o]]]=(l[f[w[o]]]<0?-1:1)*parseFloat(w[o+1]);break;case 5:break;case 6:y("Internal error")}}y("Reached end of file without ENDATA")},numeric.seedrandom={pow:Math.pow,random:Math.random},function(e,t,n,r,i,s,o){function u(e){var t,r,i=this,s=e.length,o=0,u=i.i=i.j=i.m=0;i.S=[],i.c=[],s||(e=[s++]);while(o<n)i.S[o]=o++;for(o=0;o<n;o++)t=i.S[o],u=l(u+t+e[o%s]),r=i.S[u],i.S[o]=r,i.S[u]=t;i.g=function(t){var r=i.S,s=l(i.i+1),o=r[s],u=l(i.j+o),a=r[u];r[s]=a,r[u]=o;var f=r[l(o+a)];while(--t)s=l(s+1),o=r[s],u=l(u+o),a=r[u],r[s]=a,r[u]=o,f=f*n+r[l(o+a)];return i.i=s,i.j=u,f},i.g(n)}function a(e,t,n,r,i){n=[],i=typeof e;if(t&&i=="object")for(r in e)if(r.indexOf("S")<5)try{n.push(a(e[r],t-1))}catch(s){}return n.length?n:e+(i!="string"?"\0":"")}function f(e,t,n,r){e+="",n=0;for(r=0;r<e.length;r++)t[l(r)]=l((n^=t[l(r)]*19)+e.charCodeAt(r));e="";for(r in t)e+=String.fromCharCode(t[r]);return e}function l(e){return e&n-1}t.seedrandom=function(c,h){var p=[],d;return c=f(a(h?[c,e]:arguments.length?c:[(new Date).getTime(),e,window],3),p),d=new u(p),f(d.S,e),t.random=function(){var t=d.g(r),u=o,a=0;while(t<i)t=(t+a)*n,u*=n,a=d.g(1);while(t>=s)t/=2,u/=2,a>>>=1;return(t+a)/u},c},o=t.pow(n,r),i=t.pow(2,i),s=i*2,f(t.random(),e)}([],numeric.seedrandom,256,6,52),function(e){function t(e){if(typeof e!="object")return e;var n=[],r,i=e.length;for(r=0;r<i;r++)n[r+1]=t(e[r]);return n}function n(e){if(typeof e!="object")return e;var t=[],r,i=e.length;for(r=1;r<i;r++)t[r-1]=n(e[r]);return t}function r(e,t,n){var r,i,s,o,u;for(s=1;s<=n;s+=1){e[s][s]=1/e[s][s],u=-e[s][s];for(r=1;r<s;r+=1)e[r][s]=u*e[r][s];o=s+1;if(n<o)break;for(i=o;i<=n;i+=1){u=e[s][i],e[s][i]=0;for(r=1;r<=s;r+=1)e[r][i]=e[r][i]+u*e[r][s]}}}function i(e,t,n,r){var i,s,o,u;for(s=1;s<=n;s+=1){u=0;for(i=1;i<s;i+=1)u+=e[i][s]*r[i];r[s]=(r[s]-u)/e[s][s]}for(o=1;o<=n;o+=1){s=n+1-o,r[s]=r[s]/e[s][s],u=-r[s];for(i=1;i<s;i+=1)r[i]=r[i]+u*e[i][s]}}function s(e,t,n,r){var i,s,o,u,a,f;for(s=1;s<=n;s+=1){r[1]=s,f=0,o=s-1;if(o<1){f=e[s][s]-f;if(f<=0)break;e[s][s]=Math.sqrt(f)}else{for(u=1;u<=o;u+=1){a=e[u][s];for(i=1;i<u;i+=1)a-=e[i][s]*e[i][u];a/=e[u][u],e[u][s]=a,f+=a*a}f=e[s][s]-f;if(f<=0)break;e[s][s]=Math.sqrt(f)}r[1]=0}}function o(e,t,n,o,u,a,f,l,c,h,p,d,v,m,g,y){function V(){m[1]=m[1]+1,E=L;for(b=1;b<=h;b+=1){E+=1,P=-l[b];for(w=1;w<=o;w+=1)P+=f[w][b]*u[w];Math.abs(P)<U&&(P=0);if(b>p)g[E]=P;else{g[E]=-Math.abs(P);if(P>0){for(w=1;w<=o;w+=1)f[w][b]=-f[w][b];l[b]=-l[b]}}}for(b=1;b<=v;b+=1)g[L+d[b]]=0;O=0,D=0;for(b=1;b<=h;b+=1)g[L+b]<D*g[_+b]&&(O=b,D=g[L+b]/g[_+b]);return O===0?999:0}function $(){for(b=1;b<=o;b+=1){P=0;for(w=1;w<=o;w+=1)P+=e[w][b]*f[w][O];g[b]=P}S=N;for(b=1;b<=o;b+=1)g[S+b]=0;for(w=v+1;w<=o;w+=1)for(b=1;b<=o;b+=1)g[S+b]=g[S+b]+e[b][w]*g[w];q=!0;for(b=v;b>=1;b-=1){P=g[b],E=k+b*(b+3)/2,S=E-b;for(w=b+1;w<=v;w+=1)P-=g[E]*g[C+w],E+=w;P/=g[S],g[C+b]=P;if(d[b]<p)break;if(P<0)break;q=!1,T=b}if(!q){H=g[A+T]/g[C+T];for(b=1;b<=v;b+=1){if(d[b]<p)break;if(g[C+b]<0)break;D=g[A+b]/g[C+b],D<
H&&(H=D,T=b)}}P=0;for(b=N+1;b<=N+o;b+=1)P+=g[b]*g[b];if(Math.abs(P)<=U){if(q)return y[1]=1,999;for(b=1;b<=v;b+=1)g[A+b]=g[A+b]-H*g[C+b];return g[A+v+1]=g[A+v+1]+H,700}P=0;for(b=1;b<=o;b+=1)P+=g[N+b]*f[b][O];B=-g[L+O]/P,R=!0,q||H<B&&(B=H,R=!1);for(b=1;b<=o;b+=1)u[b]=u[b]+B*g[N+b],Math.abs(u[b])<U&&(u[b]=0);a[1]=a[1]+B*P*(B/2+g[A+v+1]);for(b=1;b<=v;b+=1)g[A+b]=g[A+b]-B*g[C+b];g[A+v+1]=g[A+v+1]+B;if(!R){P=-l[O];for(w=1;w<=o;w+=1)P+=u[w]*f[w][O];if(O>p)g[L+O]=P;else{g[L+O]=-Math.abs(P);if(P>0){for(w=1;w<=o;w+=1)f[w][O]=-f[w][O];l[O]=-l[O]}}return 700}v+=1,d[v]=O,E=k+(v-1)*v/2+1;for(b=1;b<=v-1;b+=1)g[E]=g[b],E+=1;if(v===o)g[E]=g[o];else{for(b=o;b>=v+1;b-=1){if(g[b]===0)break;j=Math.max(Math.abs(g[b-1]),Math.abs(g[b])),F=Math.min(Math.abs(g[b-1]),Math.abs(g[b])),g[b-1]>=0?D=Math.abs(j*Math.sqrt(1+F*F/(j*j))):D=-Math.abs(j*Math.sqrt(1+F*F/(j*j))),j=g[b-1]/D,F=g[b]/D;if(j===1)break;if(j===0){g[b-1]=F*D;for(w=1;w<=o;w+=1)D=e[w][b-1],e[w][b-1]=e[w][b],e[w][b]=D}else{g[b-1]=D,I=F/(1+j);for(w=1;w<=o;w+=1)D=j*e[w][b-1]+F*e[w][b],e[w][b]=I*(e[w][b-1]+D)-e[w][b],e[w][b-1]=D}}g[E]=g[v]}return 0}function J(){E=k+T*(T+1)/2+1,S=E+T;if(g[S]===0)return 798;j=Math.max(Math.abs(g[S-1]),Math.abs(g[S])),F=Math.min(Math.abs(g[S-1]),Math.abs(g[S])),g[S-1]>=0?D=Math.abs(j*Math.sqrt(1+F*F/(j*j))):D=-Math.abs(j*Math.sqrt(1+F*F/(j*j))),j=g[S-1]/D,F=g[S]/D;if(j===1)return 798;if(j===0){for(b=T+1;b<=v;b+=1)D=g[S-1],g[S-1]=g[S],g[S]=D,S+=b;for(b=1;b<=o;b+=1)D=e[b][T],e[b][T]=e[b][T+1],e[b][T+1]=D}else{I=F/(1+j);for(b=T+1;b<=v;b+=1)D=j*g[S-1]+F*g[S],g[S]=I*(g[S-1]+D)-g[S],g[S-1]=D,S+=b;for(b=1;b<=o;b+=1)D=j*e[b][T]+F*e[b][T+1],e[b][T+1]=I*(e[b][T]+D)-e[b][T+1],e[b][T]=D}return 0}function K(){S=E-T;for(b=1;b<=T;b+=1)g[S]=g[E],E+=1,S+=1;return g[A+T]=g[A+T+1],d[T]=d[T+1],T+=1,T<v?797:0}function Q(){return g[A+v]=g[A+v+1],g[A+v+1]=0,d[v]=0,v-=1,m[2]=m[2]+1,0}var b,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q,R,U,z,W,X;M=Math.min(o,h),E=2*o+M*(M+5)/2+2*h+1,U=1e-60;do U+=U,z=1+.1*U,W=1+.2*U;while(z<=1||W<=1);for(b=1;b<=o;b+=1)g[b]=t[b];for(b=o+1;b<=E;b+=1)g[b]=0;for(b=1;b<=h;b+=1)d[b]=0;x=[];if(y[1]===0){s(e,n,o,x);if(x[1]!==0){y[1]=2;return}i(e,n,o,t),r(e,n,o)}else{for(w=1;w<=o;w+=1){u[w]=0;for(b=1;b<=w;b+=1)u[w]=u[w]+e[b][w]*t[b]}for(w=1;w<=o;w+=1){t[w]=0;for(b=w;b<=o;b+=1)t[w]=t[w]+e[w][b]*u[b]}}a[1]=0;for(w=1;w<=o;w+=1){u[w]=t[w],a[1]=a[1]+g[w]*u[w],g[w]=0;for(b=w+1;b<=o;b+=1)e[b][w]=0}a[1]=-a[1]/2,y[1]=0,N=o,C=N+o,A=C+M,k=A+M+1,L=k+M*(M+1)/2,_=L+h;for(b=1;b<=h;b+=1){P=0;for(w=1;w<=o;w+=1)P+=f[w][b]*f[w][b];g[_+b]=Math.sqrt(P)}v=0,m[1]=0,m[2]=0,X=0;for(;;){X=V();if(X===999)return;for(;;){X=$();if(X===0)break;if(X===999)return;if(X===700)if(T===v)Q();else{for(;;){J(),X=K();if(X!==797)break}Q()}}}}function u(e,r,i,s,u,a){e=t(e),r=t(r),i=t(i);var f,l,c,h,p,d=[],v=[],m=[],g=[],y=[],b;u=u||0,a=a?t(a):[undefined,0],s=s?t(s):[],l=e.length-1,c=i[1].length-1;if(!s)for(f=1;f<=c;f+=1)s[f]=0;for(f=1;f<=c;f+=1)v[f]=0;h=0,p=Math.min(l,c);for(f=1;f<=l;f+=1)m[f]=0;d[1]=0;for(f=1;f<=2*l+p*(p+5)/2+2*c+1;f+=1)g[f]=0;for(f=1;f<=2;f+=1)y[f]=0;return o(e,r,l,l,m,d,i,s,l,c,u,v,h,y,g,a),b="",a[1]===1&&(b="constraints are inconsistent, no solution!"),a[1]===2&&(b="matrix D in quadratic function is not positive definite!"),{solution:n(m),value:n(d),unconstrained_solution:n(r),iterations:n(y),iact:n(v),message:b}}e.solveQP=u}(numeric),numeric.svd=function(t){function g(e,t){return e=Math.abs(e),t=Math.abs(t),e>t?e*Math.sqrt(1+t*t/e/e):t==0?e:t*Math.sqrt(1+e*e/t/t)}var n,r=numeric.epsilon,i=1e-64/r,s=50,o=0,u=0,a=0,f=0,l=0,c=numeric.clone(t),h=c.length,p=c[0].length;if(h<p)throw"Need more rows than columns";var d=new Array(p),v=new Array(p);for(u=0;u<p;u++)d[u]=v[u]=0;var m=numeric.rep([p,p],0),y=0,b=0,w=0,E=0,S=0,x=0,T=0;for(u=0;u<p;u++){d[u]=b,T=0,l=u+1;for(a=u;a<h;a++)T+=c[a][u]*c[a][u];if(T<=i)b=0;else{y=c[u][u],b=Math.sqrt(T),y>=0&&(b=-b),w=y*b-T,c[u][u]=y-b;for(a=l;a<p;a++){T=0;for(f=u;f<h;f++)T+=c[f][u]*c[f][a];y=T/w;for(f=u;f<h;f++)c[f][a]+=y*c[f][u]}}v[u]=b,T=0;for(a=l;a<p;a++)T+=c[u][a]*c[u][a];if(T<=i)b=0;else{y=c[u][u+1],b=Math.sqrt(T),y>=0&&(b=-b),w=y*b-T,c[u][u+1]=y-b;for(a=l;a<p;a++)d[a]=c[u][a]/w;for(a=l;a<h;a++){T=0;for(f=l;f<p;f++)T+=c[a][f]*c[u][f];for(f=l;f<p;f++)c[a][f]+=T*d[f]}}S=Math.abs(v[u])+Math.abs(d[u]),S>E&&(E=S)}for(u=p-1;u!=-1;u+=-1){if(b!=0){w=b*c[u][u+1];for(a=l;a<p;a++)m[a][u]=c[u][a]/w;for(a=l;a<p;a++){T=0;for(f=l;f<p;f++)T+=c[u][f]*m[f][a];for(f=l;f<p;f++)m[f][a]+=T*m[f][u]}}for(a=l;a<p;a++)m[u][a]=0,m[a][u]=0;m[u][u]=1,b=d[u],l=u}for(u=p-1;u!=-1;u+=-1){l=u+1,b=v[u];for(a=l;a<p;a++)c[u][a]=0;if(b!=0){w=c[u][u]*b;for(a=l;a<p;a++){T=0;for(f=l;f<h;f++)T+=c[f][u]*c[f][a];y=T/w;for(f=u;f<h;f++)c[f][a]+=y*c[f][u]}for(a=u;a<h;a++)c[a][u]=c[a][u]/b}else for(a=u;a<h;a++)c[a][u]=0;c[u][u]+=1}r*=E;for(f=p-1;f!=-1;f+=-1)for(var N=0;N<s;N++){var C=!1;for(l=f;l!=-1;l+=-1){if(Math.abs(d[l])<=r){C=!0;break}if(Math.abs(v[l-1])<=r)break}if(!C){o=0,T=1;var k=l-1;for(u=l;u<f+1;u++){y=T*d[u],d[u]=o*d[u];if(Math.abs(y)<=r)break;b=v[u],w=g(y,b),v[u]=w,o=b/w,T=-y/w;for(a=0;a<h;a++)S=c[a][k],x=c[a][u],c[a][k]=S*o+x*T,c[a][u]=-S*T+x*o}}x=v[f];if(l==f){if(x<0){v[f]=-x;for(a=0;a<p;a++)m[a][f]=-m[a][f]}break}if(N>=s-1)throw"Error: no convergence.";E=v[l],S=v[f-1],b=d[f-1],w=d[f],y=((S-x)*(S+x)+(b-w)*(b+w))/(2*w*S),b=g(y,1),y<0?y=((E-x)*(E+x)+w*(S/(y-b)-w))/E:y=((E-x)*(E+x)+w*(S/(y+b)-w))/E,o=1,T=1;for(u=l+1;u<f+1;u++){b=d[u],S=v[u],w=T*b,b=o*b,x=g(y,w),d[u-1]=x,o=y/x,T=w/x,y=E*o+b*T,b=-E*T+b*o,w=S*T,S*=o;for(a=0;a<p;a++)E=m[a][u-1],x=m[a][u],m[a][u-1]=E*o+x*T,m[a][u]=-E*T+x*o;x=g(y,w),v[u-1]=x,o=y/x,T=w/x,y=o*b+T*S,E=-T*b+o*S;for(a=0;a<h;a++)S=c[a][u-1],x=c[a][u],c[a][u-1]=S*o+x*T,c[a][u]=-S*T+x*o}d[l]=0,d[f]=y,v[f]=E}for(u=0;u<v.length;u++)v[u]<r&&(v[u]=0);for(u=0;u<p;u++)for(a=u-1;a>=0;a--)if(v[a]<v[u]){o=v[a],v[a]=v[u],v[u]=o;for(f=0;f<c.length;f++)n=c[f][u],c[f][u]=c[f][a],c[f][a]=n;for(f=0;f<m.length;f++)n=m[f][u],m[f][u]=m[f][a],m[f][a]=n;u=a}return{U:c,S:v,V:m}};
/**
 * k-d Tree JavaScript - V 1.0
 *
 * https://github.com/ubilabs/kd-tree-javascript
 *
 * @author Mircea Pricop <pricop@ubilabs.net>, 2012
 * @author Martin Kleppe <kleppe@ubilabs.net>, 2012
 * @author Ubilabs http://ubilabs.net, 2012
 * @license MIT License <http://www.opensource.org/licenses/mit-license.php>
 */

(function(){
  
  function Node(obj, dimension, parent) {
    this.obj = obj;
    this.left = null;
    this.right = null;
    this.parent = parent;
    this.dimension = dimension;
  }

  function kdTree(points, metric, dimensions) {

    var self = this;
    var _size = 0;   // todo


    function buildTree(points, depth, parent) {
      var dim = depth % dimensions.length,
        median,
        node;

      if (points.length === 0) {
        return null;
      }
      if (points.length === 1) {
        return new Node(points[0], dim, parent);
      }

      points.sort(function (a, b) {
        return a[dimensions[dim]] - b[dimensions[dim]];
      });

      median = Math.floor(points.length / 2);
      node = new Node(points[median], dim, parent);
      node.left = buildTree(points.slice(0, median), depth + 1, node);
      node.right = buildTree(points.slice(median + 1), depth + 1, node);

      return node;
    }

    // Reloads a serialied tree
    function loadTree (data) {
      // Just need to restore the `parent` parameter
      self.root = data;

      function restoreParent (root) {
        if (root.left) {
          root.left.parent = root;
          restoreParent(root.left);
        }

        if (root.right) {
          root.right.parent = root;
          restoreParent(root.right);
        }
      }

      restoreParent(self.root);
    }
    
    // If points is not an array, assume we're loading a pre-built tree
    if (!Array.isArray(points)) loadTree(points, metric, dimensions);
    else this.root = buildTree(points, 0, null);

    // Convert to a JSON serializable structure; this just requires removing 
    // the `parent` property
    this.toJSON = function (src) {
      if (!src) src = this.root;
      var dest = new Node(src.obj, src.dimension, null);
      if (src.left) dest.left = self.toJSON(src.left);
      if (src.right) dest.right = self.toJSON(src.right);
      return dest;
    };

    this.insert = function (point) {
      _size++;
      function innerSearch(node, parent) {

        if (node === null) {
          return parent;
        }

        var dimension = dimensions[node.dimension];
        if (point[dimension] < node.obj[dimension]) {
          return innerSearch(node.left, node);
        } else {
          return innerSearch(node.right, node);
        }
      }

      var insertPosition = innerSearch(this.root, null),
        newNode,
        dimension;

      if (insertPosition === null) {
        this.root = new Node(point, 0, null);
        return;
      }

      newNode = new Node(point, (insertPosition.dimension + 1) % dimensions.length, insertPosition);
      dimension = dimensions[insertPosition.dimension];

      if (point[dimension] < insertPosition.obj[dimension]) {
        insertPosition.left = newNode;
      } else {
        insertPosition.right = newNode;
      }
    };

    this.remove = function (point) {
      var node;

      function nodeSearch(node) {
        if (node === null) {
          return null;
        }

        if (node.obj === point) {
          return node;
        }

        var dimension = dimensions[node.dimension];

        if (point[dimension] < node.obj[dimension]) {
          return nodeSearch(node.left, node);
        } else {
          return nodeSearch(node.right, node);
        }
      }

      function removeNode(node) {
        _size--;
        var nextNode,
          nextObj,
          pDimension;

        function findMax(node, dim) {
          var dimension,
            own,
            left,
            right,
            max;

          if (node === null) {
            return null;
          }

          dimension = dimensions[dim];
          if (node.dimension === dim) {
            if (node.right !== null) {
              return findMax(node.right, dim);
            }
            return node;
          }

          own = node.obj[dimension];
          left = findMax(node.left, dim);
          right = findMax(node.right, dim);
          max = node;

          if (left !== null && left.obj[dimension] > own) {
            max = left;
          }

          if (right !== null && right.obj[dimension] > max.obj[dimension]) {
            max = right;
          }
          return max;
        }

        function findMin(node, dim) {
          var dimension,
            own,
            left,
            right,
            min;

          if (node === null) {
            return null;
          }

          dimension = dimensions[dim];

          if (node.dimension === dim) {
            if (node.left !== null) {
              return findMin(node.left, dim);
            }
            return node;
          }

          own = node.obj[dimension];
          left = findMin(node.left, dim);
          right = findMin(node.right, dim);
          min = node;

          if (left !== null && left.obj[dimension] < own) {
            min = left;
          }
          if (right !== null && right.obj[dimension] < min.obj[dimension]) {
            min = right;
          }
          return min;
        }

        if (node.left === null && node.right === null) {
          if (node.parent === null) {
            self.root = null;
            return;
          }

          pDimension = dimensions[node.parent.dimension];

          if (node.obj[pDimension] < node.parent.obj[pDimension]) {
            node.parent.left = null;
          } else {
            node.parent.right = null;
          }
          return;
        }

        if (node.left !== null) {
          nextNode = findMax(node.left, node.dimension);
        } else {
          nextNode = findMin(node.right, node.dimension);
        }

        nextObj = nextNode.obj;
        removeNode(nextNode);
        node.obj = nextObj;

      }

      node = nodeSearch(self.root);

      if (node === null) { return; }

      removeNode(node);
    };


    this.size = function() {
        return _size;
    };

    this.nearest = function (point, maxNodes, maxDistance) {
      var i,
        result,
        bestNodes;

      bestNodes = new BinaryHeap(
        function (e) { return -e[1]; }
      );

      function nearestSearch(node) {
        var bestChild,
          dimension = dimensions[node.dimension],
          ownDistance = metric(point, node.obj),
          linearPoint = {},
          linearDistance,
          otherChild,
          i;

        function saveNode(node, distance) {
          bestNodes.push([node, distance]);
          if (bestNodes.size() > maxNodes) {
            bestNodes.pop();
          }
        }

        for (i = 0; i < dimensions.length; i += 1) {
          if (i === node.dimension) {
            linearPoint[dimensions[i]] = point[dimensions[i]];
          } else {
            linearPoint[dimensions[i]] = node.obj[dimensions[i]];
          }
        }

        linearDistance = metric(linearPoint, node.obj);

        if (node.right === null && node.left === null) {
          if (bestNodes.size() < maxNodes || ownDistance < bestNodes.peek()[1]) {
            saveNode(node, ownDistance);
          }
          return;
        }

        if (node.right === null) {
          bestChild = node.left;
        } else if (node.left === null) {
          bestChild = node.right;
        } else {
          if (point[dimension] < node.obj[dimension]) {
            bestChild = node.left;
          } else {
            bestChild = node.right;
          }
        }

        nearestSearch(bestChild);

        if (bestNodes.size() < maxNodes || ownDistance < bestNodes.peek()[1]) {
          saveNode(node, ownDistance);
        }

        if (bestNodes.size() < maxNodes || Math.abs(linearDistance) < bestNodes.peek()[1]) {
          if (bestChild === node.left) {
            otherChild = node.right;
          } else {
            otherChild = node.left;
          }
          if (otherChild !== null) {
            nearestSearch(otherChild);
          }
        }
      }

      if (maxDistance) {
        for (i = 0; i < maxNodes; i += 1) {
          bestNodes.push([null, maxDistance]);
        }
      }

      if (self.root == null) {
          return null;
      }

      nearestSearch(self.root);

      result = [];

      for (i = 0; i < maxNodes; i += 1) {
        if (bestNodes.content[i][0]) {
          result.push([bestNodes.content[i][0].obj, bestNodes.content[i][1]]);
        }
      }
      return result;
    };

    this.balanceFactor = function () {
      function height(node) {
        if (node === null) {
          return 0;
        }
        return Math.max(height(node.left), height(node.right)) + 1;
      }

      function count(node) {
        if (node === null) {
          return 0;
        }
        return count(node.left) + count(node.right) + 1;
      }

      return height(self.root) / (Math.log(count(self.root)) / Math.log(2));
    };
  }

  // Binary heap implementation from:
  // http://eloquentjavascript.net/appendix2.html

  function BinaryHeap(scoreFunction){
    this.content = [];
    this.scoreFunction = scoreFunction;
  }

  BinaryHeap.prototype = {
    push: function(element) {
      // Add the new element to the end of the array.
      this.content.push(element);
      // Allow it to bubble up.
      this.bubbleUp(this.content.length - 1);
    },

    pop: function() {
      // Store the first element so we can return it later.
      var result = this.content[0];
      // Get the element at the end of the array.
      var end = this.content.pop();
      // If there are any elements left, put the end element at the
      // start, and let it sink down.
      if (this.content.length > 0) {
        this.content[0] = end;
        this.sinkDown(0);
      }
      return result;
    },

    peek: function() {
      return this.content[0];
    },

    remove: function(node) {
      var len = this.content.length;
      // To remove a value, we must search through the array to find
      // it.
      for (var i = 0; i < len; i++) {
        if (this.content[i] == node) {
          // When it is found, the process seen in 'pop' is repeated
          // to fill up the hole.
          var end = this.content.pop();
          if (i != len - 1) {
            this.content[i] = end;
            if (this.scoreFunction(end) < this.scoreFunction(node))
              this.bubbleUp(i);
            else
              this.sinkDown(i);
          }
          return;
        }
      }
      throw new Error("Node not found.");
    },

    size: function() {
      return this.content.length;
    },

    bubbleUp: function(n) {
      // Fetch the element that has to be moved.
      var element = this.content[n];
      // When at 0, an element can not go up any further.
      while (n > 0) {
        // Compute the parent element's index, and fetch it.
        var parentN = Math.floor((n + 1) / 2) - 1,
            parent = this.content[parentN];
        // Swap the elements if the parent is greater.
        if (this.scoreFunction(element) < this.scoreFunction(parent)) {
          this.content[parentN] = element;
          this.content[n] = parent;
          // Update 'n' to continue at the new position.
          n = parentN;
        }
        // Found a parent that is less, no need to move it further.
        else {
          break;
        }
      }
    },

    sinkDown: function(n) {
      // Look up the target element and its score.
      var length = this.content.length,
          element = this.content[n],
          elemScore = this.scoreFunction(element);

      while(true) {
        // Compute the indices of the child elements.
        var child2N = (n + 1) * 2, child1N = child2N - 1;
        // This is used to store the new position of the element,
        // if any.
        var swap = null;
        // If the first child exists (is inside the array)...
        if (child1N < length) {
          // Look it up and compute its score.
          var child1 = this.content[child1N],
              child1Score = this.scoreFunction(child1);
          // If the score is less than our element's, we need to swap.
          if (child1Score < elemScore)
            swap = child1N;
        }
        // Do the same checks for the other child.
        if (child2N < length) {
          var child2 = this.content[child2N],
              child2Score = this.scoreFunction(child2);
          if (child2Score < (swap == null ? elemScore : child1Score)){
            swap = child2N;
          }
        }

        // If the element needs to be moved, swap it, and continue.
        if (swap != null) {
          this.content[n] = this.content[swap];
          this.content[swap] = element;
          n = swap;
        }
        // Otherwise, we are done.
        else {
          break;
        }
      }
    }
  };

  this.kdTree = kdTree;

  if (typeof exports !== 'undefined') {
    exports.kdTree = kdTree;
    exports.BinaryHeap = BinaryHeap;
  }
})();

//     Underscore.js 1.7.0
//     http://underscorejs.org
//     (c) 2009-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Underscore may be freely distributed under the MIT license.
(function(){var n=this,t=n._,r=Array.prototype,e=Object.prototype,u=Function.prototype,i=r.push,a=r.slice,o=r.concat,l=e.toString,c=e.hasOwnProperty,f=Array.isArray,s=Object.keys,p=u.bind,h=function(n){return n instanceof h?n:this instanceof h?void(this._wrapped=n):new h(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=h),exports._=h):n._=h,h.VERSION="1.7.0";var g=function(n,t,r){if(t===void 0)return n;switch(null==r?3:r){case 1:return function(r){return n.call(t,r)};case 2:return function(r,e){return n.call(t,r,e)};case 3:return function(r,e,u){return n.call(t,r,e,u)};case 4:return function(r,e,u,i){return n.call(t,r,e,u,i)}}return function(){return n.apply(t,arguments)}};h.iteratee=function(n,t,r){return null==n?h.identity:h.isFunction(n)?g(n,t,r):h.isObject(n)?h.matches(n):h.property(n)},h.each=h.forEach=function(n,t,r){if(null==n)return n;t=g(t,r);var e,u=n.length;if(u===+u)for(e=0;u>e;e++)t(n[e],e,n);else{var i=h.keys(n);for(e=0,u=i.length;u>e;e++)t(n[i[e]],i[e],n)}return n},h.map=h.collect=function(n,t,r){if(null==n)return[];t=h.iteratee(t,r);for(var e,u=n.length!==+n.length&&h.keys(n),i=(u||n).length,a=Array(i),o=0;i>o;o++)e=u?u[o]:o,a[o]=t(n[e],e,n);return a};var v="Reduce of empty array with no initial value";h.reduce=h.foldl=h.inject=function(n,t,r,e){null==n&&(n=[]),t=g(t,e,4);var u,i=n.length!==+n.length&&h.keys(n),a=(i||n).length,o=0;if(arguments.length<3){if(!a)throw new TypeError(v);r=n[i?i[o++]:o++]}for(;a>o;o++)u=i?i[o]:o,r=t(r,n[u],u,n);return r},h.reduceRight=h.foldr=function(n,t,r,e){null==n&&(n=[]),t=g(t,e,4);var u,i=n.length!==+n.length&&h.keys(n),a=(i||n).length;if(arguments.length<3){if(!a)throw new TypeError(v);r=n[i?i[--a]:--a]}for(;a--;)u=i?i[a]:a,r=t(r,n[u],u,n);return r},h.find=h.detect=function(n,t,r){var e;return t=h.iteratee(t,r),h.some(n,function(n,r,u){return t(n,r,u)?(e=n,!0):void 0}),e},h.filter=h.select=function(n,t,r){var e=[];return null==n?e:(t=h.iteratee(t,r),h.each(n,function(n,r,u){t(n,r,u)&&e.push(n)}),e)},h.reject=function(n,t,r){return h.filter(n,h.negate(h.iteratee(t)),r)},h.every=h.all=function(n,t,r){if(null==n)return!0;t=h.iteratee(t,r);var e,u,i=n.length!==+n.length&&h.keys(n),a=(i||n).length;for(e=0;a>e;e++)if(u=i?i[e]:e,!t(n[u],u,n))return!1;return!0},h.some=h.any=function(n,t,r){if(null==n)return!1;t=h.iteratee(t,r);var e,u,i=n.length!==+n.length&&h.keys(n),a=(i||n).length;for(e=0;a>e;e++)if(u=i?i[e]:e,t(n[u],u,n))return!0;return!1},h.contains=h.include=function(n,t){return null==n?!1:(n.length!==+n.length&&(n=h.values(n)),h.indexOf(n,t)>=0)},h.invoke=function(n,t){var r=a.call(arguments,2),e=h.isFunction(t);return h.map(n,function(n){return(e?t:n[t]).apply(n,r)})},h.pluck=function(n,t){return h.map(n,h.property(t))},h.where=function(n,t){return h.filter(n,h.matches(t))},h.findWhere=function(n,t){return h.find(n,h.matches(t))},h.max=function(n,t,r){var e,u,i=-1/0,a=-1/0;if(null==t&&null!=n){n=n.length===+n.length?n:h.values(n);for(var o=0,l=n.length;l>o;o++)e=n[o],e>i&&(i=e)}else t=h.iteratee(t,r),h.each(n,function(n,r,e){u=t(n,r,e),(u>a||u===-1/0&&i===-1/0)&&(i=n,a=u)});return i},h.min=function(n,t,r){var e,u,i=1/0,a=1/0;if(null==t&&null!=n){n=n.length===+n.length?n:h.values(n);for(var o=0,l=n.length;l>o;o++)e=n[o],i>e&&(i=e)}else t=h.iteratee(t,r),h.each(n,function(n,r,e){u=t(n,r,e),(a>u||1/0===u&&1/0===i)&&(i=n,a=u)});return i},h.shuffle=function(n){for(var t,r=n&&n.length===+n.length?n:h.values(n),e=r.length,u=Array(e),i=0;e>i;i++)t=h.random(0,i),t!==i&&(u[i]=u[t]),u[t]=r[i];return u},h.sample=function(n,t,r){return null==t||r?(n.length!==+n.length&&(n=h.values(n)),n[h.random(n.length-1)]):h.shuffle(n).slice(0,Math.max(0,t))},h.sortBy=function(n,t,r){return t=h.iteratee(t,r),h.pluck(h.map(n,function(n,r,e){return{value:n,index:r,criteria:t(n,r,e)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||r===void 0)return 1;if(e>r||e===void 0)return-1}return n.index-t.index}),"value")};var m=function(n){return function(t,r,e){var u={};return r=h.iteratee(r,e),h.each(t,function(e,i){var a=r(e,i,t);n(u,e,a)}),u}};h.groupBy=m(function(n,t,r){h.has(n,r)?n[r].push(t):n[r]=[t]}),h.indexBy=m(function(n,t,r){n[r]=t}),h.countBy=m(function(n,t,r){h.has(n,r)?n[r]++:n[r]=1}),h.sortedIndex=function(n,t,r,e){r=h.iteratee(r,e,1);for(var u=r(t),i=0,a=n.length;a>i;){var o=i+a>>>1;r(n[o])<u?i=o+1:a=o}return i},h.toArray=function(n){return n?h.isArray(n)?a.call(n):n.length===+n.length?h.map(n,h.identity):h.values(n):[]},h.size=function(n){return null==n?0:n.length===+n.length?n.length:h.keys(n).length},h.partition=function(n,t,r){t=h.iteratee(t,r);var e=[],u=[];return h.each(n,function(n,r,i){(t(n,r,i)?e:u).push(n)}),[e,u]},h.first=h.head=h.take=function(n,t,r){return null==n?void 0:null==t||r?n[0]:0>t?[]:a.call(n,0,t)},h.initial=function(n,t,r){return a.call(n,0,Math.max(0,n.length-(null==t||r?1:t)))},h.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:a.call(n,Math.max(n.length-t,0))},h.rest=h.tail=h.drop=function(n,t,r){return a.call(n,null==t||r?1:t)},h.compact=function(n){return h.filter(n,h.identity)};var y=function(n,t,r,e){if(t&&h.every(n,h.isArray))return o.apply(e,n);for(var u=0,a=n.length;a>u;u++){var l=n[u];h.isArray(l)||h.isArguments(l)?t?i.apply(e,l):y(l,t,r,e):r||e.push(l)}return e};h.flatten=function(n,t){return y(n,t,!1,[])},h.without=function(n){return h.difference(n,a.call(arguments,1))},h.uniq=h.unique=function(n,t,r,e){if(null==n)return[];h.isBoolean(t)||(e=r,r=t,t=!1),null!=r&&(r=h.iteratee(r,e));for(var u=[],i=[],a=0,o=n.length;o>a;a++){var l=n[a];if(t)a&&i===l||u.push(l),i=l;else if(r){var c=r(l,a,n);h.indexOf(i,c)<0&&(i.push(c),u.push(l))}else h.indexOf(u,l)<0&&u.push(l)}return u},h.union=function(){return h.uniq(y(arguments,!0,!0,[]))},h.intersection=function(n){if(null==n)return[];for(var t=[],r=arguments.length,e=0,u=n.length;u>e;e++){var i=n[e];if(!h.contains(t,i)){for(var a=1;r>a&&h.contains(arguments[a],i);a++);a===r&&t.push(i)}}return t},h.difference=function(n){var t=y(a.call(arguments,1),!0,!0,[]);return h.filter(n,function(n){return!h.contains(t,n)})},h.zip=function(n){if(null==n)return[];for(var t=h.max(arguments,"length").length,r=Array(t),e=0;t>e;e++)r[e]=h.pluck(arguments,e);return r},h.object=function(n,t){if(null==n)return{};for(var r={},e=0,u=n.length;u>e;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},h.indexOf=function(n,t,r){if(null==n)return-1;var e=0,u=n.length;if(r){if("number"!=typeof r)return e=h.sortedIndex(n,t),n[e]===t?e:-1;e=0>r?Math.max(0,u+r):r}for(;u>e;e++)if(n[e]===t)return e;return-1},h.lastIndexOf=function(n,t,r){if(null==n)return-1;var e=n.length;for("number"==typeof r&&(e=0>r?e+r+1:Math.min(e,r+1));--e>=0;)if(n[e]===t)return e;return-1},h.range=function(n,t,r){arguments.length<=1&&(t=n||0,n=0),r=r||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=Array(e),i=0;e>i;i++,n+=r)u[i]=n;return u};var d=function(){};h.bind=function(n,t){var r,e;if(p&&n.bind===p)return p.apply(n,a.call(arguments,1));if(!h.isFunction(n))throw new TypeError("Bind must be called on a function");return r=a.call(arguments,2),e=function(){if(!(this instanceof e))return n.apply(t,r.concat(a.call(arguments)));d.prototype=n.prototype;var u=new d;d.prototype=null;var i=n.apply(u,r.concat(a.call(arguments)));return h.isObject(i)?i:u}},h.partial=function(n){var t=a.call(arguments,1);return function(){for(var r=0,e=t.slice(),u=0,i=e.length;i>u;u++)e[u]===h&&(e[u]=arguments[r++]);for(;r<arguments.length;)e.push(arguments[r++]);return n.apply(this,e)}},h.bindAll=function(n){var t,r,e=arguments.length;if(1>=e)throw new Error("bindAll must be passed function names");for(t=1;e>t;t++)r=arguments[t],n[r]=h.bind(n[r],n);return n},h.memoize=function(n,t){var r=function(e){var u=r.cache,i=t?t.apply(this,arguments):e;return h.has(u,i)||(u[i]=n.apply(this,arguments)),u[i]};return r.cache={},r},h.delay=function(n,t){var r=a.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},h.defer=function(n){return h.delay.apply(h,[n,1].concat(a.call(arguments,1)))},h.throttle=function(n,t,r){var e,u,i,a=null,o=0;r||(r={});var l=function(){o=r.leading===!1?0:h.now(),a=null,i=n.apply(e,u),a||(e=u=null)};return function(){var c=h.now();o||r.leading!==!1||(o=c);var f=t-(c-o);return e=this,u=arguments,0>=f||f>t?(clearTimeout(a),a=null,o=c,i=n.apply(e,u),a||(e=u=null)):a||r.trailing===!1||(a=setTimeout(l,f)),i}},h.debounce=function(n,t,r){var e,u,i,a,o,l=function(){var c=h.now()-a;t>c&&c>0?e=setTimeout(l,t-c):(e=null,r||(o=n.apply(i,u),e||(i=u=null)))};return function(){i=this,u=arguments,a=h.now();var c=r&&!e;return e||(e=setTimeout(l,t)),c&&(o=n.apply(i,u),i=u=null),o}},h.wrap=function(n,t){return h.partial(t,n)},h.negate=function(n){return function(){return!n.apply(this,arguments)}},h.compose=function(){var n=arguments,t=n.length-1;return function(){for(var r=t,e=n[t].apply(this,arguments);r--;)e=n[r].call(this,e);return e}},h.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},h.before=function(n,t){var r;return function(){return--n>0?r=t.apply(this,arguments):t=null,r}},h.once=h.partial(h.before,2),h.keys=function(n){if(!h.isObject(n))return[];if(s)return s(n);var t=[];for(var r in n)h.has(n,r)&&t.push(r);return t},h.values=function(n){for(var t=h.keys(n),r=t.length,e=Array(r),u=0;r>u;u++)e[u]=n[t[u]];return e},h.pairs=function(n){for(var t=h.keys(n),r=t.length,e=Array(r),u=0;r>u;u++)e[u]=[t[u],n[t[u]]];return e},h.invert=function(n){for(var t={},r=h.keys(n),e=0,u=r.length;u>e;e++)t[n[r[e]]]=r[e];return t},h.functions=h.methods=function(n){var t=[];for(var r in n)h.isFunction(n[r])&&t.push(r);return t.sort()},h.extend=function(n){if(!h.isObject(n))return n;for(var t,r,e=1,u=arguments.length;u>e;e++){t=arguments[e];for(r in t)c.call(t,r)&&(n[r]=t[r])}return n},h.pick=function(n,t,r){var e,u={};if(null==n)return u;if(h.isFunction(t)){t=g(t,r);for(e in n){var i=n[e];t(i,e,n)&&(u[e]=i)}}else{var l=o.apply([],a.call(arguments,1));n=new Object(n);for(var c=0,f=l.length;f>c;c++)e=l[c],e in n&&(u[e]=n[e])}return u},h.omit=function(n,t,r){if(h.isFunction(t))t=h.negate(t);else{var e=h.map(o.apply([],a.call(arguments,1)),String);t=function(n,t){return!h.contains(e,t)}}return h.pick(n,t,r)},h.defaults=function(n){if(!h.isObject(n))return n;for(var t=1,r=arguments.length;r>t;t++){var e=arguments[t];for(var u in e)n[u]===void 0&&(n[u]=e[u])}return n},h.clone=function(n){return h.isObject(n)?h.isArray(n)?n.slice():h.extend({},n):n},h.tap=function(n,t){return t(n),n};var b=function(n,t,r,e){if(n===t)return 0!==n||1/n===1/t;if(null==n||null==t)return n===t;n instanceof h&&(n=n._wrapped),t instanceof h&&(t=t._wrapped);var u=l.call(n);if(u!==l.call(t))return!1;switch(u){case"[object RegExp]":case"[object String]":return""+n==""+t;case"[object Number]":return+n!==+n?+t!==+t:0===+n?1/+n===1/t:+n===+t;case"[object Date]":case"[object Boolean]":return+n===+t}if("object"!=typeof n||"object"!=typeof t)return!1;for(var i=r.length;i--;)if(r[i]===n)return e[i]===t;var a=n.constructor,o=t.constructor;if(a!==o&&"constructor"in n&&"constructor"in t&&!(h.isFunction(a)&&a instanceof a&&h.isFunction(o)&&o instanceof o))return!1;r.push(n),e.push(t);var c,f;if("[object Array]"===u){if(c=n.length,f=c===t.length)for(;c--&&(f=b(n[c],t[c],r,e)););}else{var s,p=h.keys(n);if(c=p.length,f=h.keys(t).length===c)for(;c--&&(s=p[c],f=h.has(t,s)&&b(n[s],t[s],r,e)););}return r.pop(),e.pop(),f};h.isEqual=function(n,t){return b(n,t,[],[])},h.isEmpty=function(n){if(null==n)return!0;if(h.isArray(n)||h.isString(n)||h.isArguments(n))return 0===n.length;for(var t in n)if(h.has(n,t))return!1;return!0},h.isElement=function(n){return!(!n||1!==n.nodeType)},h.isArray=f||function(n){return"[object Array]"===l.call(n)},h.isObject=function(n){var t=typeof n;return"function"===t||"object"===t&&!!n},h.each(["Arguments","Function","String","Number","Date","RegExp"],function(n){h["is"+n]=function(t){return l.call(t)==="[object "+n+"]"}}),h.isArguments(arguments)||(h.isArguments=function(n){return h.has(n,"callee")}),"function"!=typeof/./&&(h.isFunction=function(n){return"function"==typeof n||!1}),h.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},h.isNaN=function(n){return h.isNumber(n)&&n!==+n},h.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"===l.call(n)},h.isNull=function(n){return null===n},h.isUndefined=function(n){return n===void 0},h.has=function(n,t){return null!=n&&c.call(n,t)},h.noConflict=function(){return n._=t,this},h.identity=function(n){return n},h.constant=function(n){return function(){return n}},h.noop=function(){},h.property=function(n){return function(t){return t[n]}},h.matches=function(n){var t=h.pairs(n),r=t.length;return function(n){if(null==n)return!r;n=new Object(n);for(var e=0;r>e;e++){var u=t[e],i=u[0];if(u[1]!==n[i]||!(i in n))return!1}return!0}},h.times=function(n,t,r){var e=Array(Math.max(0,n));t=g(t,r,1);for(var u=0;n>u;u++)e[u]=t(u);return e},h.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))},h.now=Date.now||function(){return(new Date).getTime()};var _={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},w=h.invert(_),j=function(n){var t=function(t){return n[t]},r="(?:"+h.keys(n).join("|")+")",e=RegExp(r),u=RegExp(r,"g");return function(n){return n=null==n?"":""+n,e.test(n)?n.replace(u,t):n}};h.escape=j(_),h.unescape=j(w),h.result=function(n,t){if(null==n)return void 0;var r=n[t];return h.isFunction(r)?n[t]():r};var x=0;h.uniqueId=function(n){var t=++x+"";return n?n+t:t},h.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var A=/(.)^/,k={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},O=/\\|'|\r|\n|\u2028|\u2029/g,F=function(n){return"\\"+k[n]};h.template=function(n,t,r){!t&&r&&(t=r),t=h.defaults({},t,h.templateSettings);var e=RegExp([(t.escape||A).source,(t.interpolate||A).source,(t.evaluate||A).source].join("|")+"|$","g"),u=0,i="__p+='";n.replace(e,function(t,r,e,a,o){return i+=n.slice(u,o).replace(O,F),u=o+t.length,r?i+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":e?i+="'+\n((__t=("+e+"))==null?'':__t)+\n'":a&&(i+="';\n"+a+"\n__p+='"),t}),i+="';\n",t.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __t,__p='',__j=Array.prototype.join,"+"print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{var a=new Function(t.variable||"obj","_",i)}catch(o){throw o.source=i,o}var l=function(n){return a.call(this,n,h)},c=t.variable||"obj";return l.source="function("+c+"){\n"+i+"}",l},h.chain=function(n){var t=h(n);return t._chain=!0,t};var E=function(n){return this._chain?h(n).chain():n};h.mixin=function(n){h.each(h.functions(n),function(t){var r=h[t]=n[t];h.prototype[t]=function(){var n=[this._wrapped];return i.apply(n,arguments),E.call(this,r.apply(h,n))}})},h.mixin(h),h.each(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=r[n];h.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!==n&&"splice"!==n||0!==r.length||delete r[0],E.call(this,r)}}),h.each(["concat","join","slice"],function(n){var t=r[n];h.prototype[n]=function(){return E.call(this,t.apply(this._wrapped,arguments))}}),h.prototype.value=function(){return this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return h})}).call(this);
/*
*   Json Diff Patch
*   ---------------
*   https://github.com/benjamine/JsonDiffPatch
*   by Benjamin Eidelman - beneidel@gmail.com
*/(function(){"use strict";var e={};typeof t!="undefined"&&(e=t);var t=e;e.version="0.0.7",e.config={textDiffMinLength:60,detectArrayMove:!0,includeValueOnArrayMove:!1};var n={diff:function(t,n,r,i){var s=0,o=0,u,a,f=t.length,l=n.length,c,h=[],p=[],d=typeof r=="function"?function(e,t,n,i){if(e===t)return!0;if(typeof e!="object"||typeof t!="object")return!1;var s,o;return typeof n=="number"?(s=h[n],typeof s=="undefined"&&(h[n]=s=r(e))):s=r(e),typeof i=="number"?(o=p[i],typeof o=="undefined"&&(p[i]=o=r(t))):o=r(t),s===o}:function(e,t){return e===t},v=function(e,r){return d(t[e],n[r],e,r)},m=function(e,r){if(!i)return;if(typeof t[e]!="object"||typeof n[r]!="object")return;var s=i(t[e],n[r]);if(typeof s=="undefined")return;c||(c={_t:"a"}),c[r]=s};while(s<f&&s<l&&v(s,s))m(s,s),s++;while(o+s<f&&o+s<l&&v(f-1-o,l-1-o))m(f-1-o,l-1-o),o++;if(s+o===f){if(f===l)return c;c=c||{_t:"a"};for(u=s;u<l-o;u++)c[u]=[n[u]];return c}if(s+o===l){c=c||{_t:"a"};for(u=s;u<f-o;u++)c["_"+u]=[t[u],0,0];return c}var g=this.lcs(t.slice(s,f-o),n.slice(s,l-o),{areTheSameByIndex:function(e,t){return v(e+s,t+s)}});c=c||{_t:"a"};var y=[];for(u=s;u<f-o;u++)g.indices1.indexOf(u-s)<0&&(c["_"+u]=[t[u],0,0],y.push(u));var b=y.length;for(u=s;u<l-o;u++){var w=g.indices2.indexOf(u-s);if(w<0){var E=!1;if(e.config.detectArrayMove&&b>0)for(a=0;a<b;a++)if(v(y[a],u)){c["_"+y[a]].splice(1,2,u,3),e.config.includeValueOnArrayMove||(c["_"+y[a]][0]=""),m(y[a],u),y.splice(a,1),E=!0;break}E||(c[u]=[n[u]])}else m(g.indices1[w]+s,g.indices2[w]+s)}return c},getArrayIndexBefore:function(e,t){var n,r=t;for(var s in e)if(e.hasOwnProperty(s)&&i(e[s])){s.slice(0,1)==="_"?n=parseInt(s.slice(1),10):n=parseInt(s,10);if(e[s].length===1){if(n<t)r--;else if(n===t)return-1}else if(e[s].length===3)if(e[s][2]===0)n<=t&&r++;else if(e[s][2]===3){n<=t&&r++;if(e[s][1]>t)r--;else if(e[s][1]===t)return n}}return r},patch:function(e,t,n,r){var i,s,o=function(e,t){return e-t},u=function(e){return function(t,n){return t[e]-n[e]}},a=[],f=[],l=[];for(i in t)if(i!=="_t")if(i[0]=="_"){if(t[i][2]!==0&&t[i][2]!==3)throw new Error("only removal or move can be applied at original array indices, invalid diff type: "+t[i][2]);a.push(parseInt(i.slice(1),10))}else t[i].length===1?f.push({index:parseInt(i,10),value:t[i][0]}):l.push({index:parseInt(i,10),diff:t[i]});a=a.sort(o);for(i=a.length-1;i>=0;i--){s=a[i];var c=t["_"+s],h=e.splice(s,1)[0];c[2]===3&&f.push({index:c[1],value:h})}f=f.sort(u("index"));var p=f.length;for(i=0;i<p;i++){var d=f[i];e.splice(d.index,0,d.value)}var v=l.length;if(v>0){if(typeof n!="function")throw new Error("to patch items in the array an objectInnerPatch function must be provided");for(i=0;i<v;i++){var m=l[i];n(e,m.index.toString(),m.diff,r)}}return e},lcs:function(e,t,n){n.areTheSameByIndex=n.areTheSameByIndex||function(n,r){return e[n]===t[r]};var r=this.lengthMatrix(e,t,n),i=this.backtrack(r,e,t,e.length,t.length);return typeof e=="string"&&typeof t=="string"&&(i.sequence=i.sequence.join("")),i},lengthMatrix:function(e,t,n){var r=e.length,i=t.length,s,o,u=[r+1];for(s=0;s<r+1;s++){u[s]=[i+1];for(o=0;o<i+1;o++)u[s][o]=0}u.options=n;for(s=1;s<r+1;s++)for(o=1;o<i+1;o++)n.areTheSameByIndex(s-1,o-1)?u[s][o]=u[s-1][o-1]+1:u[s][o]=Math.max(u[s-1][o],u[s][o-1]);return u},backtrack:function(e,t,n,r,i){if(r===0||i===0)return{sequence:[],indices1:[],indices2:[]};if(e.options.areTheSameByIndex(r-1,i-1)){var s=this.backtrack(e,t,n,r-1,i-1);return s.sequence.push(t[r-1]),s.indices1.push(r-1),s.indices2.push(i-1),s}return e[r][i-1]>e[r-1][i]?this.backtrack(e,t,n,r,i-1):this.backtrack(e,t,n,r-1,i)}};e.sequenceDiffer=n,e.dateReviver=function(e,t){var n;if(typeof t=="string"){n=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)(Z|([+\-])(\d{2}):(\d{2}))$/.exec(t);if(n)return new Date(Date.UTC(+n[1],+n[2]-1,+n[3],+n[4],+n[5],+n[6]))}return t};var r=function(){var t;e.config.diff_match_patch&&(t=new e.config.diff_match_patch.diff_match_patch),typeof diff_match_patch!="undefined"&&(typeof diff_match_patch=="function"?t=new diff_match_patch:typeof diff_match_patch=="object"&&typeof diff_match_patch.diff_match_patch=="function"&&(t=new diff_match_patch.diff_match_patch));if(t)return e.config.textDiff=function(e,n){return t.patch_toText(t.patch_make(e,n))},e.config.textPatch=function(e,n){var r=t.patch_apply(t.patch_fromText(n),e);for(var i=0;i<r[1].length;i++)if(!r[1][i])throw new Error("text patch failed");return r[0]},!0},i=e.isArray=typeof Array.isArray=="function"?Array.isArray:function(e){return typeof e=="object"&&e instanceof Array},s=e.isDate=function(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"},o=function(t,r){return n.diff(t,r,e.config.objectHash,e.diff)},u=function(e,t){var n,r,i,s;s=function(i){r=a(e[i],t[i]),typeof r!="undefined"&&(typeof n=="undefined"&&(n={}),n[i]=r)};for(i in t)t.hasOwnProperty(i)&&s(i);for(i in e)e.hasOwnProperty(i)&&typeof t[i]=="undefined"&&s(i);return n},a=e.diff=function(t,n){var a,f,l,c,h;if(t===n)return;if(t!==t&&n!==n)return;a=typeof n,f=typeof t,l=n===null,c=t===null,f=="object"&&s(t)&&(f="date");if(a=="object"&&s(n)){a="date";if(f=="date"&&t.getTime()===n.getTime())return}if(l||c||a=="undefined"||a!=f||a=="number"||f=="number"||a=="boolean"||f=="boolean"||a=="string"||f=="string"||a=="date"||f=="date"||a==="object"&&i(n)!=i(t)){h=[];if(typeof t!="undefined")if(typeof n!="undefined"){var p=a=="string"&&f=="string"&&Math.min(t.length,n.length)>e.config.textDiffMinLength;p&&!e.config.textDiff&&r(),p&&e.config.textDiff?h.push(e.config.textDiff(t,n),0,2):(h.push(t),h.push(n))}else h.push(t),h.push(0,0);else h.push(n);return h}return i(n)?o(t,n):u(t,n)},f=function(e,t){return i(e)?e[parseInt(t,10)]:e[t]};e.getByKey=f;var l=function(e,t,n){if(i(e)&&e._key){var r=e._key;typeof e._key!="function"&&(r=function(t){return t[e._key]});for(var s=0;s<e.length;s++)if(r(e[s])===t){typeof n=="undefined"?(e.splice(s,1),s--):e[s]=n;return}typeof n!="undefined"&&e.push(n);return}typeof n=="undefined"?i(e)?e.splice(t,1):delete e[t]:e[t]=n},c=function(t){return e.config.textDiffReverse||(e.config.textDiffReverse=function(e){var t,n,r,i,s,o=null,u=/^@@ +\-(\d+),(\d+) +\+(\d+),(\d+) +@@$/,a,f,l,c=function(){f!==null&&(r[f]="-"+r[f].slice(1)),l!==null&&(r[l]="+"+r[l].slice(1),f!==null&&(s=r[f],r[f]=r[l],r[l]=s)),r[a]="@@ -"+o[3]+","+o[4]+" +"+o[1]+","+o[2]+" @@",o=null,a=null,f=null,l=null};r=e.split("\n");for(t=0,n=r.length;t<n;t++){i=r[t];var h=i.slice(0,1);h==="@"?(o!==null,o=u.exec(i),a=t,f=null,l=null,r[a]="@@ -"+o[3]+","+o[4]+" +"+o[1]+","+o[2]+" @@"):h=="+"?(f=t,r[t]="-"+r[t].slice(1)):h=="-"&&(l=t,r[t]="+"+r[t].slice(1))}return o!==null,r.join("\n")}),e.config.textDiffReverse(t)},h=e.reverse=function(e){var t,r;if(typeof e=="undefined")return;if(e===null)return null;if(typeof e=="object"&&!s(e)){if(i(e)){if(e.length<3)return e.length===1?[e[0],0,0]:[e[1],e[0]];if(e[2]===0)return[e[0]];if(e[2]===2)return[c(e[0]),0,2];throw new Error("invalid diff type")}r={};if(e._t==="a"){for(t in e)if(e.hasOwnProperty(t)&&t!=="_t"){var o,u=t;t.slice(0,1)==="_"?o=parseInt(t.slice(1),10):o=parseInt(t,10);if(i(e[t]))if(e[t].length===1)u="_"+o;else if(e[t].length===2)u=n.getArrayIndexBefore(e,o);else if(e[t][2]===0)u=o.toString();else{if(e[t][2]===3){u="_"+e[t][1],r[u]=[e[t][0],o,3];continue}u=n.getArrayIndexBefore(e,o)}else u=n.getArrayIndexBefore(e,o);r[u]=h(e[t])}r._t="a"}else for(t in e)e.hasOwnProperty(t)&&(r[t]=h(e[t]));return r}return typeof e=="string"&&e.slice(0,2)==="@@"?c(e):e},p=e.patch=function(s,o,u,a){var c,h,d="",v;typeof o!="string"?(a=u,u=o,o=null):typeof s!="object"&&(o=null),a&&(d+=a),d+="/",o!==null&&(d+=o);if(typeof u=="object")if(i(u)){if(u.length<3)return h=u[u.length-1],o!==null&&l(s,o,h),h;if(u[2]!==0){if(u[2]===2){e.config.textPatch||r();if(!e.config.textPatch)throw new Error("textPatch function not found");try{h=e.config.textPatch(f(s,o),u[0])}catch(m){throw new Error('cannot apply patch at "'+d+'": '+m)}return o!==null&&l(s,o,h),h}throw u[2]===3?new Error("Not implemented diff type: "+u[2]):new Error("invalid diff type: "+u[2])}if(o===null)return;l(s,o)}else if(u._t=="a"){v=o===null?s:f(s,o);if(typeof v!="object"||!i(v))throw new Error('cannot apply patch at "'+d+'": array expected');n.patch(v,u,t.patch,d)}else{v=o===null?s:f(s,o);if(typeof v!="object"||i(v))throw new Error('cannot apply patch at "'+d+'": object expected');for(c in u)u.hasOwnProperty(c)&&p(v,c,u[c],d)}return s},d=e.unpatch=function(e,t,n,r){return typeof t!="string"?p(e,h(t),n):p(e,t,h(n),r)};typeof require=="function"&&typeof exports=="object"&&typeof module=="object"?module.exports=e:typeof define=="function"&&define.amd?define(e):window.jsondiffpatch=e})();
var f,aa={},ba,p;inherit=function(a){function b(){}b.prototype=a;return new b};function ca(a,b){function c(){}c.prototype=a.prototype;c.prototype.constructor=a;var d=new c;d.constructor=a;a.apply(d,b);return d}extend=function(a,b){if(!b)throw"try to mix in empty function";for(var c in b)a.prototype[c]=b[c],a.prototype[c].FP=!0};function da(a){return null===a?"Null":void 0===a?"Undefined":Object.prototype.toString.call(a).slice(8,-1)}
function ea(a){if(null==a)return a;if(a.Eb)return a.Eb();if(a.clone)return a.clone();if("object"==typeof a){var b=new a.constructor,c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}return a}var fa={};if("undefined"!==typeof window)for(var ha=window.location.search.substring(1).split("&"),ia=0;ia<ha.length;ia++){var ja=ha[ia].split("=");"undefined"===typeof fa[ja[0]]?fa[ja[0]]=ja[1]:"string"===typeof fa[ja[0]]?fa[ja[0]]=[fa[ja[0]],ja[1]]:fa[ja[0]].push(ja[1])};function ka(a,b,c){console.log("Error logged",a,b);"undefined"!==typeof window?(CircuitsRecorder&&CircuitsRecorder.sy(a,b),$.ajax({url:"/errors/log",type:"POST",data:{error:{url:document.URL,circuits_message:a,error_type:b.type,error_message:b.message,error_stack:b.stack,snapshot:c}},D6:function(a){a.setRequestHeader("X-CSRF-Token",$('meta[name="csrf-token"]').attr("content"))},success:function(){}}),"local.circuits.io"==window.location.hostname&&console.error(b.stack)):console.error(b.stack)}
"undefined"!==typeof window&&(window.logError=ka);var la=!1;function u(a,b,c,d){c&&(la||(ma=new w,oa=new w,pa=new w,qa=new w,ra=new w,la=!0),ma.put(c,a),oa.put(a,c),pa.put(c,b),qa.put(b,c),c.prototype.$class=b,c.NZ=d?d:function(a,b){var c=new this(b);ra.put(a.$id,c);for(var d in a)a[d]=sa(a[d],b);c.setData(a);return c})}var ma,oa,pa,qa,ra;
function sa(a,b){var c,d;if("Object"===da(a))if(void 0!==a.$class)c=oa.get(a.$class).NZ(a,b);else if(void 0!==a.$idref)c=ra.get(a.$idref);else for(d in c={},a)c[d]=sa(a[d],b);else if("Array"===da(a))for(c=[],d=0;d<a.length;d++)c[d]=sa(a[d],b);else c=a;return c};var ta={de:function(){var a=this;this.parent.ka("undo",function(b,c,d){if(d){for(b=0;b<a.ve.length;b++)a.ve[b].Cq()?a.ve[b].Dk()&&a.ve[b].ka("undo",function(b){a.TP(b,b)},100):a.ve[b].ka("undo",function(b,c,d){a.P_(b,c,d)},100);for(b=0;b<a.gh.length;b++)a.gh[b].Dk()&&a.gh[b].ka("undo",function(b){a.TP(b,b)},100);for(b=0;b<a.Bf.length;b++)a.Bf[b].kc("undo",function(b,c){a.S_(b,c)},100),a.Bf[b].Tc("undo",function(b,c){a.T_(b,c)},100),a.Bf[b].qQ("undo",function(b,c,d){a.U_(b,c,d)},100);for(b=0;b<a.Kf.length;b++)a.Kf[b].we("undo",
function(b,c,d,n){a.RP(b,c,d,n)},100),a.Kf[b].Tc("undo",function(b,c,d){a.SP(b,c,d)},100);for(b=0;b<a.Jf.length;b++)a.Jf[b].kc("undo",function(b,c,d){a.Q_(b,c,d)},100),a.Jf[b].Tc("undo",function(b,c,d){a.R_(b,c,d)},100)}})},P_:function(a,b,c){this.tb()&&this.root.log(["change",this.Rb,a.ac(),this.xh(a,b),this.xh(a,c),this.ag(a)])},TP:function(a,b){this.tb()&&this.root.log(["shadow",this.Rb,a.ac(),null,b,this.ag(a)])},S_:function(a,b){this.tb()&&this.root.log(["add",this.Rb,a.ac(),this.xh(a,b),this.ag(a)])},
T_:function(a,b){this.tb()&&this.root.log(["remove",this.Rb,a.ac(),this.xh(a,b),this.ag(a)])},U_:function(a,b,c){this.tb()&&this.root.log(["swap",this.Rb,a.ac(),this.xh(a,b),c.ti().Rb,c.ac(),this.ag(a),c.ti().ag(c)])},RP:function(a,b,c,d){this.tb()&&this.root.log(["put",this.Rb,a.ac(),b,this.xh(a,c),this.xh(a,d),this.ag(a)])},SP:function(a,b,c){this.tb()&&this.root.log(["remove_map",this.Rb,a.ac(),b,this.xh(a,c),this.ag(a)])},Q_:function(a,b,c){this.tb()&&this.root.log(["add_list",this.Rb,a.ac(),
b,this.xh(a,c),this.ag(a)])},R_:function(a,b,c){this.tb()&&this.root.log(["remove_list",this.Rb,a.ac(),b,this.xh(a,c),this.ag(a)])}};var ua=!1,va={uid:function(){var a="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0;return("x"==a?b:b&3|8).toString(16)}),b=(new Date).getTime().toString(16),c=(va.N2++).toString(16);return b+"-"+c+"-"+a},z_:function(a){a=a.match(/[a-fA-F0-9]{11}-[a-fA-F0-9]+-[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-4[a-fA-F0-9]{3}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}/g);return!(!a||1!=a.length)},V0:function(a){var b=a.split("_")[0];a=parseInt(a.split("_")[1]);var c=this.jP(b);a>=c&&this.qJ.put(b,
a+1)},TZ:function(a){a=pa.get(a.constructor);var b=this.jP(a);return[a,b].join("_")},jP:function(a){a||(a="Unknown");var b=this.qJ.get(a);null==b&&(b=0,this.qJ.put(a,b));return b},Vb:function(){ua&&window.console.log(">>>>>>>>>>>>>>>>>>> rec "+this.hg);this.hg+=1;1==this.hg?(this.Rk=[],this.df=[],this.mt=new w,this.fg=!0,ua&&window.console.log("LOGGING START >>>>>>>>>>>>>>>>>>>>>>")):ua&&window.console.log(">>>>>>>>>>>>>>>>>>> Not doing rec as not the most outer one")},Xb:function(a){ua&&window.console.log(">>>>>>>>>>>>>>>>>>> stopRec "+
this.hg);a&&window.console.log("CANCEL REC");a&&1<this.hg&&(this.hg=1,ka("Cancel Rec",Error("Canceling recording should never happen!")));if(0<this.hg)if(--this.hg,0==this.hg){this.Mj(this.Bk);this.fg=!1;for(this.jj.push(this.df);20<this.jj.length;)this.jj.shift();ua&&window.console.log("LOGGING STOP  <<<<<<<<<<<<<<<<<<<<<<");this.ln&&(this.A1(),this.UC(this.df),this.ER(this.df,20),this.jK())}else ua&&window.console.log(">>>>>>>>>>>>>>>>>>> Not doing stopRec as not the most outer one");else ua&&window.console.log(">>>>>>>>>>>>>>>>>>> Double stopRec detected !!")},
lt:function(){this.Mj(this.Bk);this.oR(this.df);this.Mj(this.Bk);this.fg=!1;this.hg=0},Q0:function(){this.hg+=1;1==this.hg?(this.df=[],this.mt=new w,this.fg=!0,ua&&window.console.log("LOGGING START >>>>>>>>>>>>>>>>>>>>>>")):ua&&window.console.log(">>>>>>>>>>>>>>>>>>> Not doing rec as not the most outer one")},d2:function(){0<this.hg?(--this.hg,0==this.hg?(this.fg=!1,ua&&window.console.log("LOGGING STOP  <<<<<<<<<<<<<<<<<<<<<<"),this.ln&&this.UC(this.df)):ua&&window.console.log(">>>>>>>>>>>>>>>>>>> Not doing stopRec as not the most outer one")):
ua&&window.console.log(">>>>>>>>>>>>>>>>>>> Double stopRec detected !!")},yP:function(){this.xc=new w;this.QP=new w;this.qJ=new w;this.Dy=this.fg=!1;this.hg=0;this.jj=[];this.Rk=[];this.df=[];this.Il=new w;this.aL=!0;this.mt=new w;this.data=null},XX:function(a){this.data=a;this.data.parent(this)},log:function(a){if(this.fg||this.Dy)if("change"===a[0]||"shadow"===a[0]){var b=this.mt.get(a[0]+"_"+a[1]+"_"+a[2]);(b=this.df[b])?b[4]=a[4]:(this.mt.put(a[0]+"_"+a[1]+"_"+a[2],this.df.length),this.df.push(a),
ua&&window.console.log(a))}else this.df.push(a),ua&&window.console.log(a);else ua&&window.console.log("LOG BUT LOGGING IS DISABLED!")},O2:function(){if(0<this.jj.length){var a=this.jj.pop();if(a){this.ln&&(this.Dy=!0,this.df=[],this.mt=new w);this.oR(a);this.ln&&(this.UC(this.df),this.Dy=!1);for(this.Rk.push(a);20<this.Rk.length;)this.Rk.shift();this.Mj(this.Bk);this.ln&&(this.C1(),this.z1(a,20),this.jK())}}},S0:function(){var a=this.Rk.pop();if(a){this.ln&&(this.Dy=!0,this.df=[],this.mt=new w);this.play(a);
this.ln&&(this.UC(this.df),this.Dy=!1);for(this.jj.push(a);20<this.jj.length;)this.jj.shift();this.Mj(this.Bk);this.ln&&(this.B1(),this.ER(a,20),this.jK())}},UB:function(){return!0},tb:function(){return!0},KP:function(){return!1},oR:function(a){this.fg=!1;for(var b=a.length-1;0<=b;b--){var c=a[b];switch(c[0]){case "change":case "remove":case "add":case "swap":wa(c[3],this);break;case "remove_list":case "remove_map":wa(c[4],this);break;case "put":wa(c[5],this)}}for(var d=new w,b=a.length-1;0<=b;b--)switch(c=
a[b],c[0]){case "change":var e=this.xc.get(c[1]),e=e.Ic(c[2]);e(xa(c[3],this));break;case "add":var e=this.xc.get(c[1]),e=e.Ic(c[2]),k=c[3];k.$id?(c=this.xc.get(k.$id))?d.put(k.$id,c):c=d.get(k.$id):(c=this.xc.get(k.$idref))?d.put(k.$idref,c):c=d.get(k.$idref);c||console.error("Tried to remove unfound object during undo");e.remove(c);break;case "remove":e=this.xc.get(c[1]);e=e.Ic(c[2]);c=xa(c[3],this);e.add(c);break;case "swap":e=this.xc.get(c[1]).Ic(c[2]);k=this.xc.get(c[4]).Ic(c[5]);c=c[3];(c=c.$id?
this.xc.get(c.$id):this.xc.get(c.$idref))||console.error("Tried to swap unfound object during undo");k.bD(c,e);break;case "add_list":e=this.xc.get(c[1]);e=e.Ic(c[2]);k=c[3];e.remove(k);break;case "remove_list":e=this.xc.get(c[1]);e=e.Ic(c[2]);k=c[3];e.add(xa(c[4],this),k);break;case "put":e=this.xc.get(c[1]);e=e.Ic(c[2]);k=c[3];(c=xa(c[5],this))?e.put(k,c):e.remove(k);break;case "remove_map":e=this.xc.get(c[1]),e=e.Ic(c[2]),k=c[3],c=xa(c[4],this),e.put(k,c)}this.fg=!0},play:function(a){this.fg=!1;
for(var b=a.length-1;0<=b;b--){var c=a[b];switch(c[0]){case "remove":case "add":case "swap":case "remove_list":wa(c[3],this);case "change":case "add_list":case "put":wa(c[4],this)}}for(b=0;b<a.length;b++)switch(c=a[b],c[0]){case "change":var d=this.xc.get(c[1]),d=d.Ic(c[2]),c=xa(c[4],this);d(c);break;case "add":d=this.xc.get(c[1]);d=d.Ic(c[2]);c=xa(c[3],this);d.add(c);break;case "remove":d=this.xc.get(c[1]);d=d.Ic(c[2]);c=c[3];(c=c.$id?this.xc.get(c.$id):this.xc.get(c.$idref))||console.error("Tried to remove unfound object during redo");
d.remove(c);break;case "swap":var d=this.xc.get(c[1]).Ic(c[2]),e=this.xc.get(c[4]).Ic(c[5]),c=c[3];(c=c.$id?this.xc.get(c.$id):this.xc.get(c.$idref))||console.error("Tried to swat unfound object during redo");d.bD(c,e);break;case "add_list":d=this.xc.get(c[1]);d=d.Ic(c[2]);e=c[3];c[4]&&d.Zb()?(c=xa(c[4],this),d.add(c,e)):d.add(c[4],e);break;case "remove_list":d=this.xc.get(c[1]);d=d.Ic(c[2]);e=c[3];d.remove(e);break;case "put":d=this.xc.get(c[1]);d=d.Ic(c[2]);e=c[3];c=xa(c[4],this);d.put(e,c);break;
case "remove_map":d=this.xc.get(c[1]),d=d.Ic(c[2]),e=c[3],d.get(e),d.remove(e)}this.fg=!0},fc:function(a,b,c,d,e){if(this.Il.contains(a))var k=this.Il.get(a);else k=new w,this.Il.put(a,k);k.put(e,[b,c,d])},Mj:function(a){for(var b=0;b<a.length;b++){var c=a[b];this.Il.contains(c)&&(this.Il.get(c).forEach(function(a,b){b[0].apply(b[1],b[2])}),this.Il.remove(c))}},I7:function(){var a=this;this.Il.forEach(function(b){a.Mj(b)});this.Il.empty()},h7:function(a){return this.xc.get(a)},Rw:function(a){if(this.data)return this.data.Rw(a)},
N2:0};var ua=!1,C={xh:function(a,b){var c;a.Zb()&&a.ec()&&null!==b&&void 0!==b&&b.Rb?c=b.lx():a.Zb()&&!a.ec()&&null!==b&&void 0!==b&&b.Rb?c={$idref:b.Rb,$class:b.constructor.prototype.$class}:null!==b&&void 0!==b&&"object"===typeof b&&b.getData?(c=b.getData(),c.$class=b.constructor.prototype.$class):c=b;return c},lx:function(){var a=this,b={};b.$id=this.Rb;b.$local_id=this.yh;b.$class=this.constructor.prototype.$class;for(var c=0;c<a.ve.length;c++){var d=a.ve[c];if("parent"!=d.ac()&&(!d.Cq()||d.Dk())){var e=
d();null!==e&&void 0!==e&&(b[d.ac()]=a.xh(d,e))}}for(c=0;c<a.gh.length;c++){var k=a.gh[c];"parent"!=k.ac()&&k.Dk()&&(e=k(),null!==e&&void 0!==e&&(b[k.ac()]=a.xh(d,e)))}for(c=0;c<a.Bf.length;c++){var l=a.Bf[c],n={};l.forEach(function(b){n[b.Rb]=a.xh(l,b)});b[l.ac()]=n}for(c=0;c<a.Kf.length;c++){var q=a.Kf[c],r={};q.forEach(function(b,c){r[b]=a.xh(q,c)});b[q.ac()]=r}for(c=0;c<a.Jf.length;c++){var t=a.Jf[c],v=[];t.forEach(function(b,c){v[b]=a.xh(t,c)});b[t.ac()]=v}return b},set:function(a,b,c){var d=
this,e=new y,k=new w,l=new w,n=new w,q=new w;e.Vw=function(){return q};e.Fe=function(a,b){k.remove(a);l.remove(a);n.remove(a);b&&e.Zb()&&e.ec()&&e.forEach(function(c){c.Fe(a,b)})};e.mf=function(a){k.bh(function(b){return!a.contains(b)});l.bh(function(b){return!a.contains(b)});n.bh(function(b){return!a.contains(b)});e.Zb()&&e.ec()&&e.forEach(function(b){b.mf(a)})};e.j0=e.get;e.get=function(){var a=e.j0();return e.ec()||!a||a.parent()?a:(e.remove(a),null)};e.fC=e.add;e.add=function(b){e.contains(b)||
(e.fC(b),e.Zb()&&e.ec()&&(b.Nf=[a,b.Rb],b.wg=e,b.parent(d)),b.zg&&b.ct(e),ya(e,k,[e,b]))};e.qn=e.remove;e.remove=function(a){e.contains(a)&&(e.qn(a),e.Zb()&&e.ec()&&(a.Nf=a.ag(),a.wg=null,a.parent(null)),a.zg&&a.jr(e),ya(e,l,[e,a]),e.Zb()&&e.ec()&&a.XB())};e.bD=function(a,b){e.contains(a)&&(e.qn(a),b.fC(a),e.Zb()&&e.ec()&&(a.Nf=[b.ac(),a.Rb],a.wg=b,a.parent(b.ti())),a.zg&&(a.jr(e),a.ct(b)),ya(e,n,[e,a,b]))};e.TY=function(a){var b=new za;Aa(b,e,a);return b};e.kc=function(a,b,c){k.put(a,[b,c])};e.Tc=
function(a,b,c){l.put(a,[b,c])};e.qQ=function(a,b,c){n.put(a,[b,c])};e.md=function(a,b,c){q.put(a,[b,c])};e.ac=function(){return a};e.Zb=function(){return b};e.ec=function(){return c};e.Ij=function(){return!1};e.Xg=function(){return!0};e.isMap=function(){return!1};e.wh=function(){return!1};e.Cq=function(){return!1};e.ti=function(){return d};e.AC=function(){};d.Bf.push(e);d.Lq.put(a,e);return e},map:function(a,b,c){var d=this,e=new w,k=new w,l=new w,n=new w;e.Vw=function(){return n};e.Fe=function(a,
b){k.remove(a);l.remove(a);b&&e.Zb()&&e.ec()&&e.forEach(function(c,d){d.Fe(a,b)})};e.mf=function(a){k.bh(function(b){return!a.contains(b)});l.bh(function(b){return!a.contains(b)});e.Zb()&&e.ec()&&e.forEach(function(b,c){c.mf(a)})};e.pQ=e.put;e.put=function(b,c){var l=e.get(b);e.pQ(b,c);e.Zb()&&e.ec()&&(l&&(l.Nf=l.ag(),l.parent(null)),c.Nf=[a,b],c.wg=e,c.parent(d));l&&l.zg&&l.jr(e);c.zg&&c.ct(e);ya(e,k,[e,b,c,l])};e.qn=e.remove;e.remove=function(a){if(e.contains(a)){var b=e.get(a);e.qn(a);e.Zb()&&
e.ec()&&(b.Nf=b.ag(),b.wg=null,b.parent(null));b.zg&&b.jr(e);ya(e,l,[e,a,b]);e.Zb()&&e.ec()&&b.XB()}};e.we=function(a,b,c){k.put(a,[b,c])};e.Tc=function(a,b,c){l.put(a,[b,c])};e.md=function(a,b,c){n.put(a,[b,c])};e.ac=function(){return a};e.Zb=function(){return b};e.ec=function(){return c};e.Ij=function(){return!1};e.Xg=function(){return!1};e.isMap=function(){return!0};e.wh=function(){return!1};e.Cq=function(){return!1};e.ti=function(){return d};e.AC=function(){};d.Kf.push(e);d.Lq.put(a,e);return e},
list:function(a,b,c){var d=this,e=new Ba,k=new w,l=new w,n=new w;e.Vw=function(){return n};e.Fe=function(a,b){k.remove(a);l.remove(a);b&&e.Zb()&&e.ec()&&e.forEach(function(c,d){d.Fe(a,b)})};e.mf=function(a){k.bh(function(b){return!a.contains(b)});l.bh(function(b){return!a.contains(b)});e.Zb()&&e.ec()&&e.forEach(function(b,c){c.mf(a)})};e.fC=e.add;e.add=function(b,c){e.fC(b,c);e.Zb()&&e.ec()&&(b.Nf=[a,c],b.wg=e,b.parent(d));b.zg&&b.ct(e);if(e.Zb()&&e.ec())for(var l=c+1;l<e.size();l++){var n=e.get(l).Nf;
n[n.length-1]+=1}ya(e,k,[e,c,b])};e.qn=e.remove;e.remove=function(a){if(0<=a&&a<e.size()){var b=e.get(a);e.qn(a);e.Zb()&&e.ec()&&(b.Nf=b.ag(),b.wg=null,b.parent(null));b.zg&&b.jr(e);if(e.Zb()&&e.ec())for(var c=a;c<e.size();c++){var d=e.get(c).Nf;--d[d.length-1]}ya(e,l,[e,a,b]);e.Zb()&&e.ec()&&b.XB()}};e.kc=function(a,b,c){k.put(a,[b,c])};e.Tc=function(a,b,c){l.put(a,[b,c])};e.md=function(a,b,c){n.put(a,[b,c])};e.ac=function(){return a};e.Zb=function(){return b};e.ec=function(){return c};e.Ij=function(){return!1};
e.Xg=function(){return!1};e.isMap=function(){return!1};e.Cq=function(){return!1};e.wh=function(){return!0};e.ti=function(){return d};e.AC=function(){};d.Jf.push(e);d.Lq.put(a,e);return e},value:function(a,b,c,d){function e(b){if(void 0!==b){var c=l;l=b;e.Zb()&&e.ec()&&(c&&(c.Nf=c.ag(),c.wg=null,c.parent(null)),b&&(b.Nf=[a],b.wg=e,b.parent(k)));l&&l.zg&&l.zg.ct&&l.ct(e);c&&c.zg&&c.zg.jr&&c.jr(e);ya(e,n,[e,c,l]);e.Zb()&&e.ec()&&c&&c.XB()}return l}var k=this,l=b,n=new w,q=new w;e.Vw=function(){return q};
e.ka=function(a,b,c){n.put(a,[b,c])};e.md=function(a,b,c){q.put(a,[b,c])};e.ac=function(){return a};e.Zb=function(){return c};e.ec=function(){return d};e.Ij=function(){return!0};e.Xg=function(){return!1};e.isMap=function(){return!1};e.wh=function(){return!1};e.Cq=function(){return!1};e.ti=function(){return k};e.ma=function(){return null!==b&&b.Eb?b.Eb():b};e.reset=function(){e(e.ma())};e.Fe=function(a,b){n.remove(a);b&&e()&&e.Zb()&&e.ec()&&e().Fe(a,b)};e.AC=function(){n=new w};e.mf=function(a){n.bh(function(b){return!a.contains(b)});
e()&&e.Zb()&&e.ec()&&e().mf(a)};k.ve.push(e);k.Lq.put(a,e);return e},wd:function(a,b,c,d,e){function k(a){if(void 0!==a)l(a),x=n(),v=!1,ya(k,r,[k,null,x]);else return v&&(x=n(),v=!1),x}function l(a){return a}function n(){return null}var q=this,r=new w,t=new w,v=!0,x=null;c&&(n=c);d&&(l=d);k.Vw=function(){return t};e&&e.forEach(function(b){b[1].call(b[0],"coupling_"+(b[0].Rb||b[0].ac())+"_to_"+a+"_of_"+q.Rb,function(){v=!0;var a=x;k.ti()==(b[0].aL?b[0]:b[0].ti())?Ca(r,[k,a]):ya(k,r,[k,a])},10)});k.ka=
function(a,b,c){r.put(a,[b,c])};k.md=function(a,b,c){t.put(a,[b,c])};k.ac=function(){return a};k.Zb=function(){return!1};k.ec=function(){return!1};k.Ij=function(){return!1};k.Xg=function(){return!1};k.isMap=function(){return!1};k.wh=function(){return!1};k.Cq=function(){return!0};k.Dk=function(){return b};k.ti=function(){return q};k.ma=function(){return null};k.Fe=function(a){r.remove(a)};k.AC=function(){r=new w};k.mf=function(a){r.bh(function(b){return!a.contains(b)});k()&&k.Zb()&&k.ec()&&k().mf(a)};
q.gh.push(k);q.Lq.put(a,k);return k},HZ:function(a,b){for(var c=0;c<this.ve.length;c++){var d=this.ve[c];a(d(),d.Zb(),d.ec(),d.ac(),"member")}if(b)for(c=0;c<this.gh.length;c++)d=this.gh[c],a(d(),d.Zb(),d.ec(),d.ac(),"shadow");for(c=0;c<this.Bf.length;c++){var e=this.Bf[c];e.forEach(function(b){a(b,e.Zb(),e.ec(),e.ac(),"set")})}for(c=0;c<this.Kf.length;c++){var k=this.Kf[c];k.forEach(function(b,c){a(c,k.Zb(),k.ec(),k.ac(),"map",b)})}for(c=0;c<this.Jf.length;c++){var l=this.Jf[c];l.forEach(function(b,
c){a(c,l.Zb(),l.ec(),l.ac(),"list",b)})}},va:function(a,b){if(a.constructor===Array){var c=a[1],d=a[2];a=a[0]}this.aL=!0;this.root=a;this.q3=b||!1;this.ve=[];this.gh=[];this.Bf=[];this.Kf=[];this.Jf=[];this.Lq=new w;this.EN=new w;this.VH=new w;this.ON=new w;c?(this.Rb=c,this.yh=d):(this.Rb=this.root.uid(),this.yh=this.root.TZ(this));this.yh&&this.root.V0(this.yh);this.zg=new y;this.root.xc.put(this.Rb,this);this.yh&&this.root.QP.put(this.yh,this);this.parent=this.value("parent",null,!0,!1);this.parent.ka("initialize",
function(a,b,c){a=a.ti();c&&c.tb()&&a.LB()},0)},fK:function(a,b){var c=this.Ic(a);c&&c(b)},$0:function(){for(var a=0;a<this.ve.length;a++)this.ve[a].reset()},q1:function(a){return this.Ya=new a(this.root,this)},c7:function(){return this.parent()&&this.Nf?this.parent().Ic(this.Nf[0]):null},ag:function(a){var b=[];this.parent()&&this.Nf?b=this.parent().ag().concat(this.Nf):this.Nf&&(b=this.Nf);return a?b.concat(a.ac()):b},Rw:function(a){for(var b=this,c=0;c<a.length;c++){var d=a[c];if(b.aL)if("__interactionModel"==
d)b=b.Ya;else{if(b=b.Ic(d),b.Ij()||b.Cq())b=b()}else b.isMap()||b.wh()?b=b.get(d):console.log("Error in verions:findByPath: enable to find item in list")}return b},Tj:function(a){a.versions_id&&(this.root.xc.remove(this.Rb),this.Rb=a.versions_id,this.root.xc.put(this.Rb,this))},k0:function(a,b,c){this.EN.put(a,[b,c])},Hk:function(a,b,c){this.VH.put(a,[b,c])},md:function(a,b,c){this.ON.put(a,[b,c])},tb:function(){if(this.UB())return this.r7;var a=this.parent();return a?a.tb():!1},UB:function(){return!1},
KP:function(){return this.q3},XB:function(){this.B_(this.root.fg);this.root.xc.remove(this.Rb)},B_:function(a){var b=this;ya(null,this.EN,[b]);if(a){for(a=0;a<b.ve.length;a++){var c=b.ve[a];c(c.ma())}for(a=0;a<b.Bf.length;a++){var d=b.Bf[a];d.forEach(function(a){d.remove(a)})}for(a=0;a<b.Kf.length;a++){var e=b.Kf[a];e.forEach(function(a){e.remove(a)})}for(a=0;a<b.Jf.length;a++)for(var c=b.Jf[a],k=c.size()-1;0<=k;k--)c.remove(k);b.zg.forEach(function(a){a.Ij()&&a(null);a.Xg()&&a.remove(b);a.isMap()&&
a.bh(function(a,c){return c===b})})}ya(null,this.VH,[b])},ct:function(a){this.zg.add(a)},jr:function(a){this.zg.remove(a)},n7:function(){return 0<this.zg.size()},o7:function(){return 1===this.zg.size()},i7:function(){return this.Rb},Ic:function(a){return this.Lq.get(a)},Fe:function(a,b){var c;for(c=0;c<this.ve.length;c++)this.ve[c].Fe(a,b);for(c=0;c<this.gh.length;c++)this.gh[c].Fe(a,b);for(c=0;c<this.Bf.length;c++)this.Bf[c].Fe(a,b);for(c=0;c<this.Kf.length;c++)this.Kf[c].Fe(a,b);for(c=0;c<this.Jf.length;c++)this.Jf[c].Fe(a,
b)},mf:function(a){var b;this.VH.bh(function(b){return!a.contains(b)});for(b=0;b<this.ve.length;b++)this.ve[b].mf(a);for(b=0;b<this.gh.length;b++)this.gh[b].mf(a);for(b=0;b<this.Bf.length;b++)this.Bf[b].mf(a);for(b=0;b<this.Kf.length;b++)this.Kf[b].mf(a);for(b=0;b<this.Jf.length;b++)this.Jf[b].mf(a)},UY:function(a){var b;for(b=0;b<this.ve.length;b++){var c=this.ve[b],d=c.ac(),d=a[d];void 0!==d&&(c.Zb()?c().UY(d):(d=Da(d,this.root,c),c(d)))}for(b=0;b<this.gh.length;b++)c=this.gh[b],d=c.ac(),d=a[d],
void 0!==d&&(d=Da(d,this.root,c),c(d))},Zw:function(){if(this.UB())return null;if(this.KP())return{element:this,path:[]};var a=this.parent();return a?(a=a.Zw())?{element:a.element,path:a.path.concat(this.Nf)}:null:null},clone:function(){function a(a,b,e){var k;void 0==a?k=null:b?e&&(k=a.clone()):k=ea(a);return k}var b=new this.constructor(this.root);this.ve.forEach(function(c){if("parent"!=c.ac()){var d=a(c(),c.Zb(),c.ec());b.fK(c.ac(),d)}},this);this.Bf.forEach(function(c){var d=b.Ic(c.ac());c.forEach(function(b){(b=
a(b,c.Zb(),c.ec()))&&d.add(b)})},this);this.Jf.forEach(function(c){var d=b.Ic(c.ac());c.forEach(function(b,k){var l=a(k,c.Zb(),c.ec());l&&d.push(l)})},this);this.Kf.forEach(function(c){var d=b.Ic(c.ac());c.forEach(function(b,k){var l=a(k,c.Zb(),c.ec());l&&d.put(b,l)})},this);return b},LB:function(){this.Fc&&this.Fc();this.HZ(function(a,b,c){a&&b&&c&&a.LB()})},Ux:function(){for(var a=0;a<this.ve.length;a++){var b=this.ve[a];if(b.Zb()&&"parent"!=b.ac()){var c=b();null!=c&&(c.parent()?b.ec()&&c.Ux():
b(null))}}for(a=0;a<this.Bf.length;a++){var d=this.Bf[a];d.Zb()&&d.forEach(function(a){a.parent()?d.ec()&&a.Ux():d.remove(a)})}for(a=0;a<this.Kf.length;a++){var e=this.Kf[a];e.Zb()&&e.forEach(function(a,b){b.parent()?e.ec()&&b.Ux():e.remove(a)})}for(a=0;a<this.Jf.length;a++){var k=this.Jf[a];k.Zb()&&(b=new Ba,b.ib(k),b.forEach(function(a,b){b.parent()?k.ec()&&b.Ux():k.remove(a)}))}}};function ya(a,b,c){Ca(b,c);Fa(a)}
function Ca(a,b){var c=a.values();c.sort(function(a,b){return a[1]-b[1]});for(var d=0;d<c.length;d++)c[d][0].apply(null,b)}function Fa(a){a&&"parent"!==a.ac()&&(Ca(a.Vw(),[]),a=a.ti(),Ca(a.ON,[]),(a=a.wg)&&Fa(a))}function xa(a,b){wa(a,b);return Da(a,b)}function wa(a,b){if("Object"===da(a)){void 0!==a.$class&&void 0!==a.$id&&null==b.xc.get(a.$id)&&(b.xc.get(a.$id)||new (qa.get(a.$class))([b,a.$id,a.$local_id]));for(var c in a)wa(a[c],b)}else if("Array"===da(a))for(c=0;c<a.length;c++)wa(a[c],b)}
function Da(a,b,c){if("Object"===da(a)){if(void 0!=a.$class&&void 0!=a.$id){if(c&&(!c.Zb()||!c.ec()))return ka("Dejsonify",{type:"no_deobf",message:"Dejsonify case 1",stack:JSON.stringify(a)}),null;var d=b.xc.get(a.$id);d||(d=qa.get(a.$class),d=new d([b,a.$id,a.$local_id]));for(var e=0;e<d.ve.length;e++)if(c=d.ve[e],c.Ij()){var k=a[c.ac()],k=Da(k,b,c);null!==k&&c(k)}for(e=0;e<d.gh.length;e++)c=d.gh[e],c.Dk()&&(k=a[c.ac()],k=Da(k,b,c),null!==k&&c(k));for(e=0;e<d.Bf.length;e++){c=d.Bf[e];for(var l in a[c.ac()])k=
a[c.ac()][l],k=Da(k,b,c),null!==k&&c.add(k)}for(e=0;e<d.Kf.length;e++)for(l in c=d.Kf[e],a[c.ac()])k=a[c.ac()][l],k=Da(k,b,c),null!==k&&c.put(l,k);for(e=0;e<d.Jf.length;e++){var n=d.Jf[e];a[n.ac()].forEach(function(a,c){var d=Da(a,b,n);null!==d&&n.add(d,c)})}return d}if(void 0!=a.$idref){if(c&&(!c.Zb()||c.ec()))return ka("Dejsonify",{type:"no_deobf",message:"Dejsonify case 2",stack:JSON.stringify(a)}),null;k=b.xc.get(a.$idref);k||(void 0!==a.$class?(d=qa.get(a.$class),k=new d([b,a.$idref])):console.log("$idref'ed object not found"));
return k}if(c&&c.Zb())return ka("Dejsonify",{type:"no_deobf",message:"Dejsonify case 3",stack:JSON.stringify(a)}),null;void 0!=a.$class?(d=qa.get(a.$class),d=new d(b)):d={};for(e in a)d[e]=Da(a[e],b);return d}if("Array"===da(a)){d=[];for(e=0;e<a.length;e++)d[e]=Da(a[e],b);return d}return a};var Ga={jd:function(){this.im=new w},Wa:function(a){return this.im.get(a)},nd:function(a,b){this.im.put(a,b)}};var Ha=0;function Ia(a){if("object"!=typeof a&&"function"!=typeof a)return a;if(a.hash)return a.hash();a.collectionsHash||(a.collectionsHash="_"+Ha++);return a.collectionsHash};function w(a){this.vb={};this.Ip=0;this.Hp=void 0!=a?a:Ia}f=w.prototype;f.getData=function(){var a={};a.content=this.vb;a.size=this.Ip;return a};f.setData=function(a){this.vb=a.content;this.Ip=a.size};f.Eb=function(){var a=new w(this.Hp);this.forEach(function(b,c){a.put(b,c)});return a};function Ja(a,b){this.key=a;this.val=b}f.put=function(a,b){var c=this.Hp(a);void 0==this.vb[c]?(this.vb[c]=new Ja(a,b),this.Ip++):this.vb[c]=new Ja(a,b)};
function Ka(a,b){for(var c in b.vb){var d=b.vb[c];a.put(d.key,d.val)}}f.get=function(a){if(void 0==a)return null;a=this.Hp(a);return void 0==this.vb[a]?null:this.vb[a].val};f.remove=function(a){void 0!=a&&(a=this.Hp(a),void 0!=this.vb[a]&&(delete this.vb[a],this.Ip--))};f.$x=function(a){this.bh(function(b,c){return c==a})};f.bh=function(a){var b=this;this.forEach(function(c,d){a(c,d)&&b.remove(c)})};f.fe=function(){this.vb={};this.Ip=0};f.size=function(){return this.Ip};
f.empty=function(){return 0===this.Ip};f.contains=function(a){if(void 0==a)return!1;a=this.Hp(a);return void 0!==this.vb[a]?!0:!1};f.forEach=function(a){for(var b in this.vb){var c=this.vb[b];a(c.key,c.val)}};f.bn=function(a){var b=new w;w.prototype.forEach.call(this,function(c,d){b.put(c,d);w.prototype.forEach.call(b,function(b,k){a(c,d,b,k)})})};f.se=function(a){var b=0,c;for(c in this.vb){var d=this.vb[c];if(b===a)return d.val;b++}return null};
f.yI=function(a){var b,c;for(c in this.vb)b?a(this.vb[c].val,b)&&(b=this.vb[c].val):b=this.vb[c].val;return b};f.values=function(){var a=[],b;for(b in this.vb)a.push(this.vb[b].val);return a};f.keys=function(){var a=[],b;for(b in this.vb)a.push(b);return a};f.toJSON=function(){var a={},b;for(b in this.vb)a[this.vb[b].key]=this.vb[b].val;return a};u(100,"HashMap",w,function(a,b){var c=new this,d;for(d in a.content){var e=a.content[d];c.put(sa(e.key,b),sa(e.val,b))}return c});function y(a){w.apply(this,arguments)}y.prototype=inherit(w.prototype);f=y.prototype;f.constructor=y;f.Eb=function(){var a=new y(this.Hp);this.forEach(function(b){a.add(b)});return a};f.add=function(a){this.contains(a)||w.prototype.put.call(this,a,a)};f.ib=function(a){var b=this;if(a instanceof y)a.forEach(function(a){b.add(a)});else if(a instanceof w)a.forEach(function(a,c){b.add(c)});else if(a instanceof Array)for(var c=0;c<a.length;c++)this.add(a[c])};
f.fe=function(a){var b=this;(void 0===a?b.Eb():a).forEach(function(a){b.remove(a)});return b};f.bh=function(a){var b=this;this.forEach(function(c){a(c)&&b.remove(c)})};f.pop=function(){for(var a in this.vb)return a=this.vb[a].val,this.remove(a),a;return null};f.se=function(a){return w.prototype.se.call(this,a)};f.forEach=function(a){w.prototype.forEach.call(this,function(b,c){a(c,c)})};f.collect=function(a){var b=new y;this.forEach(function(c){b.add(a(c))});return b};
f.filter=function(a){var b=new y;this.forEach(function(c){a(c)&&b.add(c)});return b};f.reduce=function(a){var b=null;this.forEach(function(c){b=null===b?c:a(b,c)});return b};f.bn=function(a){w.prototype.bn.call(this,function(b,c,d,e){a(c,e)})};function La(a,b){var c=null,d=null;a.forEach(function(a){if(null===c||b(a)<c)c=b(a),d=a});return d}f.yI=function(a){return La(this,function(b){return-a(b)})};
u(101,"HashSet",y,function(a,b){var c=new this,d;for(d in a.content){var e=a.content[d];c.put(sa(e.key,b),sa(e.val,b))}return c});function Ma(a){this.Sv=new w(a)}Ma.prototype.put=function(a,b){var c;this.Sv.contains(a)?c=this.Sv.get(a):(c=new y,this.Sv.put(a,c));c.add(b)};Ma.prototype.get=function(a){return this.Sv.get(a)};Ma.prototype.forEach=function(a){this.Sv.forEach(a)};function Na(a,b){this.content=[];this.length=0;this.size=void 0!==a?a:Number.POSITIVE_INFINITY;if(void 0!==b)for(var c=0;c<this.size;c++)Oa(this,b)}function Oa(a,b){a.content.unshift(b);a.content.length>a.size&&a.content.pop();a.length=a.content.length}Na.prototype.dequeue=function(){var a=0!==this.content.length?this.content.pop():null;this.length=this.content.length;return a};Na.prototype.Gc=function(a){return this.content[a]};Na.prototype.write=function(a,b){this.content[a]=b};function Pa(a,b){this.oZ=void 0!==b?function(a){return b(a.vf,a.Ff)}:void 0;this.hf=new w(a);this.bH=new y(this.oZ)}function Qa(a){this.element=a;this.Sg=new y;this.nB=new y;this.mB=new y}Qa.prototype.Cw=function(){var a=this,b=new y;a.Sg.forEach(function(c){c.vf!==a?b.add(c.vf):c.Ff!==a&&b.add(c.Ff)});return b};function Ra(a){var b=new y;a.Sg.forEach(function(c){c.Ff===a&&b.add(c.vf)});return b}function Sa(a,b,c,d){this.vf=a;this.Ff=b;this.Cl=c;this.data=d}
Sa.prototype.Ik=function(a){return this.vf===a?this.Ff:this.Ff===a?this.vf:null};Pa.prototype.Cw=function(a){return this.hf.get(a).Cw().collect(function(a){return a.element})};function Ta(a,b){var c=new Qa(b);a.hf.contains(b)||a.hf.put(b,c)}function Ua(a,b){var c=a.hf.get(b);c&&(c.Sg.forEach(function(b){a.Sg=new y;a.nB=new y;a.mB=new y;b.vf&&(b.vf.Sg.remove(b),b.vf.nB.remove(b),b.vf.mB.remove(b));b.Ff&&(b.Ff.Sg.remove(b),b.Ff.nB.remove(b),b.Ff.mB.remove(b));a.bH.remove(b)}),a.hf.remove(b))}
function Va(a,b){Wa(b,function(b){Ta(a,b.element)})}Pa.prototype.lj=function(){var a=new y;this.hf.forEach(function(b,c){a.add(c.element)});return a};function Wa(a,b){a.hf.forEach(function(a,d){b(d)})}Pa.prototype.bn=function(a){var b=new y;this.hf.forEach(function(c,d){b.forEach(function(b){a(d,b)});b.add(d)})};function Xa(a,b){a.bH.forEach(b)}
function Za(a,b,c,d,e){b!==c&&(d=new Sa(a.hf.get(b),a.hf.get(c),d,e),a.hf.get(b).Sg.add(d),a.hf.get(b).nB.add(d),a.hf.get(c).Sg.add(d),a.hf.get(c).mB.add(d),a.bH.add(d))}
function $a(a){var b=new y,c=new y,d=new y;Wa(a,function(a){if(!b.contains(a)){var k=new Pa;d.add(k);var l=new y;l.add(a);for(Ta(k,a.element);!l.empty();)a=l.pop(),b.add(a),a.Sg.forEach(function(a){c.contains(a)||(Ta(k,a.vf.element),Ta(k,a.Ff.element),Za(k,a.vf.element,a.Ff.element),b.contains(a.vf)||l.add(a.vf),b.contains(a.Ff)||l.add(a.Ff),c.add(a))})}});return d}
function ab(a){var b=new y,c=new y,d=new y,e=new Pa;Va(e,a);c.ib(a.hf);a=c.pop();b.add(a);for(d.ib(a.Sg);0<c.size();){a=La(d,function(a){return a.Cl});Za(e,a.vf.element,a.Ff.element,a.Cl,a.data);var k=null,k=c.contains(a.vf)?a.vf:a.Ff;c.remove(k);b.add(k);d.ib(k.Sg);d.bh(function(a){return b.contains(a.vf)&&b.contains(a.Ff)?!0:!1})}return e}function bb(a){a=$a(a);var b=new y;a.forEach(function(a){b.ib(cb(a))});return b}
function cb(a){function b(a){a.Sg.forEach(function(l){c.contains(l)||(c.add(l),l=l.Ik(a),d.contains(l)?Za(e,a.element,l.element):(d.add(l),Za(k,a.element,l.element),b(l)))})}var c=new y,d=new y,e=new Pa,k=new Pa;Va(k,a);Va(e,a);a=a.hf.se(0);d.add(a);b(a);var l=new y;Xa(e,function(a){var b=[],c=k.hf.get(a.vf.element);a=k.hf.get(a.Ff.element);for(b.push(c.element);c!==a;)c=Ra(c).se(0),b.push(c.element);l.add(b)});return l}
function db(a,b,c){function d(a,b){a.add(b);if(b===e)return!0;var c=!1;b.Cw().forEach(function(b){if(!a.contains(b)){var e=d(a,b);e&&k.unshift(b);c|=e}});return c}b=a.hf.get(b);var e=a.hf.get(c),k=[];if(b==e)return k.push(b),k.push(e),k;d(new y,b)&&k.unshift(b);return k}function eb(a,b){this.color=b;this.DI=a;this.lj=new w;this.Sg=new y}
function fb(a){function b(a){a.Og=e.push(a);1<a.Og&&k.push(a.Og);a.Cw().forEach(function(c){if(c!=a)if(0===c.Og)k.push(a.Og),c.M0=a,b(c);else for(;1<a.Og&&c.Og<k[k.length-2];)k.pop(),k.pop()});if(1===a.Og)d=e.pop(),d.Og=l,d.color.push(q),t.lj.put(d.element,d);else if(a.Og===k[k.length-1]){k.pop();k.pop();l++;q=l-n;t=new eb(c,q);for(r.push(t);a.Og<=e.length;)d=e.pop(),d.Og=l,d.color.push(q),t.lj.put(d.element,d),null!==d.Jr&&(d.DP=!0,d.color.push(d.Jr),r[d.Jr].lj.put(d.element,d));var x=d.M0;null!==
x.Jr&&(x.DP=!0,x.color.push(x.Jr),r[x.Jr].lj.put(x.element,x));x.Jr=q}}var c=a,d,e=[],k=[],l=c.hf.size(),n=l+1,q=0,r=[],t;Wa(c,function(a){a.color=[];a.Og=0;a.DP=!1;a.Jr=null});Wa(c,function(a){0===a.Og&&(0==a.Sg.size()?(l++,q=l-n,t=new eb(c,q),r.push(t),a.Og=l,a.color.push(q),t.lj.put(a.element,a)):b(a))});Xa(c,function(a){var b=Math.min(a.vf.Og,a.Ff.Og)-n;a.color=b;r[b].Sg.add(a)});return r};function gb(a,b){this.oc=a;this.Cl=b}function hb(a){this.vb=[];this.pA=a?this.JX:this.KX}f=hb.prototype;f.empty=function(){this.vb=[]};f.isEmpty=function(){return 0===this.vb.length};f.size=function(){return this.vb.length};f.insert=function(a,b){this.vb.push(new gb(a,b));for(var c=this.vb.length-1;0<c&&this.pA((c+1>>1)-1,c);)ib(this,(c+1>>1)-1,c),c=(c+1>>1)-1};f.push=function(a,b){this.insert(a,b)};f.top=function(){return this.isEmpty()?null:this.vb[0].oc};
f.pop=function(){var a=this.vb.length-1,b=this.vb[0].oc;ib(this,0,a);this.vb.splice(a,1);for(a=0;2*(a+1)-1<this.size();){var c=2*(a+1)-1;2*(a+1)<this.size()&&this.pA(c,2*(a+1))&&(c=2*(a+1));if(this.pA(a,c))ib(this,a,c),a=c;else break}return b};function ib(a,b,c){var d=a.vb[b];a.vb[b]=a.vb[c];a.vb[c]=d}f.JX=function(a,b){return this.vb[a].Cl<this.vb[b].Cl};f.KX=function(a,b){return this.vb[a].Cl>this.vb[b].Cl};function Ba(){this.vb=[]}f=Ba.prototype;f.getData=function(){var a={};a.content=this.vb;return a};f.setData=function(a){this.vb=a.content};f.add=function(a,b){this.vb.splice(b,0,a)};f.ib=function(a){var b=this;a.forEach(function(a,d){b.add(d,a)})};f.toArray=function(){return this.vb};f.push=function(a){this.add(a,this.size())};f.pop=function(){0<this.size()&&this.remove(this.size()-1)};f.remove=function(a){this.vb.splice(a,1)};f.$x=function(a){a=this.indexOf(a);this.remove(a)};
f.fe=function(){for(;0<this.vb.length;)this.remove(0);return this};f.get=function(a){a=0<=a?a:this.size()+a;return this.vb[a]};f.last=function(){return this.vb[this.vb.length-1]};f.indexOf=function(a){return this.vb.indexOf(a)};f.forEach=function(a){for(var b=0;b<this.vb.length;b++)a(b,this.vb[b])};f.size=function(){return this.vb.length};u(102,"List",Ba,function(a,b){for(var c=new this,d=0;d<a.content.length;d++)c.add(sa(a.content[d],b),d);return c});var jb=!1,kb={ln:function(){this.$Q=this.Ib=null},n0:function(a,b,c,d){window.adsk&&window.adsk.collaboration&&window.adsk.collaboration.SharedDoc?window.adsk.collaboration.SharedDoc.openAndSubscribe(b.Vd,a,b,c,d):console.error("ADSK collaboration API not loaded.")},YX:function(){this.Ib=window.adsk.collaboration.SharedDoc},KH:function(a){a=a.lx();a.undo=[];a.redo=[];a.users={};this.Ib.init(a);$.isEmptyObject(this.Ib.snapshot())||(a=this.Ib.get(["undo"]),20<a.length&&this.Ib.set(["undo"],a.slice(a.length-
20)),this.jj=this.Ib.get(["undo"]).map(function(a){return JSON.parse(a)}),this.Rk=this.Ib.get(["redo"]).map(function(a){return JSON.parse(a)}))},DR:function(){function a(){setTimeout(function(){b.fT();a()},1E4)}var b=this;b.ba.connection?(this.Ib.afterUpdate=function(a,d){d&&b.WR(a)},this.Ib.onConnected=function(){b.ba.connection("ok")},this.Ib.onConnectionError=function(){b.ba.connection("error")},this.Ib.onOpAcknowledged=function(a){b.Ib.document.version==a&&b.ba.connection("ok");console.log("numberPending",
b.Ib.numberPending())}):b.Ib.afterUpdate=function(a,d){d&&b.WR(a)};this.Ib.set(["users",this.Ib.document.connection.id],{name:$(".username_holder").text(),last_active:Date.now()});a()},l7:function(){this.KH(this.data);this.DR()},fT:function(){if(this.Ib&&this.Ib.snapshot()&&0==this.hg){var a=JSON.parse(JSON.stringify(this.Ib.snapshot()));delete a.users;delete a.undo;delete a.redo;delete a.runHeavies;var b=this.data.lx(),c=function(a){if(void 0!==a&&null!==a&&(void 0!==a.$idref&&delete a.$class,delete a.$local_id,
"object"===typeof a))for(var b in a)c(a[b])};c(b);c(a);jsondiffpatch.config.objectHash=function(a){return JSON.stringify(a)};if(a=jsondiffpatch.diff(a,b))a=JSON.stringify(a),a!==this.$Q&&ka("ShareJS",{type:"no_deobf",message:"divergence",stack:a}),this.$Q=a}},jK:function(){this.Ib&&this.Ib.set(["runHeavies"],"--")},ER:function(a,b){if(this.Ib)for(this.Ib.push(["undo"],JSON.stringify(a));this.Ib.get(["undo"]).length>b;)this.Ib.remove(["undo",0])},C1:function(){if(this.Ib){var a=this.Ib.get(["undo"]).length;
this.Ib.remove(["undo",a-1])}},z1:function(a,b){if(this.Ib){var c=this.Ib.get(["redo"]);for(this.Ib.push(["redo"],JSON.stringify(a));c.length>b;)this.Ib.remove(["redo",0])}},B1:function(){if(this.Ib){var a=this.Ib.get(["redo"]).length;this.Ib.remove(["redo",a-1])}},A1:function(){this.Ib&&this.Ib.set(["redo"],[])},createPath:function(a,b){for(var c=1;c<=a.length;c++)void 0===this.Ib.get(a.slice(0,c))&&(b?this.Ib.set(a.slice(0,c),[]):this.Ib.set(a.slice(0,c),{}))},UC:function(a){var b,c,d;if(this.Ib){this.ba&&
this.ba.connection("saving");for(var e=0;e<a.length;e++)switch(c=a[e],c[0]){case "change":"parent"!==c[2]&&(b=c[4],c=c[5],this.createPath(c),null===b?this.Ib.remove(c):this.Ib.set(c,b));break;case "shadow":this.xc.get(c[1]);b=c[4];c=c[5];this.createPath(c);d=b();null!==d&&void 0!==d&&"object"===typeof d&&d.getData?(b=d.getData(),b.$id=d.Rb,b.$class=d.constructor.prototype.$class,this.Ib.set(c,b)):this.Ib.set(c,d);break;case "add":b=c[3];c=c[4];this.createPath(c);d=b.$id?b.$id:b.$idref;c.push(d);this.Ib.set(c,
b);break;case "remove":b=c[3];c=c[4];d=b.$id?b.$id:b.$idref;c.push(d);this.Ib.remove(c);break;case "swap":b=c[3];d=b.$id?b.$id:b.$idref;var k=c[6];c=c[7];k.push(d);c.push(d);this.Ib.set(c,b);this.Ib.remove(k);break;case "add_list":d=c[3];b=c[4];c=c[5];this.createPath(c,!0);c.push(d);this.Ib.insert(c,b);break;case "remove_list":d=c[3];c=c[5];c.push(d);this.Ib.remove(c);break;case "put":d=c[3];b=c[4];c=c[6];this.createPath(c);c.push(d);null===b?this.Ib.remove(c):this.Ib.set(c,b);break;case "remove_map":d=
c[3]instanceof Array?c[3]:[c[3]],c=c[5],c.push(d),this.Ib.remove(c)}}},WR:function(a){var b=this,c=b.fg;b.fg=!1;jb=!0;a&&a.forEach(function(a){if("redo"===a.p[0])a.li?b.Rk.splice(a.p[1],0,JSON.parse(a.li)):a.oi&&"object"!==typeof a.oi?b.Rk.splice(a.p[1],0,JSON.parse(a.oi)):a.ld?b.Rk.splice(a.p[1],1):a.od&&(b.Rk=[]);else if("undo"===a.p[0])a.li?b.jj.splice(a.p[1],0,JSON.parse(a.li)):a.oi&&"object"!==typeof a.oi?b.jj.splice(a.p[1],0,JSON.parse(a.oi)):a.ld&&b.jj.splice(a.p[1],1);else if("runHeavies"===
a.p[0])b.Mj(b.Bk);else if("highlight"===a.p[0])a.oi&&b.IY.j7(a.oi.l1);else{for(var c=b.data,k,l=0;l<a.p.length-1;l++)k=c,c="HashSet"===c.$class?b.xc.get(a.p[l]):"HashMap"===c.$class?c.get(a.p[l]):"List"===c.$class?c.get(a.p[l]):"function"===typeof c?c().Ic?c().Ic(a.p[l]):c()[a.p[l]]:c.Ic?c.Ic(a.p[l]):c[a.p[l]];if(!c||null!==a.oi&&(null==a.od||!("object"!==typeof a.od||0<Object.keys(a.od).length)||null!=a.oi&&("object"!==typeof a.oi||0<Object.keys(a.oi).length)))if(c&&null!=a.oi&&("object"!==typeof a.oi||
0<Object.keys(a.oi).length))if(wa(a.oi,b),k=Da(a.oi,b),"HashSet"===c.$class)c.add(k);else if("List"===c.$class)c.add(k,a.p[l]);else if("HashMap"===c.$class)c.put(a.p[l],k);else if("function"===typeof c)if(c().Ic)c().Ic(a.p[l])(k);else c()[a.p[l]](k);else c.Ic?(a=c.Ic(a.p[l]),"function"===typeof a&&a(k,!0)):(a=c[a.p[l]],"function"===typeof a&&a(k));else c&&null!=a.li&&("object"!==typeof a.li||0<Object.keys(a.li).length)?(wa(a.li,b),k=Da(a.li,b),c.add(k,a.p[l])):c&&null!=a.ld&&("object"!==typeof a.ld||
0<Object.keys(a.ld).length)?c.remove(a.p[l]):c&&null!=a.si&&null!=a.sd?k[a.p[l-1]]=c.slice(0,a.p[l])+a.si+c.slice(a.p[l]+a.sd.length):c&&null!=a.si?k[a.p[l-1]]=c.slice(0,a.p[l])+a.si+c.slice(a.p[l]):c&&null!=a.sd&&(k[a.p[l-1]]=c.slice(0,a.p[l])+c.slice(a.p[l]+a.sd.length));else"HashSet"===c.$class?(console.log("obj hashset "),c.Zb()&&c.ec()&&b.xc.get(a.p[l]).parent()!==k?(console.log("oldRemove objMap c[]: ",b.xc.get(a.p[l])),c.qn(b.xc.get(a.p[l]))):(console.log("obj remove objMap c[]: ",b.xc.get(a.p[l])),
c.remove(b.xc.get(a.p[l])))):"List"===c.$class?(console.log("obj list "),c.remove(a.p[l])):"HashMap"===c.$class?(console.log("obj hashmap "),c.remove(a.p[l])):"function"===typeof c?c().Ic?(console.log("obj function "),c().Ic(a.p[l])(null)):(console.log("else  func: "),c()[a.p[l]](null)):(c.Ic?(console.log("obj memberbyname "),a=c.Ic(a.p[l])):(console.log("obj else "),a=c[a.p[l]]),"function"===typeof a&&a(null))}});jb=!1;b.fg=c},m8:function(a){this.Ib.set(["highlight"],{l1:a})},L7:function(a){this.IY=
a},s1:function(){this.Ib.set=function(){};this.Ib.push=function(){};this.Ib.remove=function(){};this.Ib.insert=function(){};this.fT=function(){}}};function D(a,b){this.Cn=null;b&&(this.Cn=b,this.Cn.py=this);this.qN="idle";this.state=function(a){if(void 0!==a)this.qN=a;else return this.qN};(this.dl=a)&&a(this.state());this.parent=null;this.zN=new w;this.Fn=new w;this.iD=new w;this.RJ=new y;this.iI=new Na;this.constructor.BB&&lb(this.constructor.BB);this.fb=!1}function mb(a,b){this.p0=this.name=b;this.tn=a;this.nu=new y;this.gx=new y}function nb(a,b){if(b.constructor==mb)return b;var c=a.Fn.get(b);c||(c=new mb(a,b),ob(a,c));return c}
function ob(a,b){a.Fn.put(b.name,b);a.RJ.forEach(function(a){pb(a,b)})}D.prototype.bm=function(a){a=a.constructor==mb?a.name:a;this.state(a);this.dl&&this.dl(a)};function qb(a,b){var c=null;b.constructor==mb?c=b:a.Fn.contains(b)&&(c=nb(a,b));c&&(a.Fn.$x(c),c.nu.forEach(function(a){a.remove()}),c.gx.forEach(function(a){a.remove()}),a.parent&&qb(a.parent,c))}
function sb(a,b,c,d,e,k){var l=this;this.tn=a;this.Hc=nb(a,b);this.Hc.nu.add(this);this.Lc="_CircularTransition_"==c?this.Hc:nb(a,c);this.Lc.gx.add(this);this.vt=d;this.Ab=e&&e.constructor==Array?e:[e];if(this.tn.dl){var n=this.Lc.p0;this.Ab.push(function(){l.tn.dl(n)})}this.id="";k&&(console.assert(!a.iD.contains(k),"'"+k+"' transition already exist in stateMachine"),this.id=k,a.iD.put(k,this))}sb.prototype.Yf=function(a){a&&this.Ab.unshift(a)};sb.prototype.tA=function(a){a&&this.Ab.push(a)};
sb.prototype.zd=function(a){for(var b in this.Ab){var c=this.Ab[b];c&&c(a)}};sb.prototype.remove=function(){this.Lc&&this.Lc.gx.remove(this);this.Lc=null;this.Hc&&this.Hc.nu.remove(this);this.Hc=null};function tb(a,b,c){b&&b!=a.Hc&&(a.Hc=b,b.nu.add(a));c&&c!=a.Lc&&(a.Lc=c,c.gx.add(a))}function ub(a,b,c,d,e,k){var l=this;this.tn=a;this.U0=b;this.Lc=c;this.vt=d;this.action=e;this.id=k;this.i0=0;this.Yv=new y;this.tn.RJ.add(this);a.Fn.forEach(function(a,b){pb(l,b)})}
function pb(a,b){if(b.name.match(a.U0)){var c=new sb(a.tn,b,a.Lc,a.vt,a.action,a.id?a.id+a.i0++:null);a.Yv.add(c)}}ub.prototype.remove=function(){this.Yv.forEach(function(a){a.remove()});this.Yv.fe();this.tn.RJ.remove(this)};ub.prototype.Yf=function(a){this.Yv.forEach(function(b){b.Yf(a)})};ub.prototype.tA=function(a){this.Yv.forEach(function(b){b.tA(a)})};
function F(a,b,c,d,e,k){console.assert(!a.parent,"This statemachine is already merged: unable to add transition");return b.constructor==RegExp?new ub(a,b,c,d,e,k):new sb(a,b,c,d,e,k)}function vb(a,b){if(b.constructor==sb)transitionToRemove=b.remove();else{var c=a.iD.get(b);c&&c.remove()}b.id&&a.iD.remove(b.id)}
D.prototype.append=function(a,b,c,d,e,k,l){var n=this;console.assert(!b.parent,"This statemachine is already merged: unable to merge again");b.parent=this;l||(l="idle");var q=nb(b,l),r=nb(this,c),t=nb(this,e);console.assert(!this.zN.contains(a),"There is already a substatemachine appended with key '"+a+"'");this.zN.put(a,{key:a,V6:c,U6:d,Y6:e,X6:k,x7:l,Ea:b});b.Fn.forEach(function(b,c){c!=q&&(c.name=a+" - "+c.name,ob(n,c))});q.nu.forEach(function(a){a.Yf(d);tb(a,r,null)});q.gx.forEach(function(a){a.tA(k);
tb(a,null,t)})};D.prototype.handle=function(a){a=a.constructor==G?a:new G(a);if(this.Cn){var b=this.Cn;b.Ix||b.df&&b.Hn.Ob(b.Du,b.dT,a)}if(!this.Cn||!this.Cn.Ix){if(this.parent)this.parent.handle(a);else if(Oa(this.iI,a),!this.jt){for(this.jt=!0;0<this.iI.length;)a=this.iI.dequeue(),wb(this,a);this.jt=!1}return!1}};
function wb(a,b){var c=a.Fn.get(a.state()),d=[];c&&c.nu.forEach(function(a){a.vt(b)&&d.push(a)});console.assert(1>=d.length,"More than 1 active transition!!!!");if(0!=d.length){if(1==d.length)if(c=a.Cn&&a.Cn.Ix,a.fb||c)d[0].zd(b),a.bm(d[0].Lc),a.Zv(b);else try{d[0].zd(b),a.bm(d[0].Lc),a.Zv(b)}catch(e){ka("StateMachine",e);try{a.root.lt()}catch(k){ka("StateMachine CancelRec",k)}}if(1<d.length||d[0].tn.fb){if(a.IJ&&d[0]==a.IJ[0]&&d[1]==a.IJ[1])console.log("same transition");else for(c=0;c<d.length;c++)console.log(c,
b.type().name||b.type(),"From: '"+d[c].Hc.name+"' To: '"+d[c].Lc.name+"'","in: "+d[c].id);a.IJ=d}}}D.prototype.Zv=function(){};function xb(){this.wZ=!0;this.VP=50;this.queue=[]}
function yb(a,b,c){if(a.wZ)if("GUI_MOUSE_MOVE"==b.type().name&&a.queue.length<a.VP-1)a.queue.push(b);else if(0==a.queue.length)c(b);else{"GUI_MOUSE_MOVE"==b.type().name&&a.queue.length==a.VP-1&&a.queue.push(b);var d=[];a.queue.forEach(function(a){var b=a.data("mouseCoord");d.push([b.x,b.y,a.timestamp()])});var e=new G(H.Od);e.$s=a.queue[0].$s;e.Uv=a.queue[0].Uv;e.Tv=a.queue[0].Tv;e.data("mouse_moves",d);a.queue=[];c(e);"GUI_MOUSE_MOVE"!=b.type().name&&c(b)}else c(b)}
function zb(a){var b=[];a.events.forEach(function(a){"GUI_MOUSE_MOVE"!=a.name?b.push(a):a.data.mouse_moves?a.data.mouse_moves.forEach(function(a){b.push({name:"GUI_MOUSE_MOVE",type:"abs_2",data:{metaKey:!1,ctrlKey:!1,shiftKey:!1,which:0,pageX:0,pageY:0,mouseCoord:{x:a[0],y:a[1]}},element:{},timestamp:a[2]})}):b.push(a)});a.events=b;return a}function Ab(){this.BB=[]}Ab.prototype.Ob=function(a){this.BB.push(a)};
Ab.prototype.wB=function(a){var b=[];this.BB.forEach(function(a){b.push(a.serialize())});a(null,{version:"3",events:b})};function Bb(a){this.Hb=a.Hb;this.jH=a.jH;this.version=1;this.KY=new xb}
function Cb(a,b,c,d,e,k){d=new Date(d);var l=d.getFullYear(),n=("0"+(d.getMonth()+1)).slice(-2),q=("0"+d.getDate()).slice(-2),r=("0"+d.getHours()).slice(-2),t=("0"+d.getMinutes()).slice(-2),v=("0"+d.getSeconds()).slice(-2);b=[{afc:a.jH,event_type:"app.command",timestamp:l+"-"+n+"-"+q+"T"+r+":"+t+":"+v+"."+d.getMilliseconds(),version:a.version,session_id:b,member_id:c,command:e,command_data:JSON.stringify(k)}];$.ajax({url:a.Hb,type:"post",contentType:"application/json",dataType:"json",data:JSON.stringify(b)})}
Bb.prototype.Ob=function(a,b,c){var d=this;yb(d.KY,c,function(c){Cb(d,a,b,c.$s,"evt",c.serialize())})};Bb.prototype.sy=function(a,b,c,d){Cb(this,a,b,Date.now(),"err",{message:c,error:{message:d.message,stack:d.stack,type:d.type}})};function Db(a){this.zC=a;this.AN=new Ab;this.my=null;this.W1=(new Date).getTime();this.Uh=0}Db.prototype.DJ=function(a){this.my=new Bb(a);this.df=!0};Db.prototype.Ob=function(a,b,c){c.Uv=this.W1;c.Tv=this.Uh;this.Uh+=1;this.zC&&this.AN.Ob(c);this.my&&this.my.Ob(a,b,c)};
Db.prototype.sy=function(a,b,c,d){this.my&&this.my.sy(a,b,c,d)};Db.prototype.wB=function(a,b){return this.AN.wB(b)};var H=new function(){this.MI=new w};function lb(a){var b=H,c;for(c in a){var d=a[c];Eb(d);b.MI.contains(d.id)||b[c]?console.assert(b[c].id==d.id,"There is already an event defined with id: "+d.id+", unable to define new event with same id"):(b[c]=d,b.MI.put(d.id,d))}}
function Eb(a){a.v7=function(b){var c=_.clone(a.Rm);chained=function(a){result=!0;for(var e in c){var k=c[e];result=result&&k(a)}if(e=result)a:{if(b){e=_.keys(b);for(var k=e.length,l=0;l<k;l++){var n=e[l];if(b[n]!==a.data(n)||!a.Gp.contains(n)){e=!1;break a}}}e=!0}return e};a.Rm=[a.JP];return chained};a.JP=function(b){return b.type()==a};a.right=function(){a.Rm.unshift(function(a){return 3==a.data("which")});return a};a.left=function(){a.Rm.unshift(function(a){return 1==a.data("which")});return a};
a.shift=function(){a.Rm.unshift(function(a){return a.data("shiftKey")});return a};a.z7=function(){a.Rm.unshift(function(a){return!a.data("shiftKey")});return a};a.N6=function(){a.Rm.unshift(function(a){return a.data("ctrlKey")});return a};a.y7=function(){a.Rm.unshift(function(a){return!a.data("ctrlKey")});return a};a.Rm=[a.JP]}function G(a,b,c){this.Gp=new w;this.Xs=new w;this.bt=a;b&&this.Xs.put("element",b);Fb(this,c);this.$s=(new Date).getTime();this.Uv=this.Tv=0}f=G.prototype;f.timestamp=function(){return this.$s};
f.oA=function(a,b,c){if(2==arguments.length&&_.isString(b))return a.get(b);2==arguments.length&&_.isObject(b)?_.each(_.keys(b),function(c){a.put(c,b[c])},this):a.put(b,c);return this};f.element=function(a,b){if(0==arguments.length)return this.oA(this.Xs,"element");if(1==arguments.length&&!_.isString(arguments[0]))return this.oA(this.Xs,"element",arguments[0]);var c=Array.prototype.slice.call(arguments);c.unshift(this.Xs);return this.oA.apply(this,c)};
f.data=function(a,b){var c=Array.prototype.slice.call(arguments);c.unshift(this.Gp);return this.oA.apply(this,c)};function Fb(a,b){if(b){_.each({keyCode:b.keyCode,metaKey:b.metaKey,pageX:b.pageX,pageY:b.pageY,shiftKey:b.shiftKey,which:b.which,ctrlKey:b.ctrlKey},function(a,b){null!=a&&this.Gp.put(b,a)},a);if(b.gesture){var c={};c.pageX=b.gesture.center.pageX;c.pageY=b.gesture.center.pageY;c.deltaX=b.gesture.deltaX;c.deltaY=b.gesture.deltaY;c.scale=b.gesture.scale;a.Gp.put("gesture",c)}return a}}
f.type=function(a){if(0==arguments.length)return this.bt;this.bt=a;return this};f.getKey=function(){return this.Gp.get("keyCode")};f.Mb=function(a){if(this.bt!=H.sm)return!1;for(var b=a.constructor==Array?a:arguments,c=this.getKey(),d=0;d<b.length;d++)if(c==b[d])return!0;return!1};
f.serialize=function(){var a={};a.name=this.bt.name;a.type=this.bt.id;var b;b=this.Gp;if(0==b.size())b=null;else{b=b.Eb();b.get("mouseCoord")&&b.put("mouseCoord",{x:b.get("mouseCoord").x,y:b.get("mouseCoord").y});if(b.get("gesture")){var c=b.get("gesture");b.put("gesture",{pageX:c.pageX,pageY:c.pageY,deltaX:c.deltaX,deltaY:c.deltaY,scale:c.scale})}b=b.toJSON()}null!=b&&(a.data=b);b=Gb(this.Xs);null!=b&&(a.element=b);a.timestamp=this.$s;a.start_ts=this.Uv;a.order=this.Tv;return a};
function Hb(a){var b=new w;_.each(_.keys(a),function(c){b.put(c,a[c])});var c=b.get("mouseCoord");c&&b.put("mouseCoord",new J(c.x,c.y));if(c=b.get("gesture"))c.pageX=c.pageX,c.pageY=c.pageY,c.deltaX=c.deltaX,c.deltaY=c.deltaY,c.scale=c.scale,b.put("gesture",c);return b}function Gb(a){var b={};a.forEach(function(a,d){b[a]=d.yh});return b}function Ib(a,b,c){var d=new w;_.each(c,function(a,c){d.put(c,b.QP.get(a))},a);return d}
function Jb(a){this.df=a;this.py=null;this.Ix=!1;this.Hn=new Db(a);this.Du=null}f=Jb.prototype;f.DJ=function(a,b,c,d){this.Hn.DJ({Hb:a,jH:c});this.df=!0;this.Du=b;this.dT=d;this.shareId=this.Du};f.sy=function(a,b){this.df&&this.Hn.sy(this.Du,this.dT,a,b)};f.start=function(){this.df=!0;this.Hn.zC=!0};f.stop=function(){this.df=!1;this.Hn.zC=!1};f.save=function(a){this.Hn.wB(this.Du,a)};f.ac=function(){return location.pathname.split("/")[2]};
function Kb(a,b){var c=URL.createObjectURL(new Blob([b],{type:"text/plain"})),d=document.createElement("a");d.href=c;d.setAttribute("download",a);c=document.createEvent("MouseEvents");c.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null);d.dispatchEvent(c)}f.bZ=function(){if(this.Hn.zC){var a=this;this.save(function(b,c){b?console.error("Could not retrieve recording.",b):Kb(a.ac()+".json",JSON.stringify(c))})}else console.error("Activate recording before downloading, append '?recording=true' to the URL.")};
f.play=function(a){a=JSON.parse(a);this.oC(a)};f.X0=function(){this.stop();this.Hn.wB(this.Du,function(a){this.oC(a)})};f.Z0=function(a){remove_editor_circuit();init_editor_circuit(function(){a?a():console.log("Reset done")})};f.oC=function(a){a=zb(a);this.EJ(this,a.events,0)};f.EJ=function(a,b,c,d){this.Ix=!0;c>=b.length?(d&&d.call(a,b,c),this.Ix=!1):this.JQ(b,c)?setTimeout(function(){a.EJ(a,b,c+1,d)},1):console.log("Exception occured, we halt replay now")};
f.JQ=function(a,b){try{return this.IQ(a[b]),!0}catch(c){return console.log("Error while replaying event #%d",b),console.log(c.stack),console.log(a[b]),!1}};f.IQ=function(a){var b=new G,c=this.py.root;b.bt=H.MI.get(a.type);b.Gp=Hb(a.data);b.Xs=Ib(b,c,a.element);b.$s=a.timestamp;b.Uv=a.start_ts;b.Tv=a.order;wb(this.py,b)};f.cZ=function(){Kb(this.ac()+".snapshot.json",JSON.stringify(this.wR()))};f.wR=function(){return this.py.root.data.lx()};f.eZ=function(){Kb(this.ac()+".editormodel,.json",JSON.stringify(this.xR()))};
f.xR=function(){return this.py.root.ba.lx()};
f.o3=function(){var a=this,b=window.open("","recorder","menubar=no,location=no,resizable=no,scrollbars=no,status=no,height=256,width=320");b.document.body.innerHTML='<div><p>Choose a recording...</p><input type="file" id="input"></div>';b.document.getElementById("input").addEventListener("change",function(){var c=new FileReader;c.onload=function(){var b=JSON.parse(c.result);a.oC(b)};c.onerror=function(){console.error(c.error)};c.onloadend=function(){b.close()};c.readAsText(this.files[0])},!1)};
Jb.prototype.playEvent=Jb.prototype.IQ;Jb.prototype.playEventAt=Jb.prototype.JQ;Jb.prototype.play=Jb.prototype.play;Jb.prototype.playJSON=Jb.prototype.oC;Jb.prototype.replay=Jb.prototype.X0;Jb.prototype.start=Jb.prototype.start;Jb.prototype.stop=Jb.prototype.stop;Jb.prototype.save=Jb.prototype.save;Jb.prototype.download=Jb.prototype.bZ;Jb.prototype.resetCircuit=Jb.prototype.Z0;Jb.prototype.playEventsAsync=Jb.prototype.EJ;Jb.prototype.downloadCircuitSnapshot=Jb.prototype.cZ;
Jb.prototype.saveCircuitSnapshot=Jb.prototype.wR;Jb.prototype.downloadEditorModel=Jb.prototype.eZ;Jb.prototype.saveEditorModel=Jb.prototype.xR;Jb.prototype.uploadJSON=Jb.prototype.o3;window.CircuitsRecorder=new Jb(fa.recording);function za(){this.Nm=new y}function Lb(a,b,c){this.object=a;this.Vd=b;this.ZR=[c]}function Aa(a,b,c){var d=new w;b.forEach(function(a){if(c?c(a):1){var b=a.Zw();if(b)if(a=d.get(b.element))a.ZR.push(b.path);else{a=b.element.clone();var l=b.element.ag();l.pop();d.put(b.element,new Lb(a,l,b.path))}else console.warn("following object in selection is not copyable beceause no viable parent is found:",a)}});Mb(d);a.Nm.ib(d)}za.prototype.size=function(){return this.Nm.size()};
function Nb(a,b){var c=new w;a.Nm.forEach(function(a){var b=a.object.clone();c.put(a.object,new Lb(b))});Mb(c);var d=new y;a.Nm.forEach(function(a){var k=c.get(a.object).object,l=b.Rw(a.Vd);l.Xg()?l.add(k):l.wh()?l.push(k):console.warn("Cannot add copied item to a collection that is not a list or a set");k.tb()&&a.ZR.forEach(function(a){d.add(k.Rw(a))})});return d}
function Mb(a){function b(c,d){function e(b){var c;if(b=b&&b.Zw()){var d=a.get(b.element);d&&(c=d.object.Rw(b.path))}return c}c&&d&&c.Lq.forEach(function(a,c){if(c.Zb())if(c.Ij()&&"parent"!=c.ac())if(c.ec())b(c(),d.Ic(a)());else{var n=e(c());n&&d.fK(a,n)}else if(c.Xg()){var q=d.Ic(a),r=0;c.forEach(function(a){c.ec()?b(a,q.se(r)):(a=e(a))&&q.add(a);r++})}else if(c.wh()){var t=d.Ic(a);c.forEach(function(a,d){if(c.ec())b(d,t.get(a));else{var k=e(d);k&&t.push(k)}})}else if(c.isMap()){var v=d.Ic(a);c.forEach(function(a,
d){if(c.ec())b(d,v.get(a));else{var k=e(d);k&&v.put(a,k)}})}})}a.forEach(function(a,d){b(a,d.object)})};extendInteractionModel=function(a,b){Object.getOwnPropertyNames(b.prototype).forEach(function(c){"function"!=typeof b.prototype[c]||b.prototype[c].FP||"constructor"==c||"initialize"==c||(a.prototype[c]=function(){return this.data[c].apply(this.data,arguments)},a.prototype[c].FP=!0)})};function Ob(a,b){this.root=a;this.data=b;this.jd();this.va(a)}extend(Ob,Ga);extend(Ob,C);
Ob.prototype.Zw=function(){if(this.data){var a=this.data.Zw();return a?{element:a.element,path:a.path.concat(["__interactionModel"])}:null}return null};Ob.prototype.Fc=function(){};function J(a,b){this.x=a;this.y=b;this.zx=this.ox=null}u(0,"Coordinate",J);f=J.prototype;f.getData=function(){var a={};a.x=this.x;a.y=this.y;return a};f.setData=function(a){this.x=a.x;this.y=a.y;this.zx=this.ox=null};f.getEnvelopeInternal=function(a){var b=new jsts.geom.Envelope;b.initFromCoordinate(this);b.expandByDistance(a);return b};f.jh=function(){return new jsts.geom.Coordinate(this.x,this.y)};f.eq=function(a){return this.x===a.x&&this.y===a.y};
f.add=function(a){return new J(this.x+a.x,this.y+a.y)};f.round=function(){return new J(Math.round(this.x),Math.round(this.y))};f.move=function(a){this.x+=a.x;this.y+=a.y;this.zx=this.ox=null};f.sub=function(a){return new J(this.x-a.x,this.y-a.y)};f.eq=function(a){return this.x===a.x&&this.y===a.y};f.Uh=function(a){return this.x>a.x?1:this.x<a.x?-1:this.y>a.y?1:this.y<a.y?-1:0};f.Qb=function(a,b){return void 0===b?new J(a*this.x,a*this.y):new J(a*this.x,b*this.y)};
f.hb=function(a){return this.Qb(a,1)};f.length=function(){this.ox||(this.ox=Math.sqrt(this.x*this.x+this.y*this.y));return this.ox};f.Oa=function(){return Math.atan2(this.y,this.x)};function Pb(a){return(180*a.Oa()/Math.PI+360)%360}f.Yc=function(a){switch(a.constructor){case J:return a.sub(this).length();case Qb:return a.Yc(this);case M:return a.Yc(this)}return null};f.Ph=function(a){switch(a.constructor){case J:return a.sub(this);case Qb:return a.Ph(this).Qb(-1);case M:return a.Ph(this).Qb(-1)}return null};
function Rb(a){a.zx||(a.zx=a.Qb(1/a.length()));return a.zx}f.dot=function(a){return this.x*a.x+this.y*a.y};function Sb(a){return new J(-a.y,a.x)}function Tb(a){return new J(a.x,-a.y)}f.Jk=function(a){return 0===Sb(this).dot(a)};f.rotate=function(a,b){return b?this.sub(b).rotate(a).add(b):new J(Math.cos(a*Math.PI/180)*this.x-Math.sin(a*Math.PI/180)*this.y,Math.sin(a*Math.PI/180)*this.x+Math.cos(a*Math.PI/180)*this.y)};
f.bd=function(a){for(var b=this.Eb(),c=[],d=/(rotate|translate|scale)\(([-+]?[0-9]*\.?[0-9]+)(?:(?: +| *\, *)([-+]?[0-9]*\.?[0-9]+))?(?:(?: +| *\, *)([-+]?[0-9]*\.?[0-9]+))?\)/g,e;e=d.exec(a);)c.push(e);for(a=c.length-1;0<=a;a--)switch(e=c[a],e[1]){case "translate":b.move(new J(parseFloat(e[2]),e[3]?parseFloat(e[3]):0));break;case "rotate":b=b.rotate(parseFloat(e[2]),e[3]&&e[4]?new J(parseFloat(e[3]),parseFloat(e[4])):null);break;case "scale":d=parseFloat(e[2]),b=b.Qb(d,e[3]?parseFloat(e[3]):d)}return b};
f.transform=function(a,b){return b?new J(a.Se[0]*this.x+a.Se[2]*this.y,a.Se[1]*this.x+a.Se[3]*this.y):new J(a.Se[0]*this.x+a.Se[2]*this.y+a.Se[4],a.Se[1]*this.x+a.Se[3]*this.y+a.Se[5])};f.Eb=function(){return new J(this.x,this.y)};f.lb=function(){return this.x};f.pb=function(){return this.y};f.IB=function(a){return this.x>=a.x&&this.x<=a.x+a.width&&this.y>=a.y&&this.y<=a.y+a.height};f.wa=function(a,b,c,d,e){a.rect(b,this.x-2.5,this.y-2.5,5,5,{stroke:c,strokeWidth:d,opacity:e})};
f.toString=function(){return"("+this.x+","+this.y+")"};function M(a,b){this.dir=a;this.ya=b}u(1,"Line",M);var Ub=new J(1,0),Vb=new J(0,1);f=M.prototype;f.Eb=function(){return new M(this.dir.Eb(),this.ya.Eb())};
f.getEnvelopeInternal=function(a){var b=new jsts.geom.Envelope;0==this.dir.x?b.initFromValues(this.ya.x,this.ya.x,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY):0==this.dir.y?b.initFromValues(Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,this.ya.y,this.ya.y):b.initFromValues(Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY);b.expandByDistance(a);return b};f.getData=function(){var a={};a.dir=this.dir;a.point=this.ya;return a};
f.Uh=function(a){return 0<this.dir.Uh(a.dir)?1:0>this.dir.Uh(a.dir)?-1:0<this.ya.Uh(a.ya)?1:0>this.ya.Uh(a.ya)?-1:0};f.setData=function(a){this.dir=a.dir;this.ya=a.point};f.intersects=function(a){switch(a.constructor){case M:return 0!=Sb(this.dir).dot(a.dir);case Qb:return a.intersects(this)}};f.xg=function(a){return a.sub(this.ya).dot(this.dir)/this.dir.dot(this.dir)};f.Yb=function(a){return this.dir.Qb(a).add(this.ya)};f.Ge=function(a){this.ya=a};f.Qe=function(){return Rb(this.dir)};
f.pb=function(a,b){return this.dir.Jk(Vb)?b.x==a?b.y:-1E9:this.intersection(new M(Vb,new J(a,0))).y};f.intersection=function(a){switch(a.constructor){case M:var b=this.dir,c=a.dir,d=this.ya;a=-d.sub(a.ya).dot(Sb(c))/b.dot(Sb(c));return d.add(b.Qb(a));case Qb:return a.intersection(this)}};f.Ui=function(a){return this.intersection(new M(Sb(this.dir),a))};f.Jk=function(a){return 1E-7>Math.abs(Rb(Sb(this.dir)).dot(Rb(a.dir)))};
f.Yc=function(a){var b;switch(a.constructor){case J:return b=this.Ui(a),a.sub(b).length();case M:return this.Jk(a)?(b=this.Ui(a.ya),a.ya.sub(b).length()):0}};f.Ph=function(a){var b;switch(a.constructor){case J:return b=this.Ui(a),a.sub(b);case M:return this.Jk(a)?(b=this.Ui(a.ya),a.ya.sub(b)):null;case Qb:return a=a.line(),this.Jk(a)?(b=this.Ui(a.ya),a.ya.sub(b)):null}};f.move=function(a){this.ya=this.ya.add(a)};f.transform=function(a){return new M(this.dir.transform(a,!0),this.ya.transform(a))};
f.wa=function(a,b,c,d,e){var k=this.Yb(-1E6),l=this.Yb(1E6);a.line(b,k.x,k.y,l.x,l.y,{stroke:c,strokeWidth:d,opacity:e})};f.toString=function(){return"{"+this.dir.toString()+","+this.ya.toString()+"}"};function Qb(a,b){this.Wb=a;this.ob=b}f=Qb.prototype;f.toString=function(){return"{"+this.Wb.toString()+","+this.ob.toString()+"}"};f.Eb=function(){return new Qb(this.Wb.Eb(),this.ob.Eb())};f.move=function(a){this.Wb=this.Wb.add(a);this.ob=this.ob.add(a)};
f.transform=function(a){return new Qb(this.Wb.transform(a),this.ob.transform(a))};f.getEnvelopeInternal=function(a){var b=new jsts.geom.Envelope;b.initFromCoordinates(this.Wb,this.ob);b.expandByDistance(a);return b};f.line=function(){return new M(this.ob.sub(this.Wb),this.Wb)};f.wa=function(a,b,c,d,e){var k=this.Wb,l=this.ob;a.line(b,k.x,k.y,l.x,l.y,{stroke:c,strokeWidth:d,opacity:e})};
f.intersects=function(a){switch(a.constructor){case Qb:var b=Wb(this.Wb,this.ob,a.Wb)!==Wb(this.Wb,this.ob,a.ob),c=Wb(a.Wb,a.ob,this.Wb)!==Wb(a.Wb,a.ob,this.ob);return!(Xb(this.Wb,this.ob,a.Wb)||Xb(this.Wb,this.ob,a.ob))&&b&&c;case M:return b=this.line(),a=a.intersection(b),a=b.xg(a),0<=a&&1>=a}};
function Yb(a,b){var c=Math.min(a.Wb.x,a.ob.x),d=Math.max(a.Wb.x,a.ob.x),e=Math.min(a.Wb.y,a.ob.y),k=Math.max(a.Wb.y,a.ob.y);return e===k?b.x<=d&&b.x>=c:c===d?b.y<=k&&b.y>=e:b.x<=d&&b.x>=c&&b.y<=k&&b.y>=e}f.IB=function(a){var b=Math.min(this.Wb.x,this.ob.x),c=Math.max(this.Wb.x,this.ob.x),d=Math.min(this.Wb.y,this.ob.y),e=Math.max(this.Wb.y,this.ob.y);return a.x<=c&&a.x>=b&&a.y<=e&&a.y>=d};f.contains=function(a){if(Xb(this.Wb,this.ob,a)){var b=this.xg(a);if(1>=b&&0<=b||this.Wb.eq(a)||this.ob.eq(a))return!0}return!1};
f.xg=function(a){return this.line().xg(a)};f.intersection=function(a){switch(a.constructor){case Qb:return this.line().intersection(a.line());case M:return this.line().intersection(a)}};f.Yc=function(a){return this.Ph(a).length()};
f.Ph=function(a){var b=new M(this.ob.sub(this.Wb),this.Wb);switch(a.constructor){case J:var c=b.Ui(a),c=b.xg(c);return 0>c?this.Wb.sub(a):1<c?this.ob.sub(a):b.Ph(a);case M:return a.Ph(this)?a.Ph(this).Qb(-1):null;case Qb:return c=a.line(),b.Jk(c)?(b=new y,b.add(this.Ph(a.Wb)),b.add(this.Ph(a.ob)),b.add(a.Ph(this.Wb).Qb(-1)),b.add(a.Ph(this.ob).Qb(-1)),La(b,function(a){return a.length()})):null}};f.scale=function(a,b){return new Qb(this.Wb.Qb(a,b),this.ob.Qb(a,b))};
f.hb=function(a){return this.scale(a,1)};f.translate=function(a){return new Qb(this.Wb.add(a),this.ob.add(a))};f.rotate=function(a){return new Qb(this.Wb.rotate(a),this.ob.rotate(a))};function Zb(a,b,c,d){this.x=a;this.y=b;this.width=c;this.height=d}f=Zb.prototype;f.intersects=function(a){var b,c=this.Jd();a.constructor===$b?b=c.intersects(a):a.constructor===Zb&&(b=c.intersects(a.Jd()));return b};
f.scale=function(a){return new Zb(this.x-.5*(a-1)*this.width,this.y-.5*(a-1)*this.height,a*this.width,a*this.height)};f.buffer=function(a){return new Zb(this.x-a,this.y-a,this.width+2*a,this.height+2*a)};function ac(a){return new J(a.x,a.y)}function bc(a){return new J(a.x+a.width,a.y+a.height)}f.Jd=function(){var a=[];a.push(ac(this));a.push(new J(this.x,this.y+this.height));a.push(bc(this));a.push(new J(this.x+this.width,this.y));return new $b(a)};
f.merge=function(a){if(!a)return this;var b=Math.min(this.x,a.x),c=Math.min(this.y,a.y),d=Math.max(this.x+this.width,a.x+a.width);a=Math.max(this.y+this.height,a.y+a.height);return new Zb(b,c,d-b,a-c)};f.hb=function(a){return this.Jd().hb(a).Pe()};f.translate=function(a){return this.Jd().translate(a).Pe()};f.rotate=function(a,b){return this.Jd().rotate(a,b).Pe()};
function cc(a){this.xa=[];if(void 0!==a&&void 0!==a[0])if(a[0].constructor===J)this.xa=a;else if(a[0].constructor===Array){this.xa=[];for(var b=0;b<a.length;b++)this.xa.push(new J(a[b][0],a[b][1]))}}f=cc.prototype;f.scale=function(a,b){for(var c=new cc,d=0;d<this.xa.length;d++)c.xa.push(this.xa[d].Qb(a,b));return c};f.hb=function(a){return this.scale(a,1)};f.translate=function(a){for(var b=new cc,c=0;c<this.xa.length;c++)b.xa.push(this.xa[c].add(a));return b};
f.rotate=function(a){for(var b=new cc,c=0;c<this.xa.length;c++)b.xa.push(this.xa[c].rotate(a));return b};f.transform=function(a){for(var b=new cc,c=0;c<this.xa.length;c++)b.xa.push(this.xa[c].transform(a));return b};function dc(a,b){for(var c=new jsts.geom.GeometryFactory,d=[],e=0;e<a.xa.length;e++)d.push(a.xa[e].jh());return(1<a.xa.length?c.createLineString(d):d[0]).buffer(b/2)}f.zy=function(a){return new $b(dc(this,a))};
function ec(a){var b=this;if(void 0!==a)if(a.constructor===y)b.xa=[],a.forEach(function(a){b.xa.push(a)});else if(a[0].constructor===J)b.xa=a;else{if(a[0].constructor===Array){b.xa=[];for(var c=0;c<a.length;c++)this.xa.push(new J(a[c][0],a[c][1]))}}else b.xa=[]}f=ec.prototype;f.add=function(a){this.xa.push(a)};f.scale=function(a,b){for(var c=new ec,d=0;d<this.xa.length;d++)c.xa.push(this.xa[d].Qb(a,b));return c};f.hb=function(a){return this.scale(a,1)};
f.translate=function(a){for(var b=new ec,c=0;c<this.xa.length;c++)b.xa.push(this.xa[c].add(a));return b};f.rotate=function(a,b){for(var c=new ec,d=0;d<this.xa.length;d++)c.xa.push(this.xa[d].rotate(a,b));return c};f.transform=function(a){for(var b=new ec,c=0;c<this.xa.length;c++)b.xa.push(this.xa[c].transform(a));return b};
f.Pe=function(){for(var a=Number.POSITIVE_INFINITY,b=Number.NEGATIVE_INFINITY,c=Number.POSITIVE_INFINITY,d=Number.NEGATIVE_INFINITY,e=0;e<this.xa.length;e++){var k=this.xa[e];k.x<a&&(a=k.x);k.x>b&&(b=k.x);k.y<c&&(c=k.y);k.y>d&&(d=k.y)}return new Zb(a,c,b-a,d-c)};f.yl=function(){for(var a=new J(0,0),b=0;b<this.xa.length;b++)a=a.add(this.xa[b]);return a.Qb(1/this.xa.length)};
function fc(a){this.path=a;a=new w;var b=this.path.getAttribute("style");if(b){";"==b[b.length-1]&&(b=b.substr(0,b.length-1));for(var b=b.split(";"),c=0;c<b.length;c++){var d=b[c].split(":");a.put(d[0],d[1])}}(b=this.path.getAttribute("stroke-width"))&&a.put("stroke-width",b);this.style=a}fc.prototype.rq=function(a){return this.style.get(a)};fc.prototype.qc=function(){return this.rq("stroke-width")};
function gc(a,b,c){var d;a=a.path.getAttribute("d");a=a.replace(/\s*,\s*|s+/g," ");a=Raphael.parsePathString(a);for(d=0;d<a.length;d++){var e=a[d];"A"===e[0]&&(e[1]=Math.abs(e[1]),e[2]=Math.abs(e[2]))}d=Raphael.getTotalLength(a);c&&(b=Math.max(b,d/(c*(a.length-1))));b=Math.ceil(d/b);c=d/b;e=[];for(d=0;d<=b;d++){var k=Raphael.getPointAtLength(a,d*c);e.push(new J(k.x,k.y))}return e}fc.prototype.zy=function(a,b){return new $b(gc(this,a,b))};fc.prototype.Nn=function(a){return new cc(gc(this,a))};
function hc(){this.outline=[];this.dx=[]}u(18,"ComplexPolygon",hc);hc.prototype.getData=function(){var a={};a.outline=this.outline;a.holes=this.dx;return a};hc.prototype.setData=function(a){this.outline=a.outline;this.dx=a.holes};
hc.prototype.jh=function(){var a,b,c=new jsts.geom.GeometryFactory,d=[];for(a=0;a<this.outline.length;a++)b=this.outline[a],d.push(new jsts.geom.Coordinate(b.x,b.y));d.push(d[0]);for(var e=c.createLinearRing(d),k=[],l=0;l<this.dx.length;l++){var n=this.dx[l],d=[];for(a=0;a<n.length;a++)b=n[a],d.push(new jsts.geom.Coordinate(b.x,b.y));d.push(d[0]);k.push(c.createLinearRing(d))}return c.createPolygon(e,k)};
function ic(a,b){var c,d;a.outline=[];var e=b.getExteriorRing().getCoordinates();for(c=0;c<e.length-1;c++)d=e[c],a.outline.push(new J(d.x,d.y));for(var k=0;k<b.getNumInteriorRing();k++){var e=b.getInteriorRingN(k).getCoordinates(),l=[];for(c=0;c<e.length-1;c++)d=e[c],l.push(new J(d.x,d.y));a.dx.push(l)}}
function $b(a,b){var c,d,e;if(a&&a.constructor==String)if("<"!==a.substr(0,1))for(e=$.parseJSON(a),this.xa=[],c=0;c<e.length;c++)d=e[c],this.xa.push(new J(d[0],d[1]));else{c="undefined"!==typeof window?$.parseXML(a).childNodes[0]:$(a)[0];switch(c.tagName.toLowerCase()){case "rect":d=parseFloat(c.getAttribute("x"));e=parseFloat(c.getAttribute("y"));var k=parseFloat(c.getAttribute("width")),l=parseFloat(c.getAttribute("height"));c=parseFloat(c.getAttribute("rx"));isNaN(d)&&(d=0);isNaN(e)&&(e=0);isNaN(c)&&
(c=0);d=Raphael._rectPath(d,e,k,l,c);break;case "path":d=Raphael.parsePathString(c.getAttribute("d"));break;case "circle":d=Raphael._ellipsePath(0|c.getAttribute("cx"),0|c.getAttribute("cy"),0|c.getAttribute("r"),0|c.getAttribute("r"));break;case "polygon":c=c.getAttribute("points");c=c.trim();c=c.replace(/\s*,\s*|s+/g," ");c=c.split(" ").reverse();d=[];for(d.push(["M",c.pop(),c.pop()]);0!==c.length;)d.push(["L",c.pop(),c.pop()]);d.push(["Z"])}jc(this,d,b)}else if(a&&void 0!==a[0])if(a[0].constructor===
J)this.xa=a;else if(void 0!==a[0].x&&void 0!==a[0].y)for(this.xa=[],c=0;c<a.length;c++)d=a[c],this.xa.push(new J(d.x,d.y));else{if(a[0].constructor===Array)for(this.xa=[],c=0;c<a.length;c++)d=a[c],this.xa.push(new J(d[0],d[1]))}else if(a&&a instanceof jsts.geom.Polygon)for(this.xa=[],e=a.getExteriorRing().getCoordinates(),c=0;c<e.length-1;c++)d=e[c],this.xa.push(new J(d.x,d.y));else if(a&&a instanceof jsts.geom.LinearRing)for(this.xa=[],e=a.getCoordinates(),c=0;c<e.length-1;c++)d=e[c],this.xa.push(new J(d.x,
d.y));else if(a&&a instanceof jsts.geom.MultiPolygon)for(this.xa=[],e=a.getGeometryN(0).getCoordinates(),c=0;c<e.length-1;c++)d=e[c],this.xa.push(new J(d.x,d.y));else this.xa=[]}
function jc(a,b,c){a.xa=[];b=Raphael._pathToAbsolute(b);var d=null;for(kc=0;kc<b.length;kc++){var e=b[kc];switch(e[0]){case "M":d=new J(e[1],e[2]);b.length>kc+1&&"M"!==b[kc+1][0]&&a.xa.push(d);break;case "L":d=new J(e[1],e[2]);a.xa.push(d);break;case "Z":break;default:for(var d=[["M",d.x,d.y],e],k=Raphael.getTotalLength(d),e=Math.ceil(k/(c?c:100)),k=k/e,l=1;l<=e;l++)point=Raphael.getPointAtLength(d,l*k),a.xa.push(new J(point.x,point.y));d=a.xa[a.xa.length-1]}}}u(2,"Polygon",$b);f=$b.prototype;
f.eq=function(a){if(this.xa.length!==a.xa.length)return!1;for(var b=this.xa.slice(),b=b.concat(b),c=0;c<this.xa.length&&!b[c].eq(a.xa[0]);)c++;if(c>=this.xa.length)return!1;for(var d=0;d<a.xa.length;d++){if(!b[c].eq(a.xa[d]))return!1;c++}return!0};f.jh=function(){for(var a=new jsts.geom.GeometryFactory,b=[],c=0;c<this.xa.length;c++){var d=this.xa[c];b.push(new jsts.geom.Coordinate(d.x,d.y))}b.push(b[0]);return a.createPolygon(a.createLinearRing(b))};
function lc(a){for(var b=new jsts.geom.GeometryFactory,c=[],d=0;d<a.xa.length;d++){var e=a.xa[d];c.push(new jsts.geom.Coordinate(e.x,e.y))}c.push(c[0]);return b.createLinearRing(c)}f.getData=function(){var a={};a.points=this.xa;return a};f.setData=function(a){this.xa=a.points};f.Pe=function(){return(new ec(this.xa)).Pe()};f.Nn=function(){var a=new cc(this.xa);a.xa.push(a.xa[0]);return a};
f.jb=function(){for(var a=new y,b=1;b<this.xa.length;b++)a.add(new Qb(this.xa[b-1],this.xa[b]));a.add(new Qb(this.xa[this.xa.length-1],this.xa[0]));return a};f.intersects=function(a){var b=!1,c=this.jb(),d=a.jb();c.forEach(function(a){d.forEach(function(c){b=b||a.intersects(c)})});return b};f.rotate=function(a,b){for(var c=new $b,d=0;d<this.xa.length;d++)c.xa[d]=this.xa[d].rotate(a,b);return c};f.hb=function(a){return this.scale(a,1)};
f.scale=function(a,b){for(var c=new $b,d=0;d<this.xa.length;d++)c.xa.push(this.xa[d].Qb(a,b));return c};f.translate=function(a){for(var b=new $b,c=0;c<this.xa.length;c++)b.xa.push(this.xa[c].add(a));return b};f.transform=function(a){for(var b=new $b,c=0;c<this.xa.length;c++)b.xa.push(this.xa[c].transform(a));return b};function mc(a,b,c){var d=b.createPath();d.move(a.xa[0].x,a.xa[0].y);for(var e=1;e<a.xa.length;e++)d.line(a.xa[e].x,a.xa[e].y);return b.path(c,d)}
f.toSVG=function(a,b,c,d,e){for(var k='<polygon points="',l=0;l<this.xa.length;l++)var n=this.xa[l],k=k+(n.x+","+n.y+" ");k+='" ';l=[];a||l.push("fill:none");b&&l.push("stroke-width:"+c);e&&l.push("stroke:"+e);d&&l.push("stroke-dasharray:"+d);0<l.length&&(k+='style="'+l.join(";")+'"');return k+" />"};function Wb(a,b,c){return(b.y-a.y)*(c.x-a.x)<(c.y-a.y)*(b.x-a.x)}function Xb(a,b,c){return(b.y-a.y)*(c.x-a.x)==(c.y-a.y)*(b.x-a.x)}
function nc(a,b){var c;c=b.width/a.width>b.height/a.height?b.height/a.height:b.width/a.width;return{transX:b.x+b.width/2-c*(a.x+a.width/2),transY:b.y+b.height/2-c*(a.y+a.height/2),scale:c}}function oc(a){this.Se=a||[1,0,0,1,0,0]}f=oc.prototype;f.Qb=function(a){return new oc([a[0]*this.Se[0]+a[2]*this.Se[1],a[1]*this.Se[0]+a[3]*this.Se[1],a[0]*this.Se[2]+a[2]*this.Se[3],a[1]*this.Se[2]+a[3]*this.Se[3],a[0]*this.Se[4]+a[2]*this.Se[5]+a[4],a[1]*this.Se[4]+a[3]*this.Se[5]+a[5]])};
f.bd=function(a){for(var b=new oc(this.Se),c=[],d=/(rotate|translate|scale)\(([-+]?[0-9]*\.?[0-9]+)(?:(?: +| *\, *)([-+]?[0-9]*\.?[0-9]+))?(?:(?: +| *\, *)([-+]?[0-9]*\.?[0-9]+))?\)/g,e;e=d.exec(a);)c.push(e);for(a=c.length-1;0<=a;a--)switch(e=c[a],e[1]){case "translate":b.translate(new J(parseFloat(e[2]),e[3]?parseFloat(e[3]):0));break;case "rotate":b=b.rotate(parseFloat(e[2]),e[3]&&e[4]?new J(parseFloat(e[3]),parseFloat(e[4])):null);break;case "scale":d=parseFloat(e[2]),b=b.scale(d,e[3]?parseFloat(e[3]):
d)}return b};f.hb=function(a){return this.Qb([a,0,0,1,0,0])};f.rotate=function(a,b){var c=Math.cos(a*Math.PI/180),d=Math.sin(a*Math.PI/180);if(b){var e,k;"undefined"==typeof b.x?(e=b[0],k=b[1]):(e=b.x,k=b.y);return this.translate([-e,-k]).Qb([c,d,-d,c,e,k])}return this.Qb([c,d,-d,c,0,0])};f.translate=function(a){return"undefined"==typeof a.x?this.Qb([1,0,0,1,a[0],a[1]]):this.Qb([1,0,0,1,a.x,a.y])};f.scale=function(a,b){"undefined"==typeof b&&(b=a);return this.Qb([a,0,0,b,0,0])};function pc(a,b){for(var c=new jsts.geom.GeometryFactory,d=new y,e=0;e<a.length;e++){for(var k=a[e],l=qc((new $b(k.getExteriorRing())).xa,b),l=lc(new $b(l)),n=[],q=0;q<k.getNumInteriorRing();q++){var r=qc((new $b(k.getInteriorRingN(q))).xa,b),r=lc(new $b(r));n.push(r)}k=c.createPolygon(l,n);d.add(k)}return d}
function qc(a,b){function c(a,c){var d=b/10;0==a.length?a.push(c):a[a.length-1].sub(c).length()>d&&a.push(c)}for(var d=[],e=0;e<a.length;e++)d.push(a[e]);var k=-b,l=[];d.push(d[0]);d.push(d[1]);for(e=0;e<d.length-2;e++){for(var n=d[e+1],q=d[e+2],r=Rb(n.sub(d[e])),q=Rb(q.sub(n)),t=Math.atan2(r.y,r.x)-Math.atan2(q.y,q.x);0>=t;)t+=2*Math.PI;t>Math.PI?(c(l,n.add(Sb(r).Qb(k))),c(l,n.add(Sb(q).Qb(k)))):t<Math.PI&&(r=new M(r,n.add(Sb(r).Qb(k))),n=new M(q,n.add(Sb(q).Qb(k))),c(l,r.intersection(n)))}return l}
;function rc(a,b,c){this.Tk=new Qb(a,b);this.TB=[];this.geom=null;this.name=c}function sc(a,b){this.Wb=a;this.ob=b}sc.prototype.toString=function(){return this.Wb.toString()+this.ob.toString()};
function tc(a,b){for(var c=[(new $b(a)).xa.reverse()],d=0;d<b.length;d++){var e=new $b(b[d]);c.push(e.xa)}e=[];for(d=0;d<c.length;d++){a=c[d];a.push(a[0]);var k=[];e.push(k);for(var l,n=0;n<a.length;n++){var q=a[n];q.x=Math.floor(q.x);q.y=Math.floor(q.y);if(0===n)k.push(q),l=q;else if(q.x!=l.x||q.y!=l.y)k.push(q),l=q}}for(var r=[],d=c=0;d<e.length;d++)for(a=e[d],n=0;n<a.length-1;n++)r.push(new rc(a[n],a[n+1],c)),c++;var t=function(a){for(var b=new jsts.geom.GeometryFactory,c=new jsts.index.strtree.STRtree,
d=0;d<a.length;d++){var e=a[d].Tk,k=new jsts.geom.Coordinate(e.Wb.x,e.Wb.y),e=new jsts.geom.Coordinate(e.ob.x,e.ob.y),k=b.createLineString([k,e]);a[d].geom=k;k=k.getEnvelopeInternal();c.insert(k,a[d])}return c}(r);(function(a){for(var b=0;b<a.length;b++){for(var c=a[b],d=a[b].geom.getEnvelopeInternal(),e={},d=t.query(d),k=0;k<d.length;k++){var l=d[k];if(c!==l){var n;n=c.Tk;var l=l.Tk,q=[],r=n.Wb,A=n.ob,Y=l.Wb,na=l.ob,Ea=n.line(),Ya=l.line();Ea.Jk(Ya)?(n.contains(Y)&&q.push(Y),n.contains(na)&&q.push(na),
l.contains(r)&&q.push(r),l.contains(A)&&q.push(A)):(r=0>Ea.Uh(Ya)?Ea.intersection(Ya):Ya.intersection(Ea),Yb(n,r)&&Yb(l,r)&&q.push(r));n=q;for(l=0;l<n.length;l++)void 0===e[n[l].toString()]&&(e[n[l].toString()]=!0,c.TB.push(n[l]))}}void 0===e[c.Tk.Wb.toString()]&&(e[c.Tk.Wb.toString()]=!0,c.TB.push(c.Tk.Wb));void 0===e[c.Tk.ob.toString()]&&(e[c.Tk.ob.toString()]=!0,c.TB.push(c.Tk.ob))}})(r);c=function(a){for(var b=new jsts.geom.GeometryFactory,c=new jsts.index.strtree.STRtree,d=new jsts.index.strtree.STRtree,
e=[],k=[],l=0;l<a.length;l++){var n=(new $b(a[l])).jh();jsts.algorithm.CGAlgorithms.isCCW(n.getExteriorRing().getCoordinates())?(e.push(n),c.insert(n.getEnvelopeInternal(),n)):(k.push(n),d.insert(n.getEnvelopeInternal(),n))}for(var q=new w,l=0;l<e.length;l++)a=new jsts.algorithm.MCPointInRing(e[l].getExteriorRing()),q.put(e[l],a);e.sort(function(a,b){return q.get(a).isInside(b.getCoordinate())?1:q.get(b).isInside(a.getCoordinate())?-1:0});d=new w;for(l=0;l<e.length;l++)d.put(e[l],l);n=new w;for(l=
0;l<k.length;l++){for(var r=k[l],t=c.query(r.getEnvelopeInternal()),Y=Number.POSITIVE_INFINITY,na=null,Ea=0;Ea<t.length;Ea++)if(a=t[Ea],q.get(a).isInside(r.getCoordinate())){var Ya=d.get(a);Ya<Y&&(Y=Ya,na=a)}na&&n.put(r,na)}for(var Nc=new w,l=0;l<e.length;l++)Nc.put(e[l],[]);n.forEach(function(a,b){Nc.get(b).push(a.getExteriorRing())});c=new y;for(l=0;l<e.length;l++)a=e[l],k=b.createPolygon(e[l].getExteriorRing(),Nc.get(a)),c.add(k);return c}(function(a){var b=a[1],c=a[2],d={},e=0;for(a=[];e!==b.length;){for(var k=
[],l=new w(function(a){return a.toString()}),n=b[e];void 0===d[n.toString()];){d[n.toString()]=!0;k.push(n);l.put(n,k.length-1);for(var q=c[n.ob.toString()],r=null,t,Y=0;Y<q.length;Y++){var na=q[Y];if(na.toString()!==n.toString()){var Ea=n.Wb.sub(n.ob),Ya=na.ob.sub(na.Wb),Ea=Math.atan2(Ya.y,Ya.x)-Math.atan2(Ea.y,Ea.x);0>Ea&&(Ea+=2*Math.PI);if(null===r||Ea>t)r=na,t=Ea}}n=r}for(l.contains(n)&&a.push(k.slice(l.get(n)));e!==b.length&&void 0!==d[b[e].toString()];)e++}b=[];for(Y=0;Y<a.length;Y++){t=[];
k=a[Y];for(c=0;c<k.length;c++)t.push(k[c].Wb);b.push(t)}return b}(function(){for(var a=[],b=[],c={},d=0;d<r.length;d++){var e=r[d],k=e.TB,l=e.Tk.line();k.sort(function(a,b){return l.xg(a)-l.xg(b)});for(e=0;e<k.length-1;e++){var n=new sc(k[e],k[e+1]);void 0===c[k[e].toString()]&&(a.push(k[e]),c[k[e].toString()]=[]);c[k[e].toString()].push(n);b.push(n)}}return[a,b,c]}()));return function(a,b){for(var c=[],d=new jsts.index.strtree.STRtree,e=0;e<b.length;e++){var k=(new $b(b[e])).jh(),l=k.getEnvelopeInternal();
d.insert(l,k)}a.forEach(function(a){for(var b=d.query(a.getEnvelopeInternal()),e=a.getExteriorRing(),k=!1,l=0;l<b.length;l++)if(e.coveredBy(b[l])){k=!0;break}k||c.push(a)});return c}(c,b)};function uc(a){var b="",c=[];c.push(a.getExteriorRing());for(var d=0;d<a.getNumInteriorRing();d++)c.push(a.getInteriorRingN(d));for(a=0;a<c.length;a++){for(var e=c[a].getCoordinates(),d=0;d<e.length-1;d++)var k=e[d],b=0===d?b+("M "+k.x+" "+k.y+" "):b+("L "+k.x+" "+k.y+" ");b+="Z"}c=$("<path/>");c.attr("d",b);return c}
function vc(a,b,c,d){var e=b.createPath(),k=[];k.push(a.getExteriorRing());for(var l=0;l<a.getNumInteriorRing();l++)k.push(a.getInteriorRingN(l));for(a=0;a<k.length;a++){for(var n=k[a].getCoordinates(),l=0;l<n.length-1;l++)var q=n[l],e=0===l?e.move(q.x,q.y):e.line(q.x,q.y);e=e.close()}b.path(c,e,d)};function wc(a){this.uu=[];for(var b=0;b<a.length;b++){var c=a[b],c=new $b(c);this.uu.push(c)}}function xc(a,b){for(var c=[],d=0;d<a.uu.length;d++)b.width>=b.height?c.push(a.uu[d].scale(-1,1)):c.push(a.uu[d].scale(-1,1).rotate(270));for(var e=[],d=0;d<c.length;d++)e=e.concat(c[d].xa);d=(new ec(e)).Pe();e=nc(d,{x:b.x+.1*b.width,y:b.y+.1*b.height,width:.8*b.width,height:.8*b.height});for(d=0;d<c.length;d++)c[d]=c[d].scale(e.scale).translate(new J(e.transX,e.transY));return c}
wc.prototype.zI=function(a){var b="";a=xc(this,a);for(var c=0;c<a.length;c++)b+=a[c].toSVG(!0,!1);return b};
var yc=new wc([[[19.29,51.45],[19.29,15.3],[11.56,21.55],[8.76,16.86],[20.14,8.09],[26.12,8.09],[26.12,51.45],[19.29,51.45]],[[39.19,51.45],[39.19,46.12],[53.7,31.31],[55.58,29.18],[57.26,26.94],[57.99,25.8],[58.62,24.64],[59.14,23.47],[59.53,22.29],[59.78,21.1],[59.87,19.92],[59.82,19.09],[59.69,18.31],[59.48,17.58],[59.19,16.89],[58.83,16.26],[58.41,15.68],[57.92,15.15],[57.38,14.67],[56.79,14.25],[56.15,13.88],[55.48,13.56],[54.77,13.3],[54.02,13.1],[53.26,12.95],[52.47,12.86],[51.67,12.83],[50.23,
12.89],[48.83,13.06],[46.79,13.5],[45.47,13.89],[42.89,14.89],[41.01,15.76],[40.69,10.17],[43.51,9.08],[46.43,8.22],[47.93,7.89],[49.44,7.64],[50.97,7.49],[52.52,7.44],[53.94,7.48],[55.32,7.6],[56.67,7.81],[57.97,8.11],[59.22,8.49],[60.41,8.97],[61.52,9.55],[62.56,10.22],[63.5,10.99],[64.35,11.86],[65.09,12.83],[65.71,13.91],[66.22,15.1],[66.58,16.4],[66.81,17.81],[66.89,19.33],[66.8,20.79],[66.53,22.21],[66.1,23.62],[65.53,25],[64.84,26.35],[64.04,27.68],[62.18,30.25],[47.51,46.19],[67.6,46.19],
[67.6,51.45],[39.19,51.45],[39.19,51.45]],[[78.07,44.89],[79.35,45.36],[80.66,45.77],[83.37,46.37],[86.08,46.73],[88.67,46.84],[89.74,46.81],[90.78,46.72],[91.79,46.57],[92.76,46.36],[93.7,46.08],[94.58,45.74],[95.41,45.33],[96.18,44.85],[96.88,44.31],[97.51,43.69],[98.06,43],[98.53,42.23],[98.9,41.39],[99.17,40.47],[99.34,39.47],[99.4,38.39],[99.34,37.4],[99.17,36.49],[98.89,35.68],[98.52,34.95],[98.05,34.29],[97.5,33.71],[96.87,33.21],[96.18,32.77],[95.43,32.4],[94.62,32.08],[93.76,31.83],[92.87,
31.63],[91.95,31.48],[90.03,31.32],[83.34,31.3],[83.34,26.42],[89.33,26.4],[91.43,26.22],[92.41,26.06],[93.34,25.84],[94.21,25.57],[95.01,25.23],[95.75,24.84],[96.42,24.37],[97.01,23.84],[97.52,23.24],[97.95,22.55],[98.3,21.8],[98.54,20.95],[98.7,20.03],[98.75,19.01],[98.69,18.12],[98.53,17.32],[98.27,16.58],[97.91,15.92],[97.48,15.33],[96.96,14.8],[96.37,14.34],[95.73,13.94],[95.02,13.6],[94.27,13.31],[93.48,13.07],[92.66,12.88],[91.81,12.74],[90.07,12.59],[88,12.61],[85.5,12.89],[82.94,13.42],[80.44,
14.19],[79.24,14.65],[78.85,9.32],[81.61,8.51],[84.41,7.92],[87.27,7.56],[90.17,7.44],[93.02,7.57],[94.43,7.74],[95.8,7.98],[97.14,8.31],[98.43,8.72],[99.65,9.22],[100.79,9.81],[101.84,10.5],[102.8,11.29],[103.63,12.19],[104.35,13.2],[104.92,14.32],[105.35,15.56],[105.62,16.93],[105.71,18.42],[105.66,19.44],[105.54,20.4],[105.34,21.31],[105.06,22.18],[104.7,22.99],[104.28,23.76],[103.79,24.48],[103.24,25.15],[102.62,25.76],[101.95,26.33],[101.22,26.85],[100.44,27.32],[99.61,27.74],[98.74,28.11],[97.82,
28.43],[96.86,28.7],[97.85,28.86],[98.81,29.1],[99.74,29.39],[100.63,29.75],[101.47,30.16],[102.27,30.64],[103.02,31.18],[103.71,31.77],[104.33,32.42],[104.89,33.12],[105.38,33.88],[105.79,34.7],[106.11,35.56],[106.35,36.47],[106.5,37.44],[106.55,38.45],[106.45,40.2],[106.16,41.82],[105.68,43.31],[105.04,44.68],[104.24,45.93],[103.3,47.05],[102.22,48.05],[101.03,48.94],[99.74,49.72],[98.35,50.38],[96.87,50.94],[95.33,51.39],[93.74,51.73],[92.1,51.98],[90.43,52.12],[86.56,52.12],[83.77,51.88],[81.06,
51.42],[79.72,51.09],[77.68,50.48],[78.07,44.89],[78.07,44.89],[78.07,44.89]],[[153.85,26.57],[153.57,24.16],[153.1,21.92],[152.45,19.85],[151.62,17.96],[150.62,16.23],[149.45,14.67],[148.11,13.28],[146.6,12.06],[144.94,11],[143.12,10.1],[141.14,9.38],[139.02,8.81],[136.75,8.41],[134.33,8.17],[118.45,8.09],[118.45,29],[125.54,29],[125.54,13.35],[132.92,13.42],[134.66,13.62],[136.28,13.96],[137.79,14.42],[139.18,15.01],[140.45,15.73],[141.6,16.57],[142.63,17.52],[143.54,18.6],[144.33,19.78],[145.01,
21.08],[145.56,22.49],[145.98,24],[146.29,25.62],[146.48,27.34],[146.54,29.15],[146.47,31.24],[146.25,33.19],[145.89,35],[145.39,36.67],[144.75,38.2],[143.97,39.6],[143.06,40.86],[142.02,41.99],[140.84,42.98],[139.54,43.83],[138.11,44.55],[136.55,45.14],[134.87,45.6],[133.07,45.93],[131.15,46.12],[125.54,46.19],[125.54,29],[118.45,29],[118.45,51.45],[132.46,51.37],[134.97,51.11],[137.37,50.69],[139.63,50.09],[141.76,49.32],[143.75,48.38],[145.58,47.26],[147.25,45.96],[148.76,44.49],[150.09,42.84],
[151.24,41.01],[152.19,39],[152.95,36.81],[153.5,34.44],[153.84,31.89],[153.95,29.15],[153.85,26.57]],[[170.23,12.26],[170.15,11.74],[170.02,11.25],[169.85,10.77],[169.63,10.32],[169.37,9.89],[169.07,9.49],[168.73,9.12],[168.36,8.78],[167.96,8.48],[167.53,8.22],[167.07,8.01],[166.6,7.83],[166.1,7.7],[165.58,7.62],[165.05,7.6],[164.52,7.62],[164,7.7],[163.5,7.83],[163.02,8.01],[162.57,8.22],[162.14,8.48],[161.74,8.78],[161.37,9.12],[161.03,9.49],[160.73,9.89],[160.47,10.32],[160.25,10.77],[160.07,
11.25],[159.95,11.74],[159.87,12.26],[159.84,12.79],[160.69,12.79],[160.71,12.34],[160.78,11.9],[160.88,11.48],[161.03,11.07],[161.21,10.69],[161.43,10.32],[161.68,9.98],[161.96,9.66],[162.27,9.37],[162.6,9.12],[162.96,8.89],[163.34,8.71],[163.75,8.55],[164.17,8.44],[164.6,8.38],[165.05,8.35],[165.5,8.38],[165.93,8.44],[166.35,8.56],[166.75,8.71],[167.13,8.9],[167.49,9.12],[167.83,9.38],[168.14,9.67],[168.42,9.98],[168.67,10.33],[168.88,10.69],[169.07,11.08],[169.21,11.49],[169.32,11.91],[169.38,
12.34],[169.41,12.79],[169.38,13.24],[169.32,13.68],[169.21,14.1],[169.07,14.51],[168.88,14.9],[168.67,15.27],[168.42,15.61],[168.14,15.93],[167.83,16.22],[167.49,16.48],[167.13,16.71],[166.75,16.9],[166.35,17.05],[165.93,17.16],[165.5,17.23],[165.05,17.25],[164.82,17.25],[164.6,17.23],[164.17,17.16],[163.75,17.05],[163.34,16.9],[162.96,16.71],[162.6,16.48],[162.27,16.22],[161.96,15.94],[161.68,15.61],[161.43,15.26],[161.21,14.89],[161.03,14.5],[160.88,14.1],[160.78,13.67],[160.71,13.24],[160.69,
12.79],[159.84,12.79],[159.86,13.19],[159.9,13.58],[159.97,13.97],[160.07,14.34],[160.2,14.7],[160.35,15.05],[160.53,15.39],[160.73,15.71],[160.95,16.01],[161.19,16.3],[161.45,16.57],[161.73,16.82],[162.03,17.05],[162.34,17.25],[162.67,17.44],[163.02,17.6],[163.5,17.78],[164.01,17.91],[164.52,17.99],[165.05,18.01],[165.58,17.98],[166.1,17.9],[166.6,17.78],[167.07,17.6],[167.53,17.38],[167.96,17.12],[168.36,16.82],[168.73,16.48],[169.07,16.11],[169.37,15.7],[169.63,15.27],[169.85,14.82],[170.02,14.34],
[170.15,13.84],[170.23,13.32],[170.25,12.79],[170.23,12.26]],[[166.54,13.6],[166.46,13.45],[166.38,13.32],[166.29,13.2],[166.19,13.1],[166.07,13.01],[165.94,12.93],[165.78,12.87],[165.61,12.83],[165.9,12.76],[166.18,12.66],[166.44,12.52],[166.66,12.34],[166.85,12.14],[167,11.9],[167.09,11.64],[167.13,11.36],[167.08,10.96],[166.96,10.63],[166.77,10.36],[166.51,10.14],[166.21,9.97],[165.86,9.86],[165.48,9.79],[165.08,9.77],[163.24,9.77],[163.24,11.45],[164.02,11.45],[164.02,10.46],[164.99,10.47],[165.28,
10.5],[165.55,10.54],[165.79,10.62],[166,10.74],[166.16,10.9],[166.26,11.11],[166.29,11.37],[166.26,11.65],[166.16,11.88],[166,12.06],[165.8,12.19],[165.56,12.29],[165.29,12.36],[165.01,12.39],[164.02,12.4],[164.02,11.45],[163.24,11.45],[163.24,15.84],[164.02,15.84],[164.02,13.1],[164.83,13.11],[165.05,13.14],[165.23,13.19],[165.39,13.27],[165.51,13.38],[165.63,13.52],[165.73,13.69],[166.72,15.84],[167.56,15.84],[166.54,13.6],[166.54,13.6]],[[226.73,50.28],[225.53,50.76],[224.26,51.15],[222.92,51.48],
[220.16,51.93],[217.43,52.14],[216.13,52.17],[213.6,52.07],[211.19,51.78],[208.89,51.3],[206.73,50.63],[204.7,49.78],[202.81,48.76],[201.07,47.57],[199.49,46.2],[198.06,44.68],[196.81,42.99],[195.73,41.16],[194.83,39.17],[194.12,37.03],[193.6,34.76],[193.29,32.35],[193.18,29.8],[193.29,27.37],[193.62,25.03],[194.16,22.81],[194.9,20.71],[195.83,18.74],[196.94,16.9],[198.23,15.2],[199.68,13.65],[201.29,12.25],[203.04,11.02],[204.93,9.95],[206.95,9.07],[209.09,8.36],[211.34,7.85],[213.69,7.54],[216.13,
7.44],[218.73,7.54],[221.46,7.84],[224.14,8.34],[225.41,8.68],[226.6,9.06],[226.21,14.78],[225.17,14.35],[224.06,13.98],[222.9,13.67],[220.49,13.21],[218.08,12.99],[216.91,12.96],[215.06,13.05],[213.3,13.29],[211.64,13.69],[210.08,14.23],[208.63,14.92],[207.29,15.74],[206.06,16.68],[204.95,17.75],[203.95,18.93],[203.08,20.22],[202.33,21.6],[201.71,23.08],[201.23,24.65],[200.88,26.3],[200.66,28.02],[200.59,29.8],[200.66,31.64],[200.86,33.4],[201.2,35.08],[201.67,36.66],[202.26,38.15],[202.99,39.53],
[203.84,40.81],[204.81,41.98],[205.9,43.03],[207.11,43.95],[208.44,44.75],[209.89,45.42],[211.45,45.95],[213.12,46.33],[214.89,46.56],[216.78,46.64],[219.26,46.54],[221.7,46.21],[222.9,45.95],[224.08,45.63],[225.78,45],[226.34,44.76],[226.73,50.28],[226.73,50.28]],[[236.16,51.45],[236.16,8.09],[243.24,8.09],[243.24,51.45],[236.16,51.45],[236.16,51.45]],[[279.59,35.66],[279.07,34.5],[278.47,33.45],[278.15,32.96],[277.81,32.5],[277.44,32.07],[277.06,31.67],[276.66,31.3],[276.23,30.97],[275.79,30.67],
[275.32,30.41],[274.83,30.18],[274.31,29.99],[273.78,29.84],[273.22,29.74],[274.23,29.54],[275.21,29.28],[276.16,28.95],[277.08,28.55],[277.94,28.09],[278.76,27.56],[279.53,26.98],[280.24,26.33],[280.88,25.63],[281.46,24.87],[281.96,24.06],[282.38,23.2],[282.71,22.29],[282.96,21.33],[283.11,20.32],[283.16,19.27],[283.07,17.63],[282.81,16.16],[282.38,14.83],[281.8,13.66],[281.08,12.61],[280.23,11.7],[279.27,10.91],[278.21,10.24],[277.07,9.67],[275.84,9.21],[274.55,8.83],[273.21,8.55],[270.41,8.19],
[254.69,8.09],[254.69,20.02],[261.64,20.02],[261.64,13.22],[268.23,13.28],[270.02,13.46],[270.86,13.62],[271.66,13.83],[272.4,14.09],[273.09,14.41],[273.71,14.8],[274.27,15.26],[274.76,15.79],[275.18,16.41],[275.51,17.11],[275.75,17.9],[275.9,18.79],[275.95,19.79],[275.89,20.78],[275.72,21.69],[275.44,22.52],[275.07,23.27],[274.61,23.94],[274.07,24.54],[273.46,25.07],[272.79,25.54],[272.06,25.93],[271.28,26.27],[270.46,26.55],[269.61,26.77],[268.74,26.93],[267.85,27.05],[261.64,27.14],[261.64,20.02],
[254.69,20.02],[254.69,51.45],[261.64,51.45],[261.64,32.34],[266.71,32.4],[267.39,32.48],[268.02,32.6],[268.6,32.76],[269.13,32.96],[269.62,33.21],[270.08,33.51],[270.5,33.86],[270.9,34.26],[271.27,34.72],[271.63,35.25],[271.97,35.83],[272.63,37.2],[278.29,51.45],[286.03,51.45],[279.59,35.66],[279.59,35.66]],[[324.39,50.28],[323.19,50.76],[321.92,51.15],[320.58,51.48],[317.82,51.93],[315.09,52.14],[313.79,52.17],[311.26,52.07],[308.85,51.78],[306.55,51.3],[304.39,50.63],[302.36,49.78],[300.47,48.76],
[298.73,47.57],[297.14,46.2],[295.72,44.68],[294.47,42.99],[293.38,41.16],[292.49,39.17],[291.77,37.03],[291.26,34.76],[290.94,32.35],[290.84,29.8],[290.95,27.37],[291.28,25.03],[291.82,22.81],[292.56,20.71],[293.49,18.74],[294.6,16.9],[295.89,15.2],[297.34,13.65],[298.95,12.25],[300.7,11.02],[302.59,9.95],[304.61,9.07],[306.75,8.36],[308.99,7.85],[311.35,7.54],[313.79,7.44],[316.39,7.54],[319.12,7.84],[321.8,8.34],[323.07,8.68],[324.26,9.06],[323.87,14.78],[322.83,14.35],[321.72,13.98],[320.56,13.67],
[318.15,13.21],[315.74,12.99],[314.57,12.96],[312.71,13.05],[310.96,13.29],[309.3,13.69],[307.74,14.23],[306.29,14.92],[304.95,15.74],[303.72,16.68],[302.61,17.75],[301.61,18.93],[300.74,20.22],[299.99,21.6],[299.37,23.08],[298.89,24.65],[298.54,26.3],[298.32,28.02],[298.25,29.8],[298.32,31.64],[298.52,33.4],[298.86,35.08],[299.33,36.66],[299.92,38.15],[300.65,39.53],[301.5,40.81],[302.47,41.98],[303.56,43.03],[304.77,43.95],[306.1,44.75],[307.55,45.42],[309.11,45.95],[310.78,46.33],[312.55,46.56],
[315.06,46.64],[317.54,46.48],[319.96,46.09],[321.15,45.8],[322.31,45.44],[324,44.76],[324.39,50.28],[324.39,50.28]],[[340.38,35.72],[340.42,36.88],[340.53,38],[340.73,39.07],[341,40.09],[341.34,41.05],[341.77,41.95],[342.27,42.78],[342.85,43.55],[343.51,44.24],[344.25,44.85],[345.08,45.38],[345.98,45.82],[346.96,46.17],[348.02,46.43],[349.17,46.59],[350.39,46.64],[351.62,46.59],[352.77,46.43],[353.84,46.18],[354.82,45.83],[355.73,45.39],[356.55,44.87],[357.3,44.26],[357.97,43.57],[358.56,42.81],
[359.07,41.98],[359.5,41.08],[359.85,40.11],[360.12,39.09],[360.32,38.02],[360.43,36.89],[360.47,8.09],[367.56,8.09],[367.48,37.57],[367.23,39.37],[366.84,41.07],[366.29,42.65],[365.61,44.12],[364.78,45.48],[363.83,46.72],[362.75,47.84],[361.55,48.83],[360.24,49.7],[358.82,50.45],[357.3,51.06],[355.69,51.54],[353.98,51.89],[352.19,52.1],[350.33,52.17],[348.47,52.1],[346.69,51.9],[344.99,51.57],[343.39,51.1],[341.88,50.51],[340.48,49.78],[339.19,48.93],[338.01,47.96],[336.95,46.86],[336.01,45.64],
[335.2,44.3],[334.53,42.84],[334,41.27],[333.61,39.57],[333.37,37.77],[333.29,8.09],[340.38,8.09],[340.38,35.72],[340.38,35.72]],[[379.46,51.45],[379.46,8.09],[386.55,8.09],[386.55,51.45],[379.46,51.45],[379.46,51.45]],[[407.61,51.45],[407.61,13.94],[394.41,13.94],[394.41,8.09],[427.96,8.09],[427.96,13.94],[414.7,13.94],[414.7,51.45],[407.61,51.45]],[[434.72,44.37],[435.99,44.98],[437.24,45.49],[438.49,45.92],[439.76,46.26],[441.06,46.52],[442.39,46.7],[445.19,46.84],[445.97,46.81],[446.75,46.74],
[447.51,46.62],[448.25,46.45],[448.97,46.23],[449.65,45.95],[450.31,45.61],[450.91,45.21],[451.47,44.76],[451.98,44.23],[452.42,43.65],[452.8,43],[453.1,42.28],[453.33,41.49],[453.47,40.62],[453.52,39.69],[453.48,38.94],[453.36,38.25],[453.17,37.61],[452.91,37],[452.59,36.44],[452.21,35.91],[451.78,35.42],[451.29,34.96],[450.75,34.52],[449.56,33.7],[441.87,29.86],[440.37,29],[438.99,28.03],[438.35,27.49],[437.75,26.92],[437.2,26.31],[436.7,25.65],[436.25,24.95],[435.86,24.19],[435.53,23.38],[435.27,
22.51],[435.08,21.59],[434.96,20.59],[434.92,19.53],[435.01,17.98],[435.25,16.55],[435.65,15.23],[436.19,14.02],[436.86,12.92],[437.64,11.93],[438.53,11.05],[439.5,10.27],[440.56,9.58],[441.68,9],[442.86,8.51],[444.08,8.12],[445.33,7.82],[446.61,7.61],[447.88,7.48],[451.14,7.49],[453.67,7.7],[456.09,8.08],[458.98,8.8],[458.59,14.52],[457.52,14.09],[456.41,13.73],[455.27,13.43],[452.96,13],[450.66,12.79],[448.86,12.79],[448.17,12.85],[447.48,12.94],[446.79,13.09],[446.13,13.28],[445.48,13.52],[444.86,
13.81],[444.28,14.15],[443.74,14.55],[443.26,15.01],[442.82,15.53],[442.45,16.12],[442.16,16.77],[441.93,17.49],[441.79,18.28],[441.75,19.14],[441.78,19.79],[441.88,20.39],[442.03,20.95],[442.24,21.48],[442.51,21.96],[442.82,22.42],[443.18,22.84],[443.58,23.24],[444.01,23.62],[444.48,23.98],[445.5,24.63],[453.24,28.38],[454.97,29.38],[455.77,29.91],[456.53,30.48],[457.23,31.09],[457.88,31.75],[458.47,32.45],[458.99,33.21],[459.45,34.04],[459.83,34.93],[460.13,35.9],[460.35,36.94],[460.49,38.08],[460.54,
39.3],[460.46,40.9],[460.23,42.39],[459.86,43.77],[459.36,45.04],[458.73,46.2],[457.98,47.25],[457.12,48.2],[456.15,49.05],[455.08,49.79],[453.93,50.43],[452.69,50.96],[451.38,51.4],[449.99,51.74],[448.55,51.98],[447.06,52.12],[444.88,52.16],[442.19,52.01],[439.37,51.64],[436.51,51.03],[434.4,50.41],[434.72,44.37],[434.72,44.37]]]);function zc(a){this.tw={};for(var b in a){for(var c=new y,d=0;d<a[b].length;d++)c.add(new cc(a[b][d]));for(var e=Number.POSITIVE_INFINITY,k=Number.NEGATIVE_INFINITY,l=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,d=0;d<a[b].length;d++)for(var q=a[b][d],r=0;r<q.length;r++){var t=q[r];t[0]<e&&(e=t[0]);t[0]>k&&(k=t[0]);t[1]<l&&(l=t[1]);t[1]>n&&(n=t[1])}c.width=k-e;this.tw[b]=c}this.tw[" "].fe()}function Ac(a,b){return a.tw[b]?a.tw[b]:a.tw.C}
function Bc(a,b,c){for(var d=new J(0,0),e=new y,k=0,l=0;l<b.length;l++){var n=b.charAt(l),q=Ac(a,n),k=k+c*q.width/9;l!==b.length-1&&(k+=4*c/9)}d=d.add(new J(-k/2,12*c/9/2));for(l=0;l<b.length;l++)n=b.charAt(l),q=Ac(a,n),e.ib(Cc(a,n,d,c,2*c/9)),d=d.add(new J(c*(q.width+4)/9,0));return e}zc.prototype.getBBox=function(a,b){for(var c=0,d=0;d<a.length;d++)c+=b*Ac(this,a.charAt(d)).width/9,d!==a.length-1&&(c+=4*b/9);d=12*b/9;return new Zb(-c/2,-d/2,c,d)};
function Cc(a,b,c,d,e){var k=new y;a=Ac(a,b);void 0!==a&&a.forEach(function(a){a=a.scale(d/9,-d/9).translate(c);a.width=e;k.add(a)});return k}function Dc(a){var b="";a.forEach(function(a){for(var d="M",e=0;e<a.xa.length;e++)var k=a.xa[e],d=d+(" "+k.x+","+k.y);b+='<path d="'+d+'" style="fill:none;stroke-linecap:round;stroke-linejoin:round;stroke-width:'+a.width+'" />\n'});return b}
var Ec=new zc({a:[[[1.5,9],[6,9],[8.5,7],[8.5,0],[2,0],[0,2.5],[2,5],[8.5,5]]],b:[[[0,12],[0,0],[6.5,0],[9,2],[9,6.5],[6.5,9],[3,9],[0,6]]],c:[[[9,6.5],[9,7],[6.5,9],[2.5,9],[0,6.5],[0,2.5],[2.5,0],[6.5,0],[9,2],[9,2.5]]],d:[[[9,12],[9,0],[2.5,0],[0,2.5],[0,6.5],[2.5,9],[6,9],[9,6]]],e:[[[8,0],[2.5,0],[0,2.5],[0,6.5],[2.5,9],[6.5,9],[9,6.5],[9,4.5],[0,4.5]]],f:[[[2,0],[2,10],[4,12],[6,12],[8,10],[8,9.5]],[[0,5],[4,5]]],g:[[[9,9],[9,-1.5],[7.5,-3],[2.5,-3]],[[9,1],[2,1],[0,3],[0,6.5],[2.5,9],[6,9],
[9,6]]],h:[[[0,0],[0,12]],[[8,0],[8,6.5],[5.5,9],[3,9],[0,6.5]]],i:[[[1,12],[1,12]],[[0,9],[1,9],[1,0]],[[0,0],[2,0]]],j:[[[5,12],[5,12]],[[4,9],[5,9],[5,-1.5],[3.5,-3],[1.5,-3],[0,-1.5],[0,0]]],k:[[[0,0],[0,12]],[[0,1.5],[8,8.5],[8,9]],[[4,5],[8,.5],[8,0]]],l:[[[0,12],[2,12],[2,0]],[[0,0],[4,0]]],m:[[[0,9],[0,0]],[[0,6.5],[2.5,9],[4.5,9],[6,7.5],[6,0]],[[6,7.5],[7,9],[9.5,9],[12,6.5],[12,0]]],n:[[[0,0],[0,9]],[[0,6],[3,9],[6.5,9],[9,6.5],[9,0]]],o:[[[0,2.5],[0,6.5],[2.5,9],[6.5,9],[9,6.5],[9,2.5],
[6.5,0],[2.5,0],[0,2.5]]],p:[[[0,-3],[0,9]],[[0,6.5],[2.5,9],[6.5,9],[9,6.5],[9,4],[6.5,1.5],[2.5,1.5],[0,4]]],q:[[[9,-3],[9,9]],[[9,4],[6.5,1.5],[2.5,1.5],[0,4],[0,6.5],[2.5,9],[6.5,9],[9,6.5]]],r:[[[0,0],[0,9]],[[0,5],[3.5,9],[7.5,9],[9,7.5],[9,7]]],s:[[[0,2],[0,1.5],[1.5,0],[7.5,0],[9,1.5],[9,3],[7.5,4.5],[1.5,4.5],[0,6],[0,7.5],[1.5,9],[7.5,9],[9,7.5],[9,7]]],t:[[[1.5,12],[1.5,2],[3.5,0],[6.5,0],[8,1.5],[8,2]],[[0,9],[4,9]]],u:[[[9,9],[9,0]],[[0,9],[0,2.5],[2.5,0],[6.5,0],[9,2.5]]],v:[[[0,9],
[0,4],[4,0],[5,0],[9,4],[9,9]]],w:[[[0,9],[0,4],[2.5,0],[3.5,0],[6,3],[8.5,0],[9.5,0],[12,4],[12,9]],[[6,4],[6,3]]],x:[[[0,0],[0,.5],[9,8.5],[9,9]],[[0,9],[0,8.5],[9,.5],[9,0]]],y:[[[9,9],[9,-1.5],[7.5,-3],[2,-3]],[[0,9],[0,3.5],[2,1.5],[9,1.5]]],z:[[[0,9],[9,9],[9,8.5],[0,.5],[0,0],[9,0]]],A:[[[0,0],[0,6],[4,12],[5,12],[9,6],[9,0]],[[0,3],[9,3]]],B:[[[0,0],[0,12],[7,12],[9,10],[9,8],[7,6],[0,6]],[[7,6],[9,4],[9,2],[7,0],[0,0]]],C:[[[9,3],[9,2],[7,0],[2,0],[0,2],[0,10],[2,12],[7,12],[9,10],[9,9]]],
D:[[[0,0],[0,12],[7,12],[9,10],[9,2],[7,0],[0,0]]],E:[[[7,0],[0,0],[0,12],[7,12]],[[6,6],[0,6]]],F:[[[0,0],[0,12],[7,12]],[[6,6],[0,6]]],G:[[[5.5,5],[9,5],[9,2],[7,0],[2,0],[0,2],[0,10],[2,12],[7,12],[9,10],[9,9]]],H:[[[0,0],[0,12]],[[0,6],[8,6]],[[8,0],[8,12]]],I:[[[1.5,0],[1.5,12]],[[0,0],[3,0]],[[0,12],[3,12]]],J:[[[0,3],[0,2],[2,0],[5,0],[7,2],[7,12]],[[5,12],[8,12]]],K:[[[0,0],[0,12]],[[0,4],[8,11.5],[8,12]],[[8,0],[8,.5],[3,6.5]]],L:[[[7,0],[0,0],[0,12]]],M:[[[0,0],[0,12]],[[0,11.5],[5.5,7.5],
[11,11.5]],[[11,12],[11,0]]],N:[[[0,0],[0,12]],[[0,11],[8,3.5]],[[8,0],[8,12]]],O:[[[2,0],[0,2],[0,10],[2,12],[7,12],[9,10],[9,2],[7,0],[2,0]]],P:[[[0,0],[0,12],[6,12],[8,10],[8,8],[6,6],[0,6]]],Q:[[[2,0],[0,2],[0,10],[2,12],[7,12],[9,10],[9,3.5],[5,0],[2,0]],[[5.5,3.5],[9,0]]],R:[[[0,0],[0,12],[6,12],[8,10],[8,8],[6,6],[0,6]],[[6,6],[8,4],[8,0]]],S:[[[0,2],[2,0],[7,0],[9,2],[9,4],[7,6],[2,6],[0,8],[0,10],[2,12],[7,12],[9,10]]],T:[[[4,0],[4,12]],[[0,12],[8,12]]],U:[[[0,12],[0,1.5],[1.5,0],[6.5,0],
[8,1.5],[8,12]]],V:[[[0,12],[0,5],[4,0],[8,5],[8,12]]],W:[[[0,12],[0,4],[3,0],[5.5,3],[8,0],[11,4],[11,12]],[[5.5,3],[5.5,6]]],X:[[[0,0],[0,.5],[9,11.5],[9,12]],[[0,12],[0,11.5],[9,.5],[9,0]]],Y:[[[0,12],[0,11],[4.5,5]],[[4.5,0],[4.5,5],[9,11],[9,12]]],Z:[[[9,0],[0,0],[0,1],[9,11],[9,12],[0,12]]],0:[[[1.5,0],[0,1.5],[0,10.5],[1.5,12],[5.5,12],[7,10.5],[7,1.5],[5.5,0],[1.5,0]],[[0,3],[7,9]]],1:[[[2.5,0],[2.5,12],[1.5,12],[0,10]],[[0,0],[4.5,0]]],2:[[[0,10],[0,10.5],[1.5,12],[5.5,12],[7,10.5],[7,7],
[0,0],[7,0]]],3:[[[0,10],[0,10.5],[1.5,12],[5.5,12],[7,10.5],[7,8.5],[4.5,6],[7,3.5],[7,1.5],[5.5,0],[1.5,0],[0,1.5],[0,2]],[[3,6],[4.5,6]]],4:[[[6,0],[6,12],[5,12],[0,4.5],[0,2.5],[7,2.5]]],5:[[[0,2],[0,1.5],[1.5,0],[5.5,0],[7,1.5],[7,5],[5.5,6.5],[0,6.5],[0,12],[6,12]]],6:[[[7,10],[7,10.5],[5.5,12],[1.5,12],[0,10.5],[0,1.5],[1.5,0],[5.5,0],[7,1.5],[7,4.5],[5.5,6],[0,6]]],7:[[[3,0],[3,4],[7,10],[7,12],[0,12]]],8:[[[5.5,6],[7,4.5],[7,1.5],[5.5,0],[1.5,0],[0,1.5],[0,4.5],[1.5,6],[5.5,6],[7,7.5],[7,
10.5],[5.5,12],[1.5,12],[0,10.5],[0,7.5],[1.5,6]]],9:[[[7,6],[1.5,6],[0,7.5],[0,10.5],[1.5,12],[5.5,12],[7,10.5],[7,1.5],[5.5,0],[1.5,0]]]," ":[[[0,0],[9,0]]],"+":[[[0,5.2],[7,5.2]],[[3.5,1.65],[3.5,8.75]]],".":[[[0,0],[.35,0],[.35,.35],[0,0]]],"-":[[[0,5.2],[7,5.2]]]});function Fc(a,b){var c=50*Math.round(b/50);return(450>=c?c+100:c+150)+2*a.BM};var Gc=new function(){this.ci=153;this.BM=178;this.XP=382};var Hc={toString:function(){function a(a){switch(a){case 8:return"backspace";case 9:return"tab";case 27:return"escape";case 32:return"space";case 46:return"delete";case 187:return"plus";case 189:return"minus";case 37:return"left";case 38:return"up";case 39:return"right";case 40:return"down";default:return String.fromCharCode(a).toLowerCase()}}for(var b=[],c=0;c<arguments.length;c++)b.push(a(arguments[c]));return b.join("+")}};SvgHelpers={ug:function(a){a=a.parentNode;if(!a)return"";var b=$(a).attr("transform");b||(b="");return"svg"==a.tagName?b:SvgHelpers.ug(a)+b},eO:function(a,b,c){for(var d=$(),e=[],k=0;k<c.length;k++){var l=c[k],n=l.parentNode,q=null,r;for(r in e)if(n==e[r].parent){q=e[r].group;break}if(!q){var t=SvgHelpers.ug(l),q=a.group(b);""!=t&&$(q).attr("transform",t);e.push({parent:n,group:q})}d=d.add(a.clone(q,l))}return d},f7:function(a){var b={translate:{x:0,y:0},rotate:{Oa:0,x:0,y:0},scale:{x:1,y:1}};if(!a)return b;
var c=a.match(/translate\(([-+]?[0-9]*\.?[0-9]+)(?:(?: +| *\, *)([-+]?[0-9]*\.?[0-9]+))?\)/);c&&(c[1]&&(b.translate.x=parseFloat(c[1])),c[2]&&(b.translate.y=parseFloat(c[2])));if(c=a.match(/rotate\(([-+]?[0-9]*\.?[0-9]+)(?:(?:(?: +| *\, *)([-+]?[0-9]*\.?[0-9]+))(?:(?: +| *\, *)([-+]?[0-9]*\.?[0-9]+)))?\)/))c[1]&&(b.rotate.Oa=parseFloat(c[1])),c[2]&&(b.rotate.x=parseFloat(c[2])),c[3]&&(b.rotate.y=parseFloat(c[3]));if(a=a.match(/scale\(([-+]?[0-9]*\.?[0-9]+)(?:(?: +| *\, *)([-+]?[0-9]*\.?[0-9]+))?\)/))a[1]&&
(b.scale.x=parseFloat(a[1])),a[2]&&(b.scale.x=parseFloat(a[2]));return b},e7:function(a,b){b.attr("stroke")?a.color&&a.color(b.attr("stroke")):a.color&&a.color(b.css("stroke"));"none"===b.attr("fill")||"none"===b.css("fill")?(a.fill&&a.fill(!1),a.fillcolor&&(a.fillcolor=a.color)):b.attr("fill")?(a.fill&&a.fill(!0),a.fillcolor&&(a.fillcolor=b.attr("fill"))):(a.fill&&a.fill(!0),a.fillcolor&&(a.fillcolor=b.css("fill")),""==a.fillcolor&&(a.fill&&a.fill(!1),a.fillcolor&&(a.fillcolor=a.color)));b.attr("stroke-width")?
a.qc&&a.qc(parseInt(b.attr("stroke-width"))):b.css("stroke-width")&&a.qc&&a.qc(parseInt(b.css("stroke-width")));b.css("fill","");b.css("stroke-width","");b.css("stroke","");b.attr("style")&&a.style&&(a.style=b.attr("style"))}};function Ic(a){var b=this;this.va(a);this.state=this.value("state","idle",!1,!0);this.Uf=this.value("viewX",null,!1,!0);this.Vf=this.value("viewY",null,!1,!0);this.ab=this.value("viewS",null,!1,!0);this.Uf(0);this.Vf(0);this.ab(1);this.HB=this.value("holderDimensions",void 0,!1,!0);this.origin=this.value("origin",null,!0,!1);this.Iw=this.value("defaultWorkPlane",new Zb(0,0,400,400),!1,!0);this.Xh=this.value("tool",null,!1,!0);this.Xh("select");this.selection=this.set("selection",!0,!1);this.fh=this.set("selectionHandles",
!0,!1);this.LC=this.value("selection_box_start",null,!1,!0);this.Uk=this.value("selection_box_end",null,!1,!0);this.Zm=this.set("elementsInFocus",!0,!1);this.Gd=this.value("snap_info",void 0,!1,!1);this.focus=this.value("focus",!0,!1,!0);this.cy=this.value("searchFocusTrigger",null,!1,!0);this.SB=this.map("interactionModels",!0,!0);this.Ir=.2;this.Hr=10;this.FC=90;this.Uk.ka("model",function(){if(null!==b.Uk()&&(b.lc(),null!==b.Uk())){var a=(new ec([b.LC(),b.Uk()])).Pe(),a=b.xB(a);b.selection.ib(a)}},
10)}extend(Ic,C);function Jc(a,b,c,d){function e(a){if(a.constructor==b){var c=a.q1(d);k.SB.put(a.Rb,c);a.Hk("interactionModel",function(){k.SB.remove(a.Rb)},100)}}var k=a;a=c.constructor==Array?c:[c];for(var l in a)a[l].Xg()?(a[l].forEach(e),a[l].kc({},function(a,b){e(b)},1)):a[l].wh()?(a[l].forEach(function(a,b){e(b)}),a[l].kc({},function(a,b,c){e(c)},1)):a[l].isMap()&&(a[l].forEach(function(a,b){e(b)}),a[l].kc({},function(a,b,c){e(c)},1))}f=Ic.prototype;
f.zoom=function(a,b,c){var d=0,e=0,k=1;0>a?(d=(1/.9-1)*b/this.ab(),e=(1/.9-1)*c/this.ab(),k=.9):(d=(.9-1)*b/this.ab(),e=(.9-1)*c/this.ab(),k=1/.9);this.ab()*k<this.Ir?(this.Uf(this.Uf()+(this.ab()/this.Ir-1)*b/this.ab()),this.Vf(this.Vf()+(this.ab()/this.Ir-1)*c/this.ab()),this.ab(this.Ir)):this.ab()*k>this.Hr?(this.Uf(this.Uf()+(this.ab()/this.Hr-1)*b/this.ab()),this.Vf(this.Vf()+(this.ab()/this.Hr-1)*c/this.ab()),this.ab(this.Hr)):(this.Uf(this.Uf()+d),this.Vf(this.Vf()+e),this.ab(this.ab()*k))};
function Kc(a,b){var c=a.HB().height,d=a.HB().width/2;a.zoom(b,d,c/2)}function Lc(a){var b=null;a.selection.forEach(function(a){(a=a&&a.If&&a.If())&&(b=a.merge(b))});b&&Mc(a,b.scale(1.2))}function Oc(a){var b=a.If&&a.If(),b=b?b.scale(1.2):a.Iw().scale(1.05);Mc(a,b)}
function Mc(a,b){var c=a.HB();0!=b.width*b.height&&0!=c.width*c.height&&(c.width/b.width>c.height/b.height?a.ab(c.height/b.height):a.ab(c.width/b.width),a.ab()<a.Ir?a.ab(a.Ir):a.ab()>a.Hr&&a.ab(a.Hr),a.Uf(-b.x+.5*(c.width-b.width*a.ab())/a.ab()),a.Vf(-b.y+.5*(c.height-b.height*a.ab())/a.ab()))}f.Cu=function(a,b,c){this.Uf(a);this.Vf(b);this.ab(c)};function Pc(a,b,c){a.Uf(a.Uf()+b);a.Vf(a.Vf()+c);a.ab(1*a.ab())}function Qc(a){if(!a.Kc){var b=a.Tg();a.Kc=b.Kc;a.$c=b.$c}}
function Rc(a,b){a.$c=new P;a.$c.add(b,1);var c=Sc(a.$c,a.Kc,4/a.ab());c?(a.Gd(c),a.Rf=c.My):(a.Gd(null),a.Rf=new J(0,0));return b.add(a.Rf)}function Tc(a,b,c){var d=a.Kc,e=new P;c.forEach(function(a){e.add(new M(Ub,a),1);e.add(new M(Vb,a),1)});a.Kc=e;b=Rc(a,b);a.Kc=d;return b}f.lc=function(){this.selection.fe();this.fh.fe()};
function Uc(a){var b=a.qq();a.selection.forEach(function(a){b.remove(a)});b=b.filter(function(a){return 1E6!==(a.parent&&a.parent()&&a.parent().Oh&&a.parent().Oh())});a.lc();a.selection.ib(b)}function Vc(a,b){"undefined"===typeof b&&(b=1);var c=0<b?a.FC:-a.FC,d=new y,e=new ec;Wc(a).forEach(function(a){a&&a.rotate&&a.Ec&&(d.add(a),e.add(a.Ec()))});var k=e.yl();d.forEach(function(a){a.rotate(c,k)})}f.CC=function(){var a=this.selection.Eb();this.lc();a.forEach(function(a){void 0!==a.remove&&a.remove()})};
f.Tg=function(){function a(a,b){var c=new P;if(a)if(a.forEach)a.forEach(function(a){try{c.ib(a.td(b))}catch(d){ka("selectable.getSnapSet",d)}});else try{c.ib(a.td(b))}catch(l){ka("selectables.getSnapSet",l)}return c}var b=this.Nt().fe(this.selection),b=a(b,Xc),c=a(this.fh,Yc);b.ib(function(a,b,c){var l=new P;if(a)if(a.forEach)a.forEach(function(a){if(a.Mt)try{l.ib(a.Mt(b,c))}catch(d){ka("selectable.getSelfSnapSet",d)}});else if(a.Mt)try{l.ib(a.Mt(b,c))}catch(n){ka("selectable.getSelfSnapSet",n)}return l}(this.fh,
this.selection,Yc));return{Kc:b,$c:c}};f.Nt=function(){return new y};function Zc(a,b){var c=new J(0,0),c=c.sub(a.Rf),c=c.add(b);a.$c.move(b);var d=Sc(a.$c,a.Kc,4/a.ab());d?(a.Gd(d),a.Rf=d.My):(a.Gd(null),a.Rf=new J(0,0));c=c.add(a.Rf);Wc(a).forEach(function(a){a.Jc&&a.Jc(c)});return c}function Wc(a){var b=a.selection.values();a.selection.forEach(function(a){var d=a.parent();d&&(d=b.indexOf(d),0<=d&&b.splice(d,1));if(a=a.data)d=b.indexOf(a),0<=d&&b.splice(d,1)});return b}
function $c(a,b){a.selection.forEach(function(a){a.Jc&&a.Jc(b)});a.Gd(null);a.Rf=new J(0,0)}f.xB=function(){};f.qq=function(){};f.Ql=function(){};f.rn=function(){};f.$v=function(){};function Q(a,b){return new J(b.x/a.ab()-a.Uf(),b.y/a.ab()-a.Vf())}f.CR=function(){return!0};f.mI=function(){};f.oI=function(){};f.Mp=function(){};function ad(a,b,c,d){this.jd();this.va(a);this.ba=b;this.position=this.value("position",new J(0,0),!1,!0);this.Iu=["um","mm","mil"];this.ax=this.value("grid_value",100,!1,!0);this.Qt=this.value("grid_unit","mil",!1,!0);this.Pt=this.value("grid_show",!0,!1,!0);this.VZ=this.value("grid_thickness",1,!1,!0);this.de(!0);1>=arguments.length||(c&&this.position(c),d&&(this.Iu=d))}extend(ad,Ga);extend(ad,C);extend(ad,ta);u(71,"OriginModel",ad);ad.prototype.Jc=function(a){this.position(this.position().add(a))};
function bd(a){var b=1;switch(a.Qt()){case "mil":b=25.4;break;case "mm":b=1E3}return b}function cd(a){return a.ax()*bd(a)}ad.prototype.vI=function(a){var b=cd(this);return new J(a*b,a*b)};
function dd(a){var b,c,d=new y,e=new y,k=a.position(),l=cd(a),n;n=a.ba;var q=n.origin().position();c=n.Iw();q=new Zb(q.x-c.width/2,q.y-c.height/2,c.width,c.height);(n=n.If&&n.If())?(c=(new J(n.x+n.width/2,n.y+n.height/2)).sub(new J(q.x+q.width/2,q.y+q.height/2)),c=new J((0>c.x?-1:1)*Math.min(Math.abs(c.x),q.width/2),(0>c.y?-1:1)*Math.min(Math.abs(c.y),q.height/2)),n=q.translate(c).scale(1.15).merge(n.scale(1.15))):n=q;q=ac(n);n=bc(n);a=a.ba.ab()*l;var r=2<a?1:1<a?2:.4<a?5:10*Math.pow(2,Math.ceil(Math.log(.2/
a)*Math.LOG2E));if(0!==l){b=k.x;for(a=0;b<=n.x;)b>=q.x&&0==a%r&&(c={Wj:b,Xj:q.y,Vn:b,Wn:n.y,index:a},e.add(c)),b+=l,a++;b=k.x-l;for(a=-1;b>=q.x;)b<=n.x&&0==a%r&&(c={Wj:b,Xj:q.y,Vn:b,Wn:n.y,index:a},e.add(c)),b-=l,a--;b=k.y;for(a=0;b<=n.y;)b>=q.y&&0==a%r&&(c={Wj:q.x,Xj:b,Vn:n.x,Wn:b,index:a},d.add(c)),b+=l,a++;b=k.y-l;for(a=-1;b>=q.y;)b<=n.y&&0==a%r&&(c={Wj:q.x,Xj:b,Vn:n.x,Wn:b,index:a},d.add(c)),b-=l,a--}return{ex:d,Ny:e}}
ad.prototype.td=function(a){var b=new P;a===Yc&&b.add(this.position().Eb(),1);a!==Xc&&a!==ed||!this.Pt()||(a=dd(this),a.Ny.forEach(function(a){fd(b,new J(a.Wj,0))}),a.ex.forEach(function(a){gd(b,new J(0,a.Xj))}));return b};function hd(a,b,c,d,e){var k=this;this.mode=a;this.root=b;this.ba=c;D.call(this,d,e);lb({vE:{id:"abs_0",name:"GUI_MOUSE_WHEEL",Eq:!0},of:{id:"abs_1",name:"GUI_MOUSE_PAN"},Od:{id:"abs_2",name:"GUI_MOUSE_MOVE",Zt:!0},He:{id:"abs_3",name:"GUI_MOUSE_UP"},AE:{id:"abs_4",name:"GUI_TRANSFORM_START"},yE:{id:"abs_5",name:"GUI_TRANSFORM"},zE:{id:"abs_6",name:"GUI_TRANSFORM_END"},kM:{id:"abs_7",name:"GUI_TOUCH_PAN_START"},wE:{id:"abs_8",name:"GUI_TOUCH_PAN"},xE:{id:"abs_9",name:"GUI_TOUCH_PAN_END"},jM:{id:"abs_10",
name:"GUI_TIMER"},sm:{id:"abs_11",name:"GUI_KEY_PRESSED"},gc:{id:"abs_12",name:"ELEMENT_MOUSE_DOWN"},aM:{id:"abs_13",name:"ELEMENT_MOUSE_DOWN_VIEWMODUS"},FG:{id:"abs_14",name:"TERMINAL_MOUSE_DOWN"},pF:{id:"abs_15",name:"NODE_MOUSE_DOWN"},dN:{id:"abs_16",name:"TERMINAL_MOUSE_OVER",Zt:!0},cN:{id:"abs_17",name:"TERMINAL_MOUSE_OUT",Zt:!0},zz:{id:"abs_18",name:"INSPECTOR_FOCUS"},fz:{id:"abs_19",name:"CHANGE_PROPERTY"},tl:{id:"abs_20",name:"ZOOM_TO_FIT_BUTTON",Eq:!0},xs:{id:"abs_21",name:"REMOVE_BUTTON",
Ed:!0},hM:{id:"abs_22",name:"FLIP_HOR_BUTTON",Ed:!0},iM:{id:"abs_23",name:"FLIP_VER_BUTTON",Ed:!0},zv:{id:"abs_24",name:"ROTATE_BUTTON",Ed:!0},Ps:{id:"abs_25",name:"UNDO_BUTTON",Ed:!0},yv:{id:"abs_26",name:"REDO_BUTTON",Ed:!0},ng:{id:"abs_27",name:"SET_TOOL",Ed:!0},iW:{id:"abs_28",name:"RECORDER_VIEW_BUTTON",Ed:!0},lM:{id:"abs_29",name:"HOLDER_RESIZE"},Fm:{id:"abs_30",name:"ZOOM_TO_FIT_EDITOR"}});this.Xn=new jd(b,this.ba);this.append("zooming",this.Xn,"select",null,"select",null);this.cC=new kd(b,
this.ba);this.append("moving",this.cC,"select",null,"select",null);this.ou=new ld(b,this.ba);this.append("panning",this.ou,"select",null,"select",null);this.mode===R&&(this.m1=new md(b,this.ba),this.append("selecting",this.m1,"select",null,"select",null));this.yH=new nd(b,this.ba);this.append("changing_property",this.yH,"select",null,"select",null);this.c0=new od(b,this.ba);this.append("key_moving",this.c0,"select",null,"select",null);a=new qd(b,this.ba);this.append("copying",a,"select",null,"select",
null);F(k,"select","select",function(a){return(a.type()==H.xs||a.Mb("delete","backspace"))&&0<k.ba.selection.size()},function(){k.root.Vb();k.ba.CC();k.root.Xb()},"Delete selection");F(k,"select","select",function(a){return(a.type()==H.zv||a.Mb("r","S_r"))&&0<k.ba.selection.size()},function(a){k.root.Vb();k.ba.Ql();a=a.data("shiftKey")?-1:1;Vc(k.ba,a);k.ba.rn();k.root.Xb()},"Rotate selection");F(k,"select","select",function(a){return a.Mb("C_i")},function(){Uc(k.ba)},"Invert selection");this.lc=function(){k.ba.lc();
k.ba.Zm.fe()};F(k,"select","select",function(a){return a.Mb("C_d")},this.lc,"Empty selection");this.hI=F(k,"select","select",function(a){return a.Mb("escape")},this.lc,"Escape pressed");this.ou.kC.Yf(this.lc);F(k,"select","select",function(a){return a.Mb("C_f")},function(){k.ba.cy(!k.ba.cy())},"Search Box focus")}hd.prototype=inherit(D.prototype);hd.prototype.constructor=hd;function P(){this.vb=new y;this.index=null}P.prototype.add=function(a,b,c,d,e,k,l){var n={};n.oc=a;n.gr=b;n.range=c||0;n.Ul=k||0;n.key=l;n.Bx=d?d:[a];n.parent=e;this.vb.add(n)};function gd(a,b){a.add(new M(Ub,b),1)}function fd(a,b){a.add(new M(Vb,b),1)}P.prototype.ib=function(a){this.vb.ib(a.vb)};P.prototype.move=function(a){this.vb.forEach(function(b){b.oc.move(a)})};
function rd(a){null===a.index&&(a.index=new jsts.index.strtree.STRtree,a.vb.forEach(function(b){a.index.insert(b.oc.getEnvelopeInternal(b.range),b)}))}P.prototype.query=function(a,b){return this.index.query(a.getEnvelopeInternal(b))};
function Sc(a,b,c){var d=[];rd(b);a.vb.forEach(function(a){for(var e=b.query(a.oc,c),k=0;k<e.length;k++){var r=e[k];if(!a.key||a.key==r.key){var t=a.oc.Ph(r.oc);if(null!==t){var v=t.length()-a.range/2-r.range/2;if(v<c){var x={};x.Lc=r;x.Hc=a;x.eB=v;x.gr=r.gr+a.gr;x.Rx=0>=r.Ul*a.Ul;x.My=x.Rx?t:t.Qb(1-(a.range/2+r.range/2+c)/t.length());x.Rx&&null!=a.key&&null!=r.key&&a.key!=r.key||d.push(x)}}}}});d.sort(function(a,b){return 0===b.gr-a.gr?b.Rx==a.Rx?a.eB-b.eB:b.Rx?-1:1:b.gr-a.gr});if(1<d.length&&d[0].Lc.oc.constructor===
M){for(a=1;a<d.length;a++){if(30<a)return d[0];if(d[a].Lc.oc.constructor===M&&!d[0].Lc.oc.Jk(d[a].Lc.oc))break}if(a==d.length)return d[0];var e=d[0].Lc.oc.intersection(d[a].Lc.oc),k={Lc:{}};k.Lc.oc=e;k.Lc.Bx=[d[0].Lc.oc,d[a].Lc.oc];d[0].Hc.oc.constructor==M&&d[a].Hc.oc.constructor==J?(k.Hc={},k.Hc.oc=d[0].Hc.oc.Ui(d[a].Hc.oc),k.Hc.Bx=[d[0].Lc.oc,d[a].Lc.oc]):d[a].Hc.oc.constructor==M&&d[0].Hc.oc.constructor==J?(k.Hc={},k.Hc.oc=d[a].Hc.oc.Ui(d[0].Hc.oc),k.Hc.Bx=[d[0].Lc.oc,d[a].Lc.oc]):d[a].Hc.oc.constructor==
M&&d[0].Hc.oc.constructor==M?(k.Hc={},k.Hc.oc=d[a].Hc.oc.intersection(d[0].Hc.oc),k.Hc.Bx=[d[0].Lc.oc,d[a].Lc.oc]):k.Hc=d[0].Hc;k.My=k.Hc.oc.Ph(e);k.eB=k.My.length();return k.eB>c?d[0]:k}return d[0]};function ld(a,b){var c=this;c.root=a;c.ba=b;D.call(c);this.kC=F(c,"idle","mouse_down",function(a){return a.type()==H.of&&!a.data("shiftKey")},function(a){c.ny=a.data("mouseCoord").lb();c.oy=a.data("mouseCoord").pb()},"Start panning");F(c,"idle","mouse_down",function(a){return a.type()==H.aM},function(a){a.data("notFocusable")||c.ba.Zm.add(a.element());c.ny=a.data("mouseCoord").lb();c.oy=a.data("mouseCoord").pb()});F(c,"mouse_down","panning",function(a){return a.type()==H.Od},function(a){Pc(c.ba,(a.data("mouseCoord").lb()-
c.ny)/c.ba.ab(),(a.data("mouseCoord").pb()-c.oy)/c.ba.ab());c.ny=a.data("mouseCoord").lb();c.oy=a.data("mouseCoord").pb()});this.AJ=F(c,"mouse_down","idle",function(a){return a.type()==H.He},function(){});F(c,"panning","panning",function(a){return a.type()==H.Od},function(a){Pc(c.ba,(a.data("mouseCoord").lb()-c.ny)/c.ba.ab(),(a.data("mouseCoord").pb()-c.oy)/c.ba.ab());c.ny=a.data("mouseCoord").lb();c.oy=a.data("mouseCoord").pb()});F(c,"panning","idle",function(a){return a.type()==H.He},function(){});
F(c,"idle","touching_canvas",function(a){return a.type()==H.kM},function(){c.Oy=c.ba.Uf();c.Py=c.ba.Vf()});F(c,"touching_canvas","idle",function(a){return a.type()==H.xE},function(){});F(c,"touching_canvas","touch_panning",function(a){return a.type()==H.wE},function(a){var b=c.Oy+a.data("gesture").deltaX/c.ba.ab();a=c.Py+a.data("gesture").deltaY/c.ba.ab();var k=c.ba.ab();c.ba.Cu(b,a,k)});F(c,"touch_panning","touch_panning",function(a){return a.type()==H.wE},function(a){var b=c.Oy+a.data("gesture").deltaX/
c.ba.ab();a=c.Py+a.data("gesture").deltaY/c.ba.ab();var k=c.ba.ab();c.ba.Cu(b,a,k)});F(c,"touching_panning","idle",function(a){return a.type()==H.xE},function(){})}ld.prototype=inherit(D.prototype);ld.prototype.constructor=ld;function jd(a,b){var c=this;c.root=a;c.ba=b;c.Ty=null;D.call(c);F(c,"idle","idle",function(a){return a.type()==H.vE},function(a){var b=a.data("intDelta"),k=a.data("mouseCoord").lb();a=a.data("mouseCoord").pb();c.ba.zoom(b,k,a)});F(c,"idle","idle",function(a){return a.Mb("C_plus")},function(a){Kc(c.ba,1);c.Ty&&c.Ty(a)});F(c,"idle","idle",function(a){return a.Mb("C_minus")},function(a){Kc(c.ba,-1);c.Ty&&c.Ty(a)});F(c,"idle","idle",function(a){return a.type()==H.tl||a.Mb("z","C_0")},function(){Oc(c.ba)});
F(c,"idle","idle",function(a){return a.Mb("C_9")},function(){Lc(c.ba)},"Zoom selection");F(c,"idle","zooming",function(a){return a.type()==H.AE},function(a){c.tD=c.ba.ab();c.Oy=c.ba.Uf();c.Py=c.ba.Vf();c.XN=a.data("gesture").pageX;c.YN=a.data("gesture").pageY});F(c,"zooming","zooming",function(a){return a.type()==H.yE},function(a){var b=a.data("gesture").scale,k=(1/b-1)*c.XN/c.tD,l=(1/b-1)*c.YN/c.tD;c.ba.ab(b*c.tD);c.ba.Uf(c.Oy+k+a.data("gesture").deltaX/c.ba.ab());c.ba.Vf(c.Py+l+a.data("gesture").deltaY/
c.ba.ab())});F(c,"zooming","idle",function(a){return a.type()==H.zE},function(a){c.tD=c.ba.ab();c.Oy=c.ba.Uf();c.Py=c.ba.Vf();c.XN=a.data("gesture").pageX;c.YN=a.data("gesture").pageY})}jd.prototype=inherit(D.prototype);jd.prototype.constructor=jd;function md(a,b){var c=this;c.root=a;c.ba=b;D.call(c);this.Xn=new jd(a,b);this.append("zooming",this.Xn,"selecting",null,"selecting",null);F(c,"idle","idle",function(a){return a.type()==H.gc&&a.data("shiftKey")},function(a){var b=a.timestamp();currentSelectable=a.element().vi&&!a.element().vi.Ml?a.element().vi:a.element();currentSelectable.QC&&currentSelectable==c.uC&&1E3>b-c.vC?currentSelectable.QC():c.ba.selection.contains(currentSelectable)?(c.ba.selection.remove(currentSelectable),c.uC=null,c.vC=
0):(c.ba.selection.add(currentSelectable),c.uC=currentSelectable,c.vC=b);a.data("notFocusable")||c.ba.Zm.add(currentSelectable)});F(c,"idle","selecting",function(a){return a.type()==H.of&&a.data("shiftKey")},function(a){c.ba.LC(Q(c.ba,a.data("mouseCoord")));c.ba.Uk(Q(c.ba,a.data("mouseCoord")))});F(c,"selecting","selecting",function(a){return a.type()==H.Od},function(a){c.ba.Uk(Q(c.ba,a.data("mouseCoord")))});F(c,"selecting","idle",function(a){return a.type()==H.He},function(){c.ba.Uk(null);c.ba.LC(null)})}
md.prototype=inherit(D.prototype);md.prototype.constructor=md;function kd(a,b){var c=this;c.root=a;c.ba=b;D.call(c);this.Xn=new jd(a,b);this.append("zooming",this.Xn,"moving",null,"moving",null);this.sZ=F(c,"idle","mouse_down",function(a){return a.type()==H.gc&&!a.data("shiftKey")},function(a){var b=a.timestamp(),k=a.element().vi&&!a.element().vi.Ml?a.element().vi:a.element();k.QC&&k==c.uC&&1E3>b-c.vC?k.QC():c.ba.selection.contains(k)||(c.ba.lc(),c.ba.selection.add(k),c.uC=k,c.vC=b);c.ba.fh.add(a.element());c.Xi=a.element();a.element("subelement")?(c.In=a.element("subelement"),
a.element().Dg=c.In):(c.In=null,a.element().Dg=null);a.data("notFocusable")||c.ba.Zm.add(k);c.zc=Q(c.ba,a.data("mouseCoord"))});this.aQ=F(c,"mouse_down","moving",function(a){return a.type()==H.Od},function(a){c.root.Vb();c.ba.Ql();c.ba.Rf=new J(0,0);var b=c.ba.Tg(c.Xi,c.In);c.ba.Kc=b.Kc;c.ba.$c=b.$c;Zc(c.ba,new J(0,0));a=Q(c.ba,a.data("mouseCoord"));var b=a.sub(c.zc),k=Zc(c.ba,b);c.ba.$v(k,b);c.zc=a});F(c,"mouse_down","idle",function(a){return a.type()==H.He},function(a){var b=a.timestamp();a=Q(c.ba,
a.data("mouseCoord"));c.Xi&&(c.Xi==c.ZQ&&500>b-c.YQ?(c.ZQ=null,c.YQ=0,c.Xi.hq&&c.Xi.hq(a,c.In)):(c.Xi.Dg=null,c.ZQ=c.Xi,c.YQ=b,c.Xi.st&&c.Xi.st(a,c.In)))});F(c,"moving","moving",function(a){return a.type()==H.Od},function(a){a=Q(c.ba,a.data("mouseCoord"));var b=a.sub(c.zc),k=Zc(c.ba,b);c.ba.$v(k,b);c.zc=a});F(c,"moving","mouseup",function(a){return a.type()==H.He},function(){});F(c,"moving","idle",function(a){return a.Mb("escape")},function(){c.xl(!0)});F(c,"mouseup","idle",function(){return!0},function(){c.xl(!1)});
F(c,"moving","moving",function(a){return a.Mb("r","S_r")},function(a){$c(c.ba,c.ba.Rf.Qb(-1));Vc(c.ba,a.event&&a.event.shiftKey?-1:1);a=c.ba.Tg(c.Xi,c.In);c.ba.Kc=a.Kc;c.ba.$c=a.$c});F(c,"moving","moving",function(a){return a.Mb("f","S_f")},function(a){$c(c.ba,c.ba.Rf.Qb(-1));a.event&&a.event.shiftKey?c.ba.mI():c.ba.oI();a=c.ba.Tg(c.Xi,c.In);c.ba.Kc=a.Kc;c.ba.$c=a.$c})}kd.prototype=inherit(D.prototype);kd.prototype.constructor=kd;
kd.prototype.xl=function(a){this.ba.Gd(null);this.ba.rn();a?(this.ba.lc(),this.root.lt()):($c(this.ba,new J(0,0)),this.root.Xb())};function od(a,b){var c=this;c.root=a;c.ba=b;c.vx=[];["up","down","left","right"].forEach(function(a){c.vx.push(a);c.vx.push("S_"+a)},c);c.Ma=null;D.call(c);F(c,"idle","moving",function(a){return a.Mb(c.vx)&&0<c.ba.selection.size()},function(a){c.root.Vb();c.ba.Ql();c.ba.Rf=new J(0,0);var b=Q(c.ba,a.data("mouseCoord"));c.zc=b;var b=b.sub(c.zc),k=c.ba.Tg(c.Xi,c.In);c.ba.Kc=k.Kc;c.ba.$c=k.$c;k=Zc(c.ba,b);c.ba.$v(k,b);c.move(a.data("keyCode"));sd(c)});F(c,"moving","moving",function(a){return a.Mb(c.vx)&&
0<c.ba.selection.size()},function(a){c.move(a.data("keyCode"));sd(c)});F(c,"moving","idle",function(a){return a.type()==H.jM||!(a.Mb(c.vx)||a.type().Zt)},function(a){c.ba.rn();c.ba.Gd(null);c.root.Xb();c.handle(a)})}od.prototype=inherit(D.prototype);od.prototype.constructor=od;
od.prototype.move=function(a){var b=a.split("_");a="";var c=b[0];2==b.length&&(a=b[0],c=b[1]);b=cd(this.ba.origin());"S"==a&&(b/=10);switch(c){case "up":a=new J(0,-1*b);break;case "down":a=new J(0,1*b);break;case "left":a=new J(-1*b,0);break;case "right":a=new J(1*b,0);break;default:return}c=Zc(this.ba,a);this.ba.$v(c,a)};function sd(a){a.Ma&&window.clearTimeout(a.Ma);a.Ma=window.setTimeout(function(){a.handle(H.jM)},500)};function qd(a,b){var c=this;c.root=a;c.ba=b;c.Nm=new za;c.uJ=0;kd.call(this,a,b);qb(c,"mouse_down");F(c,"idle","idle",function(a){return a.Mb("C_c")},function(){td(c)});F(c,"idle","idle",function(a){return a.Mb("C_x")},function(){td(c);c.root.Vb();c.ba.CC();c.root.Xb()});F(c,"idle","moving",function(a){return a.Mb("C_v")&&0<c.Nm.size()},function(a){c.zc=Q(c.ba,a.data("mouseCoord"));ud(c)});F(c,"moving","idle",function(a){return a.type.Ed||a.Mb("C_z","C_y")},function(a){c.xl(!0);c.handle(a)})}
qd.prototype=inherit(kd.prototype);qd.prototype.constructor=qd;function td(a){a.uJ=0;a.Nm=a.ba.selection.TY(a.ba.EP)}function ud(a){a.root.Vb();var b=Nb(a.Nm,a.root);if(0<b.size()){a.uJ++;a.ba.Mp(b,a.uJ);a.ba.lc();a.ba.selection.ib(b);a.ba.fh.ib(b);a.ba.Ql();a.ba.Rf=new J(0,0);var c=a.ba.Tg();a.ba.Kc=c.Kc;a.ba.$c=c.$c;var d=new ec;b.forEach(function(a){a&&a.Ec&&d.add(a.Ec())});b=d.yl();b=a.zc.sub(b);Zc(a.ba,b)}else b=new G(H.sm,{code:"27",keyCode:"escape"}),a.handle(b)};function nd(a,b){var c=this;c.root=a;c.ba=b;D.call(c);var d=new jd(a,b);this.append("zooming",d,"changing_property",null,"changing_property",null);F(c,"idle","idle",function(a){return a.type()==H.fz},function(a){c.root.Vb();vd(a);c.root.Xb()});F(c,"idle","changing_property",function(a){return a.type()==H.zz},function(){c.ba.focus(!1);c.root.Vb()});F(c,"changing_property","changing_property",function(a){return a.type()==H.fz},function(a){vd(a)});F(c,"changing_property","changing_property",function(a){return a.type()==
H.zz},function(){c.root.Xb();c.root.Vb()});F(c,"changing_property","idle",function(a){return!(a.type().Zt||a.type().Eq||a.type()==H.fz||a.type()==H.zz)},function(a){c.root.Xb();c.ba.focus(!0);c.handle(a)})}nd.prototype=inherit(D.prototype);nd.prototype.constructor=nd;function vd(a){a.element().fK(a.data("id"),a.data("value"))};function wd(a,b){var c=this;c.root=a;c.ba=b;D.call(c);lb({KM:{id:"seo_0",name:"SEARCH_OVERLAY_TAB"}});F(c,"idle","idle",function(a){return a.type()==H.KM},function(a){c.ba.cK(a.data("tab"))})}wd.prototype=inherit(D.prototype);wd.prototype.constructor=wd;function xd(a){this.index=a;this.visible=!1;this.sa=this.name=null}
function yd(a,b,c,d,e){function k(){var a=window.navigator.userAgent,b=a.indexOf("MSIE "),a=a.indexOf("Trident/");return-1<b||-1<a?!0:!1}function l(){var a=n.Eg,b=a.width(),a=a.height(),b=(new G).type(H.lM).data({editor_type:n.type,width:b,height:a});n.Ea.handle(b)}var n=this;this.parent=a;this.Rt=b;this.mode=c;this.Ub=d;this.Ea=e;this.el={};this.el.viewX=this.ba.Uf();this.el.viewY=this.ba.Vf();this.el.viewS=this.ba.ab();this.Il=new w;this.Jl=$('<div tabindex="100"></div>');this.Eg=$("<div></div>");
this.Jl.append(this.Eg);this.te=new zd(this,this.type,this.Jl,"circuitscribe"==e.type);this.Eg.svg();this.svg=this.Eg.svg("get");this.svg.configure({xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"});this.resize();this.yD=this.svg.group();this.svg.change(this.yD,{transform:"scale(1,1) translate(0,0)"});n.Ub.forEach(function(a,b){b.sa=n.svg.group(n.yD,b.name)});this.i1=this.svg.group(this.yD);this.Eg.mousedown(function(a){var b=n,c=Bd(b,a);b.parent.zh=c;a=Fb(new G(H.of),
a).data("mouseCoord",c);return b.Ea.handle(a)});this.Eg.mousemove(function(a){var b=n,c=Bd(b,a);b.parent.zh=c;var d=b.root.Ib;if(d&&d.connection&&d.connection.id&&0<Cd){var e=d.at(["users",d.connection.id]).get(),k=new Date;k.setMinutes(k.getMinutes()-5);(!e||e.q7<k)&&d.at(["users",d.connection.id]).set({name:$(".username_holder").text(),last_active:Date.now()});d.shout(JSON.stringify([d.connection.id,"mousePos",Q(b.ba,c),b.type]))}a=Fb(new G(H.Od),a).data("mouseCoord",c);b.Ea.handle(a)});this.Eg.mousewheel(function(a,
b,c,d){b=n;var e=Bd(b,a.originalEvent);b.parent.zh=e;a=a.shiftKey?-c:d;40<=Math.abs(a)&&(a/=40);c=new G(H.vE);c.data("intDelta",a).data("mouseCoord",e);return b.Ea.handle(c)});this.Eg.mouseup(function(a){return Dd(n,a)});window.navigator.msPointerEnabled&&k()?(Hammer(this.Eg.get(0)).on("transformstart",function(a){a=Fb((new G).type(H.AE),a);n.Ea.handle(a)}),Hammer(this.Eg.get(0)).on("transform",function(a){a=Fb((new G).type(H.yE),a);n.Ea.handle(a)}),Hammer(this.Eg.get(0)).on("transformend",function(a){a=
Fb((new G).type(H.zE),a);n.Ea.handle(a)})):"ontouchstart"in document.documentElement&&(Hammer(this.Eg.get(0),{prevent_default:!0}).on("transformstart",function(a){a=Fb(new G(H.AE),a);return n.Ea.handle(a)}),Hammer(this.Eg.get(0),{prevent_default:!0}).on("transform",function(a){a=Fb(new G(H.yE),a);return n.Ea.handle(a)}),Hammer(this.Eg.get(0),{prevent_default:!0}).on("transformend",function(a){a=Fb(new G(H.zE),a);return n.Ea.handle(a)}),Hammer(this.Eg.get(0),{prevent_default:!0}).on("dragstart",function(a){a=
Fb(new G(H.kM),a);return n.Ea.handle(a)}),Hammer(this.Eg.get(0),{prevent_default:!0}).on("drag",function(a){a=Fb(new G(H.wE),a);return n.Ea.handle(a)}),Hammer(this.Eg.get(0),{prevent_default:!0}).on("dragend",function(a){a=Fb(new G(H.xE),a);return n.Ea.handle(a)}));$(this.Rt).append(this.Jl);$(window).resize(function(){l()});l();this.mode==R&&this.Jl.bind("contextmenu",function(){return!1});n.ba.Uf.ka("view",function(){n.Cu()},10);n.ba.Vf.ka("view",function(){n.Cu()},10);n.ba.ab.ka("view",function(){n.Cu()},
10);n.ba.selection.kc("selection",function(a,b){var c=b.Wa(n);c.Ac(!0);c.Nd&&c.Nd()},10);n.ba.selection.Tc("selection",function(a,b){if(b.tb()){var c=b.Wa(n);c.Ac(!1);c.Vg&&c.Vg()}},10);var q;n.ba.Zm.kc("elementsInFocus",function(a,b){var c=b.Wa(n);c.Qj&&c.Qj(!0);c.constructor!=q&&(n.ba.Zm.bh(function(a){return a!=b}),q=c.constructor)},10);n.ba.Zm.Tc("elementsInFocus",function(a,b){if(b.tb()){var c=b.Wa(n);c.Qj&&c.Qj(!1)}},10);n.ba.focus.ka("focus",function(){n.ba.focus()&&$(n.Jl).focus()},10);n.ba.Gd.ka("measure",
function(){var a=n,b=n.ba.Gd();$(a.zi).empty();if(b){var c=b.Hc.oc,d=b.Lc.oc;if(!(c.constructor!==M&&c.constructor!==Qb||d.constructor!==M&&d.constructor!==Qb))c=d.Eb(),c.wa(a.svg,a.zi,"#0696D7",2/a.ba.ab(),.5);else if(c.constructor===J&&(d.constructor===M||d.constructor===Qb))c=d.Eb(),c.wa(a.svg,a.zi,"#0696D7",2/a.ba.ab(),.5);else if((c.constructor===M||c.constructor===Qb)&&d.constructor===J)c=c.Eb(),c.move(b.My),c.wa(a.svg,a.zi,"#0696D7",2/a.ba.ab(),.5);else if(c.constructor===J&&d.constructor===
J)for(b=b.Lc.Bx,d=0;d<b.length;d++)c=b[d].Eb(),c.wa(a.svg,a.zi,"#0696D7",2/a.ba.ab(),.5)}},10);n.ba.Uk.ka("view",function(){if(null!=n.ba.Uk()){var a=(new ec([n.ba.LC(),n.ba.Uk()])).Pe(),b=n;$(b.BR).remove();b.BR=b.svg.rect(b.i1,a.x,a.y,a.width,a.height,{fill:"#3b8ed7","fill-opacity":.15,stroke:"#3b8ed7",strokeWidth:.5/b.ba.ab()})}else $(n.BR).remove()},10)}
yd.prototype.zI=function(a,b){var c=this,d=new y;if(b){var e=b.sa.getBBox();d.add(new J(e.x,e.y));d.add(new J(e.x+e.width,e.y));d.add(new J(e.x,e.y+e.height));d.add(new J(e.x+e.width,e.y+e.height))}else c.Ub.forEach(function(a,b){if(b.visible){var c=b.sa.getBBox();0!==c.width&&0!==c.height&&(d.add(new J(c.x,c.y)),d.add(new J(c.x+c.width,c.y)),d.add(new J(c.x,c.y+c.height)),d.add(new J(c.x+c.width,c.y+c.height)))}});var e=(new ec(d)).Pe(),k='<svg width="100%" height="100%" version="1.1" baseProfile="full" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events" viewBox="'+
(e.x-.05*e.width)+" "+(e.y-.05*e.height)+" "+1.1*e.width+" "+1.1*e.height+'">';a.forEach(function(a,b){b.visible&&(k+=c.svg.toSVG(b.sa))});return k+="</svg>"};yd.prototype.resize=function(){this.svg.configure({height:"100%",width:"100%"},!1)};function Ed(a){a.Ub.forEach(function(a,c){$(c.sa).empty()})}function Bd(a,b){return new J(b.pageX-a.Jl.offset().left,b.pageY-a.Jl.offset().top)}function Dd(a,b){var c=Bd(a,b);a.parent.zh=c;c=Fb(new G(H.He),b).data("mouseCoord",c);return a.Ea.handle(c)}
var Xc=0,Yc=1,ed=2;yd.prototype.Cu=function(){var a=this.ba.Uf(),b=this.ba.Vf(),c=this.ba.ab();this.svg.change(this.yD,{transform:" scale("+c+","+c+") translate("+a+","+b+")"});this.el.viewX=a;this.el.viewY=b;this.el.viewS=c};yd.prototype.eg=function(){};yd.prototype.Sc=function(a){return this.Ub.get(a)};function Fd(a,b,c,d){var e=this;this.aa=a;this.ui=b;this.ui.nd(a,this);this.sa=this.aa.svg.group(c);this.EI=this.aa.svg.group(c);this.Pa=this.aa.svg.group(d);this.aa.mode==R&&$(this.Pa).mousedown(function(a){return e.bc(a)});e.ui.Pt.ka("measure",function(){Gd(e)},10);e.ui.Qt.ka("measure",function(){Gd(e)},10);e.ui.ax.ka("measure",function(){Gd(e)},10);e.ui.position.ka("measure",function(){e.wa()},10)}f=Fd.prototype;
f.wa=function(){$(this.sa).empty();$(this.Pa).empty();var a=2/this.aa.ba.ab(),b=10/this.aa.ba.ab();Gd(this);var c=this.ui.position();this.rect=this.aa.svg.rect(this.Pa,c.lb()-b/4,c.pb()-b/4,b/2,b/2,{"stroke-linecap":"round",strokeWidth:a});this.aa.svg.line(this.Pa,c.lb()-b,c.pb(),c.lb()+b,c.pb(),{"stroke-linecap":"round",strokeWidth:a});this.aa.svg.line(this.Pa,c.lb(),c.pb()-b,c.lb(),c.pb()+b,{"stroke-linecap":"round",strokeWidth:a})};
function Gd(a){$(a.EI).empty();if(a.ui.Pt()){var b=dd(a.ui),c=a.ui.VZ()/a.aa.ba.ab();b.Ny.forEach(function(b){a.aa.svg.line(a.EI,b.Wj,b.Xj,b.Vn,b.Wn,{"stroke-linecap":"round",strokeWidth:c,opacity:0===b.index%10?1:.3})});b.ex.forEach(function(b){a.aa.svg.line(a.EI,b.Wj,b.Xj,b.Vn,b.Wn,{"stroke-linecap":"round",strokeWidth:c,opacity:0===b.index%10?1:.3})})}}f.bc=function(a){a=(new G(H.gc,this.ui,a)).data("mouseCoord",Bd(this.aa,a));return this.aa.Ea.handle(a)};f.Ac=function(){};
f.Nd=function(){Hd(this.aa.te,[{label:"Pitch",type:Id,Id:this.ui.ax,Ey:this.ui.Qt,list:this.ui.Iu}],{name:"Grid",usage:"Show or hide the grid by clicking the grid button in the toolbar.<br><br>Snapping is enabled when the grid is visible and disabled when hidden.<br><br>Changing the unit in the dropdown will recalculate the number. The default unit can be changed in the circuit settings."})};f.Vg=function(){this.aa.te.hide()};(function(a,b){a.nt=function(c,d,e,k){var l=this;l.aa=c;l.Pp=b(a.template(d)).appendTo(e);l.zH=b(k);l.GA=b(".js-chat__content",l.Pp);l.G6=b(".js-chat__input",l.Pp);l.Pp.draggable({handle:".js-chat-draggable",LY:".js-editor__content"});b("form",l.Pp).submit(function(a){a.preventDefault();a=l.tY.val();l.tY.val("");l.n1(a);return!1});l.zH.click(function(){l.tS()})};a.nt.prototype.tS=function(a){!b(this.Pp).is(":visible")||a?(b(this.zH).addClass("active"),b(this.Pp).show()):(b(this.zH).removeClass("active"),
b(this.Pp).hide())};a.nt.prototype.G1=function(a){this.tS(!0);var d=b(this.GA).html();b(this.GA).html(d+a);b(this.GA).scrollTop(b(this.GA)[0].scrollHeight)};a.nt.prototype.n1=function(a){self.aa.nt(a)}})(window.circuitsGui=window.circuitsGui||{},jQuery);(function(a,b){var c;a.NX=function(){document.getElementsByClassName("loading_text_status")[0].innerHTML="Loading";c=window.setTimeout(function(){document.getElementsByClassName("loading_error_container")[0].style.display="block";document.getElementsByClassName("loading_text_status")[0].innerHTML="Error loading"},15E3)};a.m0=function(){c&&window.clearTimeout(c);b(".loading_text_status").html("Finishing");b(".loading").velocity({opacity:0},300,function(){b(".loading").hide()})};a.L6=function(){b(".loading").show();
b(".loading").css("opacity",1)}})(window.circuitsGui=window.circuitsGui||{},jQuery);(function(a,b){a.Q6=function(a,b,e){this.jY=a;this.iY=b;this.NN=e};a.bB=!1;a.UH=function(c,d,e,k){var l=this;l.xY();this.El=b(".js-circuits-dialogue").clone();b("body").append(this.El);c&&c.length&&b(".js-circuits-dialogue__title",this.El).html(c);d&&d.length&&b(".js-circuits-dialogue__content",this.El).html(d);k&&(b(".js-close-dialogue",this.El).show(),b(".js-close-dialogue",this.El).click(function(){k()}));e&&e.length&&b.each(e,function(a,c){var d=b('<a class="btn btn--small">'+c.jY+"</a>");b(".js-circuits-dialogue__buttons",
l.El).append(d);c.NN&&d.addClass(c.NN);d.click(function(){c.iY()})});l.show();a.bB=this};a.UH.prototype.xY=function(){a.bB&&(a.bB.El.remove(),a.bB=!1)};a.UH.prototype.show=function(){this.El.show()};a.UH.prototype.hide=function(){this.El.hide()}})(window.circuitsGui=window.circuitsGui||{},jQuery);(function(a,b){a.hZ=function(c){this.xr=c;this.p2="#schematicTab";this.rS="#f4f5f6";c=this.xr.svg;b("#schematicTab").css("width",3508);b("#schematicTab").css("height",2480);this.xr.pa.Ea.handle(H.tl);c.configure({dL:"0 0 3508 2480"},!0);c=c.toSVG().replace(/[\u0250-\ue007]/g,"");b("#schematicTab svg").first().removeAttr("viewBox");b("#schematicTab svg").first().attr("width","100%");b("#schematicTab svg").first().attr("height","100%");b("#schematicTab").css("width","");b("#schematicTab").css("height",
"");this.xr.pa.Ea.handle(H.tl);a.NO(c,"svg","schematic")};a.bI=function(c,d,e,k){var l=this;l.xr=c;l.p2=d;l.rS=k;c=l.xr.svg;var n=document.createElement("canvas");n.width=3508;n.height=2480;document.getElementsByTagName("body")[0].appendChild(n);var q=n.getContext("2d");b(d).css("width",3508);b(d).css("height",2480);l.xr.pa.Ea.handle(H.tl);c.configure({dL:"0 0 3508 2480"},!0);b(d+" svg:first").attr("width",3508);b(d+" svg:first").attr("height",2480);c=c.toSVG().replace(/[\u0250-\ue007]/g,"");c="data:image/svg+xml;base64,"+
window.btoa(c);var r=new Image;r.onload=function(){q.fillStyle=l.rS;q.fillRect(0,0,3508,2480);q.drawImage(r,0,0);var c=n.toDataURL("image/jpeg");console.log(c);b(d+" svg:first").removeAttr("viewBox");b(d+" svg:first").attr("width","100%");b(d+" svg:first").attr("height","100%");b(d).css("width","");b(d).css("height","");l.xr.pa.Ea.handle(H.tl);a.NO(c,"jpg",e);n.remove()};r.src=c};a.NO=function(a,d,e){var k="/image",k=b(".js-absolute-url").text()+k,l=document.createElement("input");l.setAttribute("name",
"data");l.setAttribute("value",a);l.setAttribute("type","hidden");a=document.createElement("input");a.setAttribute("name","kind");a.setAttribute("value",d);a.setAttribute("type","hidden");d=document.createElement("input");d.setAttribute("name","prefix");d.setAttribute("value",e);d.setAttribute("type","hidden");e=document.createElement("input");e.setAttribute("name","authenticity_token");e.setAttribute("value",b('meta[name="csrf-token"]').attr("content"));e.setAttribute("type","hidden");var n=document.createElement("form");
n.method="post";n.action=k;n.appendChild(l);n.appendChild(d);n.appendChild(a);n.appendChild(e);document.body.appendChild(n);n.submit();document.body.removeChild(n)}})(window.circuitsGui=window.circuitsGui||{},jQuery);(function(a){a.OO=function(){}})(window.circuitsGui=window.circuitsGui||{},jQuery);function S(a,b,c,d){this.index=a;this.x_=b;this.Fd=c;this.sa=null;this.transform=!0;this.rotate=d}
var Jd={cg:function(a,b){var c=this;this.vi=a;this.Zc=this.pg(b);this.Zc.forEach(function(b,e){var k=a.Sc(e.Fd);e.sa=c.aa.svg.group(k.sa,"id_"+c.data.Rb+"_"+e.Fd)});this.selected=!1;this.By=new J(0,0)},pg:function(a){var b=new w;this.vi.Zc.forEach(function(c){(void 0==a||-1<a.indexOf(c))&&b.put(c,new S(c,!0,c,!0))});return b},Sc:function(a){return this.Zc.get(a)},Md:function(){this.Zc.forEach(function(a,b){$(b.sa).remove()})},fI:function(){this.Zc.forEach(function(a,b){$(b.sa).empty()})},setTransform:function(){var a=
this;this.Zc.forEach(function(b,c){if(c.transform){var d="translate("+(a.data.eb().x+a.By.x)+","+(a.data.eb().y+a.By.y)+")";c.rotate&&(d+=" rotate("+a.data.Oa()+") scale("+a.data.hb()+",1)");a.aa.svg.change(c.sa,{transform:d})}})},u1:function(a){this.By=a;this.setTransform()},g7:function(){return this.By},Dn:function(a){this.Oa=a;this.setTransform()},rotate:function(a,b){b?(this.Oa+=a,this.eb=this.eb.rotate(a,b)):this.Oa+=a;this.setTransform()},nI:function(){0!=this.Oa%180&&(this.Oa=(this.Oa+180)%
360);this.hb*=-1;this.setTransform()},lI:function(){0==this.Oa%180&&(this.Oa=(this.Oa+180)%360);this.hb*=-1;this.setTransform()},move:function(a){this.eb=this.eb.add(a);this.setTransform()},Ac:function(a){var b=this;this.selected=a;this.Zc.forEach(function(a,d){!0===b.selected?b.aa.svg.change(d.sa,{opacity:.5}):b.aa.svg.change(d.sa,{opacity:1})})},UI:function(a){a=this.Zc.get(a).sa.getBBox();return{Wj:a.x,Vn:a.x+a.width,Xj:a.y,Wn:a.y+a.height}},Nd:function(){},Vg:function(){this.aa.te&&this.aa.te.hide()},
xj:function(a,b,c,d){function e(b){var e;b.constructor==a?e=b:b.Ya&&b.Ya.constructor==a&&(e=b.Ya);if(e){var q=d?ca(c,[k.aa,e,k].concat(d)):new c(k.aa,e,k);k.elements&&k.elements.add(q);e.Hk("view",function(){q.Md();k.elements&&k.elements.remove(q)},101)}}var k=this;b.Xg()?(b.forEach(e),b.kc({},function(a,b){e(b)},100)):b.wh()?(b.forEach(function(a,b){e(b)}),b.kc({},function(a,b,c){e(c)},100)):b.isMap()&&(b.forEach(function(a,b){e(b)}),b.kc({},function(a,b,c){e(c)},100))}};(function(a,b){a.error=function(a,d,e,k,l){if(b(".js-error-message").length){var n=b(".js-error-message").clone();n.appendTo(".js-editor");a&&b(".js-error-message__title",n).html(a);d&&b(".js-error-message__body",n).html(d);b(".js-close-error",n).on("click",function(){n.remove();l&&l()});e&&ka(a,e);k||n.show();return n}};a.hL=function(b,d,e){a.error(b,d,e).addClass("circuits_error--warning")};a.E6=function(c,d,e){c=a.error(c,d,e);b("body").append('<div class="circuits_error__back"></div>');b(".js-close-error",
c).remove()}})(window.circuitsGui=window.circuitsGui||{},jQuery);function zd(a,b,c,d){this.lq=a;a=$('<div class="inspector noOpacity inspector--'+b+" "+b+" "+(d?"circuitscribe":"")+'"></div>');c.append(a);this.TI="inspector_"+b;this.Ck=".inspector."+b;this.PB=null;this.Bt=[];$(this.Ck).css("opacity",0)}function Hd(a,b,c){Kd(a,b,c);a.show()}zd.prototype.show=function(a){this.PB&&($(this.Ck).css("pointer-events","auto"),$(this.Ck).empty().append(this.PB),$(this.Ck).velocity("stop"),$(this.Ck).velocity({opacity:1},220,function(){"function"===typeof a&&a()}),Ld(this))};
zd.prototype.hide=function(){var a=this;$(a.Ck).velocity("stop");$(a.Ck).velocity({opacity:0},220,function(){$(a.Ck).css("pointer-events","none")});for(var b=0;b<this.Bt.length;b++)this.Bt[b].Fe(a.TI);this.PB=null;this.Bt=[]};
function Kd(a,b,c){var d=$('<div class="js-inspector-container"></div>'),e=$('<form class="inspector__form" autocomplete="off"></form>'),k='<div class="inspector__title clearfix"><div class="float">__2__</div><div class="right"><a class="js-inspector-more-info">?</a></div></div><div class="inspector__summary hide">__3__</div><div class="inspector__usage hide">__4__</div>',l='<a href="__2__" target="_blank">__1__</a>';e.submit(function(){return!1});b.forEach(function(b){function c(b,d,e,k,l){$(b).on(k,
d,function(){var b=$(this).prop(e);"number"===typeof l()&&(b=parseFloat(b));b=(new G(H.fz,l.ti())).data("id",l.ac()).data("value",b);return a.lq.Ea.handle(b)});l.ka(a.TI,function(){if(!$(d,b).is(":focus")){var a=l();"number"===typeof a&&Math.floor(a)!=a&&(a=a.toFixed(2));$(d,b).prop(e,a)}},10);if("keyup"==k)$(b).on("focus",d,function(){return a.lq.Ea.handle(H.zz)})}var d=b.label,k=b.type,l=b.Id;if(l){a.Bt.push(l);var x=l();"number"===typeof x&&Math.floor(x)!=x&&(x=x.toFixed(2))}var B=b.Ey,E=b.Bd;
B&&(a.Bt.push(B),E=B());var z=b.BY;z&&a.Bt.push(z);var I=b.list,N="";I&&I.forEach(function(a){var b=a.constructor==Array?a[0]:a;N+='<option value="'+(a.constructor==Array?a[1]:b)+'">'+b+"</option>"});var K,O;switch(k){case Md:K=$('<div class="dual_inspector clearfix"><div class="dual_inspector__label dual_inspector__label--background">__1__</div><div class="dual_inspector__input"><input class="dual_inspector__input__text js-valueInput" type="text"></div></div>'.replace(/__1__/g,d));O=$(".js-valueInput",
K);O.val(x);c(K,".js-valueInput","value","keyup",l);break;case Nd:K=$('<div class="dual_inspector clearfix"><div class="dual_inspector__label dual_inspector__label--readonly">__1__</div><div class="dual_inspector__input dual_inspector__input--readonly"><input class="dual_inspector__input__text js-valueInput" type="text" disabled></div><div class="dual_inspector__label dual_inspector__label--background">__2__</div></div>'.replace(/__1__/g,d).replace(/__2__/g,E));O=$(".js-valueInput",K);O.val(x);l.ka(a.TI,
function(){O.val(l())});break;case Id:case Od:K=$('<div class="triple_inspector"><div class="dual_inspector dual_inspector--triple clearfix"><div class="dual_inspector__label dual_inspector__label--background">__1__</div><div class="dual_inspector__input"><input class="dual_inspector__input__text js-valueInput" id="__1__" type="text"></div></div><div class="triple_inspector__select"><select class="inspector__select js-unit_select">__2__</select></div></div>'.replace(/__1__/g,d).replace(/__2__/g,N));
O=$(".js-valueInput",K);O.val(x);$(".js-unit_select",K).val(E);c(K,".js-valueInput","value","keyup",l);c(K,".js-unit_select","value","change",B);k==Od&&(K.append('<input type="checkbox" class="inspector__checkbox js-show_check" value="showCheck">'),$(".js-show_check",K).prop("checked",z()),c(K,".js-show_check","checked","change",z));break;case Pd:K=$('<div class="dual_inspector clearfix"><div class="dual_inspector__label dual_inspector__label--background">__1__</div><div class="dual_inspector__input"><input class="dual_inspector__input__text js-valueInput" type="text"></div><div class="dual_inspector__label dual_inspector__label--background">__2__</div></div>'.replace(/__1__/g,
d).replace(/__2__/g,E));O=$(".js-valueInput",K);O.val(x);c(K,".js-valueInput","value","keyup",l);break;case Qd:K=$('<div class="dual_inspector clearfix"><div class="dual_inspector__label dual_inspector__label--background">__1__</div><div class="dual_inspector__input"><input class="inspector__checkbox js-inspector__checkbox" type="checkbox"></div></div>'.replace(/__1__/g,d));O=$("input",K);O.prop("checked",x);c(K,".js-inspector__checkbox","checked","change",l);break;case Rd:K=$('<div class="dual_inspector dual_inspector--triple clearfix"><div class="dual_inspector__label dual_inspector__label--background">__1__</div><div class="dual_inspector__input"><select class="inspector__select inspector__select--dual js-unit_select">__2__</select><div class="inspector__select__downarrow"></div></div></div>'.replace(/__1__/g,
d).replace(/__2__/g,N));$(".js-unit_select",K).val(x);c(K,".js-unit_select","value","change",l);break;case Sd:K=$('<div class="inspector__btn"><a class="btn btn--m btn--justify btn--dark_level2_borders-on-black js-inspector_btn_click">__1__</a></div>'.replace(/__1__/g,d)),O=$("a",K),$(K).on("click","a",function(){return a.lq.Ea.handle(b.kY)})}e.append($('<div class="inspector__group"></div>').append($(K)))});c?(c.summary||c.$K||(k=k.replace('<a class="js-inspector-more-info">?</a>',"")),l="undefined"!==
typeof c.rD?l.replace(/__2__/g,"/components/"+c.rD).replace(/__1__/g,c.name):c.name,b=$(k.replace(/__2__/g,l).replace(/__3__/g,c.summary).replace(/__4__/g,c.$K)),d=d.append(b).append(e),$(d).on("click",".js-inspector-more-info",function(){c.summary&&$(".inspector__summary").toggle();c.$K&&$(".inspector__usage").toggle()})):d=e;a.PB=d}function Ld(a){var b=!1;$(a.Ck).mouseup(function(c){if(b)return!0;b=!0;return Dd(a.lq,c)});$(a.Ck).mousedown(function(){return b=!0})};(function(a,b){a.yQ=[];a.sA=null;a.ee=function(c,d,e,k,l,n,q,r,t){var v=this;this.aa=c;this.Vh=b(d);this.xJ=b(e);this.by=k;this.CO=l;this.OK=b(n);this.vS=q;this.AP=50;this.Hx=b(r);this.open=!1;this.OK.click(function(a){a.preventDefault();return c.Ea.handle(t)});window.onresize=function(){v.fu();v.nR()};this.NH=function(){};this.MH=function(){};this.tk(!0);this.Vh.css("opacity",0);v.fu();this.nR();a.yQ.push(v);return v};a.ee.prototype.nR=function(){var a=this;this.Vh.css("height","auto");this.Vh.resizable({handles:a.by,
maxHeight:b(a.Hx).height()-49,stop:function(d){if("n"==a.by||"s"==a.by)b(d.target).data("container_position_y",b(d.target).position().top),b(a.Hx).height()-b(d.target).position().top<a.vS&&(a.uS(),b(d.target).data("container_position_y",0));if("e"==a.by||"w"==a.by)b(d.target).data("container_position_x",b(d.target).position().left),b(a.Hx).width()-b(d.target).position().left<a.vS&&(a.uS(),b(d.target).data("container_position_y",0))},resize:function(){a.fu();a.NH&&a.NH()}})};a.ee.prototype.uS=function(){this.open?
this.tk(!1):(a.GY(),this.sn());this.fu()};a.ee.prototype.tk=function(a){var d=this;d.open=!1;b(d.OK).removeClass("active");a?b(d.Vh).css({opacity:0,translateY:"50px","pointer-events":"none"}):(b(d.Vh).velocity("stop"),b(d.Vh).velocity({opacity:0,translateY:[50,5]},220,function(){b(d.Vh).css("pointer-events","none")}))};a.ee.prototype.sn=function(){this.open=!0;b(this.OK).addClass("active");if(0< !b(this.Vh).data("container_position_y")||0>b(this.Hx).height()-b(this.Vh).position().top)b(this.Vh).data("container_position_y",
b(this.Hx).height()-this.CO),b(this.xJ).css("height",this.CO-this.AP);b(this.Vh).velocity("stop").css({top:b(this.Vh).data("container_position_y"),"pointer-events":"auto"}).velocity({opacity:1,translateY:[0,50]},220);this.MH&&this.MH();a.sA=this};a.ee.prototype.fu=function(){b(this.xJ).css("height",b(this.Vh).height()-this.AP)};a.GY=function(){b.each(a.yQ,function(a,b){b.tk(!0)})}})(window.circuitsGui=window.circuitsGui||{},jQuery);(function(a,b){a.iC=function(a,d,e,k){this.aa=a;this.yJ=d;this.zQ=e;b(d).draggable({handle:".js-overlaybox-draggable",LY:".js-editor__content"});b(e).click(function(){a.Ea.handle(k)})};a.iC.prototype.LK=function(){b(this.yJ).is(":visible")?(b(this.zQ).removeClass("active"),b(this.yJ).hide()):(b(this.zQ).addClass("active"),b(this.yJ).show())}})(window.circuitsGui=window.circuitsGui||{},jQuery);(function(a,b){a.Zq=function(a,d,e,k,l){var n=this;n.kO=a;n.$J=d;n.url=e;n.u7=k;n.U1=1;n.LH=n.U1+1;n.jt=!1;n.mQ=!1;n.pY=l;n.N_="https://s3-us-west-1.amazonaws.com/123d-circuits-assets/spinner_standard_white.gif";n.M_="<div class='loadingContainer js-loadingcontainer'><img src='"+n.N_+"'></div>";b(n.$J).bind("scroll",function(){n.oY()})};a.Zq.prototype.F1=function(){this.kO.append(this.M_)};a.Zq.prototype.d_=function(){b(".js-loadingcontainer",this.kO).remove()};a.Zq.prototype.oY=function(){!this.jt&&
450>this.ZY(this.$J)&&(this.jt=!0,this.$Y())};a.Zq.prototype.ZY=function(a){return a===window?b(document).height()-b(a).scrollTop()-b(a).height():b(a)[0].scrollHeight-b(a).scrollTop()-b(a).height()};a.Zq.prototype.$Y=function(){var a=this;!a.mQ&&a.url&&(a.F1(),b.get(a.url,{page:a.LH},function(b){a.d_();1>b.length?a.mQ=!0:(a.jt=!1,a.LH+=1,a.pY(b))}))};a.Zq.prototype.EY=function(){b(this.$J).unbind("scroll")}})(window.circuitsGui=window.circuitsGui||{},jQuery);(function(a,b){a.xi=function(c,d,e,k){var l=this;this.IK=c;this.ey=b(k);this.lr=this.ey.find("input[type=text]");this.aa=d;this.tabs=[];this.Fw;this.kI=!0;this.query="";this.EZ={};this.ee=e;for(var n in l.IK)l.IK.hasOwnProperty(n)&&(c=l.IK[n],c=new a.KC(l,c.tab_ref,c.search_target_url,c.template,c.instant_search),l.tabs.push(c));b(k).on("submit keyup",function(a,c){a.preventDefault();if(c&&c.preventClear)return!1;if(27==a.keyCode)return b(l.lr).trigger("blur"),!1;0==b(l.lr).val().length?l.dO():2<
b(l.lr).val().length&&(l.Fw.ZH(b(l.lr).val(),l.Fw.s_),b(k).find(".js-search-btn").length&&b(k).find(".js-search-clear__btn").length&&(b(k).find(".js-search-btn").hide(),b(k).find(".js-search-clear__btn").show()));return!1});this.ee.MH=function(){l.kI&&0<l.tabs.length&&(l.Ax(l.tabs[0].HK),l.kI=!1)};b(".js-search-clear__btn",k).click(function(){l.dO()})};a.KC=function(a,d,e,k,l){var n=this;this.xi=a;this.HK=d;this.dD=b('[data-ref="'+d+'"]');this.Ln=b('[data-rel="'+d+'"]');this.f1=e;this.template=k;
this.s_=l;this.ZJ=null;this.dD.click(function(){var a=(new G(H.KM)).data("tab",n.HK);n.xi.aa.Ea.handle(a)})};a.KC.prototype.h_=function(){b(this.Ln).hide();b(this.dD).removeClass("active")};a.KC.prototype.M1=function(){b(this.Ln).show();b(this.dD).addClass("active");this.ZH()};a.xi.prototype.dO=function(){this.Fw&&this.Fw.ZH("",!1);b(this.lr).val("");b(this.ey).find(".js-search-btn").length&&b(this.ey).find(".js-search-clear__btn").length&&(b(this.ey).find(".js-search-btn").show(),b(this.ey).find(".js-search-clear__btn").hide())};
a.KC.prototype.ZH=function(c,d){var e=this;if(d)b(e.Ln).find(".js-instant_search_item").each(function(){0>b(this).text().search(new RegExp(c,"i"))?b(this).hide():b(this).show()});else{if(!c||""==c||0<e.xi.query.length)c=e.xi.query;e.ZJ&&e.ZJ.EY();new a.Eu(e.Ln);var k=e.f1.replace(/__Q__/g,c);e.aS=function(c){b(e.Ln).append(a.template(e.template,{results:c}));e.xi.ee.fu();e.xi.t1();0==c.length&&b(e.Ln).html('<div class="search_overlay__results__noresults">Sorry, no results found</div>')};b.ajax({url:k,
type:"GET",dataType:"json",success:function(c){b(e.Ln).empty();e.aS(c);e.ZJ=new a.Zq(e.Ln,b(".js-component_search_inner"),k,b(".load_more",this.dD),e.aS)}})}};a.xi.prototype.Ax=function(a){this.g_();for(var b in this.tabs)this.tabs.hasOwnProperty(b)&&this.tabs[b].HK==a&&(this.tabs[b].M1(),this.Fw=this.tabs[b])};a.xi.prototype.g_=function(){for(var a in this.tabs)this.tabs.hasOwnProperty(a)&&this.tabs[a].h_()};a.xi.prototype.t1=function(){var a=this;b(".js-add-component").on("mousedown",function(d){d.preventDefault();
a.hw();d=Fb((new G).type(H.pF),d).data("did",b(this).data("did")).data("mouseCoord",Bd(a.aa.eh,d));a.aa.Ea.handle(d)});b(".js-change-footprint-action").on("mousedown",function(d){d.preventDefault();d=(new G(H.zL)).data("footprint_id",b(this).data("pdid"));a.aa.Ea.handle(d)})};a.xi.prototype.rB=function(){b(this.lr).trigger("focus",[{preventClear:!0}])};a.xi.prototype.hw=function(){b(this.lr).trigger("blur")}})(window.circuitsGui=window.circuitsGui||{},jQuery);(function(a,b){a.Eu=function(a,d,e){jQuery?(a=b(a),a.html('<div class="circuits_spinner"><div class="circuits_spinner__bounce1"></div><div class="circuits_spinner__bounce2"></div><div class="circuits_spinner__bounce3"></div></div>'),d&&b(".circuits_spinner > div",a).css("background-color",d),e&&(b(".circuits_spinner > div",a).css("width",e),b(".circuits_spinner > div",a).css("height",e))):a.innerHTML='<div class="circuits_spinner"><div class="circuits_spinner__bounce1"></div><div class="circuits_spinner__bounce2"></div><div class="circuits_spinner__bounce3"></div></div>'}})(window.circuitsGui=
window.circuitsGui||{},jQuery);(window.circuitsGui=window.circuitsGui||{}).Q7={options:{lines:7,length:0,width:5,Bh:7,SA:1,rotate:0,direction:1,color:"#3b8ed7",speed:1.2,RK:100,wd:!1,o_:!0,className:"spinner",zIndex:2E9,top:"50%",left:"50%"}};
var Spinner=function(){function a(a,b){var c=document.createElement(a||"div"),d;for(d in b)c[d]=b[d];return c}function b(a){for(var b=1,c=arguments.length;b<c;b++)a.appendChild(arguments[b]);return a}function c(a,b,c,d){var e=["opacity",b,~~(100*a),c,d].join("-");c=.01+c/d*100;d=Math.max(1-(1-a)/b*(100-c),a);var k=v.substring(0,v.indexOf("Animation")).toLowerCase();t[e]||(x.insertRule("@"+(k&&"-"+k+"-"||"")+"keyframes "+e+"{0%{opacity:"+d+"}"+c+"%{opacity:"+a+"}"+(c+.01)+"%{opacity:1}"+(c+b)%100+
"%{opacity:"+a+"}100%{opacity:"+d+"}}",x.cssRules.length),t[e]=1);return e}function d(a,b){var c=a.style,d,e;b=b.charAt(0).toUpperCase()+b.slice(1);for(e=0;e<r.length;e++)if(d=r[e]+b,void 0!==c[d])return d;if(void 0!==c[b])return b}function e(a,b){for(var c in b)a.style[d(a,c)||c]=b[c];return a}function k(a){for(var b=1;b<arguments.length;b++){var c=arguments[b],d;for(d in c)void 0===a[d]&&(a[d]=c[d])}return a}function l(a,b){return"string"==typeof a?a:a[b%a.length]}function n(a){this.sQ=k(a||{},
n.defaults,B)}function q(){function c(b,d){return a("<"+b+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',d)}x.addRule(".spin-vml","behavior:url(#default#VML)");n.prototype.lines=function(a,d){function k(){return e(c("group",{coordsize:r+" "+r,coordorigin:-q+" "+-q}),{width:r,height:r})}function n(a,r,t){b(v,b(e(k(),{rotation:360/d.lines*a+"deg",left:~~r}),b(e(c("roundrect",{B6:d.SA}),{width:q,height:d.width,left:d.Bh,top:-d.width>>1,filter:t}),c("fill",{color:l(d.color,a),opacity:d.opacity}),
c("stroke",{opacity:0}))))}var q=d.length+d.width,r=2*q,t=2*-(d.width+d.length)+"px",v=e(k(),{position:"absolute",top:t,left:t});if(d.wd)for(t=1;t<=d.lines;t++)n(t,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(t=1;t<=d.lines;t++)n(t);return b(a,v)};n.prototype.opacity=function(a,b,c,d){a=a.firstChild;d=d.wd&&d.lines||0;a&&b+d<a.childNodes.length&&(a=(a=(a=a.childNodes[b+d])&&a.firstChild)&&a.firstChild)&&(a.opacity=c)}}var r=["webkit","Moz","ms","O"],
t={},v,x=function(){var c=a("style",{type:"text/css"});b(document.getElementsByTagName("head")[0],c);return c.sheet||c.styleSheet}(),B={lines:12,length:7,width:5,Bh:10,rotate:0,SA:1,color:"#000",direction:1,speed:1,RK:100,opacity:.25,JZ:20,zIndex:2E9,className:"spinner",top:"50%",left:"50%",position:"absolute"};n.defaults={};k(n.prototype,{spin:function(b){this.stop();var c=this,d=c.sQ,k=c.Ow=e(a(0,{className:d.className}),{position:d.position,width:0,zIndex:d.zIndex});e(k,{left:d.left,top:d.top});
b&&b.insertBefore(k,b.firstChild||null);k.setAttribute("role","progressbar");c.lines(k,c.sQ);if(!v){var l=0,n=(d.lines-1)*(1-d.direction)/2,q,r=d.JZ,t=r/d.speed,x=(1-d.opacity)/(t*d.RK/100),B=t/d.lines;(function Ad(){l++;for(var a=0;a<d.lines;a++)q=Math.max(1-(l+(d.lines-a)*B)%t*x,d.opacity),c.opacity(k,a*d.direction+n,q,d);c.timeout=c.Ow&&setTimeout(Ad,~~(1E3/r))})()}return c},stop:function(){var a=this.Ow;a&&(clearTimeout(this.timeout),a.parentNode&&a.parentNode.removeChild(a),this.Ow=void 0);return this},
lines:function(d,k){function n(b,c){return e(a(),{position:"absolute",width:k.length+k.width+"px",height:k.width+"px",background:b,boxShadow:c,transformOrigin:"left",transform:"rotate("+~~(360/k.lines*q+k.rotate)+"deg) translate("+k.Bh+"px,0)",borderRadius:(k.SA*k.width>>1)+"px"})}for(var q=0,r=(k.lines-1)*(1-k.direction)/2,t;q<k.lines;q++)t=e(a(),{position:"absolute",top:1+~(k.width/2)+"px",transform:k.o_?"translate3d(0,0,0)":"",opacity:k.opacity,bw:v&&c(k.opacity,k.RK,r+q*k.direction,k.lines)+" "+
1/k.speed+"s linear infinite"}),k.wd&&b(t,e(n("#000","0 0 4px #000"),{top:"2px"})),b(d,b(t,n(l(k.color,q),"0 0 1px rgba(0,0,0,.1)")));return d},opacity:function(a,b,c){b<a.childNodes.length&&(a.childNodes[b].style.opacity=c)}});var E=e(a("group"),{behavior:"url(#default#VML)"});!d(E,"transform")&&E.v6?q():v=d(E,"animation");return n}();(function(a,b){a.Jn={};a.Jn.k_="#pcbTab #schematicTab #settingsTab #breadboardTab #bomTab #circuitscribeTab".split(" ");a.Jn.Y_=".js-circuit_schematic_button .js-circuit_pcb_button .js-circuit_settings_button .js-circuit_breadboard_button .js-circuit_bom_button .js-circuit_simulation_button .js-circuit_circuitscribe_button".split(" ");a.Jn.WZ=".schematic .pcb .settings .breadboard .bom .circuitscribe".split(" ");a.Jn.f2=".js-submenu-schematic .js-submenu-pcb .js-submenu-breadboard .js-submenu-settings .js-submenu-bom .js-submenu-circuitscribe".split(" ");
a.cD=function(c){a.Y0();switch(c){case "pcb":b("#pcbTab").css("z-index","1");b(".js-circuit_pcb_button .sitemenu__view_switch").addClass("sitemenu__view_switch--active");b(".js-submenu-pcb").show();b(".pcb").each(function(){b(this).visible()});break;case "schematic":b("#schematicTab").css("z-index","1");b(".js-circuit_schematic_button .sitemenu__view_switch").addClass("sitemenu__view_switch--active");b(".js-submenu-schematic").show();b(".schematic").each(function(){b(this).visible()});break;case "settings":b("#settingsTab").css("z-index",
"1");b(".js-circuit_settings_button .sitemenu__view_switch").addClass("sitemenu__view_switch--active");b(".js-submenu-settings").show();b(".settings").each(function(){b(this).visible()});break;case "breadboard":b("#breadboardTab").css("z-index","1");b(".js-circuit_breadboard_button .sitemenu__view_switch").addClass("sitemenu__view_switch--active");b(".js-submenu-breadboard").show();b(".breadboard").each(function(){b(this).visible()});break;case "circuitscribe":b("#circuitscribeTab").css("z-index",
"1");b(".js-circuit_circuitscribe_button .sitemenu__view_switch").addClass("sitemenu__view_switch--active");b(".js-submenu-circuitscribe").show();b(".circuitscribe").each(function(){b(this).visible()});break;case "bom":b("#bomTab").css("z-index","1"),b(".js-circuit_bom_button .sitemenu__view_switch").addClass("sitemenu__view_switch--active"),b(".js-submenu-bom").show(),b(".bom").each(function(){b(this).visible()})}};a.K8=function(a){b(".js-viewer__switcher").length&&b(".js-viewer__switcher").html(a)};
a.Y0=function(){b.each(a.Jn.k_,function(a,d){b(d).css("z-index","0")});b.each(a.Jn.Y_,function(a,d){b(d+" .sitemenu__view_switch").removeClass("sitemenu__view_switch--active")});b.each(a.Jn.WZ,function(a,d){b(d).each(function(){b(this).v_()})});b.each(a.Jn.f2,function(a,d){b(d).each(function(){b(this).length&&b(this).hide()})})}})(window.circuitsGui=window.circuitsGui||{},jQuery);jQuery.fn.visible=function(){return this.css("z-index","1")};jQuery.fn.v_=function(){this.css("z-index","-1")};(function(a,b){a.wq=function(c,d,e){this.px=0;this.AA=circuitsUrls.igniteUrls;c=JSON.parse(c);var k="";b.each(c,function(a,b){k+=b[0]+'="'+b[1]+'" '});this.L2=b(a.template(d,{lesson_parameters_string:k})).appendTo(e);this.Er=b(".js-tutorial--loading",this.L2);this.Eu=new a.Eu(this.Er);b(".js-root_container").addClass("editor--tutorial");this.iy();this.w1();this.getFile(this.AA[0])};a.wq.prototype.getFile=function(a){var d=this,e=a.substr(a.lastIndexOf(".")+1);"js"==e?b.ajax({dataType:"script",lY:!0,
url:a}).done(function(){d.iQ()}):"css"==e&&(b('<link rel="stylesheet" type="text/css" href="'+a+'" >').appendTo("head"),d.iQ())};a.wq.prototype.iQ=function(){this.px+=1;this.px==this.AA.length?this.Ut():this.getFile(this.AA[this.px])};a.wq.prototype.w1=function(){var a=document.createElement("script");a.id="spkwgtBootsrap";var b=document.createAttribute("data-app");b.value="igniteWidgets";a.setAttributeNode(b);b=document.createAttribute("data-vendors");b.value="none";a.setAttributeNode(b);b=document.createAttribute("data-elm-id");
b.value="js-tutorial-sidebar";a.setAttributeNode(b);a.async=!0;document.getElementsByTagName("head")[0].appendChild(a)};a.wq.prototype.iy=function(){this.Er.show()};a.wq.prototype.Ut=function(){this.Er.delay(1500).fadeOut(1500,function(){b(this).remove()})}})(window.circuitsGui=window.circuitsGui||{},jQuery);(function(a,b){a.Aq=function(c){var d=this;d.px=0;d.AA=circuitsUrls.instructablesUrls;d.qy=0;d.step=0;d.content=null;"undefined"!==typeof c.step&&(d.step=parseInt(c.step));b(".js-root_container").addClass("editor--tutorial");d.zS=b('<div class="editor tutorial__container"/>').appendTo(b(".js-editor--circuit"));d.Dr=b('<div class="tutorial__content" position="absolute" top="64px"/>').appendTo(d.zS);d.TK=b('<div class="sitemenu--editor sitemenu--editor_submenu editor_tools" style="position:absolute;bottom:0px;right:0px;left:0px;background-color:#ffffff"/>').appendTo(d.zS);
d.Er=b('<div style="position:absolute;top:0px;bottom:0px;left:0px;right:0px;"/>').appendTo(d.Dr);d.Eu=new a.Eu(d.Er);d.c2=b('<div style="float:left;margin-left:10px;vertical-align:middle;"></div>').appendTo(this.TK);d.h0=b('<a class="btn btn--m btn--none_base_borders" title="Next Step" style="float:right;margin:10px;"><div class="btn__icon" style="float:right"><svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g fill-rule="evenodd"><path d="M8,21.0015538 L8,9.00155383 C8,8.19455383 8.906,7.72055383 9.569,8.17955383 L18.569,13.8155538 C19.126,14.2015538 19.146,15.0175538 18.61,15.4305538 L9.61,21.7945538 C8.952,22.2995538 8,21.8315538 8,21.0015538 L8,21.0015538 Z" transform=""></path><path d="M21.515,21.97 L21.485,21.97 C20.665,21.97 20,21.305 20,20.485 L20,10.485 C20,9.665 20.665,9 21.485,9 L21.515,9 C22.335,9 23,9.665 23,10.485 L23,20.485 C23,21.305 22.335,21.97 21.515,21.97 L21.515,21.97 Z"></path></g></svg></div><div class="btn__text" style="float:right;">Next</div></a>').appendTo(this.TK);
d.L0=b('<div class="editor__tools_tool sitemenu__svg_block_btn" style="float:right"><svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g fill-rule="evenodd"><path d="M23,9.99844617 L23,21.9984462 C23,22.8054462 22.094,23.2794462 21.431,22.8204462 L12.431,17.1844462 C11.874,16.7984462 11.854,15.9824462 12.39,15.5694462 L21.39,9.20544617 C22.048,8.70044617 23,9.16844617 23,9.99844617 L23,9.99844617 L23,9.99844617 Z" transform="translate(-258 -318) translate(258 318)"></path><path d="M9.485,9.03 L9.515,9.03 C10.335,9.03 11,9.695 11,10.515 L11,20.515 C11,21.335 10.335,22 9.515,22 L9.485,22 C8.665,22 8,21.335 8,20.515 L8,10.515 C8,9.695 8.665,9.03 9.485,9.03 L9.485,9.03 L9.485,9.03 Z" transform="translate(-258 -318) translate(258 318)"></path></g></svg></div>').appendTo(this.TK);
d.L0.click(function(){d.lK(d.step-1)});d.h0.click(function(){d.lK(d.step+1)});d.iy();d.RZ("/lesson/"+c.id,this.step)};a.Aq.prototype.RZ=function(a,d){var e=this;b.ajax({dataType:"json",lY:!0,url:a}).done(function(a){e.content=a;e.step=1;a.error?(e.content=a.error,e.qy=0,e.Ut(),e.D1(a.error)):(e.qy=a.steps.length,e.Ut(),e.lK(d))})};a.Aq.prototype.lK=function(a){var d=this;this.step=0>a?0:a>=this.qy?this.qy-1:a;this.Dr.empty();a=this.content.steps[this.step];b("<h3>"+this.content.title+"</h3><hr/>").appendTo(this.Dr);
b("<h4>"+a.title+"</h4>").appendTo(this.Dr);a.files.forEach(function(a){1==a.image&&b('<img src="'+(a.mediumAnimationUrl?a.mediumAnimationUrl:a.mediumUrl)+'"/>').appendTo(d.Dr)});b(a.body).appendTo(this.Dr);b("p").remove(".instructables-only");this.c2.text(""+(this.step+1)+"/"+this.qy)};a.Aq.prototype.D1=function(a){b('<div style="text-align:center;vertical-align:middle;width:100%;height:100%"><p style="vertical-align:middle;">'+a+"</p></div>").appendTo(this.Dr)};a.Aq.prototype.iy=function(){this.Er.show()};
a.Aq.prototype.Ut=function(){this.Er.delay(1500).fadeOut(1500,function(){b(this).remove()})}})(window.circuitsGui=window.circuitsGui||{},jQuery);function Td(){this.yP();this.Bk=[];this.Fc()}extend(Td,C);extend(Td,va);Td.prototype.Fc=function(){};Td.prototype.toJSON=function(){return null};function Ud(a){this.jd();this.va(a);this.elements=this.list("elements",!0,!0);this.origin=null;this.de(!0)}extend(Ud,Ga);extend(Ud,C);extend(Ud,ta);u(44,"SVG",Ud);Ud.prototype.Fc=function(){var a=this;this.ni=this.wd("boundingBox",!1,function(){var b;a.elements.forEach(function(a,d){var e=d.ni&&d.ni();e&&(b=e.merge(b))});return b},null,[[this.elements,this.elements.md]])};function Vd(a){return a.origin}function Wd(a,b){a.origin=b;a.elements.forEach(function(a,b){b.Fc&&b.Fc()})}
Ud.prototype.toSVG=function(){var a="<g>";this.elements.forEach(function(b,c){a+=c.toSVG()});return a+="</g>"};function Xd(a,b,c,d,e,k){var l=this;this.jd();this.va(a,!0);this.qb=this.value("center",new J(0,0),!1,!0);this.handle=this.value("handle",new J(0,0),!1,!0);this.fill=this.value("fill","",!1,!0);this.qc=this.value("strokeWidth",250,!1,!0);this.color=this.value("color",null,!1,!0);this.Bh=this.wd("radius",!1,function(){return l.qb().sub(l.handle()).length()},function(a){var b=l.handle().sub(l.qb()).Oa();a=new J(a*Math.cos(b),a*Math.sin(b));l.handle(l.qb().add(a))},[[this.handle,this.handle.ka],[this.qb,
this.qb.ka]]);this.de(!0);1!==arguments.length&&(void 0!=b&&this.qb(b),void 0!=c&&this.handle(c),void 0!=d&&this.fill(d),void 0!=e&&this.qc(e),void 0!=k&&this.color(k))}extend(Xd,Ga);extend(Xd,C);extend(Xd,ta);u(40,"Circle",Xd);f=Xd.prototype;
f.Fc=function(){var a=this;this.ni=this.wd("boundingBox",!1,function(){var b=a.qb(),c=a.Bh();return new Zb(b.x-c,b.y-c,2*c,2*c)},null,[[this,this.md]]);if(this.origin=Vd(this.parent()))this.I1=this.wd("showRadius",!1,function(){return a.Bh()/bd(a.origin)},function(b){a.Bh((b||0)*bd(a.origin))},[[this.Bh,this.Bh.ka],[this.origin,this.origin.md]]),this.pK=this.wd("showX",!1,function(){return(a.qb().x-a.origin.position().x)/bd(a.origin)},function(b){var c=a.qb().Eb();c.x=(b||0)*bd(a.origin)+a.origin.position().x;
Yd(a,c)},[[this.qb,this.qb.ka],[this.origin,this.origin.md]]),this.qK=this.wd("showY",!1,function(){return(a.qb().y-a.origin.position().y)/bd(a.origin)},function(b){var c=a.qb().Eb();c.y=(b||0)*bd(a.origin)+a.origin.position().y;Yd(a,c)},[[this.qb,this.qb.ka],[this.origin,this.origin.md]]),this.mK=this.wd("showStrokeWidth",!1,function(){return a.qc()/bd(a.origin)},function(b){a.qc(Math.abs(b||0)*bd(a.origin))},[[this.qc,this.qc.ka],[this.origin,this.origin.md]])};
f.move=function(a){this.qb(this.qb().add(a));this.handle(this.handle().add(a))};f.Jc=function(a){this.qb(this.qb().add(a));this.handle(this.handle().add(a))};f.rotate=function(a,b){b&&this.move(this.qb().rotate(a,b).sub(this.qb()))};f.toSVG=function(){return'<circle cx="'+this.qb().lb()+'" cy="'+this.qb().pb()+'" r="'+this.Bh()+'" stroke-width="'+this.qc()+'" '+(this.fill()?this.color()?'fill="'+this.color()+'" ':"":'fill="none" ')+(this.color()?'stroke="'+this.color()+'" ':"")+"/>"};
function Yd(a,b){var c=a.qb().sub(b);a.qb(b);a.handle(a.handle().sub(c))}f.gK=function(a){0<a&&this.qc(a)};f.AI=function(){return this.qc()};f.eK=function(a){this.fill(1==a)};f.wI=function(){return this.fill()};f.lb=function(){return this.qb().x};f.pb=function(){return this.qb().y};f.remove=function(){var a=this.parent().elements.indexOf(this);this.parent().elements.remove(a)};f.Ec=function(){return this.qb()};f.next=function(){return null};f.type=function(){return Zd};
f.td=function(){var a=new P;gd(a,this.qb());fd(a,this.qb());return a};function $d(a,b,c,d,e){this.jd();this.va(a);this.width=this.value("width",null,!1,!0);this.qb=this.value("center",new J(0,0),!1,!0);this.Oa=this.value("angle",0,!1,!0);this.hb=this.value("flip",1,!1,!0);this.style="";this.de(!0);1!==arguments.length&&(this.width(b),this.qb(c),this.Oa(d),this.hb(e))}extend($d,Ga);extend($d,C);extend($d,ta);u(46,"Logo",$d);f=$d.prototype;f.Fc=function(){};
f.toSVG=function(){for(var a=this.qb(),b=this.width(),c=this.Oa(),d="",e=this.hb(),k=[],l=0;l<yc.uu.length;l++)k.push(yc.uu[l]);for(var n=[],l=0;l<k.length;l++)n=n.concat(k[l].xa);n=(new ec(n)).Pe();b/=n.width;for(l=0;l<k.length;l++)k[l]=k[l].translate(new J(-n.x-n.width/2,-n.y-n.height/2)).scale(e*b,b).rotate(c).translate(a);for(a=0;a<k.length;a++)d+=k[a].toSVG(!0,!1);return d};f.x=function(a){if(1==arguments.length){var b=this.qb().Eb();b.x=a;this.qb(b)}else return this.qb().x};
f.y=function(a){if(1==arguments.length){var b=this.qb().Eb();b.y=a;this.qb(b)}else return this.qb().y};f.rotate=function(a){this.Oa((this.Oa()+a)%360)};f.move=function(a){this.qb(this.qb().add(a))};function ae(a,b,c,d){this.jd();this.va(a,!0);this.value("panningPoint",null,!1,!0);this.pc=this.list("objects",!0,!0);this.closed=this.value("closed",!1,!1,!0);this.fill=this.value("fill",!1,!1,!0);this.qc=this.value("strokeWidth",250,!1,!0);this.color=this.value("color",null,!1,!0);this.de(!0);1!==arguments.length&&(this.Im(new be(this.root,b,Zd)),void 0!=c&&this.qc(c),void 0!=d&&this.color(d))}extend(ae,Ga);extend(ae,C);extend(ae,ta);u(41,"Path",ae);f=ae.prototype;
f.Fc=function(){var a=this;this.ni=this.wd("boundingBox",!1,function(){return(new fc($(a.toSVG()).get(0))).zy(1,20).Pe()},null,[[this,this.md]])};function ce(a,b){var c={"stroke-width":a.qc()};a.fill()?a.color()&&(c.fill=a.color()):c.fill="none";a.color()&&(c.stroke=a.color());var d;if(b)for(d in b)c[d]=b[d];var e="";for(d in c)e+=" "+d+'="'+c[d]+'"';return e}
f.toSVG=function(a){var b=[],c='<path d="';this.pc.forEach(function(a,e){c+=e.toSVG();b.push(e.mode)});this.closed()&&(c+="Z");return c+='"'+ce(this,a)+"modes="+JSON.stringify(b)+" />"};f.Im=function(a,b){void 0===b?this.pc.push(a):this.pc.add(a,b)};f.remove=function(){this.wg.Xg()?this.wg.remove(this):this.wg.isMap()?this.wg.$x(this):this.wg.wh()?this.wg.$x(this):this.wg.Ij()&&this.wg(null)};f.Xw=function(){return this.pc.last().Hb()};f.eK=function(a){this.fill(1==a)};f.wI=function(){return this.fill()};
f.move=function(a){this.pc.forEach(function(b,c){c.Hb(c.Hb().add(a));c.zb(c.zb().add(a));c.yb(c.yb().add(a))})};function de(a){var b=new J(0,0),c=a.pc.size();2<c&&a.Vt?(a.pc.forEach(function(a,e){0<a&&a<c-1&&(b=b.add(e.Hb()))}),c-=2):(a.pc.forEach(function(a,c){b=b.add(c.Hb())}),a.closed()&&(b=b.sub(a.pc.get(-1).Hb()),c--));return b=b.Qb(1/c)}f.Ec=function(){return de(this)};f.rotate=function(a,b){a=a||90;if(b){ee(this,a);var c=de(this);this.move(c.rotate(a,b).sub(c))}else ee(this,a)};
function ee(a,b){rotatePoint=de(a);a.pc.forEach(function(c,d){if(!a.Vt||0<c&&c<a.pc.size()-1)d.Hb(d.Hb().rotate(b,rotatePoint)),d.zb(d.zb().rotate(b,rotatePoint)),d.yb(d.yb().rotate(b,rotatePoint))})}f.td=function(){var a=new P;this.pc.forEach(function(b,c){a.add(c.Hb(),1)});return a};f.Jc=function(a){this.move(a)};f.move=function(a){var b=this;this.pc.forEach(function(c,d){if(!b.Vt||0<c&&c<b.pc.size()-1)d.Hb(d.Hb().add(a)),d.zb(d.zb().add(a)),d.yb(d.yb().add(a))})};f.st=function(){};var Zd=0;function be(a,b,c,d){this.jd();this.va(a);this.Hb=this.value("endpoint",new J(0,0),!1,!0);this.zb=this.value("tan_0",new J(0,0),!1,!0);this.yb=this.value("tan_1",new J(0,0),!1,!0);this.type=this.value("type",Zd,!1,!0);this.de(!0);1!==arguments.length&&(this.Hb(b),this.type(c))}extend(be,Ga);extend(be,C);extend(be,ta);u(42,"PathObject",be);f=be.prototype;f.Xw=function(){return this.Hb()};
f.toSVG=function(){var a;if(this.type()==Zd)a="M"+this.Hb().lb()+","+this.Hb().pb();else if(1==this.type())a="L"+this.Hb().lb()+","+this.Hb().pb();else if(2==this.type())a="C"+this.zb().lb()+","+this.zb().pb()+" "+this.yb().lb()+","+this.yb().pb()+" "+this.Hb().lb()+","+this.Hb().pb();else if(4==this.type()){a=this.parent()?this.parent().Bh||10:10;var b=fe(this,a),c=0>b[0]?-b[0]:b[0];1<c?(a="L"+b[1].x+","+b[1].y,a+="A"+c+","+c+" "+180/Math.PI*b[3].sub(b[1]).Oa()+" 0,"+(0<b[0]?"0":"1")+" "+b[3].x+
","+b[3].y):a="L"+b[2].x+","+b[2].y}return a};f.CI=function(){var a;a='<path d="M '+(this.Nk().Hb().lb()+" ");a+=this.Nk().Hb().pb()+" ";a+=this.toSVG();return(new fc($(a+'" />').get(0))).Nn(10)};f.Jd=function(){return this.CI().zy(10)};f.index=function(){return this.parent()?this.parent().pc.indexOf(this):-1};f.next=function(){var a=this.index()+1;return this.parent().pc.get(a)};f.Nk=function(a){var b=this.index()-1;return a&&0>b?null:this.parent().pc.get(b)};
f.x=function(a){if(1==arguments.length){var b=(new J(a,this.y())).sub(this.Hb());this.yb(this.yb().add(b));var c=this.next();c.type()==Zd&&(this.parent().closed()&&c.Hb(c.Hb().add(b)),c=c.next());c.zb(c.zb().add(b));b=this.Hb().Eb();b.x=a;this.Hb(b)}else return this.Hb().x};
f.y=function(a){if(1==arguments.length){var b=(new J(this.x(),a)).sub(this.Hb());this.yb(this.yb().add(b));var c=this.next();c.type()==Zd&&(this.parent().closed()&&c.Hb(c.Hb().add(b)),c=c.next());c.zb(c.zb().add(b));b=this.Hb().Eb();b.y=a;this.Hb(b)}else return this.Hb().y};
function fe(a,b){var c=a.Hb(),d=a.Nk(!0)?a.Nk(!0).Hb():c,e=a.next()?a.next().Hb():c,k=c.Yc(d),l=c.Yc(e);b>.5*k&&(b=.5*k);b>.5*l&&(b=.5*l);if(1>b)return[0,c,c,c,c];var n=c.add(Rb(d.sub(c)).Qb(b)),q=c.add(Rb(e.sub(c)).Qb(b)),d=(new J(c.y-d.y,d.x-c.x)).Qb(1/k),e=(new J(c.y-e.y,e.x-c.x)).Qb(1/l),l=e.x*d.y-d.x*e.y;if(1E-9>l&&-1E-9<l)return[0,c,c,c,c];e=(e.y*(n.x-q.x)+e.x*(q.y-n.y))/l;l=0>e?-e:e;d=n.add(d.Qb(e));c=d.add(Rb(c.sub(d)).Qb(l));return[e,n,c,q,d]};function ge(a,b,c,d,e,k,l){this.jd();this.va(a,!0);this.width=this.value("width",null,!1,!0);this.height=this.value("height",null,!1,!0);this.qb=this.value("center",new J(0,0),!1,!0);this.Nj=this.value("rx",0,!1,!0);this.JC=this.value("ry",0,!1,!0);this.qc=this.value("strokeWidth",250,!1,!0);this.fill=this.value("fill",!1,!1,!0);this.Oa=this.value("angle",0,!1,!0);this.color=this.value("color",null,!1,!0);this.de(!0);1!==arguments.length&&(void 0!=b&&this.qb(b),void 0!=c&&this.width(c),void 0!=d&&
this.height(d),void 0!=e&&this.fill(e),void 0!=k&&this.qc(k),void 0!=l&&this.color(l))}extend(ge,Ga);extend(ge,C);extend(ge,ta);u(43,"Rectangle",ge);f=ge.prototype;
f.Fc=function(){var a=this;this.ni=this.wd("boundingBox",!1,function(){var b=a.qb(),c=a.width(),d=a.height();return(new Zb(b.x-c/2,b.y-d/2,c,d)).rotate(a.Oa(),b)},null,[[this,this.md]]);if(this.origin=Vd(this.parent()))this.pK=this.wd("showX",!1,function(){return(a.qb().x-a.origin.position().x)/bd(a.origin)},function(b){var c=a.qb().Eb();c.x=(b||0)*bd(a.origin)+a.origin.position().x;a.qb(c)},[[this.qb,this.qb.ka],[this.origin,this.origin.md]]),this.qK=this.wd("showY",!1,function(){return(a.qb().y-
a.origin.position().y)/bd(a.origin)},function(b){var c=a.qb().Eb();c.y=(b||0)*bd(a.origin)+a.origin.position().y;a.qb(c)},[[this.qb,this.qb.ka],[this.origin,this.origin.md]]),this.K1=this.wd("showWidth",!1,function(){return a.width()/bd(a.origin)},function(b){a.width((b||0)*bd(a.origin))},[[this.width,this.width.ka],[this.origin,this.origin.md]]),this.E1=this.wd("showHeight",!1,function(){return a.height()/bd(a.origin)},function(b){a.height((b||0)*bd(a.origin))},[[this.height,this.height.ka],[this.origin,
this.origin.md]]),this.J1=this.wd("showRoundness",!1,function(){return a.Nj()/bd(a.origin)},function(b){b=Math.abs(b||0)*bd(a.origin);if(b>=a.width()/2||b>=a.height()/2)b=Math.min(a.width(),a.height())/2;a.Nj(b);a.JC(b)},[[a.Nj,a.Nj.ka],[a.JC,a.JC.ka],[this.origin,this.origin.md]]),this.mK=this.wd("showStrokeWidth",!1,function(){return a.qc()/bd(a.origin)},function(b){a.qc(Math.abs(b||0)*bd(a.origin))},[[this.qc,this.qc.ka],[this.origin,this.origin.md]])};
f.toSVG=function(){return'<rect x="'+(this.qb().lb()-this.width()/2)+'" y="'+(this.qb().pb()-this.height()/2)+'" width="'+this.width()+'" height="'+this.height()+'" rx="'+this.Nj()+'" ry="'+this.JC()+'" transform="rotate('+this.Oa()+" "+this.qb().lb()+" "+this.qb().pb()+')" stroke-width="'+this.qc()+'" '+(this.fill()?this.color()?'fill="'+this.color()+'" ':"":'fill="none" ')+(this.color()?'stroke="'+this.color()+'" ':"")+"/>"};f.gK=function(a){this.qc(a)};f.AI=function(){return this.qc()};f.eK=function(a){this.fill(a)};
f.wI=function(){return this.fill()};f.Ec=function(){return this.qb()};f.remove=function(){var a=this.parent().elements.indexOf(this);this.parent().elements.remove(a)};f.rotate=function(a,b){b?(this.Oa((this.Oa()+a)%360),this.qb(this.qb().rotate(a,b))):this.Oa((this.Oa()+a)%360)};f.move=function(a){this.qb(this.qb().add(a))};f.Jc=function(a){this.qb(this.qb().add(a))};f.next=function(){return null};f.type=function(){return Zd};f.td=function(){var a=new P;gd(a,this.qb());fd(a,this.qb());return a};function he(a,b,c,d,e,k,l,n){var q=this;this.jd();this.va(a,!0);this.Cf=this.value("topleft",new J(0,0),!1,!0);this.hb=this.value("flip",1,!1,!0);this.text=this.value("text","label",!1,!0);this.Oa=this.value("angle",0,!1,!0);this.qc=this.value("strokeWidth",0,!1,!0);this.fontSize=this.value("fontSize",11,!1,!0);this.font=this.value("font","verdana",!1,!0);this.an=this.value("fontUnit","pt",!1,!0);this.color=this.value("color",null,!1,!0);this.de(!0);this.Iu=["mm","in","pt"];this.yY=this.wd("checkedFontSize",
!1,function(){return parseFloat(q.fontSize())/ie(q)},function(a){isNaN(a)||q.fontSize(a*ie(q))},[[q.fontSize,q.fontSize.ka],[q.an,q.an.ka]]);1!==arguments.length&&(void 0!=b&&this.Cf(b),void 0!=c&&this.font(c),void 0!=d&&this.fontSize(parseFloat(d)),void 0!=e&&this.hb(e),void 0!=k&&this.qc(k),void 0!=l&&this.color(l),void 0!=n&&this.text(n))}extend(he,Ga);extend(he,C);extend(he,ta);u(45,"Text",he);f=he.prototype;f.move=function(a){this.Cf(this.Cf().add(a))};
f.Fc=function(){var a=this;this.ni=this.wd("boundingBox",!1,function(){return"pcbfont"!==a.font()?null:Ec.getBBox(a.text(),9*parseInt(a.fontSize())/12).hb(a.hb()).rotate(a.Oa()).translate(a.Cf())},null,[[this,this.md]])};f.Jc=function(a){this.Cf(this.Cf().add(a))};f.lb=function(){return this.Cf().x};f.pb=function(){return this.Cf().y};f.Ec=function(){return this.Cf()};f.remove=function(){var a=this.parent().elements.indexOf(this);this.parent().elements.remove(a)};
f.toSVG=function(){if("pcbfont"!==this.font())return'<text x="'+this.Cf().lb()+'" y="'+this.Cf().pb()+'" transform="rotate('+this.Oa()+" "+this.Cf().lb()+" "+this.Cf().pb()+')" stroke-width="'+this.qc()+'" font-size="'+parseInt(this.fontSize())+'px" font-family="'+this.font()+'" '+(this.color()?'stroke="'+this.color()+'" ':"")+">"+this.text()+"</text>";var a='<g x="'+this.Cf().lb()+'" y="'+this.Cf().pb()+'" rotate-angle="'+this.Oa()+'" stroke-width="'+this.qc()+'" font-size="'+parseInt(this.fontSize())+
'px" font-family="'+this.font()+'" flip="'+this.hb()+'" '+(this.color()?'stroke="'+this.color()+'" ':"")+'text-data="'+this.text()+'">',b=Bc(Ec,this.text(),9*parseInt(this.fontSize())/12),c=this.Cf(),d=this.hb(),e=this.Oa(),k=new y;b.forEach(function(a){var b=a.hb(d).rotate(e).translate(c);b.width=a.width;k.add(b)});a+=Dc(k);return a+"</g>"};f.rotate=function(a,b){b?(this.Oa((this.Oa()+a)%360),this.Cf(this.Cf().rotate(a,b))):this.Oa((this.Oa()+a)%360)};
f.td=function(){var a=new P;gd(a,this.Cf());fd(a,this.Cf());return a};function ie(a){var b=1;switch(a.an()){case "mm":b=1E3;break;case "in":b=25400;break;case "pt":b=352.77778}return b};function je(a,b){var c=this;Ob.call(this,a,b);this.Re=this.value("infocus",!1,!1,!0);this.ke=this.list("handles",!0,!0);this.jb=this.list("segments",!0,!0);this.Nw=this.value("editingState",!1,!1,!0);this.Qk();this.data.pc.kc("rebuild_interaction_model",function(){c.tb()&&c.Qk()},10);this.data.pc.Tc("rebuild_interaction_model",function(a,b,k){c.tb()&&(k.Fe("interaction_model_coupling_reverse",!0),c.Qk())},10);this.Nw.ka("editingState",function(){c.tb()&&c.Qk()},10)}je.prototype=inherit(Ob.prototype);
je.prototype.constructor=je;extendInteractionModel(je,ae);u(75,"PathInteractionModel",je);f=je.prototype;f.Jc=function(a){var b=this;b.data.Vt?b.Dg&&4==b.Dg.object.type()?(b.Dg.yn.Zi||b.Dg.yn.Jc(a),b.Dg.pn.Zi||b.Dg.pn.Jc(a)):this.ke.forEach(function(c,d){0<c&&c<b.ke.size()-1&&d.Jc(a)}):this.ke.forEach(function(b,d){d.Jc(a)})};f.td=function(){var a=new P;this.Dg&&(this.Dg.yn.Zi||a.ib(this.Dg.yn.td()),this.Dg.pn.Zi||a.ib(this.Dg.pn.td()));return a};
f.Mt=function(){var a=new P;if(this.Dg){var b=new y;b.add(this.Dg.pn);a.ib(this.Dg.yn.Mt(b))}return a};f.hq=function(a,b){if(!this.parent().xd||!this.parent().xd()){this.root.Vb();var c=this.data,d=c.pc.indexOf(b.object.Nk());if(2==b.object.type()){var e=new be(this.root,a.Eb(),2);e.zb(b.object.zb());e.yb(a.Eb());b.object.zb(a.Eb());b.object.yb(a.Eb())}else 1==b.object.type()?e=new be(this.root,a.Eb(),1):4==b.object.type()&&(e=new be(this.root,a.Eb(),4));this.Dg=null;c.pc.add(e,d+1);this.root.Xb()}};
f.Qk=function(){var a=this,b=new y;b.add("rebuild_view");this.ke.mf(b);this.jb.mf(b);this.data.Fe("interaction_model_coupling_reverse",!0);this.ke.fe();this.jb.fe();var c=!0;this.data.pc.forEach(function(b,d){var l=0;if(1==d.type()||4==d.type())l=0;else if(2==d.type())if(d.next())var l=d.yb().sub(d.Hb()),n=d.next().zb().sub(d.Hb()),q=l.add(n).length()/l.sub(n).length(),l=.01>l.length()&&.01>n.length()?0:1==d.next().type()&&.01>l.length()?0:.01>q?1:2;else l=d.yb().sub(d.Hb()),l=.01>l.length()?0:2;
else d.type()==Zd&&(c=!1,d.next()&&(n=d.next().zb().sub(d.Hb()),l=.01>n.length()||1==d.next().type()||4==d.next().type()?0:2));l=new ke(a.root,a,d,l);d.parent()instanceof le&&l.XO(!0);a.ke.push(l);d.type()!=Zd&&(n=new me(a.root,a,d),a.jb.push(n),n.pn=l,l.XQ=n)});if(1==this.Nw()){var d=this.jb.last();d&&(d.PO=!1)}c?(this.ke.mf(b),this.jb.mf(b),this.data.Fe("interaction_model_coupling_reverse",!0),this.ke.fe(),this.jb.fe()):(this.ke.forEach(function(b,c){c.prev=0<b?a.ke.get(b-1):null;b<a.ke.size()-
1?c.next=a.ke.get(b+1):c.next=null}),this.ke.forEach(function(a,b){b.next&&(b.kQ=b.next.XQ,b.kQ.yn=b)}))};f.kx=function(){return this.data.kx?this.data.kx():!0};function me(a,b,c){this.jd();this.va(a);this.Ya=b;this.object=c;this.PO=!0;this.yn=this.pn=null}extend(me,Ga);extend(me,C);u(79,"PathSegmentModel",me);function ne(a,b){Ob.call(this,a,b);this.handle=this.value("handle",null,!0,!0);this.handle(new oe(a,this,b));this.Re=this.value("infocus",!1,!1,!0)}ne.prototype=inherit(Ob.prototype);ne.prototype.constructor=ne;extendInteractionModel(ne,Xd);u(74,"CircleInteractionModel",ne);function pe(a,b){Ob.call(this,a,b);this.handle=this.value("handle",null,!0,!0);this.handle(new qe(this.root,this,b));this.Re=this.value("infocus",!1,!1,!0)}pe.prototype=inherit(Ob.prototype);pe.prototype.constructor=pe;extendInteractionModel(pe,ge);u(76,"RectInteractionModel",pe);function re(a,b){Ob.call(this,a,b);this.Re=this.value("infocus",!1,!1,!0)}re.prototype=inherit(Ob.prototype);re.prototype.constructor=re;extendInteractionModel(re,he);u(77,"TextInteractionModel",re);function ke(a,b,c,d){var e=this;this.jd();this.va(a);this.Va=this.value("coord",c.Hb().Eb(),!1,!0);this.mode=this.value("mode",d,!1,!0);this.XO=this.value("fixed_mode",!1,!1,!0);this.zb=this.value("tan_0",null,!0,!0);this.yb=this.value("tan_1",null,!0,!0);this.Ya=b;this.object=c;this.XQ=this.kQ=this.prev=this.next=null;this.Zi=!1;c.type()!==Zd?d=new se(a,this,c.yb,!1):(d=null,this.Zi=!0);c.next()?a=new se(a,this,c.next().zb,!0):(a=null,this.Zi=!0);this.Zi&&b.data instanceof le&&(this.rotate=null);
this.zb(d);this.yb(a);d&&(d.Ik=a);a&&(a.Ik=d);this.Va.ka("interaction_model_coupling",function(){e.tb()&&e.object.Hb(e.Va().Eb())},10);this.object.Hb.ka("interaction_model_coupling_reverse",function(a,b,c){e.tb()&&(c.eq(e.Va())||(e.parent().data instanceof le?e.Va(c):e.Ya.Qk()))},10);this.mode.ka("interaction_model_coupling",function(a,b,c){if(e.tb())switch(a=e.prev,b=e.next,c){case 2:case 1:a&&(e.object.type(2),0==a.mode()&&a.yb().Va(a.Va()));b&&(b.object.type(2),0==b.mode()&&b.zb().Va(b.Va()));
b&&a?(c=b.Va().sub(a.Va()).Qb(.3),e.zb().Va(e.Va().sub(c)),e.yb().Va(e.Va().add(c))):b?(c=b.Va().sub(e.Va()).Qb(.3),e.yb().Va(e.Va().add(c))):a?(c=e.Va().sub(a.Va()).Qb(.3),e.zb().Va(e.Va().sub(c))):console.log("Trouble");break;case 0:b&&(0!=b.mode()?e.yb().Va(e.Va()):b.object.type(1)),a&&(0!=a.mode()?e.zb().Va(e.Va()):e.object.type(1))}},10)}extend(ke,Ga);extend(ke,C);u(83,"HandleModel",ke);f=ke.prototype;f.Ec=function(){return this.Va()};f.rotate=function(a,b){this.Va(this.Va().rotate(a,b))};
f.remove=function(){var a=this.object.parent(),b=this.object.index();if(0<=b){var c=this.object.next();if(3>a.pc.size()||a.Vt&&this.Zi)a.remove();else return this.object.type()==Zd&&c&&(c.zb(new J(0,0)),c.yb(new J(0,0)),c.type(Zd)),a.pc.remove(b),a.Ya?a.Ya:a}};f.td=function(){var a=new P;this.Zi?a.add(this.Va(),10,0,null,this):a.add(this.Va(),10,0,null,this,null,this.object.parent().yh);return a};
f.Mt=function(a){var b=this,c=new P;if(this.parent().data instanceof le){var d=a.values();this.Ya&&this.Ya.ke.forEach(function(a,k){k!==b&&0>d.indexOf(k)&&(c.add(new M(Ub,k.Va()),1,0,null,b,null,b.object.parent().yh),c.add(new M(Vb,k.Va()),1,0,null,b,null,b.object.parent().yh))})}return c};f.Jc=function(a){this.Va(this.Va().add(a));this.zb()&&this.zb().Va(this.zb().Va().add(a));this.yb()&&this.yb().Va(this.yb().Va().add(a))};
f.hq=function(){if(!this.XO()){this.root.Vb();switch(this.mode()){case 0:this.Zi?this.mode(2):this.mode(1);break;case 1:this.mode(2);break;case 2:this.mode(0)}this.root.Xb()}};function se(a,b,c,d){var e=this;this.jd();this.va(a);this.handle=b;this.Va=this.value("coord",null,!1,!0);this.Ik=null;this.LJ=d;this.kJ=c;this.Va(this.kJ().Eb());this.Ya=this.handle.Ya;this.Va.ka("interaction_model_coupling",function(){e.tb()&&e.kJ(e.Va().Eb())},10);e.kJ.ka("interaction_model_coupling_reverse",function(a,b,c){e.tb()&&(c.eq(e.Va())||e.Ya.Qk())},10)}extend(se,Ga);extend(se,C);u(82,"TangentHandleModel",se);se.prototype.td=function(){var a=new P;gd(a,this.Va());fd(a,this.Va());return a};
se.prototype.Jc=function(a){this.Va(this.Va().add(a));1==this.handle.mode()&&this.Ik&&this.Ik.Va(this.Ik.Va().sub(a))};function oe(a,b,c){var d=this;this.jd();this.va(a);this.Ya=b;this.uw=c;this.mode=this.value("mode",null,!1,!0);this.Va=this.value("coord",null,!1,!0);this.am();this.uw.qb.ka("interaction_model_coupling_reverse",function(){d.am()},10);this.uw.handle.ka("interaction_model_coupling_reverse",function(){d.am()},10);this.Va.ka("interaction_model_coupling",function(){null!=d.Va()&&d.uw.handle(d.Va())})}extend(oe,Ga);extend(oe,C);u(78,"CircleHandleModel",oe);f=oe.prototype;f.remove=function(){};
f.td=function(){var a=new P;gd(a,this.Va());fd(a,this.Va());return a};f.Jc=function(a){this.Va(this.Va().add(a))};f.hq=function(){};f.am=function(){this.Va()&&this.uw.handle().eq(this.Va())||this.Va(this.uw.handle())};function qe(a,b,c){var d=this;this.jd();this.va(a);this.Ya=b;this.dj=c;this.mode=this.value("mode",null,!1,!0);this.Va=this.value("coord",null,!1,!0);this.am();this.dj.width.ka("interaction_model_coupling_reverse",function(){d.am()},10);this.dj.height.ka("interaction_model_coupling_reverse",function(){d.am()},10);this.dj.qb.ka("interaction_model_coupling_reverse",function(){d.am()},10);this.dj.Oa.ka("interaction_model_coupling_reverse",function(){d.am()},10);this.Va.ka("interaction_model_coupling",
function(){if(null!=d.Va()){var a=d.Va().sub(d.dj.qb()).rotate(-d.dj.Oa());d.dj.width(2*Math.abs(a.lb()));d.dj.height(2*Math.abs(a.pb()))}})}extend(qe,Ga);extend(qe,C);u(81,"RectHandleModel",qe);f=qe.prototype;f.remove=function(){};f.td=function(){var a=new P;gd(a,this.Va());fd(a,this.Va());return a};f.Jc=function(a){this.Va(this.Va().add(a))};f.hq=function(){};
f.am=function(){var a=this.dj.width(),b=this.dj.height(),c=this.dj.qb(),d=this.dj.Oa(),a=c.add(new J(a/2,b/2)).rotate(d,c);this.Va()&&a.eq(this.Va())||this.Va(a)};function te(a,b,c,d,e,k){function l(){n.ba.Gd(null);2<n.tf.pc.size()?n.tf.pc.remove(n.tf.pc.size()-1):n.tf.remove();n.ba.Gd(null);n.ur();n.root.Xb()}var n=this;this.root=a;this.ba=b;this.gW=c;this.Vd=d;n.Cb=e;this.mode=k||0;this.yy=0;D.call(this);F(n,"idle","idle",function(a){return a.type()==H.Od},function(a){Qc(n.ba);Rc(n.ba,Q(n.ba,a.data("mouseCoord")))});this.tZ=F(n,"idle","just_added_point",function(a){return a.type()==H.of&&n.Cj()},function(a){if(!n.ba.Kc){var b=n.ba.Tg();n.ba.Kc=b.Kc;n.ba.$c=
b.$c}n.root.Vb();ue(n,Q(n.ba,a.data("mouseCoord")))});F(n,"just_added_point","pan_to_next",function(a){return a.type()==H.Od},function(a){a=Rc(n.ba,Q(n.ba,a.data("mouseCoord")));ve(n,a)});F(n,"pan_to_next","pan_to_next",function(a){return a.type()==H.Od},function(a){a=Rc(n.ba,Q(n.ba,a.data("mouseCoord")));ve(n,a)});this.vZ=F(n,"pan_to_next","just_added_point",function(a){return a.type()==H.of||a.type()==H.gc&&a.element("subelement")&&a.element("subelement").constructor!=me},function(a){a=Rc(n.ba,
Q(n.ba,a.data("mouseCoord")));n.Im(a);n.yy=(new Date).getTime()});F(n,"pan_to_next","idle",function(a){return a.type()==H.gc&&a.element("subelement")&&a.element("subelement").constructor==me},function(a){a=Rc(n.ba,Q(n.ba,a.data("mouseCoord")));n.Im(a);n.ur();n.root.Xb();n.yy=(new Date).getTime()});this.uZ=F(n,"just_added_point","idle",function(a){var b=(new Date).getTime();return(a.type()==H.of||a.type()==H.gc)&&500>b-n.yy},function(){n.tf.pc.remove(n.tf.pc.size()-1);n.ba.Gd(null);n.ur();n.root.Xb();
n.yy=(new Date).getTime()});F(n,"pan_to_next","idle",function(a){return a.type()==H.sm&&"escape"==a.data("keyCode")},function(){n.ba.Gd(null);n.ur();n.root.lt()});F(n,"just_added_point","idle",function(a){return a.type()==H.sm&&"escape"==a.data("keyCode")},function(){n.ba.Gd(null);n.ur();n.root.lt()});F(n,"pan_to_next","idle",function(a){return a.type()==H.sm&&"space"==a.data("keyCode")},l);F(n,"pan_to_next","idle",function(a){return a.type().Ed||a.Mb("C_z","C_y")},function(a){l();n.handle(a)});F(n,
"just_added_point","idle",function(a){return a.type()==H.sm&&"space"==a.data("keyCode")},l);["just_added_point","pan_to_next"].forEach(function(b){var c=new jd(a,n.ba);n.append(b+"_zooming",c,b,null,b,null)})}te.prototype=inherit(D.prototype);te.prototype.constructor=te;te.prototype.Cj=function(){return _.isFunction(this.Vd)?this.Vd():this.Vd};
function ue(a,b){var c=Rc(a.ba,b),d=_.isFunction(a.Cb)?a.Cb():a.Cb;a.tf=new a.gW(a.root,c,d&&d.qc);d=a.Cj();d.Xg()?d.add(a.tf):d.wh()?d.push(a.tf):console.warn("Cannot add item to a collection that is not a list or a set");a.Im(c);a.tf.Ya.Nw(!0)}
function ve(a,b){if(0==a.mode)a.tf.pc.last().Hb(b);else if(1==a.mode){var c=a.tf.pc.get(-3);if(c){var d=a.tf.pc.get(-2),e=a.tf.pc.get(-1),k=c.Hb(),c=d.Hb(),l=e.Hb();if(l.eq(c))e=a.tf.pc.get(-1);else{var n=Rb(c.sub(l)),n=Rb(Rb(c.sub(k)).sub(n)),k=n.dot(l.sub(k)),k=n.Qb(.2*k);d.yb(c.sub(k));e.zb(c.add(k));e.yb(b)}}else e=a.tf.pc.get(-1),e.yb(b);e.Hb(b)}}te.prototype.Im=function(a){var b=new be(this.root,a,0==this.mode?1:2);b.zb(a);b.yb(a);this.tf.Im(b)};te.prototype.ur=function(){this.tf.Ya.Nw(!1)};function we(a,b,c,d){var e=this;this.root=a;this.ba=b;this.Vd=c;this.Cb=d;D.call(this);var k=null;F(e,"idle","idle",function(a){return a.type()==H.Od},function(a){Qc(e.ba);Rc(e.ba,Q(e.ba,a.data("mouseCoord")))});F(e,"idle","setRadius",function(a){return a.type()==H.of&&e.Cj()},function(a){e.root.Vb();e.zc=Q(e.ba,a.data("mouseCoord"));a=_.isFunction(e.Cb)?e.Cb():e.Cb;k=new Xd(e.root,e.zc,e.zc,a.fill,a.qc);a=e.Cj();a.Xg()?a.add(k):a.wh()?a.push(k):console.warn("Cannot add item to a collection that is not a list or a set");
a=k.Ya?k.Ya:k;e.ba.lc();e.ba.selection.add(a);e.ba.fh.add(a);e.ba.Rf=new J(0,0);a=e.ba.Tg(k);e.ba.Kc=a.Kc;e.ba.$c=a.$c});F(e,"setRadius","setRadius",function(a){return a.type()==H.Od},function(a){a=Q(e.ba,a.data("mouseCoord"));var b=e.zc.Yc(a);k.Bh(b);k.handle(a)});F(e,"setRadius","idle",function(a){return a.type()==H.He},function(){k.Bh()<=k.qc()&&k.Bh(5*k.qc());e.root.Xb();e.ba.lc()});F(e,"setRadius","idle",function(a){return a.Mb("escape")},function(){e.ba.Gd(null);e.ba.lc();e.root.lt()})}
we.prototype=inherit(D.prototype);we.prototype.constructor=we;we.prototype.Cj=function(){return _.isFunction(this.Vd)?this.Vd():this.Vd};function ze(a,b,c,d){var e=this;e.root=a;e.ba=b;e.Vd=c;e.Cb=d;D.call(e);var k=null;F(e,"idle","idle",function(a){return a.type()==H.Od},function(a){Qc(e.ba);Rc(e.ba,Q(e.ba,a.data("mouseCoord")))});F(e,"idle","setSize",function(a){return a.type()==H.of&&e.Cj()},function(a){e.root.Vb();e.zc=Q(e.ba,a.data("mouseCoord"));a=_.isFunction(e.Cb)?e.Cb():e.Cb;k=new ge(e.root,e.zc,0,0,a.fill,a.qc);a=e.Cj();a.Xg()?a.add(k):a.wh()?a.push(k):console.warn("Cannot add item to a collection that is not a list or a set");
a=k.Ya?k.Ya:k;e.ba.lc();e.ba.selection.add(a);e.ba.fh.add(a);e.ba.Rf=new J(0,0);a=e.ba.Tg(k);e.ba.Kc=a.Kc;e.ba.$c=a.$c});F(e,"setSize","setSize",function(a){return a.type()==H.Od},function(a){a=Q(e.ba,a.data("mouseCoord"));a=e.zc.sub(a);k.width(2*Math.abs(a.lb()));k.height(2*Math.abs(a.pb()))});F(e,"setSize","idle",function(a){return a.type()==H.He},function(){var a=k.qc();if(k.width()<=a||k.height()<=a)k.width(5*a),k.height(5*a);e.root.Xb();e.ba.lc()});F(e,"setSize","idle",function(a){return a.Mb("escape")},
function(){e.ba.Gd(null);e.ba.lc();e.root.lt()})}ze.prototype=inherit(D.prototype);ze.prototype.constructor=ze;ze.prototype.Cj=function(){return _.isFunction(this.Vd)?this.Vd():this.Vd};function Ae(a,b,c,d){var e=this;this.Vd=c;this.Cb=d;kd.call(this,a,b);qb(e,"mouse_down");a=new nd(a,b);this.append("changing_property",a,"idle",null,"idle",null);F(e,"idle","idle",function(a){return a.type()==H.Od},function(a){Qc(e.ba);Rc(e.ba,Q(e.ba,a.data("mouseCoord")))});F(e,"idle","moving",function(a){return a.type()==H.of&&e.Cj()},function(a){e.root.Vb();e.zc=Q(e.ba,a.data("mouseCoord"));a=_.isFunction(e.Cb)?e.Cb():e.Cb;a=new he(e.root,e.zc,a.font,a.fontSize,a.hb);var b=e.Cj();b.Xg()?b.add(a):
b.wh()?b.push(a):console.warn("Cannot add item to a collection that is not a list or a set");b=a.Ya?a.Ya:a;e.ba.lc();e.ba.selection.add(b);e.ba.fh.add(b);e.ba.Rf=new J(0,0);a=e.ba.Tg(a);e.ba.Kc=a.Kc;e.ba.$c=a.$c})}Ae.prototype=inherit(kd.prototype);Ae.prototype.constructor=Ae;Ae.prototype.Cj=function(){return _.isFunction(this.Vd)?this.Vd():this.Vd};function Be(a,b,c,d){var e=this;this.aa=a;this.data=b;this.data.nd(a,this);this.cg(c,[d]);this.sa=this.aa.svg.group(this.Sc(d).sa);this.wa();this.data.md("view",function(){e.data.tb()&&e.wa()},10)}extend(Be,Jd);Be.prototype.wa=function(){$(this.sa).empty();this.aa.svg.add(this.sa,this.data.toSVG())};
Be.prototype.Nd=function(){var a=this.data.origin.Qt().replace("u","\u03bc");Hd(this.aa.te,[{label:"Center X",type:Pd,Id:this.data.pK,Bd:a},{label:"Center Y",type:Pd,Id:this.data.qK,Bd:a},{label:"Radius",type:Pd,Id:this.data.I1,Bd:a},{label:"Stroke width",type:Pd,Id:this.data.mK,Bd:a},{label:"Fill",type:Qd,Id:this.data.fill}],{name:"Circle Tool"})};function Ce(a,b,c,d,e,k,l){var n=this;this.aa=a;this.Ya=b;this.data=b.data;this.Ya.nd(a,this);this.cg(c,[e,k,l]);this.Pa=this.aa.svg.group(this.Sc(e).sa);this.Bq=this.aa.svg.group(this.Sc(k).sa);this.Dd=this.aa.svg.group(this.Sc(l).sa);this.handle=new De(this.aa,this.Ya.handle(),this.Bq,this.Dd);this.wa();this.Ya.Re.ka("interaction view",function(){n.Ya.tb()&&n.wa()},10);this.data.md("interaction view",function(){n.data.tb()&&n.wa()},10);this.aa.ba.ab.ka(n,function(){n.data.tb()&&n.wa()},10)}
extend(Ce,Jd);f=Ce.prototype;f.wa=function(){var a=this;$(this.Pa).empty();this.aa.svg.add(this.Pa,this.data.toSVG());var b=$(":nth-last-child(1)",this.Pa);b.attr("stroke-width",a.data.qc()+4/a.aa.ba.ab());b.mousedown(function(b){return a.bc(b)});this.Ya.Re()?this.handle.wa():this.handle.Md()};f.Nd=function(){this.data.Wa(this.aa).Nd()};f.Vg=function(){this.data.Wa(this.aa).Vg()};f.Ac=function(a){this.data.Wa(this.aa).Ac(a)};f.Qj=function(a){this.Ya.Re(a)};
f.bc=function(a){a=Fb(new G(H.gc),a).element(this.Ya).element("subelement",this.data).data("mouseCoord",Bd(this.aa,a));return this.aa.Ea.handle(a)};function De(a,b,c,d){var e=this;this.aa=a;this.De=b;this.De.nd(a,this);this.sa=this.aa.svg.group(c);this.Pa=this.aa.svg.group(d);this.qS=this.aa.svg.group(c);this.pS=this.aa.svg.group(d);this.De.zb&&this.De.zb()&&(this.zb=new Ee(e.aa,this.De.zb(),e,e.qS,e.pS));this.De.yb&&this.De.yb()&&(this.yb=new Ee(e.aa,this.De.yb(),e,e.qS,e.pS));this.De.mode.ka("view",function(){Fe(e)},10);this.De.Va.ka("view",function(){Fe(e)},10);this.wa()}f=De.prototype;
f.VB=function(){if(this.De.tb()){var a=this.pq();if(a&&(a.selected||a.uq&&a.uq()))return!0}return!1};function Fe(a){a.De.tb()&&(a.VB()||a.De.Ya.Re())&&a.wa()}
f.wa=function(){var a=this;$(this.sa).empty();$(this.Pa).empty();var b=this.De.parent().data;if(!(b&&b.insert&&b.insert())){var b=a.De.Va(),c=this.pq(),d=null;if(c){var e=this.aa.ba.ab();3<e&&(e=3);var k=7.5/e,l=2.15*3/e,n=1.3*3/e,e=3/e;this.aa.svg.circle(this.sa,b.x,b.y,k,{fill:c.borderColor(),fillOpacity:1,stroke:"none"});this.aa.svg.circle(this.sa,b.x,b.y,l,{fill:c.color(),fillOpacity:1,stroke:"none"});this.aa.svg.circle(this.sa,b.x,b.y,n,{fill:c.borderColor(),fillOpacity:1,stroke:"none"});var q=
null,l=this.aa.Rt?this.aa.Rt.css("background-color")||"white":"white",q=this.aa.svg.circle(this.sa,b.x,b.y,e,{fill:l,fillOpacity:this.selected?1:0,stroke:"none"});a.De.Zi&&a.VB()&&a.aa&&"breadboard_editing - moving - moving"==a.aa.Ea.state()||(d=this.aa.svg.circle(this.Pa,b.x,b.y,k,{fill:"red",stroke:"red",opacity:0}));this.selected?c.wa(!0):($(d).mouseover(function(){$(q).attr("fill-opacity",1)}),$(d).mouseout(function(){$(q).attr("fill-opacity",0)}))}else c=10/this.aa.ba.ab(),d=1/this.aa.ba.ab(),
this.aa.svg.rect(this.sa,b.x-c/2,b.y-c/2,c,c,{fill:this.selected?"#1da750":"none",fillOpacity:1,stroke:"#1da750",strokeWidth:d}),d=this.aa.svg.rect(this.Pa,b.x-c/2,b.y-c/2,c,c,{fill:"red",stroke:"red",opacity:0});d&&$(d).mousedown(function(b){return a.bc(b)});this.zb&&this.zb.wa();this.yb&&this.yb.wa()}};f.pq=function(){var a=this.De.parent().data,b=null;return a&&a.im&&(b=this.De.parent().data.im.get(this.aa))&&b.data instanceof le?b:null};
f.Ac=function(a){var b=this;(this.selected=a)?this.De.parent().ke&&this.De.parent().ke.forEach(function(a,d){d.Wa(b.aa).wa()}):(a=this.pq())?a.selected||a.uq()?this.wa():this.De.parent().ke.forEach(function(a,d){d.Wa(b.aa).show(!1)}):this.wa()};f.Nd=function(){this.De.Ya.data.Wa(this.aa).Nd()};f.Vg=function(){this.De.Ya.data.Wa(this.aa).Vg()};f.Md=function(){$(this.sa).empty();$(this.Pa).empty();this.zb&&this.zb.Md();this.yb&&this.yb.Md();var a=this.pq();a&&a.gj(null)};
f.bc=function(a){a=Fb(new G(H.gc),a).element(this.De).data("mouseCoord",Bd(this.aa,a)).data("notFocusable",!0);return this.aa.Ea.handle(a)};f.st=function(){};f.show=function(a){a?this.wa():this.Md()};function Ge(a,b,c,d){var e=this;this.aa=a;this.data=b;this.data.nd(a,this);this.cg(c,[d]);this.sa=this.aa.svg.group(this.Sc(d).sa);this.wa();this.data.md("view",function(){e.data.tb()&&e.wa()},10)}extend(Ge,Jd);Ge.prototype.Jd=function(a,b){return this.data.Jd(a,b)};Ge.prototype.wa=function(){$(this.sa).empty();this.aa.svg.add(this.sa,this.data.toSVG())};
Ge.prototype.Nd=function(){this.wa();Hd(this.aa.te,[{label:"Stroke Width",type:Pd,Id:this.data.qc,Bd:"\u03bcm"},{label:"Fill",type:Qd,Id:this.data.fill}],{name:"Pen Tool"})};function He(a,b,c,d,e,k,l){var n=this;this.aa=a;this.Ya=b;this.data=b.data;this.Ya.nd(a,this);this.cg(c,[e,k,l]);this.Pa=this.aa.svg.group(this.Sc(e).sa);this.Bq=this.aa.svg.group(this.Sc(k).sa);this.Dd=this.aa.svg.group(this.Sc(l).sa);this.Qk();this.Ya.Re.ka("view",function(){n.Ya.tb()&&n.wa()},10);this.aa.ba.ab.ka(n,function(){n.Ya.tb()&&n.wa()},10);this.Ya.ke.kc("rebuild_view",function(){n.Ya.tb()&&n.Ya.root.fc("rebuild_view",n.Qk,n,[],n)},10);this.Ya.ke.Tc("rebuild_view",function(){n.Ya.tb()&&
n.Ya.root.fc("rebuild_view",n.Qk,n,[],n)},10);this.wa()}extend(He,Jd);f=He.prototype;f.wa=function(){var a=this;a.Ya.jb.forEach(function(b,c){var d=c.Wa(a.aa);d&&d.wa()});a.Ya.Re()?a.Ya.ke.forEach(function(b,c){var d=c.Wa(a.aa);d&&d.wa()}):a.Ya.ke.forEach(function(b,c){var d=c.Wa(a.aa);d&&d.Md()})};f.Qk=function(){var a=this;$(this.Pa).empty();$(this.Bq).empty();$(this.Dd).empty();this.Ya.jb.forEach(function(b,c){new Ie(a.aa,c,a.Pa)});this.Ya.ke.forEach(function(b,c){new De(a.aa,c,a.Bq,a.Dd)});this.wa()};
f.Nd=function(){this.data.Wa(this.aa).Nd()};f.Vg=function(){this.data.Wa(this.aa).Vg()};f.Ac=function(a){var b=this;this.data.Wa(this.aa).Ac(a);b.Ya.ke.forEach(function(c,d){var e=d.Wa(b.aa);e&&e.show(a)})};f.Qj=function(a){this.Ya.Re(a)};function Ie(a,b,c){var d=this;this.aa=a;this.data=b;this.data.nd(a,this);this.Pa=this.aa.svg.group(c);this.data.yn.md(d,function(){d.data.tb()&&d.wa()},10);this.data.pn.md(d,function(){d.data.tb()&&d.wa()},10)}f=Ie.prototype;
f.wa=function(){var a=this;$(this.Pa).empty();var b=this.data.yn,c=this.data.pn,d=this.data.object;if(!(!d.parent()||d.parent().insert&&d.parent().insert())){0==b.mode()?b.Va():b.yb()?b.yb().Va():b.Va();0==c.mode()?c.Va():c.zb()?c.zb().Va():c.Va();c=this.aa.svg.createPath();if(1==d.type())c.move(b.Va().lb(),b.Va().pb()),c.line(d.Xw().lb(),d.Xw().pb());else if(2==d.type())c.move(b.Va().lb(),b.Va().pb()),c.curveC(d.zb().lb(),d.zb().pb(),d.yb().lb(),d.yb().pb(),d.Xw().lb(),d.Xw().pb());else if(4==d.type()){var e=
d.parent()?d.parent().W_||10:10,b=fe(d.Nk(),e),d=fe(d,e);c.move(b[2].x,b[2].y);(1<b[0]||-1>b[0])&&c.arc(b[0],b[0],180/Math.PI*b[3].sub(b[1]).Oa(),0,0>b[0]?1:0,b[3].x,b[3].y);c.line(d[1].x,d[1].y);(1<d[0]||-1>d[0])&&c.arc(d[0],d[0],180/Math.PI*d[3].sub(d[1]).Oa(),0,0>d[0]?1:0,d[2].x,d[2].y)}d=this.data.parent().data.qc();b=this.data.parent().data.k1||10;d+=b/this.aa.ba.ab();b=a.VB()&&a.aa&&"breadboard_editing - moving - moving"==a.aa.Ea.state();this.data.PO&&!b&&(c=this.aa.svg.path(this.Pa,c,{fill:"none",
stroke:"blue",opacity:"0",strokeWidth:d}),a.aa.mode==R&&($(c).mousedown(function(b){return a.bc(b)}),a.pq()&&($(c).mouseover(function(){"breadboard"==(a.aa&&a.aa.Ea&&a.aa.Ea.state?a.aa.Ea.state():"breadboard")&&a.data.object.parent().im.get(a.aa).gj(!0)}),$(c).mouseout(function(){a.data.object.parent().im.get(a.aa).gj(!1)}))))}};f.pq=function(){var a=this.data.object.parent(),b=null;return a&&a.im&&(b=a.im.get(this.aa))&&b.data instanceof le?b:null};
f.VB=function(){if(this.data.tb()){var a=this.pq();if(a&&(a.selected||a.uq&&a.uq()))return!0}return!1};f.Ac=function(){};f.Md=function(){$(this.Pa).empty()};f.bc=function(a){a=Fb(new G(H.gc),a).element(this.data.parent()).element("subelement",this.data).data("mouseCoord",Bd(this.aa,a));return this.aa.Ea.handle(a)};function Je(a,b,c,d){var e=this;this.aa=a;this.data=b;this.data.nd(a,this);this.cg(c,[d]);this.sa=this.aa.svg.group(this.Sc(d).sa);this.wa();this.data.md("view",function(){e.data.tb()&&e.wa()},10)}extend(Je,Jd);Je.prototype.wa=function(){$(this.sa).empty();this.aa.svg.add(this.sa,this.data.toSVG())};
Je.prototype.Nd=function(){var a=this.data.origin.Qt().replace("u","\u03bc");Hd(this.aa.te,[{label:"Center X",type:Pd,Id:this.data.pK,Bd:a},{label:"Center Y",type:Pd,Id:this.data.qK,Bd:a},{label:"Width",type:Pd,Id:this.data.K1,Bd:a},{label:"Height",type:Pd,Id:this.data.E1,Bd:a},{label:"Roundness",type:Pd,Id:this.data.J1,Bd:a},{label:"Stroke width",type:Pd,Id:this.data.mK,Bd:a},{label:"Fill",type:Qd,Id:this.data.fill}],{name:"Rectangle Tool"})};function Ke(a,b,c,d,e,k,l){var n=this;this.aa=a;this.Ya=b;this.data=b.data;this.Ya.nd(a,this);this.cg(c,[e,k,l]);this.Pa=this.aa.svg.group(this.Sc(e).sa);this.Bq=this.aa.svg.group(this.Sc(k).sa);this.Dd=this.aa.svg.group(this.Sc(l).sa);this.handle=new De(this.aa,this.Ya.handle(),this.Bq,this.Dd);this.wa();this.Ya.Re.ka("interaction view",function(){n.Ya.tb()&&n.wa()},10);this.data.md("interaction view",function(){n.data.tb()&&n.wa()},10);this.aa.ba.ab.ka(n,function(){n.data.tb()&&n.wa()},10)}
extend(Ke,Jd);f=Ke.prototype;f.wa=function(){var a=this;$(this.Pa).empty();this.aa.svg.add(this.Pa,this.data.toSVG());var b=$(":nth-last-child(1)",this.Pa);b.attr("stroke-width",a.data.qc()+4/a.aa.ba.ab());b.mousedown(function(b){return a.bc(b)});this.Ya.Re()?this.handle.wa():this.handle.Md()};f.Nd=function(){this.data.Wa(this.aa).Nd()};f.Vg=function(){this.data.Wa(this.aa).Vg()};f.Ac=function(a){this.data.Wa(this.aa).Ac(a)};f.Qj=function(a){this.Ya.Re(a)};
f.bc=function(a){a=Fb(new G(H.gc),a).element(this.Ya).element("subelement",this.data).data("mouseCoord",Bd(this.aa,a));return this.aa.Ea.handle(a)};function Ee(a,b,c,d,e){var k=this;this.aa=a;this.data=b;this.data.nd(a,this);this.parent=c;this.sa=this.aa.svg.group(d);this.Pa=this.aa.svg.group(e);this.data.Va.ka("view",function(){k.data.tb()&&Fe(k.parent)},10);this.wa()}
Ee.prototype.wa=function(){var a=this;$(this.sa).empty();$(this.Pa).empty();if(0!==a.data.handle.mode()){var b=a.data.Va(),c=a.data.handle.Va(),d=10/this.aa.ba.ab(),e=1/this.aa.ba.ab(),k=this.data.LJ||1!=this.data.handle.mode()?1:.3;this.aa.svg.rect(this.sa,b.x-d/2,b.y-d/2,d,d,{fill:this.selected?"#1da750":"none",fillOpacity:1,stroke:"#1da750",strokeWidth:e});d=this.aa.svg.rect(this.Pa,b.x-d/2,b.y-d/2,d,d,{fill:"red",stroke:"red",opacity:0});this.aa.svg.line(this.sa,c.x,c.y,b.x,b.y,{stroke:"#1da750",
opacity:k,strokeWidth:e});$(d).mousedown(function(b){return a.bc(b)})}};Ee.prototype.Md=function(){$(this.sa).empty();$(this.Pa).empty()};Ee.prototype.Ac=function(a){1==this.parent.De.mode()?(this.parent.zb&&(this.parent.zb.selected=a,this.parent.zb.wa()),this.parent.yb&&(this.parent.yb.selected=a,this.parent.yb.wa())):(this.selected=a,this.wa())};Ee.prototype.bc=function(a){a=Fb(new G(H.gc),a).element(this.data).data("mouseCoord",Bd(this.aa,a)).data("notFocusable",!0);return this.aa.Ea.handle(a)};function Le(a,b,c,d){var e=this;this.aa=a;this.data=b;this.data.nd(a,this);this.cg(c,[d]);this.sa=this.aa.svg.group(this.Sc(d).sa);this.wa();this.data.md("view",function(){e.data.tb()&&e.wa()},10)}extend(Le,Jd);Le.prototype.wa=function(){$(this.sa).empty();this.aa.svg.add(this.sa,this.data.toSVG())};Le.prototype.Nd=function(){Hd(this.aa.te,[{label:"Text",type:Md,Id:this.data.text},{label:"Font size",type:Id,Id:this.data.yY,Ey:this.data.an,list:this.data.Iu}],{name:"Text Tool"})};function Me(a,b,c,d,e,k,l){var n=this;this.aa=a;this.Ya=b;this.data=b.data;this.Ya.nd(a,this);this.cg(c,[e,k,l]);this.Pa=this.aa.svg.group(this.Sc(e).sa);this.Bq=this.aa.svg.group(this.Sc(k).sa);this.Dd=this.aa.svg.group(this.Sc(l).sa);this.wa();this.Ya.Re.ka("interaction view",function(){n.Ya.tb()&&n.wa()},10);this.data.md("interaction view",function(){n.data.tb()&&n.wa()},10)}extend(Me,Jd);f=Me.prototype;
f.wa=function(){var a=this;$(this.Pa).empty();this.aa.svg.add(this.Pa,this.data.toSVG());$(":nth-last-child(1)",this.Pa).mousedown(function(b){return a.bc(b)})};f.Nd=function(){this.data.Wa(this.aa).Nd()};f.Ac=function(a){this.data.Wa(this.aa).Ac(a)};f.Qj=function(a){this.Ya.Re(a)};f.bc=function(a){a=Fb((new G).type(H.gc),a).element(this.Ya).element("subelement",this.data).data("mouseCoord",Bd(this.aa,a));return this.aa.Ea.handle(a)};var Md=0,Nd=1,Id=2,Od=3,Pd=4,Qd=5,Rd=6,Sd=7;
function T(a,b,c,d){var e=this;this.jd();this.va(a);this.Ye=this.value("circuit_type",null,!1,!0);this.version=this.value("version",null,!1,!0);this.ud=this.value("number_of_layers",null,!1,!0);this.Bb=this.set("devices",!0,!0);this.ed=this.set("nets",!0,!0);this.sc=this.set("wires",!0,!0);this.zj=this.set("drills",!0,!0);this.outline=this.value("outline",null,!0,!0);this.hh=this.value("silkscreen",null,!0,!0);this.Lh=this.value("bottomsilk",null,!0,!0);this.zu=this.value("schematicSvg",null,!0,!0);
this.ru=this.value("pcbOrigin",null,!0,!0);this.kq=this.value("drc_error",!1,!1,!0);this.yk=this.value("eink",null,!0,!0);this.rk=this.value("breadboardpaper",null,!0,!0);this.iJ=this.map("localDeviceDescriptions",!1,!0);this.GJ=[2];this.iu=this.wd("numberOfLayers",!1,function(){return e.ud()},function(a){var b=parseInt(a);0<=e.GJ.indexOf(b)?(e.ed.forEach(function(a){Ne(a).forEach(function(a){a.af()>=b&&a.Ag()});a.kt()}),e.ud(b)):ka("Error changing number of layers to "+b)},[[e.ud,e.ud.ka]]);this.wd("lib",
!0,function(){var a=new y,b=[];e.Bb.forEach(function(b){a.add(b.Oh())});a.forEach(function(a){b.push(a)});return b.sort()},null,[[this.Bb,this.Bb.kc],[this.Bb,this.Bb.Tc]]);this.wd("module_terminals",!0,function(){var a=[];e.Bb.forEach(function(b){b.wb().device&&"module terminal"===b.wb().device.name&&a.push(b.name())});return a},null,[[this.Bb,this.Bb.kc],[this.Bb,this.Bb.Tc]]);this.de(!1);if(1<arguments.length){this.version(b);this.ud(c);this.Ye(d);this.ru(new ad(this.root));var k=new Oe(this.root);
k.Le(new Pe(this.root,new J(0,0)));k.Le(new Pe(this.root,new J(57150,0)));k.Le(new Pe(this.root,new J(57150,53340)));k.Le(new Pe(this.root,new J(0,53340)));this.outline(k);this.hh(new Ud(this.root));this.Lh(new Ud(this.root));this.zu(new Ud(this.root));"circuitscribe"==this.Ye()&&(this.yk(new Ud(this.root)),this.rk(new Qe(this.root)))}this.root.Zf.qx=this.iJ;this.dY=this.wd("boardPrice",!1,function(){var a=e.outline().sj();var b=e.ud();2!=b&&4!=b?a=-1:(a=1/.75*5+1/.064516*a.width*a.height/1E10*(b/
2)*5*Math.ceil(1)*1.15,a=Math.round(100*a)/100);return a},null,[[this.ud,this.ud.ka],[this.outline,this.outline.md]])}extend(T,Ga);extend(T,C);extend(T,ta);u(6,"Circuit",T);f=T.prototype;
f.l3=function(){var a=this;this.mq.forEach(function(b){b.tb()?a.Aj.put(b,b.Ww()):a.Aj.remove(b)});this.mq.forEach(function(b){Ua(a.vk,b)});this.mq.forEach(function(b){b.tb()&&Ta(a.vk,b)});this.mq.forEach(function(b){if(b.tb()){var c=a.Aj.get(b);a.Aj.forEach(function(d,e){c.intersects(e)&&Za(a.vk,b,d,0,null)})}});this.mq=new y;Re(this)};
function Se(a){a.root.Aa.yk().elements.forEach(function(b,c){a.Aj.put(c,c.Ww())});a.root.Aa.Bb.forEach(function(b){b.Ja.forEach(function(b,d){d.Ww()&&a.Aj.put(d,d.Ww())})})}function Te(a){a.root.Aa.Bb.forEach(function(b){b.Ja.forEach(function(b,d){switch(Ue(d).terminal_type){case "eink_pad":case "circuitscribe_magnet":Ta(a.vk,d)}})});a.root.Aa.yk().elements.forEach(function(b,c){Ta(a.vk,c)});a.Aj.bn(function(b,c,d,e){c.intersects(e)&&Za(a.vk,b,d,0,null)})}
function Re(a){a.root.Aa.ed.forEach(function(a){var c=a.fd.se(0);c.Et();Ve(a,c)});a.root.Aa.ed.fe();$a(a.vk).forEach(function(b){var c=new y;b.lj().forEach(function(a){a.constructor==U&&c.add(a)});if(0<c.size()&&1<b.lj().size()){b=a.root.Aa.pk();var d=new We(a.root);Xe(b,d);c.forEach(function(a){Ye(d,a)})}})}
f.Fc=function(){var a=this;Wd(this.hh(),this.ru());Wd(this.Lh(),this.ru());this.sc.kc("updateNetsFromWire",function(b,d){1==a.root.fg&&Ze(a,d)},101);if("circuitscribe"==a.Ye()){var b=function(b){a.root.fg&&(b.constructor==$e?a.mq.add(b):b.constructor==af&&b.Ja.forEach(function(b,c){switch(Ue(c).terminal_type){case "eink_pad":case "circuitscribe_magnet":a.mq.add(c)}}),a.root.fc("eink_connect",a.l3,a,[],"eink_connect"))};this.Aj=new w;this.vk=new Pa;Se(this);Te(this);this.mq=new y;this.Bb.forEach(function(a){a.Sa().eb.ka("eink_connect",
function(){b(a)},10);a.Sa().Oa.ka("eink_connect",function(){b(a)},10);a.Sa().hb.ka("eink_connect",function(){b(a)},10)});this.Bb.kc("eink_connect",function(a,d){b(d);d.Sa().eb.ka("eink_connect",function(){b(d)},10);d.Sa().Oa.ka("eink_connect",function(){b(d)},10);d.Sa().hb.ka("eink_connect",function(){b(d)},10)});this.Bb.Tc("eink_connect",function(a,d){b(d)},10);this.yk().elements.forEach(function(a,d){d.pc.forEach(function(a,c){c.Hb.ka("eink_connect",function(){b(d)},10);c.zb.ka("eink_connect",function(){b(d)},
10);c.yb.ka("eink_connect",function(){b(d)},10);c.type.ka("eink_connect",function(){b(d)},10)})});this.yk().elements.kc("eink_connect",function(a,d,e){b(e);e.pc.forEach(function(a,c){c.Hb.ka("eink_connect",function(){b(e)},10);c.zb.ka("eink_connect",function(){b(e)},10);c.yb.ka("eink_connect",function(){b(e)},10);c.type.ka("eink_connect",function(){b(e)},10)});e.pc.kc("eink_connect",function(a,c,d){d.Hb.ka("eink_connect",function(){b(e)},10);d.zb.ka("eink_connect",function(){b(e)},10);d.yb.ka("eink_connect",
function(){b(e)},10);d.type.ka("eink_connect",function(){b(e)},10)},10)});this.yk().elements.Tc("eink_connect",function(a,d,e){b(e)},10)}};function Ze(a,b){var c=b.Tb(),d=b.end();if(c&&d){var e=bf(c),k=bf(d);e?(k&&e!==k&&cf(e.fd.se(0),k.fd.se(0)),e=e.fd.se(0)):k?e=k.fd.se(0):(k=a.pk(),e=new We(a.root),Xe(k,e));e.Ja.contains(c)||Ye(e,c);e.Ja.contains(d)||Ye(e,d)}else b.remove()}
f.Kx=function(){var a=new y;this.Bb.forEach(function(b){b.Fb()&&a.add(b.Fb());b.Rd()&&a.add(b.Rd())});this.ed.forEach(function(b){a.add(b)});this.zj.forEach(function(b){a.add(b)});a.add(this.outline());return a};f.move=function(a){this.Kx().forEach(function(b){b.move(a)})};f.rotate=function(a,b){this.Kx().forEach(function(c){c.rotate(a,b)})};f.yl=function(){return this.outline().Cd().add(this.outline().le()).Qb(.5)};f.Zx=function(a){a.Ag();this.ed.remove(a)};
function df(a,b){var c=new af(a.root,a,b,a.root.wP.Kt(),a.root.Pw.getName(b.device.base,""));a.Bb.add(c);c.qd.se(0)&&(c.qd.se(0).eb(a.root.tJ),a.root.tJ=a.root.tJ.add(new J(50,0)));if(c.Fb()){c.Fb().eb(a.root.Pq);a.root.Pq=a.root.Pq.add(new J(5E3,0));var d=a.outline().sj();a.root.Pq.lb()>d.width+d.x-5E3&&(a.root.Pq.x=d.x+5E3,a.root.Pq.y+=5E3)}c.Sa()&&(c.Sa().eb(a.root.sJ),a.root.sJ=a.root.sJ.add(new J(50,0)));return c}
function ef(a,b){ff(b);b.Ja.forEach(function(a,b){b.Ug()&&b.disconnect()});a.Bb.remove(b)}function gf(a,b,c){b=new hf(a.root,a,new J(0,0),b,c);a.zj.add(b);return b}f.pk=function(){var a=new jf(this.root,this,null,this.root.wP.Kt(),"");this.ed.add(a);return a};
f.getData=function(){var a={};a.circuit_type=this.Ye();a.version=this.version();a.number_of_layers=this.ud();a.lib=this.a7();a.module_terminals=this.b7();a.devices=this.Bb;a.nets=this.ed;a.wires=this.sc;a.drills=this.zj;a.outline=this.outline();a.silkscreen=this.hh;a.parent=this.parent();a.versions_id=this.Rb;return a};
f.setData=function(a){this.Ye(a.circuit_type);this.version(a.version);this.ud(a.number_of_layers);this.Bb.ib(a.devices);this.ed.ib(a.nets);this.sc.ib(a.wires);this.zj.ib(a.drills);this.outline(a.outline);this.hh(a.silkscreen);this.ud()||this.ud(2)};function kf(a,b){return b<Math.ceil(a.ud()/2)?2*b:2*(a.ud()-b-1)+1}f.getJSON=function(){return JSON.stringify(this)};function lf(a){a.Bb.forEach(function(a){var c=a.name(),d=a.wb().device.base;a.name(a.root.Pw.getName(d,c))})}
f.Bj=function(a){var b=new y;this.ed.forEach(function(a){b.ib(a.jb);b.ib(a.ge);b.ib(a.Of)});this.Bb.forEach(function(c){c.Fb()&&c.Ja.forEach(function(a,c){c.Hl()&&b.add(c)});a&&c.Rd()&&b.ib(c.Rd().Aa().Bj())});return b};function mf(a){var b=new y;a.Bb.forEach(function(a){a.Fb()&&b.add(a.Fb());a.Rd()&&b.add(a.Rd())});return b}function nf(a,b){var c=new y;a.zj.forEach(function(a){c.add(a)});a.Bb.forEach(function(a){b&&a.Rd()&&c.ib(nf(a.Rd().Aa(),b))});return c}
function of(a){var b=new y;a.Bb.forEach(function(a){a.qd.forEach(function(a,c){b.add(c)})});return b}function pf(a){var b=new y;qf(a).forEach(function(a){rf(a)&&b.add(a)});return b}function qf(a,b){var c=new y;c.ib(a.ed);b||a.Bb.forEach(function(a){a.Rd()&&c.ib(qf(a.Rd().Aa()))});return c}
T.JH=function(a,b){var c;c="string"===typeof a?JSON.parse(a):a;4<=c.version?(wa(c,b),c=Da(c,b)):(c=sa(c,b),c.version(4));var d=c.outline();if(d.constructor===sf){var e=new Oe(b);e.Le(new Pe(b,d.Cd()));e.Le(new Pe(b,tf(d)));e.Le(new Pe(b,d.le()));e.Le(new Pe(b,uf(d)));c.outline(e)}return c};
function vf(a){a.Bb.forEach(function(b){b.Rd()?b.wb()?b.Rd().Aa().Bb.forEach(function(c){c.Rd()||c.wb()||(b.Ja.forEach(function(a,b){b.Ug()&&b.disconnect()}),a.Bb.remove(b))}):(b.Ja.forEach(function(a,b){b.Ug()&&b.disconnect()}),a.Bb.remove(b)):b.wb()||(b.Ja.forEach(function(a,b){b.Ug()&&b.disconnect()}),a.Bb.remove(b))})}f=T.prototype;f.kt=function(){this.ed.forEach(function(a){a.kt()})};function wf(a,b){var c=new xf(a);return"drl"===b?c.jI(b):c.sI(b)}
function yf(a,b){var c=null;a.Bb.forEach(function(a){"module terminal"===a.wb().device.name&&a.name()===b&&(c=a)});return c.Ja.se(0).Ra()}f.kd=function(a,b){var c=this.pk();a.fd.forEach(function(a){Xe(c,a)});b.fd.forEach(function(a){Xe(c,a)});a.jb.forEach(function(a){c.Wv(a)});b.jb.forEach(function(a){c.Wv(a)});a.ge.forEach(function(a){zf(c,a)});b.ge.forEach(function(a){zf(c,a)});a.Of.forEach(function(a){Af(c,a)});b.Of.forEach(function(a){Af(c,a)});return c};
f.ZN=function(a){this.ed.forEach(function(b){Ne(b).forEach(function(b){b.af()>=a&&b.Ag()});b.kt()});this.ud(a)};f.Ot=function(){this.VC||Bf(this);return this.VC};f.pO=function(a){a=Df(this.root.Zf,a);return df(this,a)};T.prototype.createDeviceInstance=T.prototype.pO;T.prototype.d0=function(a,b,c,d,e,k){a=a.qd.get(b);a.eb(new J(c,d));a.Dn(e);k&&a.hb(k)};T.prototype.moveSubdevice=T.prototype.d0;T.prototype.$P=function(a,b,c,d,e){a=a.Fb();a.eb(new J(b,c));1===e?(a.hb(-1),a.Dn(-d)):(a.hb(1),a.Dn(d))};
T.prototype.moveFootprint=T.prototype.$P;T.prototype.NY=function(a,b){var c=this.pk(),d=new We(c.root,c,{},"","");c.fd.add(d);for(var e=0;e<a.length;e++){var k=a[e],k=Ef(k[0],k[1],k[2]);d.Pb(k)}for(e=0;e<b.length;e++){var l=b[e][0],k=b[e][1],n=b[e][2],q=b[e][3],r=Df(this.root.Zf,33),r=df(this,r);r.PC(l);l=r.qd.get(79);l.eb(new J(k,n));l.Dn(q);k=Ef(r,79,55);d.Pb(k)}return c};T.prototype.createNet=T.prototype.NY;
T.prototype.cY=function(a){if(0!=a.length){for(var b=[],c=0;c<a.length;c++){var d=a[c],e=new J(d[2],d[3]);b.push(new J(d[0],d[1]));b.push(e)}a=(new ec(b)).Pe();this.outline(new Oe(this.root));this.outline().Le(new Pe(this.root,ac(a)));this.outline().Le(new Pe(this.root,new J(ac(a).x,bc(a).y)));this.outline().Le(new Pe(this.root,bc(a)));this.outline().Le(new Pe(this.root,new J(bc(a).x,ac(a).y)))}};T.prototype.boardOutline=T.prototype.cY;
T.prototype.RX=function(a,b,c){c=gf(this,c/1E3,"mm");c.Ge(new J(a,b))};T.prototype.addNPTH=T.prototype.RX;T.prototype.setProperty=function(a,b,c,d){a.setProperty(b,!0,c,d)};T.prototype.setProperty=T.prototype.setProperty;T.prototype.PC=function(a){$("#circuit_name").val(a)};T.prototype.setName=T.prototype.PC;
T.prototype.OY=function(a,b,c,d){var e;e=0==a.length?this.pk():Ff(a[0][0],a[0][1]).Ha();for(var k=new w,l=0;l<this.ud();l++)k.put(l,new Ma(function(a){return a.toString()}));if(e){for(var n=0;n<a.length;n++)for(var q=Ff(a[n][0],a[n][1]),l=0;l<this.ud();l++)if(q.Yi(l)){var r=q.Be();k.get(l).put(r.round(),q)}for(n=0;n<b.length;n++){r=b[n];a=new J(r[0],r[1]);var q=new J(r[2],r[3]),t=r[4],l=r[5],v=new Gf(this.root,e,t,l,!1);e.jb.add(v);v.Ge(a);v.pr(q.sub(a));r=new Hf(this.root,e,a);e.Of.add(r);var x=
new Hf(this.root,e,q);e.Of.add(x);v.Xa(r);v.Xa(x);k.get(l).put(a.round(),v);k.get(l).put(q.round(),v)}for(n=0;n<c.length;n++)for(r=c[n],a=new J(r[0],r[1]),q=new If(this.root,e,a,r[2],!0),e.ge.add(q),l=0;l<this.ud();l++)k.get(l).put(a.round(),q);for(n=0;n<d.length;n++){r=d[n];l=r[0];c=r[1];c.push(c[0]);r=b=null;for(x=0;x<c.length-1;x++)a=new J(c[x][0],c[x][1]),q=new J(c[x+1][0],c[x+1][1]),v=new Gf(this.root,e,t,l,!0),e.jb.add(v),v.Ge(a),v.pr(q.sub(a)),r&&v.Xa(r),0==x&&(b=v),r=v;v.Xa(b)}for(l=0;l<this.ud();l++)k.get(l).forEach(function(a,
b){var c=b.filter(function(a){return a.constructor===U||a.constructor===If});if(0===c.size()){var d=!0,e=null;b.forEach(function(a){d?d=!1:a.Xa(e);e=a})}else if(1===c.size()){var k=c.se(0);b.forEach(function(a){a!==k&&a.Xa(k)})}});Jf(e);e.IA()}};T.prototype.createTrace=T.prototype.OY;
function Kf(a,b,c){var d=$('<svg xmlns="http://www.w3.org/2000/svg"></svg>');d.attr("viewBox","0 0 "+b+" "+c+"");d.attr("x",0);d.attr("y",0);d.attr("width",b+"");d.attr("height",c+"");var e=$("<g></g>");d.append(e);e.attr("transform","scale(0.96) translate("+b/2+","+c/2+")");a.Bb.forEach(function(a){if("circuitscribe_module"==a.wb().device.breadboard.symbol_type){var b=$(a.Sa().wb().svg),c=a.Sa();a=$("<g></g>");c="translate("+c.eb().x+","+c.eb().y+") rotate("+c.Oa()+") scale("+c.hb()+",1)";a.attr("transform",
c);a.append(b);e.append(a)}});0<$(".cgfx__sketchview",e).length&&$(".cgfx__sketchview",e).hide();0<$(".cgfx__wireframeview",e).length&&$(".cgfx__wireframeview",e).show();$a(a.vk).forEach(function(b){var c=[];b.lj().forEach(function(b){b.constructor==U&&"eink_pad"==Ue(b).terminal_type&&c.push(a.Aj.get(b));b.constructor==$e&&c.push(a.Aj.get(b))});0<c.length&&(b=jsts.operation.union.CascadedPolygonUnion.union(c),b=$(uc(b)),b.attr("fill","none"),b.attr("stroke","black"),b.attr("stroke-width",1),b.attr("stroke-dasharray",
"5,5"),e.append(b))});return d.prop("outerHTML").toString()};function Lf(){this.qx=void 0;this.gq={}}
function Df(a,b){var c=String(b);if(void 0!==a.qx&&a.qx.contains(c))return a.qx.get(c);if(!a.gq[c]){var d=c.split("_");"module"===d[0]?$.ajax({type:"GET",url:"/circuits/"+d[1]+"/module.json",dataType:"json",context:a,success:function(b){a.gq[c]=b;b=JSON.parse(b.circuit);for(var d=0;d<b.lib.length;d++)Df(a,b.lib[d])},error:function(a,b,c){new circuitsGui.error("Error","Connection failed to the circuits.io servers. Make sure you have internet connectivity or try again later",c,!1)},async:!1}):"device"===
d[0]?$.ajax({type:"GET",url:"/components/"+d[1]+"/editor_json",dataType:"json",context:a,success:function(b){a.gq[c]=b},error:function(a,b,c){new circuitsGui.error("Error","Connection failed to the circuits.io servers. Make sure you have internet connectivity or try again later",c,!1)},async:!1}):$.ajax({type:"GET",url:"/packaged_devices/"+c+".json",dataType:"json",context:a,success:function(b){a.gq[c]=b},error:function(a,b,c){new circuitsGui.error("Error","Connection failed to the circuits.io servers. Make sure you have internet connectivity or try again later",
c,!1)},async:!1})}return a.gq[c]}
function Mf(a,b){if(b&&0<b.length){var c=b.map(function(a){return 0>["module","local"].indexOf(String(a).split("_")[0])?String(a):null}).filter(function(a){return a}).join(",");$.ajax({type:"GET",url:"/packaged_devices/bulk.json?items="+c,dataType:"json",context:a,success:function(b){b.forEach(function(b){a.gq[b.id]=b})},error:function(a,b,c){new circuitsGui.error("Error","Connection failed to the circuits.io servers. Make sure you have internet connectivity or try again later",c,!1)},async:!1})}}
function Nf(a){$.ajax({type:"GET",url:"/packaged_devices/bulk_breadboard.json",dataType:"json",context:a,success:function(b){b.forEach(function(b){a.gq[b.id]=b})},error:function(a,c,d){new circuitsGui.error("Error","Connection failed to the circuits.io servers. Make sure you have internet connectivity or try again later",d,!1)},async:!1})};var Of={jx:function(a){var b=this;b.q_();b.root.fc("index",b.YS,b,[],"index"+Ia(b));for(var c=0;c<a.length;c++){var d=function(){b.root.fc("index",b.YS,b,[],"index"+Ia(b))},e=a[c];e.Ij()?e.ka("index"+Ia(b),d,1):e.Xg()&&(e.kc("index"+Ia(b),d,1),e.Tc("index"+Ia(b),d,1))}b.Hk("index"+Ia(b),function(a){a.iR()},1)},q_:function(){var a=this,b=this.root.Ot();this.Wt=new w;b.forEach(function(b){a.Wt.put(b,{Fj:null})})},YS:function(){var a=this;if(a.tb()){var b=this.root.Ot();this.iR();b.forEach(function(b,
d){var e=a.Wt.get(b),k=a.Jd(b,0);k&&(e.Fj=k,d.quadtree.insert(e.Fj.getEnvelopeInternal(),a))})}},iR:function(){var a=this;this.root.Ot().forEach(function(b,c){var d=a.Wt.get(b);d.Fj&&(c.quadtree.remove(d.Fj.getEnvelopeInternal(),a),d.Fj=null)})}};function Pf(){this.names={}}Pf.prototype.getName=function(a,b){this.names[a]||(this.names[a]=[]);var c;if(b)if(this.names[a][b])if($.isNumeric(b))for(c=parseInt(b);this.names[a][c];)c++;else{for(c=1;this.names[a][b+c];)c++;c=b+c}else c=b;else for(c=1;this.names[a][c];)c++;var d=c.toString(10);"LABEL"!=a&&"LABELNO"!=a&&(this.names[a]||(this.names[a]=[]),this.names[a][d]=!0);return c.toString()};Pf.prototype.empty=function(){this.names={}};Pf.prototype.bm=function(a){this.names=a};
function Qf(){this.p_=[];this.cJ=0}Qf.prototype.Kt=function(){this.cJ++;this.p_.push(this.cJ);return this.cJ};function Rf(){this.yP();this.Bk="index boardPoly poly drc update_nets update_ratsnest view route_schematic_net eink_connect simulator".split(" ");this.Pw=new Pf;this.wP=new Qf;this.Zf=new Lf;this.Pq=new J(5E3,5E3);this.tJ=new J(0,0);this.sJ=new J(0,0);this.qA={};this.Fc()}extend(Rf,C);extend(Rf,kb);extend(Rf,va);f=Rf.prototype;f.Fc=function(){};function Sf(a,b){a.Aa=b;Bf(a);a.XX(b)}function Tf(a){a.ba=new Uf(a);a.ba.parent(a)}f.toJSON=function(){return null};
function Bf(a){var b;b=new w;for(var c=0;c<a.Aa.ud();c++){var d={};d.quadtree=new jsts.index.quadtree.Quadtree;b.put(c,d)}a.VC=b}f.Ot=function(){return this.VC};f.ud=function(a){return this.Aa.ud(a)};f.outline=function(a){return this.Aa.outline(a)};function Vf(){this.eb=this.value("pos",new J(0,0),!1,!0);this.Oa=this.value("angle",0,!1,!0);this.hb=this.value("flip",1,!1,!0);this.height=this.width=0}extend(Vf,Ga);extend(Vf,C);extend(Vf,ta);f=Vf.prototype;f.Fc=function(){};function Wf(a,b){if("undefined"!==typeof window&&($svg=$(b),$(b).css("visibility","hidden"),$(":root").append($svg),"undefined"!=typeof $svg[0].getBBox)){var c=$svg[0].getBBox();$svg.remove();a.width=Math.round(c.width);a.height=Math.round(c.height)}}
f.If=function(){return(new Zb(-this.width/2,-this.height/2,this.width,this.height)).hb(this.hb()).rotate(this.Oa()).translate(this.eb())};f.getData=function(){var a={};a.pos=this.eb();a.angle=this.Oa();a.flip=this.hb();return a};f.setData=function(a){this.eb(a.pos);this.Oa(a.angle);this.hb(a.flip)};f.remove=function(){this.parent().remove(this)};f.Ec=function(){return this.eb()};function Xf(a,b){a.eb(b)}f.move=function(a){this.eb(this.eb().add(a))};function Yf(a){return a.Oa()}f.Dn=function(a){this.Oa(a)};
function Zf(a){return a.hb()}function $f(a,b){a.hb(b)}f.rotate=function(a,b){b?(this.Oa(this.Oa()+a),this.eb(this.eb().rotate(a,b))):this.Oa(this.Oa()+a)};f.nI=function(){0!=this.Oa()%180&&this.Oa((this.Oa()+180)%360);this.hb(-1*this.hb())};f.lI=function(){0==this.Oa()%180&&this.Oa((this.Oa()+180)%360);this.hb(-1*this.hb())};f.Jc=function(a){this.eb(this.eb().add(a))};function ag(a,b,c){this.jd();this.va(a);Vf.apply(this,arguments);this.de(!1)}ag.prototype=inherit(Vf.prototype);ag.prototype.constructor=ag;u(60,"BreadboardElement",ag);f=ag.prototype;f.Fc=function(){var a=this.parent().wb();if("undefined"!==typeof V){if(this.KR=a.device.simulation_model)this.qg=V.za.get(this.KR);this.qg||(this.qg=V.Model.Zr);this.qg&&(this.na=new this.qg.Model(this.root,this))}a=this.wb().svg;Wf(this,a)};f.getData=function(){return Vf.prototype.getData.apply(this,arguments)};
f.setData=function(a){Vf.prototype.setData.apply(this,arguments)};f.wb=function(){return Df(this.root.Zf,this.parent().Oh()).device.breadboard};f.td=function(){var a=new P;this.parent().Ja.forEach(function(b,c){Ue(c)&&a.ib(bg(c))});return a};function cg(a,b,c){this.jd();this.va(a);Vf.apply(this,arguments);this.ig=this.value("sdid",null,!1,!0);this.de(!1);1!==arguments.length&&this.ig(c.id)}cg.prototype=inherit(Vf.prototype);cg.prototype.constructor=cg;u(3,"SchematicElement",cg);f=cg.prototype;f.Fc=function(){var a="<svg>"+this.wb().schematic_symbol_attributes.svg+"</svg>";Wf(this,a)};f.getData=function(){var a=Vf.prototype.getData.apply(this,arguments);a.versions_id=this.Rb;a.sdid=this.ig();return a};
f.setData=function(a){Vf.prototype.setData.apply(this,arguments);this.ig(a.sdid);this.Tj(a)};f.wb=function(){for(var a=Df(this.root.Zf,this.parent().Oh()),b=0;b<a.device.subdevices_attributes.length;b++)if(a.device.subdevices_attributes[b].id===this.ig())var c=a.device.subdevices_attributes[b];return c};f.td=function(a){var b=new P,c=this.eb();a==Xc?(gd(b,c.Eb()),fd(b,c.Eb())):b.add(c.Eb(),2);this.parent().Ja.forEach(function(a,c){b.ib(dg(c))});return b};f.Jc=function(a){this.eb(this.eb().add(a))};function af(a,b,c,d,e){var k=this;this.va(a,!0);this.name=this.value("name","",!1,!0);this.Oh=this.value("did",null,!1,!0);this.Ja=this.map("terminals",!0,!0);this.qd=this.map("subdevice",!0,!0);this.Sa=this.value("breadboard",null,!0,!0);this.Fb=this.value("footprint",null,!0,!0);this.Rd=this.value("module",null,!0,!0);this.Cb=this.map("properties",!1,!0);this.de(!0);this.Dl=this.wd("deviceName",!1,function(){return k.name()},function(a){return k.PC(a)},[[k.name,k.name.ka]]);if(1!==arguments.length){this.description=
c;this.name(e);this.Oh(c.id);if(c.device&&c.device.subdevices_attributes)for(var l=0;l<c.device.subdevices_attributes.length;l++){var n=new cg(this.root,this,c.device.subdevices_attributes[l]);this.qd.put(n.ig(),n)}c.device.breadboard&&this.Sa(new ag(this.root,this,c.device.breadboard));c.footprint&&this.Fb(new eg(this.root,this,c.footprint));c.circuit&&this.Rd(new fg(this.root,this,c.circuit));for(var q=new w,l=new w,n=new w(function(a){return a.sdid+"_"+a.spid}),r=new w,t=0;t<c.pinmaps_attributes.length;t++){var v=
c.pinmaps_attributes[t],x=v.ppid,B=v.spid,E=r.get(x);if(null==E||E!=B){null!==x&&r.put(x,B);var x=gg(this,v.sdid,v.spid),E=hg(this,v.ppid),z=ig(this,v.bbid),B=new U(this.root,this,v,x,E,z,v.pmid,v.sdid,v.spid,v.ppid,null,v.bbid);E&&q.put(v.ppid,B);x&&n.put({sdid:v.sdid,spid:v.spid},B);z&&l.put(v.bbid,B);this.Ja.put(B.getKey(),B)}}if(c.footprint)for(r=0;r<c.footprint.pads_attributes.length;r++)E=c.footprint.pads_attributes[r],B=q.get(E.id),null===B&&(B=new U(this.root,this,null,null,E,null,null,null,
null,E.id,null,null),q.put(E.id,B),this.Ja.put(B.getKey(),B));if(c.device&&c.device.subdevices_attributes)for(r=0;r<c.device.subdevices_attributes.length;r++)for(q=c.device.subdevices_attributes[r],t=0;t<q.schematic_symbol_attributes.schematic_symbol_terminals_attributes.length;t++)x=q.schematic_symbol_attributes.schematic_symbol_terminals_attributes[t],B=n.get({sdid:q.id,spid:x.id}),null==B&&(B=new U(this.root,this,null,x,null,null,null,q.id,x.id,null,null,null),n.put({sdid:q.id,spid:x.id},B),this.Ja.put(B.getKey(),
B));if(c.device.breadboard)for(r=0;r<c.device.breadboard.schematic_symbol_terminals_attributes.length;r++)z=c.device.breadboard.schematic_symbol_terminals_attributes[r],B=l.get(z.id),null===B&&(B=new U(this.root,this,null,null,null,z,null,null,null,null,null,z.id),l.put(z.id,B),this.Ja.put(B.getKey(),B));c.device.properties_attributes&&jg(this);this.Pm=this.yw=this.M6=this.Qm=!1}}extend(af,Ga);extend(af,C);extend(af,ta);u(4,"Device",af);f=af.prototype;
f.Fc=function(){var a=this;this.DN=new w;this.SQ=new w;this.aK=new w(function(a){return a.sdid+"_"+a.spid});this.hu=new w;var b=!1;this.wb().footprint&&this.wb().footprint.pads_attributes[0]&&"kak"==this.wb().footprint.pads_attributes[0].generator_type&&(b=!0);var c=1E5;this.Ja.forEach(function(a,b){null!==b.Xk()&&b.Xk()<c&&(c=b.Xk())});this.Ja.forEach(function(d,e){null!==e.Np()&&a.DN.put(e.Np(),e);null!==e.xn()&&(b&&null!==e.Xk()&&(e.xn(kg(a).id+e.Xk()-c),e.Xk(null)),a.SQ.put(e.xn(),e));null!==
e.ig()&&null!==e.fm()&&a.aK.put({sdid:e.ig(),spid:e.fm()},e);lg(e)&&a.hu.put(lg(e),e)});var d=this.wb();if(d.device.properties_attributes)for(var e=0;e<d.device.properties_attributes.length;e++){var k=d.device.properties_attributes[e],l=this.Cb.get(k.id);l&&(l.id=k.id,l.name=k.name,l.unit=k.unit)}mg(this)};
f.getData=function(){var a={};a.did=this.Oh();a.parent=this.parent();a.id=this.id;a.name=this.name();a.terminals=this.Ja;a.properties=this.Cb;a.subdevice=this.qd;a.footprint=this.Fb();a.breadboard=this.Sa();a.module=this.Rd();a.versions_id=this.Rb;return a};f.setData=function(a){this.Tj(a);this.Oh(a.did);this.id=a.id;this.name(a.name);Ka(this.Ja,a.terminals);Ka(this.Cb,a.properties);Ka(this.qd,a.subdevice);this.Fb(a.footprint);this.Sa(a.breadboard);this.Rd(a.module)};
function jg(a){a.Cb||(a.Cb=new w);for(var b=0;b<a.wb().device.properties_attributes.length;b++){var c=a.wb().device.properties_attributes[b],d={};d.id=c.id;d.name=c.name;d.unit=c.unit;d.value=c["default"];d.show=c.default_show;d.prefix=c.default_prefix;a.Cb.contains(c.id)||a.Cb.put(c.id,d)}}
function mg(a){function b(a,b){return c.wd("propShadow_"+a+"_"+b,!1,function(){return c.Cb.get(a)[b]},function(k){var l=c.Cb.get(a);l[b]=k;c.Cb.put(a,l)},[[c.Cb,c.Cb.we]])}var c=a;a.xu=new w;a.Cb.forEach(function(a,e){if("code"!=e.unit&&"hidden"!=e.unit)if(e.unit)if("["==e.unit[0]){var k=JSON.parse(e.unit),l;for(l in k){var n=k[l][0];k[l][0]=k[l][1];k[l][1]=n}c.xu.put(a,{name:e.name,type:Rd,Ly:b(a,"prefix"),list:k})}else if("("==e.unit[0]){var q=e.unit.replace(/[\(\)]/g,"");c.xu.put(a,{name:e.name,
type:Pd,Ly:b(a,"value"),Bd:q})}else{var r=[],q="ohm"==e.unit?"\u2126":e.unit;"p n u m none k M G".split(" ").forEach(function(a){var b=a.replace("u","\u03bc").replace("none","")+q;r.push([b,a])});c.xu.put(a,{name:e.name,type:Id,Ly:b(a,"value"),BS:b(a,"prefix"),list:r,vY:b(a,"show")})}else c.xu.put(a,{name:e.name,type:Md,Ly:b(a,"value")})})}
f.Mp=function(a,b){var c=this.wb().device.base;this.name(this.root.Pw.getName(c,""));this.Fb()&&this.Fb().Jc((new J(5E3,5E3)).Qb(b));a.constructor!=ng&&this.qd.forEach(function(a,c){c.Jc((new J(50,50)).Qb(b))});a.constructor!=og&&this.Sa()&&this.Sa().Jc((new J(10,10)).Qb(b))};f.wb=function(){return Df(this.root.Zf,this.Oh())};f.remove=function(){ff(this);this.Ja.forEach(function(a,b){b.Ug()&&b.sc.forEach(function(a){a.remove()})});this.Ja.forEach(function(a,b){b.Ug()&&b.disconnect()});this.parent().Bb.remove(this)};
function ff(a){var b=a.name(),c=a.wb().device.base;a=a.root.Pw;"LABEL"!=c&&"LABELNO"!=c&&a.names[c]&&a.names[c][b]&&delete a.names[c][b]}f.PC=function(a){ff(this);var b=this.wb().device.base;this.name(this.root.Pw.getName(b,a));this.Ja.forEach(function(a,b){var e=b.Ra();e&&pg(e);(e=qg(b))&&b.Tf()&&!e.fd.contains(b.Tf())&&e.merge(b.Tf().parent())})};f.isToplevel=function(){return this.parent()&&this.parent().parent()?this.parent().parent().UB():!1};
function rg(a,b){var c=null;if(a.wb().device)for(var d=0;d<a.wb().device.subdevices_attributes.length;d++){var e=a.wb().device.subdevices_attributes[d];e.id===b&&(c=e)}return c}function ig(a,b){var c=null;if(a.wb().device.breadboard)for(var d=0;d<a.wb().device.breadboard.schematic_symbol_terminals_attributes.length;d++){var e=a.wb().device.breadboard.schematic_symbol_terminals_attributes[d];e.id===b&&(c=e)}return c}
function gg(a,b,c){var d=null,e=rg(a,b);if(null!==e)for(var k=0;k<e.schematic_symbol_attributes.schematic_symbol_terminals_attributes.length;k++){var l=e.schematic_symbol_attributes.schematic_symbol_terminals_attributes[k];l.id===c&&(d=l)}return null==d?(d=null,e=rg(a,b),null!==e?e.schematic_symbol_attributes.schematic_symbol_terminals_attributes.sort(function(a,b){return a.id<b.id?-1:1})[c]:null):d}
function sg(a,b,c){a=rg(a,b);if(null!==a)for(a=a.schematic_symbol_attributes.schematic_symbol_terminals_attributes.sort(function(a,b){return a.id<b.id?-1:1}),b=0;b<a.length;b++)if(a[b].id===c)return b;return null}function hg(a,b){var c=null;if(a.wb().footprint)for(var d=0;d<a.wb().footprint.pads_attributes.length;d++){var e=a.wb().footprint.pads_attributes[d];e.id===b&&(c=e)}return c}
function kg(a){return a.wb().footprint?a.wb().footprint.pads_attributes.sort(function(a,c){return a.id<c.id?-1:1})[0]:null}function Ef(a,b,c){var d=a.aK.get({sdid:b,spid:c});d||(c=sg(a,b,c),d=a.aK.get({sdid:b,spid:c}));return d}function Ff(a,b){return a.SQ.get(b)}function tg(a,b){return a.DN.get(b)}f.iP=function(a){return this.hu.get(a)};function ug(a){a.Fb().Ec();var b=a.wb().device.base;return Bc(Ec,b+a.name(),500)}
f.setProperty=function(a,b,c,d){var e=null;this.Cb.forEach(function(b,c){c.name==a&&(e=c)});null===e?(e={},e.name=a,this.Cb.put(a,e)):e=ea(e);"["!==e.unit[0]?(e.value=c,e.show=b,e.prefix=d):e.prefix=c;this.Cb.put(e.id,e)};
f.getPropertyValue=function(a){var b=null;this.Cb.forEach(function(c,d){if(d.name==a)if("["!==d.unit[0])switch(b=parseFloat(d.value),d.prefix){case "p":b/=1E12;break;case "n":b/=1E9;break;case "u":b/=1E6;break;case "m":b/=1E3;break;case "k":b*=1E3;break;case "M":b*=1E6;break;case "G":b*=1E9}else b=d.prefix});return b};function vg(a){var b=null;a.Cb.forEach(function(a,d){"code"===d.unit&&(b=a)});return b?b.toString():null}function wg(a){return a.Cb.get(vg(a)).value}
function xg(a,b){a.Cb.get(vg(a)).value=b}function yg(a){var b=a.ag().concat(["properties",vg(a),"value"]);return a.root.Ib.docEditingContext.createContextAt(b)}
function zg(a,b){var c=Df(a.root.Zf,parseInt(b)),d=df(a.root.Aa,c);d.name(a.name());a.Cb.forEach(function(a,b){d.Cb.put(a,ea(b))});d.qd.forEach(function(b,c){var d=a.qd.get(b),n=d.Ec();c.eb(n);c.Dn(Yf(d));d=Zf(d);c.hb(d)});d.Fb()&&(Xf(d.Fb(),a.Fb().Ec()),d.Fb().Dn(Yf(a.Fb())),$f(d.Fb(),Zf(a.Fb())));d.Sa()&&(Xf(d.Sa(),a.Sa().Ec()),d.Sa().Dn(Yf(a.Sa())),$f(d.Sa(),Zf(a.Sa())));"breadboard"==a.parent().Ye()?a.Ja.forEach(function(b,c){var l=Ef(d,c.ig(),c.fm());c.sc.forEach(function(b){var d;d=b.Tb()==
c?new le(a.root,l,b.end(),b.insert()):new le(a.root,b.Tb(),l,b.insert());a.root.Aa.sc.add(d);a.root.Aa.sc.remove(b)})}):a.Ja.forEach(function(a,b){var c=Ef(d,b.ig(),b.fm());Ag(b)&&(Ag(b).Pb(c),b.Sh().forEach(function(a){c.Xa(a);a.constructor==Gf&&a.Ge(c.Be())}))});a.remove()};function jf(a,b,c,d,e){this.jd();this.va(a);this.fd=this.set("subnets",!0,!0);this.jb=this.set("segments",!0,!0);this.ge=this.set("vias",!0,!0);this.Of=this.set("pins",!0,!0);this.de(!0);1!==arguments.length&&(this.name=e)}extend(jf,Ga);extend(jf,C);extend(jf,ta);u(5,"Net",jf);jf.id=1;f=jf.prototype;f.Fc=function(){"circuitscribe"===this.parent().Ye()||this.Jx||this.kt()};
f.Kx=function(){var a=new y;this.jb.forEach(function(b){a.add(b)});this.ge.forEach(function(b){a.add(b)});this.Of.forEach(function(b){a.add(b)});return a};f.move=function(a){this.Kx().forEach(function(b){b.move(a)})};f.rotate=function(a,b){this.Kx().forEach(function(c){c.rotate(a,b)})};f.getData=function(){var a={};a.id=this.id;a.name=this.name;a.parent=this.parent();a.subnets=this.fd;a.segments=this.jb;a.vias=this.ge;a.pins=this.Of;a.polys=this.Jx;a.versions_id=this.Rb;return a};
f.setData=function(a){this.Tj(a);this.id=a.id;this.name=a.name;this.fd.ib(a.subnets);this.jb.ib(a.segments);this.ge.ib(a.vias);this.Of.ib(a.pins);this.Jx=a.polys;a.terminals&&(this.Ja=a.terminals)};function Xe(a,b){var c=b.Ha();c&&Ve(c,b);a.fd.add(b);b.Af(a);b.Ja.forEach(function(c){c.Af(a);c.Tf(b)})}
f.Ag=function(){this.fd.forEach(function(a){a.Ja.forEach(function(a){a.Kw()})});this.jb.forEach(function(a){a.Kw()});this.ge.forEach(function(a){a.Kw()});this.Of.forEach(function(a){a.Kw()});this.jb.fe();this.ge.fe();this.Of.fe()};function zf(a,b){var c=b.Ha();c&&(c.ge.remove(b),b.Af(null));a.ge.add(b);b.Af(a)}function Bg(a,b,c,d){b=new If(a.root,a,b,c,d);a.ge.add(b);return b}f.Wv=function(a){var b=a.Ha();b&&b.TJ(a);this.jb.add(a);a.Af(this)};f.TJ=function(a){this.jb.remove(a);a.Af(null)};
function Cg(a,b,c,d){b=new Gf(a.root,a,b,c,d);a.jb.add(b);return b}function Af(a,b){var c=b.Ha();c&&(c.Of.remove(b),b.Af(null));a.Of.add(b);b.Af(a)}function Dg(a,b){var c=new Hf(a.root,a,b);a.Of.add(c);return c}f.TH=function(a){this.jb.remove(a)};f.Kt=function(){return this.id};f.Th=function(){var a=new y;this.fd.forEach(function(b){a.ib(b.Ja)});return a};function Eg(a){var b=new y;a.fd.forEach(function(a){a.Ja.forEach(function(a){a.Hl()&&b.add(a)})});return b}
function Ve(a,b){a.fd.remove(b);0===a.fd.size()&&a.parent().Zx(a)}function Fg(a){var b=new y;a.Th().forEach(function(a){if(a.parent()&&a.parent().Rd()){var d=Gg(a).name;(a=yf(a.parent().Rd().Aa(),d))&&b.add(a)}});return b}function Hg(a){var b=a;Ig(a)||a.parent().parent().parent().Ja.forEach(function(c,d){var e=Gg(d).name;yf(d.parent().Rd().Aa(),e)===a&&d.Ra()&&(b=d.Ra())});return b}f.yB=function(){var a=Hg(this);return Ig(a)?a:null};
function Ig(a){var b=a.parent()?a.parent().parent():void 0;return a.root===b}function rf(a){return Hg(a)===a}function Jg(a){var b=new y;a.Th().forEach(function(a){if(a.parent().Rd()){var d=Gg(a).name;(a=yf(a.parent().Rd().Aa(),d))&&b.add(a)}});return b}function Kg(a){var b=new y;a.Th().forEach(function(a){a.Hl()&&b.add(a)});return b}f.Bj=function(){var a=new y;a.ib(Kg(this));a.ib(this.jb);a.ib(this.ge);Fg(this).forEach(function(b){a.ib(b.Bj())});return a};
function Ne(a){var b=new y;b.ib(a.jb);Fg(a).forEach(function(a){b.ib(Ne(a))});return b}function Lg(a,b){var c=new y,d=new Pa(function(a){return a.toString()});Ne(a).forEach(function(a){if(a.xe()&&a.af()===b){var c=[];a.Oe.forEach(function(b){b=a.$e(b);null!==b&&(c.push(b),Ta(d,b))});var l=a.Ae();c.sort(function(a,b){return l.xg(a)-l.xg(b)});for(var n=0;n<c.length-1;n++)Za(d,c[n],c[n+1])}});bb(d).forEach(function(a){2<a.length&&(a=new $b(a),c.add(a.jh()))});return c}
f.kt=function(){for(var a=new w,b=new w,c=0;c<this.root.ud();c++){var d=Mg(this,c,this.root.Ot());b.put(c,d[0]);a.put(c,d[1])}this.Jx=a;this.PH=b};
function Mg(a,b,c){var d=new jsts.geom.GeometryFactory,e=new y,k=Lg(a,b),l=new y,n=[];k.forEach(function(b){var c=Gc.ci;b.normalize();try{b=b.intersection(a.parent().outline().Jd().buffer(-Gc.XP))}catch(d){return}b=b.buffer(-c/2);n.push(b)});var q=jsts.operation.union.CascadedPolygonUnion.union(n),r=new y;if(q instanceof jsts.geom.MultiPolygon)for(var t=0;t<q.getNumGeometries();t++)r.add(q.getGeometryN(t));else q instanceof jsts.geom.Polygon&&r.add(q);r.forEach(function(k){for(var n=Gc.ci,q=c.get(b).quadtree.query(k.getEnvelopeInternal()),
r=[],t=0;t<q.length;t++){var I=q[t],N=I.Jd(b,250+n/2);if(k.intersects(N)){var K=null;I.Ra()&&(K=Hg(I.Ra()));if(K!==a)r.push(N);else if(I.constructor==U&&I.Hl()){var N=I.Jd(b,250+n/2),K=Ng(I,b),O=Og(I,K).Pe();I.Be();var L=new J(1,0),L=L.hb(I.parent().Fb().hb()),L=L.rotate(I.parent().Fb().Oa()),K=I.Be().add(L.Qb(-1E6)).jh(),L=I.Be().add(L.Qb(1E6)).jh(),A=(O.height+500+n)/4;A<n&&(A=n+4);A=d.createLineString([K,L]).buffer(A/2-n/2);L=new J(0,1);L=L.hb(I.parent().Fb().hb());L=L.rotate(I.parent().Fb().Oa());
K=I.Be().add(L.Qb(-1E6)).jh();L=I.Be().add(L.Qb(1E6)).jh();I=(O.width+500+n)/4;I<n&&(I=n+4);I=d.createLineString([K,L]).buffer(I/2-n/2);N=N.difference(I);N=N.difference(A);for(I=0;I<N.getNumGeometries();I++)k.intersects(N.getGeometryN(I))&&r.push(N.getGeometryN(I))}}}k=tc(k,r);(function(a,b,c){var d=new y;a.forEach(function(a){var e=new hc;ic(e,a);var k=new Pg(e);d.add(k);(new $b(a)).jh();var e=b.Bj(),l=new jsts.algorithm.MCPointInRing(a.getExteriorRing());e.forEach(function(a){if(a.constructor==
U){var b=a.Yi(c);b&&l.isInside(a.Be())&&k.Pn.add(a)}else if(a.constructor==If)(b=a.Yi(c))&&l.isInside(a.Yb())&&k.Pn.add(a);else if(a.constructor==Gf&&!a.xe()){var d=Qg(a);(b=a.Yi(c))&&(l.isInside(d[0])||l.isInside(d[1]))&&k.Pn.add(a)}})});return d})(pc(k,n/2),a,b).forEach(function(a){l.add(a);0<a.Pn.size()&&e.add(a)})});return[k,e,l]}f.IA=function(){this.jb.forEach(function(a){a.IA()})};
function Jf(a){function b(a,c,k){a.contains(c)||(a.add(c),k.forEach(function(k){k.constructor===Gf&&c.Qe().Jk(k.Qe())&&(Ig(c.Ha())?k.merge(c):c.merge(k),b(a,c,k.Oe))}))}var c=new y;a.jb.forEach(function(a){b(c,a,a.Sh())})}function Rg(a){Sg(a);a.jb.forEach(function(a){a.IA()});Jg(a).forEach(function(a){Rg(a)})}
function Sg(a){a.jb.forEach(function(b){b.Sh().forEach(function(c){if(c.constructor===Gf&&b.af()!==c.af()){var d=Math.max(250,c.vh()/Math.PI),d=Bg(a,b.$e(c),d,!1);b.Rg(c);b.Xa(d);c.Xa(d)}})});a.ge.forEach(function(b){if(!b.mx()&&2>b.xI().size()){var c=b.hP();c.forEach(function(a){b.Rg(a)});c.forEach(function(a){c.forEach(function(b){a!==b&&a.Xa(b)})});a.ge.remove(b)}})}f.DO=function(a){this.ge.remove(a)};
f.merge=function(a){var b=this;a.fd.forEach(function(c){c.Af(b);a.fd.bD(c,b.fd);c.Ja.forEach(function(a){a.Af(b)})});a.parent().ed.remove(a);return b};
function pg(a){var b=new Pa;a.fd.forEach(function(a){Ta(b,a)});var c=new w;a.fd.forEach(function(a){a.Ja.forEach(function(a){if(null!=a.Jj){var b=a.Tf();if(b){a=Tg(a);if(c.contains(a))var d=c.get(a);else d=new y,c.put(a,d);d.add(b)}}})});c.forEach(function(a,c){c.bn(function(a,c){Za(b,a,c,0,null)})});var d=$a(b);if(1<d.size()){var d=d.se(1).lj(),e=a.parent().pk();d.forEach(function(b){b.Af(e);a.fd.bD(b,e.fd);b.Ja.forEach(function(a){a.Af(e)})});a.Ag()}}
function Ug(a){var b,c=new Pa,d=a.fd.se(0);d.Ja.forEach(function(a){Ta(c,a)});var e=new w;d.Ja.forEach(function(a){if(null!=a.Jj){var c=Tg(a);e.contains(c)?b=e.get(c):(b=new y,e.put(c,b));b.add(a)}});e.forEach(function(a,b){b.bn(function(a,b){Za(c,a,b,0,null)})});var k=new y;d.Ja.forEach(function(a){a.sc.forEach(function(a){k.add(a)})});k.forEach(function(a){Za(c,a.Tb(),a.end(),0,null)});var l=$a(c);if(1<l.size()){var l=l.se(1).lj(),n=a.parent().pk(),q=new We(a.root);Xe(n,q);l.forEach(function(a){d.Xl(a);
Ye(q,a)});a.Ag()}};function We(a,b,c,d,e){this.jd();this.va(a);this.Ja=this.set("terminals",!0,!1);this.de(!0);1!==arguments.length&&(this.description=c,this.jb=null,this.id=d,this.name=e)}extend(We,Ga);extend(We,C);extend(We,ta);u(14,"SchematicNet",We);f=We.prototype;f.Fc=function(){};f.getData=function(){var a={};a.versions_id=this.Rb;a.id=this.id;a.name=this.name;a.parent=this.parent();a.terminals=this.Ja;a.segments=this.jb;a.bollekes=this.it;return a};
f.setData=function(a){this.Tj(a);this.id=a.id;this.name=a.name;this.Ja.ib(a.terminals);this.jb=a.segments;this.it=a.bollekes};f.Ha=function(){return this.parent()};f.Af=function(a){this.parent(a)};f.Pb=function(a){if(null!=a.Jj){var b=qg(a);b&&!b.fd.contains(this)&&b.merge(this.parent())}this.Ja.add(a);a.Af(this.parent());a.Tf(this)};function Ye(a,b){a.Ja.add(b);b.Af(a.parent());b.Tf(a)}f.lJ=function(a){var b=this;if(!Vg(b,a)){var c=new y;a.Ja.forEach(function(a){c.add(a)});a.Et();a.remove();c.forEach(function(a){b.Pb(a)})}};
function cf(a,b){if(Vg(a,b))console.log("same net");else{var c=new y;b.Ja.forEach(function(a){c.add(a)});b.Et();b.remove();c.forEach(function(b){Ye(a,b)})}}f.Xl=function(a){var b=this;if(a.parent().Rd()&&a.parent().wb()){var c=Gg(a).name;yf(a.parent().Rd().Aa(),c).Bj().forEach(function(a){a.Oe.forEach(function(c){c.Ha()==b.parent()&&a.Rg(c)})})}else a.Kw();this.Ja.remove(a);a.Af(null);a.Tf(null)};f.Et=function(){var a=this;a.Ja.Eb().forEach(function(b){a.Xl(b)})};f.DB=function(a){return this.Ja.contains(a)};
f.Kt=function(){return this.id};f.size=function(){return this.Ja.size()};f.remove=function(){this.Et();this.parent()&&Ve(this.parent(),this)};function Vg(a,b){var c=!0;b.Ja.forEach(function(b){c&=a.DB(b)});return c};function Wg(a,b,c,d,e){this.jd();this.va(a,!0);this.Tb=this.value("begin",null,!0,!1);this.end=this.value("end",null,!0,!1);this.insert=this.value("insert",!1,!1,!0);this.color=this.value("color","green",!1,!0);this.de(!0);this.hO="red orange yellow green turquoise blue indigo purple pink brown grey black".split(" ");1>=arguments.length||(b&&this.MC(b),c&&this.setEnd(c),d&&this.insert(d),e&&this.color(e))}extend(Wg,Ga);extend(Wg,C);extend(Wg,ta);u(61,"BreadboardWire",Wg);f=Wg.prototype;f.Fc=function(){};
f.getData=function(){var a={};a.begin=this.Tb();a.end=this.end();a.insert=this.insert();a.color=this.color();return a};f.setData=function(a){this.Tb(a.begin);this.end(a.end);this.insert(a.insert);this.color(a.color)};f.Ha=function(){return this.parent()};f.vB=function(a){if(a===this.Tb())return this.end();if(a===this.end())return this.Tb();throw"trouble";};f.MC=function(a){a.sc.add(this);this.Tb(a)};f.setEnd=function(a){a.sc.add(this);this.end(a)};
f.Ec=function(){return this.Tb()&&this.end()?(new ec([Xg(this.Tb()),Xg(this.end())])).yl():null};f.remove=function(){if(this.tb()){var a;if(this.Tb()){a=this.Tb().Ha();var b=Ag(this.Tb());this.Tb().sc.remove(this);0==this.Tb().sc.size()&&b&&b.Xl(this.Tb())}this.end()&&(a=this.end().Ha(),b=Ag(this.end()),this.end().sc.remove(this),0==this.end().sc.size()&&b&&b.Xl(this.end()));a&&Ug(a);this.parent().sc.remove(this)}};f.td=function(){return new P};function le(a,b,c,d,e){var k=this;ae.apply(this,[a]);this.qc(2.5);this.Vt=!0;this.Tb=this.value("begin",null,!0,!1);this.end=this.value("end",null,!0,!1);this.insert=this.value("insert",!1,!1,!0);this.color=this.value("color","green",!1,!0);this.de(!0);this.W_=10;this.k1=2;this.hO="black red orange yellow green turquoise blue purple pink brown grey white".split(" ");this.Tb.ka("wire_terminal",function(a,b,c){b&&Yg(b,k.yh+"_begin");c&&Zg(k,c,k.yh+"_begin")},10);this.end.ka("wire_terminal",function(a,
b,c){b&&Yg(b,k.yh+"_end");c&&Zg(k,c,k.yh+"_end")},10);1>=arguments.length||(b&&this.MC(b),c&&this.setEnd(c),d&&this.insert(d),e&&this.color(e))}le.prototype=inherit(ae.prototype);le.prototype.constructor=le;u(62,"BendableBreadboardWire",le);f=le.prototype;f.Fc=function(){};f.getData=function(){var a={};a.begin=this.Tb();a.end=this.end();a.insert=this.insert();a.color=this.color();return a};f.setData=function(a){this.Tb(a.begin);this.end(a.end);this.insert(a.insert);this.color(a.color)};f.Ha=function(){return this.parent()};
f.vB=function(a){if(a===this.Tb())return this.end();if(a===this.end())return this.Tb();throw"trouble";};f.MC=function(a){a.sc.add(this);this.Tb(a);a=Xg(a);var b=this.pc.get(0);b?b.Hb(a):this.Le(a)};f.setEnd=function(a){a.sc.add(this);this.end(a);a=Xg(a);var b=this.pc.get(0),c=this.pc.last();b?c&&c!==b?c.Hb(a):this.Le(a):(this.Le(a),this.Le(a))};
f.remove=function(a){if(this.tb()){var b;if(this.Tb()){b=this.Tb().Ha();var c=Ag(this.Tb());this.Tb().sc.remove(this);0==this.Tb().sc.size()&&c&&c.Xl(this.Tb())}this.end()&&(b=this.end().Ha(),c=Ag(this.end()),this.end().sc.remove(this),0==this.end().sc.size()&&c&&c.Xl(this.end()));b&&Ug(b);a||this.parent().sc.remove(this)}};function $g(a){a.tb()&&a.Tb()&&a.end()&&Ze(a.parent(),a)}f.td=function(){return new P};
function Zg(a,b,c){if(b.parent()){var d=b.parent();d&&d.Sa().eb.ka(c,function(){if(b.parent().Sa()){var c=a.Tb(),d=a.end();if(c){var l=a.pc.get(0),c=Xg(c);l.Hb(c);l.zb(c);l.yb(c)}d&&(l=a.pc.last(),d=Xg(d),l.Hb(d),l.zb(d),l.yb(d))}},10)}}function Yg(a,b){if(a){var c=a.parent();c&&c.Sa().eb.Fe(b)}}f.kR=function(){var a=!1;this.Tb()&&this.Tb().EB&&!this.Tb().EB(this)&&(this.Tb().sc.add(this),a=!0);this.end()&&this.end().EB&&!this.end().EB(this)&&(this.end().sc.add(this),a=!0);a&&$g(this)};
f.Le=function(a,b){point=new be(this.root,a,this.pc.size()?4:Zd);point.zb(a);point.yb(a);this.Im(point,b);return point};f.kx=function(){return!this.insert()};f.ni=function(){var a=null,b=null,c=null,d=null;this.pc.forEach(function(e,k){var l=k.Hb();if(l){if(null==a||a>l.x)a=l.x;if(null==b||b>l.y)b=l.y;if(null==c||c<l.x)c=l.x;if(null==d||d<l.y)d=l.y}});return null==a?null:new Zb(a,b,c-a,d-b)};function hf(a,b,c,d,e){var k=this;this.jd();this.va(a,!0);this.ya=this.value("point",new J(0,0),!1,!0);this.val=this.value("value",0,!1,!0);this.Bd=this.value("unit","mil",!1,!0);this.de(!0);this.Iu=["mm","mil"];this.AY=this.wd("checkedValue",!1,function(){return k.val()},function(a){k.val(ah(a,k.Bd()))},[[k.val,k.val.ka],[k.Bd,k.Bd.ka]]);this.zY=this.wd("checkedUnit",!1,function(){return k.Bd()},function(a){k.val(ah(k.val(),a));k.Bd(a)},[[k.val,k.val.ka],[k.Bd,k.Bd.ka]]);1!==arguments.length&&(this.ya(c),
this.val(d),this.Bd(e))}extend(hf,Ga);extend(hf,C);extend(hf,ta);extend(hf,Of);u(16,"Drill",hf);f=hf.prototype;f.move=function(a){this.ya(this.ya().add(a))};f.rotate=function(a,b){this.ya(this.ya().rotate(a,b))};f.Fc=function(){this.jx([this.ya,this.val,this.Bd])};function ah(a,b){var c=0;switch(b){case "mil":c=13;break;case "mm":c=.3302}a<c&&(a=c);return a}f.getData=function(){var a={};a.parent=this.parent();a.point=this.ya();a.value=this.val();a.unit=this.Bd();a.versions_id=this.Rb;return a};
f.setData=function(a){this.Tj(a);this.ya(a.point);this.val(a.value);this.Bd(a.unit)};f.Gf=function(){var a=0;switch(this.Bd()){case "mil":a=25.4*this.val();break;case "mm":a=1E3*this.val()}return a};f.Ge=function(a){this.ya(a)};f.Yb=function(){return this.ya()};f.Ec=function(){return this.ya()};f.lb=function(){return this.ya().x};f.pb=function(){return this.ya().y};f.remove=function(){this.parent().zj.remove(this)};f.Ra=function(){return null};
f.Jd=function(a,b){var c=new jsts.geom.GeometryFactory,d=new jsts.geom.Coordinate(this.ya().x,this.ya().y);return c.createPoint(d).buffer(this.Gf()/2+b)};f.td=function(){var a=new P;gd(a,this.ya());fd(a,this.ya());return a};f.Jc=function(a){this.ya(this.ya().add(a))};f.Fb=function(){return this};function eg(a,b,c){this.jd();this.va(a);Vf.apply(this,arguments);this.de(!1);this.C_=[["Top",1],["Bottom",-1]]}eg.prototype=inherit(Vf.prototype);eg.prototype.constructor=eg;u(8,"PCBElement",eg);f=eg.prototype;f.Fc=function(){var a="<svg>"+this.wb().outline+"</svg>";Wf(this,a)};f.getData=function(){var a=Vf.prototype.getData.apply(this,arguments);a.versions_id=this.Rb;return a};f.setData=function(a){Vf.prototype.setData.apply(this,arguments);this.Tj(a)};f.wb=function(){return Df(this.root.Zf,this.parent().Oh()).footprint};
f.td=function(a,b,c){var d=new P;b=this.eb();a==Xc?(gd(d,b.Eb()),fd(d,b.Eb())):d.add(b.Eb(),2);c?c.cn(a):this.parent().Ja.forEach(function(b,c){d.ib(c.cn(a))});return d};f.Jc=function(a){this.eb(this.eb().add(a))};function fg(a,b,c){this.jd();this.va(a);Vf.apply(this,arguments);this.Aa=this.value("circuit",null,!0,!0);this.de(!1);1!==arguments.length&&this.Aa(T.JH(c,a))}fg.prototype=inherit(Vf.prototype);fg.prototype.constructor=fg;u(15,"PCBModule",fg);fg.prototype.getData=function(){var a=Vf.prototype.getData.apply(this,arguments);a.versions_id=this.Rb;a.circuit=this.Aa();return a};fg.prototype.setData=function(a){Vf.prototype.setData.apply(this,arguments);this.Aa(a.circuit);this.Tj(a)};
fg.prototype.rotate=function(a){var b=this.Aa().yl();this.Aa().rotate(a,b)};fg.prototype.vI=function(a){return this.root.ba.Fb().origin().vI(a)};function sf(a,b,c){this.jd();this.va(a);this.Cd=this.value("upperLeft",new J(0,0),!1,!0);this.le=this.value("lowerRight",new J(0,0),!1,!0);this.de(!0);1!==arguments.length&&(this.Cd(b),this.le(c))}extend(sf,Ga);extend(sf,C);extend(sf,ta);u(13,"PCBOutline",sf);f=sf.prototype;f.move=function(a){this.Cd(this.Cd().add(a));this.le(this.le().add(a))};f.rotate=function(a,b){this.Cd(this.Cd().rotate(a,b));this.le(this.le().rotate(a,b))};f.Fc=function(){};
f.getData=function(){var a={};a.versions_id=this.Rb;a.upperLeft=this.Cd();a.lowerRight=this.le();return a};f.setData=function(a){this.Tj(a);this.Cd(a.upperLeft);this.le(a.lowerRight)};f.Pe=function(){var a=this.Cd(),b=this.le();return{x:a.x,y:a.y,width:b.x-a.x,height:b.y-a.y}};f.Jd=function(){return(new $b([this.Cd(),tf(this),this.le(),uf(this)])).jh()};function tf(a){return new J(a.le().x,a.Cd().y)}function uf(a){return new J(a.Cd().x,a.le().y)};function Pg(a){0!==arguments.length&&(this.vu=a,this.Pn=new y)}u(17,"PCBPolygon",Pg);Pg.prototype.getData=function(){var a={};a.versions_id=this.Rb;a.poly=this.vu;a.traceElements=this.Pn;return a};Pg.prototype.setData=function(a){this.vu=a.poly;this.Pn=a.traceElements};var bh={KB:function(){this.Ra=this.value("net",null,!0,!1);this.Oe=this.set("endings",!0,!1);this.oj=this.Gm=!1;this.Dq=!0},zB:function(){var a={};a.net=this.Ra();a.endings=this.Oe;return a},SC:function(a){this.Ra(a.net);this.Oe.ib(a.endings)},uA:function(a){this.Oe.add(a)},BC:function(a){this.Oe.remove(a)},Af:function(a){this.Ra(a)},Ha:function(){return this.Ra()},Sh:function(){return this.Oe},Ug:function(){return!!this.Ra()},Xa:function(a){this.uA(a);a.uA(this)},Rg:function(a){this.BC(a);a.BC(this)},
Kw:function(){var a=this;this.Oe.forEach(function(b){a.Rg(b)})},hP:function(){var a=new y;this.Oe.forEach(function(b){b.constructor===Gf&&a.add(b)});return a},Rj:function(a){(this.Gm=a)&&this.Ha()},ZZ:function(){return this.Gm},dK:function(a){this.oj=a},rP:function(){return this.oj}};function Gf(a,b,c,d,e){this.jd();this.va(a);this.KB();this.direction=this.value("direction",new J(1,0),!1,!0);this.ya=this.value("point",new J(0,0),!1,!0);this.$d=this.value("thickness",200,!1,!0);this.dg=this.value("layerIndex",0,!1,!0);this.xe=this.value("polySeg",!1,!1,!0);this.$f=this.value("dummy",!1,!1,!0);this.de(!0);this.v2=[["7 mil small",177],["12 mil Signal",305],["20 mil Power",508],["40 mil Large Current",1016],["------------------",0],["0.15 mm (6 mil)",153],["0.18 mm (7 mil)",177],
["0.20 mm (8 mil)",203],["0.23 mm (9 mil)",229],["0.25 mm (10 mil)",254],["0.30 mm (12 mil)",305],["0.36 mm (14 mil)",356],["0.41 mm (16 mil)",406],["0.46 mm (18 mil)",457],["0.51 mm (20 mil)",508],["0.61 mm (24 mil)",610],["0.71 mm (28 mil)",711],["0.81 mm (32 mil)",813],["0.91 mm (36 mil)",914],["1.02 mm (40 mil)",1016],["1.27 mm (50 mil)",1270],["1.52 mm (60 mil)",1524],["1.78 mm (70 mil)",1778],["2.03 mm (80 mil)",2032]];1!==arguments.length&&(this.Ra(b),this.$d(c),this.dg(d),this.xe(e))}
extend(Gf,Ga);extend(Gf,C);extend(Gf,ta);extend(Gf,bh);extend(Gf,Of);u(10,"RoutingSegment",Gf);f=Gf.prototype;f.move=function(a){this.ya(this.ya().add(a))};f.rotate=function(a,b){this.ya(this.ya().rotate(a,b));this.direction(this.direction().rotate(a))};f.Fc=function(){this.jx([this.direction,this.ya,this.$d,this.dg,this.Oe])};f.getData=function(){var a=this.zB();a.versions_id=this.Rb;a.line=this.Ae();a.thickness=this.$d();a.layerIndex=this.dg();a.polySeg=this.xe();return a};
f.setData=function(a){this.Tj(a);var b=a.line;this.direction(b.dir);this.ya(b.ya);this.$d(a.thickness);this.dg(parseInt(a.layerIndex,10));void 0!==a.polySeg?this.xe(a.polySeg):this.xe(!1);this.SC(a)};f.af=function(){return this.dg()};f.Yi=function(a){return this.dg()===a};f.RC=function(a){this.$d(a)};f.vh=function(){return this.xe()?0:this.$d()};f.Ae=function(){return new M(this.direction(),this.ya())};
f.pr=function(a){for(a=Math.round(a.Oa()/(Math.PI/4));0>a;)a+=8;switch(a%8){case 0:case 4:a=new J(1,0);break;case 1:case 5:a=new J(1,1);break;case 2:case 6:a=new J(0,1);break;case 3:case 7:a=new J(-1,1);break;default:throw"angle_index out of range";}this.direction(a)};f.Qe=function(){return this.direction()};function ch(a,b){var c=a.Oe.yI(function(c){return a.$e(b).Yc(a.$e(c))}),c=a.$e(c).sub(a.$e(b));0===c.x&&0===c.y&&(c=a.Qe());return Rb(c)}f.Ge=function(a){this.ya(a)};f.Yb=function(){return this.ya()};
f.Be=function(){return this.Yb()};f.Ec=function(){return this.Yb()};f.$e=function(a){var b;if(a.constructor===Gf)if(this.Qe().Jk(a.Qe())){var c=null;this.Oe.forEach(function(b){a.Oe.contains(b)&&(c=b)});if(null===c)return this.Yb();b=c.Be()}else b=this.Ae().toString()>a.Ae().toString()?this.Ae().intersection(a.Ae()):a.Ae().intersection(this.Ae());else a.constructor===Hf?b=a.Yb():a.constructor===If?b=a.Yb():a.constructor===U&&(b=new J(dh(a),eh(a)));return b};
function gh(a){var b=La(a.Oe,function(b){return null!==a.$e(b)?b.constructor===Hf?a.Ae().xg(a.$e(b))+1E-10:a.Ae().xg(a.$e(b)):Number.POSITIVE_INFINITY}),c=La(a.Oe,function(b){return null!==a.$e(b)?b.constructor===Hf?-a.Ae().xg(a.$e(b))-1E-10:-a.Ae().xg(a.$e(b)):Number.POSITIVE_INFINITY});return[b,c]}f.WI=function(a){var b=gh(this);return a===b[0]||a===b[1]};function Qg(a){if(0==a.Sh().size())a=[a.Yb(),a.Yb()];else{var b=gh(a);a=[a.$e(b[0]),a.$e(b[1])]}return a}f.length=function(){var a=Qg(this);return a[0].sub(a[1]).length()};
f.Ui=function(a){return this.Ae().Ui(a)};f.Jd=function(a,b){var c=new jsts.geom.GeometryFactory;if(this.xe()||this.af()!==a)c=null;else{var d=Qg(this);if(null!==d[0]){var e=new jsts.geom.Coordinate(d[0].x,d[0].y),d=new jsts.geom.Coordinate(d[1].x,d[1].y);new jsts.geom.LineSegment(e,d);c=c.createLineString([e,d]).buffer(this.vh()/2+b)}else c=null}return c};
f.IA=function(){var a=this,b=a.Sh().size(),c=new y;a.Sh().forEach(function(a){a.constructor===Hf&&c.add(a)});2<=b-c.size()?c.forEach(function(b){a.Rg(b)}):c.forEach(function(b){a.WI(b)||a.Rg(b)})};f.merge=function(a){var b=this;b.Rg(a);a.Sh().forEach(function(c){c.Rg(a);c.Xa(b)});a.Ha().TH(a)};f.Ag=function(){var a=this;this.Sh().forEach(function(b){if(b.constructor==Gf&&3>b.Sh().size()){var c=a.$e(b);b.Xa(Dg(b.Ha(),c))}a.Rg(b)});this.Ha().TH(this)};
f.td=function(a,b){var c=new P;if(a==ed)if(this.xe())d=Qg(this),this.Ae(),k=d[0],l=d[1],k=new Qb(k,l),c.add(k,1);else{var d=Qg(this),e=this.Ae(),k=d[0].add(Rb(Sb(e.dir)).Qb(this.vh()/2+Gc.ci+b/2+1)),l=d[1].add(Rb(Sb(e.dir)).Qb(this.vh()/2+Gc.ci+b/2+1)),k=new Qb(k,l),l=d[0].sub(Rb(Sb(e.dir)).Qb(this.vh()/2+Gc.ci+b/2+1)),d=d[1].sub(Rb(Sb(e.dir)).Qb(this.vh()/2+Gc.ci+b/2+1)),d=new Qb(l,d);c.add(k,1);c.add(d,1)}else a==Yc?(d=Qg(this),this.Ae(),k=d[0],l=d[1],k=new Qb(k,l),c.add(k,1)):a==Xc&&(d=Qg(this),
e=this.Ae(),k=d[0].add(Rb(Sb(e.dir)).Qb(this.vh()/2+Gc.ci+b/2+1)),l=d[1].add(Rb(Sb(e.dir)).Qb(this.vh()/2+Gc.ci+b/2+1)),k=new Qb(k,l),l=d[0].sub(Rb(Sb(e.dir)).Qb(this.vh()/2+Gc.ci+b/2+1)),d=d[1].sub(Rb(Sb(e.dir)).Qb(this.vh()/2+Gc.ci+b/2+1)),d=new Qb(l,d),c.add(k,1),c.add(d,1));return c};
f.Jc=function(a,b){function c(a,b){if(a.length!==b.length)return!1;for(var c=a.length;c--;)if(a[c]!==b[c])return!1;return!0}function d(a){return a.filter(function(a){return a.constructor!==U})}if("undefined"!==typeof b)this.ya(this.ya().add(a)),this.Rj(!0);else{var e=this.ya().Eb(),k=gh(this),k=d(k),l=k.length,n=!1,q=!1;if(0<l&&k[0].constructor===Gf&&0<k[0].length()){var r=gh(k[0]),r=d(r);1<r.length&&(k=k.concat(r),n=!0)}1<l&&k[1].constructor===Gf&&0<k[1].length()&&(r=gh(k[1]),r=d(r),1<r.length&&
(k=k.concat(r),q=!0));this.ya(this.ya().add(a));l=gh(this);l=d(l);r=l.length;0<r&&l[0].constructor===Gf&&n&&(l=l.concat(gh(l[0])));1<r&&l[1].constructor===Gf&&q&&(l=l.concat(gh(l[1])));if(c(k,l))return this.Rj(!0),!0;this.ya(e);return!1}};function Hf(a,b,c){this.jd();this.va(a);this.KB();this.eb=this.value("pos",new J(0,0),!1,!0);this.de(!0);1!==arguments.length&&(this.Ra(b),this.eb(c.Eb()))}extend(Hf,Ga);extend(Hf,C);extend(Hf,ta);extend(Hf,bh);extend(Hf,Of);u(11,"SegmentPindown",Hf);f=Hf.prototype;f.move=function(a){this.eb(this.eb().add(a))};f.rotate=function(a,b){this.eb(this.eb().rotate(a,b))};f.Fc=function(){this.jx([])};f.getData=function(){var a=this.zB();a.versions_id=this.Rb;a.pos=this.eb();return a};
f.setData=function(a){this.Tj(a);this.eb(a.pos);this.SC(a)};f.Yb=function(){return this.eb()};f.Be=function(){return this.Yb()};f.Ec=function(){return this.Yb()};f.Ge=function(a){this.eb(a)};f.Jd=function(){return null};f.td=function(){return new P};f.Jc=function(a){this.Ge(this.Yb().add(a));this.Rj(!0)};function If(a,b,c,d,e){this.jd();this.va(a);this.KB();this.ya=this.value("point",new J(0,0),!1,!0);this.Gf=this.value("endsize",250,!1,!0);this.mx=this.value("keep",!1,!1,!0);this.de(!0);1!==arguments.length&&(this.Ra(b),this.ya(c),this.Gf(d),this.mx(e))}extend(If,Ga);extend(If,C);extend(If,ta);extend(If,bh);extend(If,Of);u(12,"Via",If);f=If.prototype;f.move=function(a){this.ya(this.ya().add(a))};f.rotate=function(a,b){this.ya(this.ya().rotate(a,b))};f.Fc=function(){this.jx([this.ya,this.Gf])};
f.getData=function(){var a=this.zB();a.versions_id=this.Rb;a.point=this.ya();a.endsize=this.Gf();a.keep=this.mx();return a};f.setData=function(a){this.Tj(a);this.ya(a.point);void 0!==a.endsize?this.Gf(a.endsize):this.Gf(250);void 0!==a.keep?this.mx(a.keep):this.mx(!1);this.SC(a)};f.Ge=function(a){this.ya(a)};f.Yb=function(){return this.ya()};f.Be=function(){return this.Yb()};f.Ec=function(){return this.Yb()};f.lb=function(){return this.ya().x};f.pb=function(){return this.ya().y};
f.remove=function(){var a=this.Ra();a&&a.ge.remove(this)};f.xI=function(){var a=new y;this.Oe.forEach(function(b){b.constructor===Gf&&a.add(b.af())});return a};f.Yi=function(){return!0};f.Jd=function(a,b){var c=new jsts.geom.GeometryFactory,d=new jsts.geom.Coordinate(this.ya().x,this.ya().y);return c.createPoint(d).buffer(Fc(Gc,this.Gf())/2+b)};f.Ag=function(){var a=this;this.Sh().forEach(function(b){if(b.constructor==Gf&&3>b.Sh().size()){var c=b.$e(a);b.Xa(Dg(b.Ha(),c))}a.Rg(b)});this.Ha().DO(a)};
f.td=function(){var a=new P;gd(a,this.ya());fd(a,this.ya());return a};f.Jc=function(a){this.ya(this.ya().add(a));this.Rj(!0)};function U(a,b,c,d,e,k,l,n,q,r,t,v){this.BA=new w;this.jd();this.va(a);this.KB();this.Tf=this.value("subnet",null,!0,!1);this.sc=this.set("wires",!0,!1);this.pC=this.value("pmid",null,!1,!0);this.ig=this.value("sdid",null,!1,!0);this.fm=this.value("spid",null,!1,!0);this.xn=this.value("ppid",null,!1,!0);this.Xk=this.value("sppid",null,!1,!0);this.Np=this.value("bbid",null,!1,!0);this.de(!1);1!==arguments.length&&(this.parent(b),this.pC(l),this.ig(n),this.fm(q),this.xn(r),this.Xk(t),this.Np(v))}
extend(U,Ga);extend(U,C);extend(U,ta);extend(U,bh);extend(U,Of);u(9,"Terminal",U);f=U.prototype;f.Fc=function(){this.Hl()&&this.jx([this.parent().Fb().eb,this.parent().Fb().Oa,this.parent().Fb().hb]);var a=Gg(this),b=Ue(this);this.Jj=a&&a.label?a.label:b&&b.label?b.label:null;this.oB=!1;this.Ul=0;this.KK="";if(b)switch(this.KK=b.terminal_type,this.KK){case "breadboard_female":this.oB=!0;break;case "lbmagnetic-in":this.Ul=-1;break;case "lbmagnetic-out":this.Ul=1}};
f.getKey=function(){return this.pC()+"_"+this.ig()+"_"+this.fm()+"_"+this.xn()+"_"+this.Xk()+"_"+this.Np()};f.getData=function(){var a=this.zB();a.versions_id=this.Rb;a.parent=this.parent();a.pmid=this.pC();a.sdid=this.ig();a.spid=this.fm();a.ppid=this.xn();a.sppid=this.Xk();a.bbid=this.Np();a.subnet=this.Tf();a.wires=this.sc;return a};f.setData=function(a){this.pC(a.pmid);this.ig(a.sdid);this.fm(a.spid);this.xn(a.ppid);this.Xk(a.sppid);this.Np(a.bbid);this.Tf(a.subnet);this.sc.ib(a.wires);this.SC(a)};
f.EB=function(a){return this.sc.contains(a)};function Ag(a){return a.Tf()}f.Hl=function(){return hh(this)?!0:!1};function hh(a){a.GQ||(a.GQ=hg(a.parent(),a.xn()));return a.GQ}function Gg(a){a.zR||(a.zR=gg(a.parent(),a.ig(),a.fm()));return a.zR}function Ue(a){a.IN||(a.IN=ig(a.parent(),a.Np()));return a.IN}f.AB=function(){return this.KK};function ih(a,b){var c=a.x,d=a.y;return b.eb().x+(Math.cos(b.Oa()*Math.PI/180)*b.hb()*c-Math.sin(b.Oa()*Math.PI/180)*d)}
function jh(a,b){var c=a.x,d=a.y;return b.eb().y+Math.sin(b.Oa()*Math.PI/180)*b.hb()*c+Math.cos(b.Oa()*Math.PI/180)*d}function lg(a){return(a=Gg(a))&&a.name?a.name:null}function kh(a){var b=Ue(a);a=a.parent().Sa();return ih(b,a)}function lh(a){var b=Ue(a);a=a.parent().Sa();return jh(b,a)}function Xg(a){return new J(kh(a),lh(a))}function mh(a){var b=Ue(a);a=a.parent().Sa();b=b.dir;-1==a.hb()&&(b=540-b);for(b+=a.Oa();0>b;)b+=360;return b%360}
function nh(a){var b=Gg(a);a=a.parent().qd.get(a.ig());return ih(b,a)}function oh(a){var b=Gg(a);a=a.parent().qd.get(a.ig());return jh(b,a)}function ph(a){return new J(nh(a),oh(a))}function qh(a){var b=Gg(a);a=a.parent().qd.get(a.ig());b=b.dir;-1==a.hb()&&(b=540-b);for(b+=a.Oa();0>b;)b+=360;return b%360}function dh(a){var b=hh(a);a=a.parent().Fb();return ih(b,a)}function eh(a){var b=hh(a);a=a.parent().Fb();return jh(b,a)}f.Be=function(){return new J(dh(this),eh(this))};
f.Hl=function(){return hh(this)?!0:!1};f.disconnect=function(){if(this.Ug()){var a=this.Ra();2>=this.Tf().size()?this.Tf().remove():this.Tf().Xl(this);null!=this.Jj&&pg(a)}};function Tg(a){return a.Jj.replace("<device_name>",a.parent().name()).replace("<device_id>",a.parent().Rb)}function qg(a){if(null==a.Jj)return null;var b=null;a.root.Aa.Bb.forEach(function(c){c.Ja.forEach(function(c,e){if(e!==a&&null!=e.Jj&&Tg(e)==Tg(a)){var k=e.Ra();null!==k&&(b=k)}})});return b}
function bf(a){return a.Ha()?a.Ha():null!=a.Jj?qg(a):null}f.Ww=function(){var a=new jsts.geom.GeometryFactory,b=new jsts.geom.Coordinate(Xg(this).lb(),Xg(this).pb()),a=a.createPoint(b);switch(Ue(this).terminal_type){case "eink_pad":var c=a.buffer(12.5);break;case "circuitscribe_magnet":c=a.buffer(5)}return c};f.af=function(){return 0};
function Og(a,b){var c=a.BA.get(b);if(null===c){if(0==b||1==b){if(0==b)c=hh(a).layer0;else if(hh(a).drill||!hh(a).layer0)c=hh(a).layer1;void 0!==c&&null!==c&&""!==c?("<"!==c.substr(0,1)&&(c=$.parseJSON(c)),c=new $b(c),c=c.rotate(hh(a).dir),c=c.translate(new J(hh(a).x,hh(a).y))):c="nopoly"}else(c=hh(a).drill)?(c=new $b('<circle x="0" y="0" r="'+(parseFloat(c)/2+Gc.BM)+'"/>'),c=c.translate(new J(hh(a).x,hh(a).y))):c="nopoly";a.BA.put(b,c)}return c}
function Ng(a,b){return-1===a.parent().Fb().hb()?0==b%2?b+1:b-1:b}function rh(a,b){var c=Ng(a,b),c=Og(a,c);return"nopoly"!==c?(c=c.hb(a.parent().Fb().hb()),c=c.rotate(a.parent().Fb().Oa()),c=c.translate(a.parent().Fb().eb())):null}
function sh(a){var b=a.BA.get("drill");if(null===b){var c=hh(a).drill;if(c){if("["!==c[0]){var b=new $b,c=parseFloat(c)/2,d;b.xa=[];d=d||new J(0,0);var e=Math.ceil(2*c*Math.PI/100);if(e)for(var e=64<e?64:e,k=2*Math.PI/e,l=0,n=0;n<e;++n)b.xa.push(new J(d.x+c*Math.cos(l),d.y+c*Math.sin(l))),l+=k}else d=JSON.parse(c),b=d[0],b=(new cc(d[1])).zy(b);b=b.rotate(hh(a).dir);b=b.translate(new J(hh(a).x,hh(a).y))}else b="nopoly";a.BA.put("drill",b)}return b}
f.Yi=function(a){a=-1===this.parent().Fb().hb()?0==a%2?a+1:a-1:a;return hh(this)["layer"+a]||hh(this).drill?!0:!1};f.Jd=function(a,b){var c=new jsts.geom.GeometryFactory,d=rh(this,a);if(null!==d){d.xa.push(d.xa[0]);var e=[];d.xa.forEach(function(a){a=new jsts.geom.Coordinate(a.x,a.y);e.push(a)});d=c.createLinearRing(e.reverse());c=c.createPolygon(d).buffer(b);c.normalize();return c}return null};
function bg(a){var b=new P;switch(a.AB()){case "eink_pad":b.add(Xg(a).Eb(),10,6.25,null,a);break;case "lbmagnetic-in":case "lbmagnetic-out":if(-1<Ue(a).name.search("signal")){var c=(Ue(a).dir+a.parent().Sa().Oa()+(-1==a.Ul?180:0))%360;b.add(Xg(a).Eb(),10,15,null,a,a.Ul,c)}break;default:b.add(Xg(a).Eb(),10,4,null,a)}return b}
f.cn=function(a,b){var c,d,e,k=new P;e=new jsts.geom.GeometryFactory;if(a===ed){if(k.add(this.Be().Eb(),1),c=rh(this,0)){c.xa.push(c.xa[0]);d=[];c.xa.forEach(function(a){a=new jsts.geom.Coordinate(a.x,a.y);d.push(a)});c=e.createLinearRing(d);c=e.createPolygon(c);e=new jsts.operation.buffer.BufferParameters(0,jsts.operation.buffer.BufferParameters.CAP_FLAT,jsts.operation.buffer.BufferParameters.JOIN_MITRE,1);e=new jsts.operation.buffer.BufferBuilder(e);d=e.buffer(c,Gc.ci+b/2+1).shell.points;for(var l=
1;l<d.length;l++)c=new J(d[l-1].x,d[l-1].y),e=new J(d[l].x,d[l].y),k.add(new Qb(c,e),1)}}else gd(k,this.Be()),fd(k,this.Be());return k};function dg(a){var b=new P,c=qh(a);0==c||180==c?gd(b,ph(a)):90!=c&&270!=c||fd(b,ph(a));return b};function Oe(a){var b=this;this.jd();this.va(a);this.xa=this.list("points",!0,!0);this.iw=this.wd("boardPoly",!1,function(){return th(b,1E3)},null,[[this.xa,this.xa.md]]);this.sj=this.wd("boardBoundingBox",!1,function(){var a=b.iw();return 0<a.xa.length?(new ec(a.xa)).Pe():new Zb(0,0,0,0)},null,[[this.iw,this.iw.ka]]);this.Cd=this.wd("upperLeft",!0,function(){var a=b.sj();return new J(a.x,a.y)},null,[[this.sj,this.sj.ka]]);this.le=this.wd("lowerRight",!0,function(){var a=b.sj();return new J(a.x+a.width,
a.y+a.height)},null,[[this.sj,this.sj.ka]]);this.de(!0);this.Ya=new uh(this.root,b);this.Ya.parent(this)}extend(Oe,Ga);extend(Oe,C);extend(Oe,ta);u(19,"BezierOutline",Oe);f=Oe.prototype;f.getData=function(){var a={};a.vertices=this.xa;a.parent=this.parent();a.upperLeft=this.Cd();a.lowerRight=this.le();return a};f.setData=function(a){this.xa.ib(a.vertices)};f.Le=function(a,b){void 0===b?this.xa.push(a):this.xa.add(a,b)};
f.move=function(a){this.xa.forEach(function(b,c){c.ya(c.ya().add(a));c.zb(c.zb().add(a));c.yb(c.yb().add(a))})};f.Fc=function(){this.Ya.Fc()};f.BI=function(){var a="";if(0<this.xa.size()){var b=this.xa.get(-1),a=a+("M"+b.ya().x+","+b.ya().y);this.xa.forEach(function(c,d){var e=b;b=d;var k=b.ya(),e=e.mode()!==vh?e.yb():e.ya(),l=b.mode()!==vh?b.zb():b.ya();a+="C"+e.x+","+e.y+" "+l.x+","+l.y+" "+k.x+","+k.y});a+="z"}return a};
function th(a,b){var c=a.BI(),d=new $b,c=Raphael.parsePathString(c);jc(d,c,b);return d}f.Jd=function(){return this.iw().jh()};f.td=function(){var a=new P;this.xa.forEach(function(b,c){a.ib(c.td())});return a};function wh(a,b,c){this.jd();this.va(a);this.Tb=this.value("begin",null,!0,!1);this.end=this.value("end",null,!0,!1);this.Tb(b);this.end(c)}extend(wh,Ga);extend(wh,C);u(21,"BezierSegment",wh);f=wh.prototype;f.Jc=function(a){var b=this.Tb(),c=this.end();b.ya(b.ya().add(a));b.zb(b.zb().add(a));b.yb(b.yb().add(a));c.ya(c.ya().add(a));c.zb(c.zb().add(a));c.yb(c.yb().add(a))};f.td=function(){var a=new P;gd(a,this.Tb().ya());gd(a,this.end().ya());fd(a,this.Tb().ya());fd(a,this.end().ya());return a};
f.st=function(){};f.hq=function(a){this.root.Vb();a=new Pe(this.root,a);var b=this.parent().Ee.xa.indexOf(this.end());this.parent().Ee.Le(a,b);this.root.Xb()};f.Fc=function(){};function xh(a,b,c,d,e){this.jd();this.va(a);this.sD=b;this.Va=c;this.Ik=d;this.LJ=e}extend(xh,Ga);extend(xh,C);xh.prototype.Jc=function(a){switch(this.sD.mode()){case yh:this.Va(this.Va().add(a));this.Ik(this.Ik().sub(a));break;case zh:this.Va(this.Va().add(a))}};xh.prototype.td=function(){var a=new P;gd(a,this.Va());fd(a,this.Va());return a};var vh=0,yh=1,zh=2;function Pe(a,b){this.jd();this.va(a);this.ya=this.value("point",new J(0,0),!1,!0);this.zb=this.value("tan_0",new J(0,0),!1,!0);this.yb=this.value("tan_1",new J(0,0),!1,!0);this.mode=this.value("mode",vh,!1,!0);this.de(!0);1!==arguments.length&&this.ya(b)}extend(Pe,Ga);extend(Pe,C);extend(Pe,ta);u(20,"BezierVertex",Pe);f=Pe.prototype;f.getData=function(){var a={};a.parent=this.parent();a.point=this.ya();a.tan_0=this.zb();a.tan_1=this.yb();a.mode=this.mode();return a};
f.setData=function(a){this.ya(a.point);this.zb(a.tan_0);this.yb(a.tan_1);this.mode(a.mode)};f.Fc=function(){this.n2=new xh(this.root,this,this.zb,this.yb,!0);this.o2=new xh(this.root,this,this.yb,this.zb,!1)};f.index=function(){return this.parent().xa.indexOf(this)};f.next=function(){var a=this.index()+1;a>=this.parent().xa.size()&&(a=0);return this.parent().xa.get(a)};f.Nk=function(){var a=this.index()-1;0>a&&(a=this.parent().xa.size()-1);return this.parent().xa.get(a)};
f.td=function(){var a=new P;gd(a,this.ya());fd(a,this.ya());return a};f.Jc=function(a){this.ya(this.ya().add(a));this.zb(this.zb().add(a));this.yb(this.yb().add(a))};f.hq=function(){this.root.Vb();switch(this.mode()){case vh:var a=this.Nk().ya(),b=this.ya(),c=this.next().ya(),d=Rb(c.sub(a)),c=c.sub(b).length(),a=a.sub(b).length(),d=d.Qb(c>a?.1*a:.1*c);this.yb(this.ya().add(d));this.zb(this.ya().sub(d));this.mode(yh);break;case yh:this.mode(zh);break;case zh:this.mode(vh)}this.root.Xb()};
f.remove=function(){if(3<this.parent().xa.size()){var a=this.parent().xa.indexOf(this);this.parent().xa.remove(a)}};function Qe(a){var b=this;this.jd();this.va(a);this.pu=this.value("paperType","",!1,!0);this.Cd=this.value("upperLeft",new J(0,0),!1,!0);this.width=this.value("width",0,!1,!0);this.height=this.value("height",0,!1,!0);this.margin=this.value("margin",0,!1,!0);this.visible=this.value("visible",!1,!1,!0);this.selected=!1;this.v0=["Letter","A4"];this.pu.ka("paperTypeChange",function(a,d,e){switch(e){case "Letter":b.width(1100);b.height(850);b.margin(75);break;case "A4":b.width(1169),b.height(827),b.margin(75)}b.Cd(new J(-b.width()/
2,-b.height()/2))},10);this.pu("Letter");this.de(!1)}extend(Qe,Ga);extend(Qe,C);extend(Qe,ta);u(26,"breadboardpaper",Qe);u(80,"BreadboardPaper",Qe);Qe.prototype.Fc=function(){};Qe.prototype.td=function(){return new P};Qe.prototype.If=function(){var a=this.Cd().x,b=this.Cd().y,c=this.width(),d=this.height();return new Zb(a,b,c,d)};function $e(a,b){ae.apply(this,arguments);this.Ra=this.value("net",null,!0,!1);this.qc(7)}$e.prototype=inherit(ae.prototype);$e.prototype.constructor=$e;u(25,"EinkPath",$e);$e.prototype.CI=function(a){return(new fc($(this.toSVG()).get(0))).Nn(a||10)};$e.prototype.Ww=function(){return dc(this.CI(10),this.qc())};$e.prototype.Sa=function(){return this};$e.prototype.Fb=function(){return!1};function Uf(a){this.va(a);this.state=this.value("state",null,!1,!0);this.Sa=this.value("breadboard",null,!0,!0);this.Sk=this.value("schematic",null,!0,!0);this.Ah=this.value("pcb",null,!0,!0);this.connection=this.value("connection",null,!1,!0);this.Sa(new og(this.root));this.Sk(new ng(this.root));this.Ah(new Ah(this.root));this.vk=new Pa;this.Aj=new w;this.fR=this.value("recorder_view_dialog",!1,!1,!0);this.qA={}}extend(Uf,C);u(70,"CircuitEditorModel",Uf);Uf.prototype.Fc=function(){};
Uf.prototype.mJ=function(a){return _.isObject(a)?(this.qA=a,this):_.isString(a)?this.qA[a]:this.qA};Uf.prototype.meta=Uf.prototype.mJ;function ng(a){this.va(a);Ic.apply(this,arguments);this.Zg=this.value("preConnectLine",null,!1,!0);this.yj=this.value("deviceJustAdded",!1,!1,!0);this.gg=this.value("netWithAttention",null,!0,!1);this.St=this.value("hasAttention",null,!1,!1);this.y_=this.value("isSchematicBreadboardEditor",!1,!1,!1);this.og=this.value("componentsOverlay",!1,!1,!0);this.cK=this.value("searchOverlayTab",!1,!1,!0);this.origin(new ad(this.root,this,new J(0,0)));this.origin().ax(1);this.Iw(new Zb(-150,-150,550,325))}
ng.prototype=inherit(Ic.prototype);ng.prototype.constructor=ng;u(73,"SchematicEditorModel",ng);f=ng.prototype;f.sx=function(a,b){if(a&&b){var c=Ag(a),d=null;if(b instanceof U){if(a==b)return;d=Ag(b)}else if(b instanceof We){if(b.DB(a))return;d=b}else return;c&&d?c.lJ(d):c&&!d?c.Pb(b):!c&&d?d.Pb(a):(c=new We(this.root),Xe(this.root.Aa.pk(),c),c.Pb(a),c.Pb(b))}};f.Nt=function(){var a=new y;this.root.Aa.Bb.forEach(function(b){b.qd.forEach(function(b,d){a.add(d)})});return a};
f.mI=function(){this.selection.forEach(function(a){void 0!==a.lI&&a.lI()})};f.oI=function(){this.selection.forEach(function(a){void 0!==a.nI&&a.nI()})};f.rn=function(){1==this.yj()&&this.yj(!1)};f.CC=function(){var a=[];this.selection.values().forEach(function(b){void 0!==b.UJ?b.UJ():void 0!==b.remove&&(b=b.remove())&&0>a.indexOf(b)&&a.push(b)});this.lc();0<a.length&&this.selection.ib(a)};f.qq=function(){var a=new y;this.root.Aa.Bb.forEach(function(b){b.qd.forEach(function(b,d){a.add(d)})});return a};
f.xB=function(a){return this.qq().filter(function(b){return b.eb().IB(a)})};f.If=function(){var a=null;this.root.Aa.Bb.forEach(function(b){b.qd.forEach(function(b,d){var e=d&&d.If&&d.If();e&&(a=e.merge(a))})});return a};f.Mp=function(a,b){var c=this,d=new y;a.forEach(function(a){a instanceof cg&&!d.contains(a.parent())&&(a.parent().Mp(c,b),d.add(a.parent()))})};function og(a){this.va(a);ng.apply(this,arguments);this.xd=this.value("simulator state",V.Uc.IDLE,!1,!0);this.MR=this.value("simulator time",0,!1,!0);this.uK=this.value("simulator slowdown",1,!1,!0);this.og=this.value("componentsOverlay",!1,!1,!0);this.ri=this.value("codeEditorOverlay",!1,!1,!0);this.ck=this.value("CSfootprintOverlay",!1,!1,!0);this.yj=this.value("deviceJustAdded",!1,!1,!0);this.KA=this.value("arduino code error",!1,!1,!0);this.AH=this.value("circuitscribe_view_dialog",!1,!1,!0);
this.qh=this.value("circuitscribe","sketch",!1,!0);this.value("circuitscribe_print_dialog",!1,!1,!0);this.PP=this.value("lineStart",null,!1,!0);this.gJ=this.value("lineEnd",null,!1,!0);this.origin().Qt("vm");this.origin().ax(10);this.Iw(new Zb(-425,-150,850,300));this.FC=30;this.TQ=!0;this.yx=null;this.ut={1:"black",2:"red",3:"orange",4:"yellow",5:"green",6:"turquoise",7:"blue",8:"purple",9:"pink",0:"brown"}}og.prototype=inherit(ng.prototype);og.prototype.constructor=og;
u(72,"BreadboardEditorModel",og);f=og.prototype;f.Fc=function(){"breadboard"==this.root.Aa.Ye()&&Jc(this,le,this.root.Aa.sc,je);"circuitscribe"==this.root.Aa.Ye()&&Jc(this,$e,this.root.Aa.yk().elements,je)};f.Nt=function(){var a=new y;this.root.Aa.Bb.forEach(function(b){b.Sa()&&a.add(b.Sa())});return a};
f.sx=function(a,b,c,d,e){if(a&&b&&a!=b){var k=!0;a.sc.forEach(function(c){c.vB(a)==b&&(k=!1)});if(k){var l=new le(this.root,a,b,c);e&&l.color(e);d&&d.forEach(function(a,b){l.Le(a,b+1)});this.root.Aa.sc.add(l);return l}}};
function Bh(a,b){var c=[];a.selection.forEach(function(a){var b=null;a.data&&a.data instanceof le?b=a.data:a.parent().data&&a.parent().data instanceof le&&(b=a.parent().data);b&&0>c.indexOf(b)&&c.push(b)});if(c.length){a.root.Vb();a.yx=b;for(var d in c)c[d].color(a.yx);a.root.Xb()}}
f.Ql=function(){var a=this;a.oJ=new y;a.selection.forEach(function(b){b.constructor===ag&&b.parent().Ja.forEach(function(b,d){Ue(d)&&(d.oB?d.sc.forEach(function(b){b.insert()&&(b=b.vB(d).parent(),a.selection.contains(b.Sa())||a.oJ.add(b.Sa()))}):d.sc.forEach(function(b){if(b.insert()){var c=b.vB(d).parent();a.selection.contains(c.Sa())||b.remove()}}))})});a.selection.ib(a.oJ)};
f.rn=function(){var a=this;a.selection.fe(a.oJ);$(this.zi).empty();var b=new y;this.root.Aa.Bb.forEach(function(c){a.selection.contains(c.Sa())||c.Ja.forEach(function(a,c){Ue(c)&&b.add(c)})});var c=new w,d=new w,e=new Ba,k=!0;a.selection.values().forEach(function(a){if(a.parent&&a.parent().Ja)a.parent().Ja.forEach(function(a,d){Ue(d)&&b.forEach(function(a){a===d||d.oB&&a.oB||1>Xg(a).Yc(Xg(d))&&(0>=d.Ul*a.Ul?c.put(d,a):k=!1)})});else if(a.Zi&&a.Ya&&a.Ya.data instanceof le){var l=a.object,r=!1;b.forEach(function(b){1>
Xg(b).Yc(a.Va())&&(d.put(l,b),r=!0)});r||e.push(l)}});if(k)c.forEach(function(b,c){a.sx(b,c,!0)});else{var l=a.origin().vI(2);$c(a,l);this.rn()}d.forEach(function(a,b){var c=a.parent();0==a.index()&&b===c.end()||0!=a.index()&&b===c.Tb()?0>e.indexOf(a)&&e.push(a):(c.remove(!0),a.Hb(Xg(b)),0==a.index()?c.MC(b):c.setEnd(b),$g(c))});e.forEach(function(a,b){var c=b.parent();0==b.index()?b.Hb(Xg(c.Tb())):b.Hb(Xg(c.end()))});1==a.yj()&&a.yj(!1)};
f.qq=function(){var a=new y;this.root.Aa.Bb.forEach(function(b){a.add(b.Sa())});this.SB.forEach(function(b,c){a.add(c)});return a};f.xB=function(a){return this.qq().filter(function(b){return b.kx&&!b.kx()?!1:b.Ec().IB(a)})};function Ch(a,b){var c=!1;b.Ja.forEach(function(b,e){a.root.Aa.vk.Cw(e).forEach(function(a){a.constructor==U&&"eink_pad"==Ue(a).terminal_type&&(c=!0)})});return c}
f.If=function(){var a=this.root.Aa,b=null,c=a.rk();c&&(b=c.If().scale(.9));a.Bb.forEach(function(a){(a=(a=a.Sa&&a.Sa())&&a.If&&a.If())&&(b=a.merge(b))});"circuitscribe"==a.Ye()&&a.Aj.forEach(function(a){(a=a&&a.ni&&a.ni())&&(b=a.merge(b))});"breadboard"==a.Ye()&&a.sc.forEach(function(a){(a=a&&a.ni&&a.ni())&&(b=a.merge(b))});return b};f.EP=function(a){return a instanceof ag||a instanceof le||a instanceof je};f.Mp=function(a,b){var c=this;a.forEach(function(a){a instanceof ag&&a.parent().Mp(c,b)})};function Ah(a){var b=this;this.va(a);this.root=a;Ic.apply(this,arguments);this.Ir=.002;this.Hr=.2;this.FC=45;this.Fd=this.value("layer",null,!1,!0);this.dJ=this.value("layerPanel",!1,!1,!0);this.$d=this.value("thickness",305,!1,!0);this.Tm=this.value("copper_trace_style",0,!1,!0);this.gg=this.value("netWithAttention",null,!0,!1);this.sk=this.value("change_footprint_show",!1,!1,!0);this.FA=this.value("change_footprint_device",null,!1,!0);this.eL=this.value("viewPanel",!1,!1,!0);this.sH=this.value("boardFilled",
!1,!1,!0);this.FI=this.value("gridInspector",!1,!1,!0);this.origin(this.root.Aa.ru());this.origin().ba=this;this.Iw(new Zb(0,0,57150,53250));this.zl(Dh.Am);this.PP=this.value("lineStart",null,!1,!0);this.gJ=this.value("lineEnd",null,!1,!0);this.dB=new w;this.XH=new w;this.Xh.ka("toolChange",function(){b.lc()})}Ah.prototype=inherit(Ic.prototype);Ah.prototype.constructor=Ah;u(73,"PCBEditorModel",Ah);
Ah.prototype.Fc=function(){var a=[this.root.Aa.hh().elements,this.root.Aa.Lh().elements];Jc(this,he,a,re);Jc(this,ae,a,je);Jc(this,Xd,a,ne);Jc(this,ge,a,pe)};function Eh(a,b){var c=new y;c.add(a.origin());c.ib(Fh(a,!0));return function(a,c){var k=new P;a.forEach?a.forEach(function(a){a.cn?k.ib(a.cn(c,b)):k.ib(a.td(c,b))}):a.cn?k.ib(a.cn(c,b)):k.ib(a.td(c,b));return k}(c,ed)}function Fh(a,b){return a.root.Aa.Bj(b).collect(function(a){return a})}
Ah.prototype.Tg=function(a){function b(a,b,c){return a.cn?a.cn(b,c):a.td(b,c)}function c(a,c,d){var n=new P;if(a.forEach)a.forEach(function(a){try{n.ib(b(a,c,d))}catch(e){console.trace()}});else try{n.ib(b(a,c,d))}catch(q){console.trace()}return n}var d;a?(a.constructor===Gf?(d=Fh(this,!0),d=d.filter(function(a){return a.constructor===Gf||a.constructor===U}),d.add(this.origin()),d=d.fe(this.selection),d=c(d,ed,a.$d())):(d=this.Nt().fe(this.selection),d=c(d,Xc)),a=c(a,Yc)):(d=this.Nt().fe(this.selection),
d=c(d,Xc),a=new P);return{Kc:d,$c:a}};Ah.prototype.Nt=function(){var a=new y;a.add(this.root.Aa.outline());a.add(this.origin());a.ib(Gh(this));return a};function Gh(a){var b=a.Fd()==Dh.Am?1:-1;return mf(a.root.Aa).filter(function(a){return!(!a||a.hb()!=b)})}Ah.prototype.$v=function(a,b){a&&b&&Hh(this,a,b);this.root.Aa.Bj(!0).forEach(function(a){a.Rj(!1)})};
function Hh(a,b,c){var d=new y,e=new y;a.root.Aa.Bj(!0).forEach(function(a){a.Gm&&d.add(a)});for(var k=!1;!d.empty()||!e.empty();){var l;d.empty()?(l=e.pop(),k=!0):l=d.pop();switch(l.constructor){case Gf:l.Sh().forEach(function(a){if(!a.Gm)if(a.constructor===Hf)a.Jc(b);else if(a.constructor===U||k&&a.constructor===If){var d,n=Sb(c).dot(ch(l,a));0<n?d=ch(l,a).rotate(-45):0>n&&(d=ch(l,a).rotate(45));0!=n&&(n=Cg(l.Ha(),l.vh(),l.af(),l.xe()),n.ya(a.Be().Eb()),n.pr(d),l.Rg(a),l.Xa(n),a.Xa(n))}else a.constructor!==
If||k||(a.Jc(b),e.add(a))});break;case U:case If:var n=a.XH.get(l);n&&(a.dB.get(l).Rg(n),l.Xa(a.dB.get(l)),a.dB.remove(l),a.XH.remove(l));l.Sh().forEach(function(b){if(!b.Gm)if(b.constructor===Gf){var c=b.Yb().Eb();if(b.Jc(l.Be().sub(b.Yb())))e.add(b);else{var d=n;d||(d=Dg(b.Ha(),c));l.Rg(b);b.Xa(d);a.dB.put(l,b);a.XH.put(l,d)}}else l.constructor===U&&b.constructor===If?Ah.eR(b,l,l.af()):l.constructor===If&&b.constructor===U&&Ah.eR(a,b,b.af())})}}}
Ah.eR=function(a,b,c){var d=a.Ha(),e=a.aa,k=new Gf(e.root,d.data,e.$d,c),k=new Ih(e,k);c=new Gf(e.root,d.data,e.$d,c);e=new Ih(e,c);Jh.Sj(Kh,a.Yb(),b.Ec(),k,e);d.data.jb.add(k.data);d.data.jb.add(e.data);a.Rg(b);a.Xa(k);k.Xa(e);e.Xa(b)};f=Ah.prototype;f.CC=function(){var a=this.selection.Eb();this.lc();a.forEach(function(a){void 0!==a.Ag&&a.Ag();void 0!==a.remove&&a.constructor!=eg&&a.remove()})};
f.CR=function(){if(0==this.selection.size())return!1;var a=!1;this.selection.forEach(function(b){b.constructor===Gf&&(a=!0)});return a};f.qq=function(){var a=new y;a.ib(Gh(this));a.ib(Fh(this,!1).filter(function(a){return a.constructor!==U}));a.ib(Lh(this));a.ib(Mh(this));return a};f.xB=function(a){return this.qq().filter(function(b){return b.Ec().IB(a)})};function Lh(a){return nf(a.root.Aa,!1).collect(function(a){return a})}
f.If=function(){var a=this.root.Aa.outline().sj();this.root.Aa.Bb.forEach(function(b){(b=(b=b.Fb&&b.Fb())&&b.If&&b.If())&&(a=b.merge(a))});var b=this.root.Aa.hh().ni&&this.root.Aa.hh().ni();b&&(a=b.merge(a));(b=this.root.Aa.Lh().If&&this.root.Aa.Lh().If())&&(a=b.merge(a));return a};f.zl=function(a){this.Fd(a)};function Mh(a){var b=new y,c=a.Fd()==Dh.Am?a.root.Aa.hh():a.root.Aa.Lh();a.SB.forEach(function(a,e){e.data.parent()==c&&b.add(e)});return b}
f.EP=function(a){return a instanceof ne||a instanceof pe||a instanceof re||a instanceof je||a instanceof hf};f.Mp=function(a){var b=new w,c,d,e;this.Fd()==Dh.Am?(c=this.root.Aa.hh(),e=1,d=this.root.Aa.Lh()):this.Fd()==Dh.Rr&&(c=this.root.Aa.Lh(),e=-1,d=this.root.Aa.hh());a.forEach(function(a){if(a.data&&a.data.parent()==d){var l=a.data.clone();d.elements.$x(a.data);c.elements.push(l);l.hb&&l.hb(e);b.put(a,l.Ya)}});b.forEach(function(b,c){a.remove(b);a.add(c)})};function uh(a,b){this.Ee=b;this.jd();this.va(a);this.jb=this.list("segments",!0,!0);this.Re=this.value("infocus",!1,!1,!0)}extend(uh,Ga);extend(uh,C);u(22,"BezierInteractionOutlineModel",uh);
uh.prototype.Fc=function(){var a=this;this.Ee.xa.forEach(function(b,c){var d=new wh(a.root,c.Nk(),c);a.jb.add(d,b)});this.Ee.xa.kc("model",function(b,c,d){b=new wh(a.root,d.Nk(),d);a.jb.add(b,c);a.jb.remove(c+1);d=new wh(a.root,d,d.next());a.jb.add(d,c+1)},10);this.Ee.xa.Tc("model",function(b,c){a.jb.remove(c+1);var d=new wh(a.root,b.get(c-1),b.get(c));a.jb.add(d,c+1);a.jb.remove(c)},10)};function Nh(a,b,c){var d=this;this.mode=a;this.root=b;this.type=b.Aa.Ye();this.ba=this.root.ba;D.call(this,this.ba.state,c);lb({RM:{id:"cir_0",name:"SWITCH_TO_BREADBOARD",Ed:!0},UM:{id:"cir_1",name:"SWITCH_TO_SCHEMATIC",Ed:!0},TM:{id:"cir_2",name:"SWITCH_TO_PCB",Ed:!0},VM:{id:"cir_3",name:"SWITCH_TO_SETTINGS",Ed:!0},QM:{id:"cir_4",name:"SWITCH_TO_BOM",Ed:!0},SM:{id:"cir_5",name:"SWITCH_TO_CIRCUITSCRIBE",Ed:!0},Tr:{id:"cir_6",name:"COMPONENTS_BUTTON",Ed:!0}});this.bm("schematic");this.gY="circuitscribe"==
this.type?new Oh(a,b,this.type):new Ph(a,b,this.type);this.append("breadboard_editing",this.gY,"breadboard",null,"breadboard",null,"select");this.e1=new Qh(a,b,this.type);this.append("schematic_editing",this.e1,"schematic",null,"schematic",null,"select");this.C0=new Jh(a,b,this.type);this.append("pcb_editing",this.C0,"pcb",null,"pcb",null,"select");var e=[{name:"breadboard",event:H.RM,bx:!0},{name:"schematic",event:H.UM,bx:!0},{name:"pcb",event:H.TM,bx:!0},{name:"settings",event:H.VM,bx:!1},{name:"bom",
event:H.QM,bx:!1}];e.forEach(function(a){e.forEach(function(b){b!=a&&F(d,b.name,a.name,function(b){return b.type()==a.event},function(){circuitsGui.cD(a.name)})});a.bx&&(F(d,a.name,a.name,function(a){return a.type()==H.Ps||a.Mb("C_z")},function(){d.root.ba.Sa().lc();d.root.ba.Sk().lc();d.root.ba.Ah().lc();d.root.O2()},"Undo "+a.name),F(d,a.name,a.name,function(a){return a.type()==H.yv||a.Mb("C_y")},function(){d.root.ba.Sa().lc();d.root.ba.Sk().lc();d.root.ba.Ah().lc();d.root.S0()},"Redo "+a.name));
F(d,a.name,a.name,function(a){return a.type()==H.iW},function(){d.root.ba.fR(!d.root.ba.fR())})});e.forEach(function(a){F(d,a.name,"breadboard",function(a){return a.type()==H.SM},function(){circuitsGui.cD("circuitscribe")})});F(d,"settings","settings",function(a){return a.type()==H.AL},function(a){a.data("target_number_of_layers")<d.root.Aa.iu()?confirm("Lowering the number of layers will delete all the routed traces in the removed inner layers!")&&d.root.Aa.iu(a.data("target_number_of_layers")):
d.root.Aa.iu(a.data("target_number_of_layers"))});"breadboard"===this.type?Rh(d,["breadboard","schematic","pcb"]):Rh(d,["schematic","pcb"]);["breadboard","schematic","pcb"].forEach(function(a){d.Fn.forEach(function(b,c){F(d,c,c,function(b){return b.type()==H.lM&&b.data("editor_type")==a},function(a){var b=a.data("editor_type"),c=a.data("width");a=a.data("height");c=new Zb(0,0,c,a);(b=Sh(d,b))&&b.HB(c)});F(d,c,c,function(b){return b.type()==H.Fm&&b.data("editor_type")==a},function(a){Oc(Sh(d,a.data("editor_type")))})})})}
Nh.prototype=inherit(D.prototype);Nh.prototype.constructor=Nh;function Rh(a,b){for(var c=0;c<b.length;c++)(function(b,c){F(a,b,c,function(a){return a.Mb("t")},function(){circuitsGui.cD(c)})})(b[c],b[(c+1)%b.length])}Nh.prototype.Zv=function(a){this.root.Mj(["update_nets","update_ratsnest","rebuild_view"]);a.type()!=H.vE&&a.type()!=H.Od&&a.type()!=H.dN&&a.type()!=H.cN&&a.type()!=H.Iz&&a.type()!=H.Hz&&window.ga&&window.ga("send","event",this.state(),a.type().name)};
function Sh(a,b){switch(b){case "breadboard":return a.root.ba.Sa();case "schematic":return a.root.ba.Sk();case "pcb":return a.root.ba.Ah()}};function Qh(a,b,c){function d(){k.ba.og(!1)}function e(){k.ba.gg(null)}var k=this;this.Aa=b.Aa;this.type=c;var l=b.ba.Sk();hd.call(k,a,b,l,l.state);lb({JM:{id:"sch_0",name:"REMOVENET_CLICK"},oF:{id:"sch_1",name:"NET_MOUSE_DOWN"},Iz:{id:"sch_2",name:"NET_MOUSE_OVER",Zt:!0},Hz:{id:"sch_3",name:"NET_MOUSE_OUT",Zt:!0}});this.bm("select");this.xt=new Th(b,this.ba);this.append("connecting",this.xt,"select",this.lc,"select",null);this.eH=new Uh(b,this.ba);this.append("adding",this.eH,"select",null,"select",
null);this.bK=new wd(b,this.ba);this.append("overlay_searching",this.bK,"select",null,"select",null);F(k,"select","select",function(a){return a.type()==H.Iz},function(a){netData=a.element();k.ba.St(netData)});F(k,"select","select",function(a){return a.type()==H.Hz},function(a){a.element()!=k.ba.gg()&&k.ba.St(null)});F(k,"select","select",function(a){return a.type()==H.oF},function(a){a=a.element();a==k.ba.gg()?k.ba.gg(null):k.ba.gg(a);k.ba.lc()});this.hI.Yf(e);this.ou.kC.Yf(e);this.cC.sZ.Yf(e);this.xt.AK.Yf(e);
this.hI.Yf(d);this.ou.AJ.Yf(d);this.cC.aQ.Yf(d);this.xt.AK.Yf(d);F(k,"select","select",function(a){return a.type()==H.JM},function(a){a=a.element();k.root.Vb();a.disconnect();k.root.Xb()});F(k,"select","select",function(a){return a.type()==H.hM||a.Mb("S_f")},function(){k.root.Vb();k.ba.Ql();k.ba.mI();k.ba.rn();k.root.Xb()},"Flip horizontal selection");F(k,"select","select",function(a){return a.type()==H.iM||a.Mb("f")},function(){k.root.Vb();k.ba.Ql();k.ba.oI();k.ba.rn();k.root.Xb()},"Flip vertical selection");
F(k,"select","select",function(a){return a.type()==H.Tr||a.Mb("c")},function(){k.ba.og(!k.ba.og())},"Components window hotkey");if("breadboard"==c||"circuitscribe"==c)vb(this,"Delete selection"),vb(this,"Components window hotkey")}Qh.prototype=inherit(hd.prototype);Qh.prototype.constructor=Qh;function Th(a,b){var c=this;this.root=a;this.ba=b;D.call(this);this.Xn=new jd(a,b);this.append("zooming",this.Xn,"connecting",null,"connecting",null);this.Gj=this.ih=null;this.Zg=function(a,b){var d=null;c.ih&&(params={ih:c.ih,zh:Q(c.ba,a.data("mouseCoord")),Gj:c.Gj,color:c.ba.yx},c.ba.Zg(params),d=params.zh);b&&(this.Gj=this.ih=null);return d};this.Xn.Ty=this.Zg;this.AK=F(this,"idle","mouse_down",function(a){return a.type()==H.FG},function(a){c.ih=a.element("terminal");c.Gj=[]});F(this,"mouse_down",
"connecting",function(a){return a.type()==H.He},null);F(this,"mouse_down","connecting",function(a){return a.type()==H.Od},function(a){c.Zg(a)});F(this,"connecting","connecting",function(a){return a.type()==H.Od},function(a){c.Zg(a)});F(c,"connecting","connecting",function(a){return a.type()==H.Iz},function(a){a=a.element();c.ba.St(a)});F(c,"connecting","connecting",function(a){return a.type()==H.Hz},function(a){a.element()!=c.ba.gg()&&c.ba.St(null)});F(this,"connecting","idle",function(a){return a.type()==
H.FG&&c.ih!=a.element("terminal")},function(a){c.root.Vb();c.ba.TQ?(a=c.ba.sx(c.ih,a.element("terminal"),void 0,c.Gj,c.ba.yx))&&c.ba.selection.add(a.Ya):c.ba.sx(c.ih,a.element("terminal"));c.root.Xb();c.ba.Zg(null,!0)});F(this,"connecting","idle",function(a){return a.type()==H.oF},function(a){c.root.Vb();c.ba.sx(c.ih,a.element());c.root.Xb();c.ba.Zg(null,!0);c.ba.St(null)});if(this.ba.TQ){var d=function(a){F(c,"connecting","connecting",function(b){return b.Mb(a)},function(b){c.ba.yx=c.ba.ut[a];c.Zg(b)})};
F(this,"connecting","connecting",function(a){return a.type()==H.of||a.type()==H.gc},function(a){a=c.Zg(a);c.Gj.push(a)});F(this,"connecting","connecting",function(a){return a.Mb("delete","backspace")&&0<c.Gj.length},function(a){c.Gj.pop();c.Zg(a)});F(this,"connecting","idle",function(a){return a.Mb("delete","backspace")&&0==c.Gj.length},function(a){c.ba.Gd(null);c.ba.Zg(null,!0);c.handle(a)});if(c.ba.ut)for(var e in c.ba.ut)d(e)}else F(this,"connecting","idle",function(a){return a.type()==H.of},function(a){c.ba.Gd(null);
c.ba.Zg(null,!0);c.handle(a)});F(this,"connecting","idle",function(a){return a.Mb("escape","C_y")},function(a){c.ba.Gd(null);c.ba.Zg(null,!0);c.handle(a)});F(this,"connecting","idle",function(a){return a.Mb("C_z")||a.type()==H.Ps||a.type()==H.xs},function(){c.ba.Gd(null);c.ba.Zg(null,!0)})}Th.prototype=inherit(D.prototype);Th.prototype.constructor=Th;function Uh(a,b){var c=this;kd.call(this,a,b);qb(c,"mouse_down");F(c,"idle","moving",function(a){return a.type()==H.pF},function(a){c.zc=Q(c.ba,a.data("mouseCoord"));c.root.Vb();c.ba.lc();c.ba.fh.fe();c.oe(a.data("did"));c.ba.fh.ib(c.ba.selection.Eb());c.ba.Rf=new J(0,0);a=c.ba.Tg();c.ba.Kc=a.Kc;c.ba.$c=a.$c;c.ba.yj(!0);c.ba.Ql()});F(c,"moving","idle",function(a){return a.type().Ed||a.Mb("C_z","C_y")},function(a){c.xl(!0);c.handle(a)})}Uh.prototype=inherit(kd.prototype);Uh.prototype.constructor=Uh;
Uh.prototype.oe=function(a){var b=this;df(b.root.Aa,Df(b.root.Zf,a)).qd.forEach(function(a,d){b.ba.selection.add(d);d.eb(b.zc)})};function Ph(a,b,c){function d(){k.ba.og(!1);k.ba.ri(!1);k.ba.ck(!1)}function e(a){F(k,"select","select",function(b){return b.Mb(a)},function(){Bh(k.ba,k.ba.ut[a])})}var k=this;this.Aa=b.Aa;this.type=c;c=b.ba.Sa();hd.call(k,a,b,c,c.state);this.ca=new V.Cz(b.Aa,k.ba.xd,k.ba.MR,k.ba.uK);lb({hG:{id:"bbe_0",name:"SIMULATOR_START",Ed:!0},Uz:{id:"bbe_1",name:"SIMULATOR_STOP",Ed:!0},Mg:{id:"bbe_2",name:"SIMULATOR_MOUSE_DOWN"},YD:{id:"bbe_3",name:"COMPILE_SUCCES"},HL:{id:"bbe_4",name:"COMPILE_CODE_ERROR"},
hz:{id:"bbe_5",name:"COMPILE_FAIL"},xL:{id:"bbe_6",name:"BUILDSIM_SUCCES"},wL:{id:"bbe_7",name:"BUILDSIM_FAIL"},gz:{id:"bbe_8",name:"CODEEDITOR_BUTTON",Ed:!0},HM:{id:"bbe_9",name:"POST_SERIAL_MESSAGE"},JL:{id:"bbe_10",name:"DEBUG_PLAY"},KL:{id:"bbe_11",name:"DEBUG_STEP"},gE:{id:"bbe_12",name:"DEBUG_SETBREAKPOINT"},fE:{id:"bbe_13",name:"DEBUG_REMOVEALLBREAKPOINTS"}});this.bm("select");this.xt=new Th(k.root,k.ba);this.append("connecting",this.xt,"select",this.lc,"select",null);this.eH=new Vh(this.root,
k.ba);this.append("adding_component",this.eH,"select",null,"select",null);this.bK=new wd(b,this.ba);this.append("overlay_searching",this.bK,"select",null,"select",null);if(k.ba.ut)for(var l in k.ba.ut)e(l);F(k,"select","select",function(a){return a.type()==H.gz||a.Mb("e")},function(){k.ba.ri(!k.ba.ri())},"Code editor window hotkey");F(k,"select","select",function(a){return a.type()==H.Tr||a.Mb("c")},function(){k.ba.og(!k.ba.og())},"Components window hotkey");this.hI.Yf(d);this.ou.AJ.Yf(d);this.cC.aQ.Yf(d);
this.xt.AK.Yf(d);F(k,"select","compiling",function(a){return a.type()==H.hG||a.Mb("s")},function(){k.ba.og(!1);k.compile()},"Start compiling");F(k,"compiling","select",function(a){return a.type()==H.Uz||a.type()==H.hz},function(){k.ba.KA(!1);k.ca.stop()});F(k,"compiling","select",function(a){return a.type()==H.HL},function(){k.ba.ri(!0);k.ba.KA(!0);k.ca.stop()});F(k,"compiling","build",function(a){return a.type()==H.YD},function(){k.ba.KA(!1);var a=k,b=new G;try{Wh(a.ca),a.ca.start(),b.type(H.xL),
a.handle(b)}catch(c){var d=a.mode==R?JSON.stringify(a.root.Ib.snapshot):"";ka("Simulator build error",c,d);c.constructor==V.xy?circuitsGui.error("Simulation Start Error","We are very sorry but this circuit can not be simulated (yet)."):circuitsGui.error("Simulation Start Error","An unexpected simulator error occurred, please reload the page and try again ...");b.type(H.wL);a.handle(b);if(a.fb)throw c;}});F(k,"build","select",function(a){return a.type()==H.wL},function(){k.ca.stop()});F(k,"build",
"simulating",function(a){return a.type()==H.xL},null);F(k,"simulating","select",function(a){return a.type()==H.Uz||a.Mb("s")},function(){k.ca.stop()});F(k,"simulating","select",function(a){return a.type().Ed&&!(a.type()==H.Uz||a.type()==H.gz)},function(a){k.ca.stop();k.handle(a)});F(k,"select","select",function(a){return a.type()==H.gE},function(a){var b=a.element().Sa().na;a=a.data("file")+":"+a.data("line");b.Me.contains(a)?b.Me.remove(a):b.Me.add(a)});F(k,"select","select",function(a){return a.type()==
H.fE},function(a){a.element().Sa().na.Me.fe()});V.Cg.forEach(function(a,b){var c=new b(k.root,k.ba,a);k.append(a,c,"simulating",null,"simulating",null)});this.P1=new jd(b,this.ba);this.append("sim_zooming",this.P1,"simulating",null,"simulating",null);this.JR=new ld(b,this.ba);this.append("sim_panning",this.JR,"simulating",null,"simulating",null);this.O1=new Xh(b,this.ba);this.append("sim_selecting",this.O1,"simulating",null,"simulating",null);this.yH=new nd(b,this.ba);this.append("sim_changing_property",
this.yH,"simulating",null,"simulating",null);F(k,"simulating","simulating",function(a){return a.Mb("escape","C_d")},k.lc,"Escape pressed while simulating");this.JR.kC.Yf(this.lc);F(k,"simulating","simulating",function(a){return a.type()==H.gz||a.Mb("e")},function(){k.ba.ri(!k.ba.ri())},"Code editor window hotkey while simulating");F(k,"simulating","simulating",function(a){return a.type()==H.JL&&k.ba.xd()==V.Uc.ps},function(a){a.element().Sa().na.ie.play();k.ca.ej(100)});F(k,"simulating","simulating",
function(a){return a.type()==H.KL&&k.ba.xd()==V.Uc.ps},function(a){a.element().Sa().na.ie.step();k.ca.ej(100)});F(k,"simulating","simulating",function(a){return a.type()==H.gE},function(a){var b=a.element().Sa().na,c=a.data("file");a=a.data("line");var d=c+":"+a;b.Me.contains(d)?(Yh(b.ie,c,a),b.Me.remove(d)):(a=Zh(b.ie,c,a),c=c+":"+a,b.Me.contains(c)||b.Me.add(c))});F(k,"simulating","simulating",function(a){return a.type()==H.fE},function(a){a.element().Sa().na.Me.fe()})}Ph.prototype=inherit(Qh.prototype);
Ph.prototype.constructor=Ph;
Ph.prototype.compile=function(){var a=this,b=[];a.Aa.Bb.forEach(function(a){var d=a.Sa().qg;d&&d.Vl&&0==a.Qm&&(a.compiler_guid="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0;return("x"==a?b:b&3|8).toString(16)}),d=d.en,a={compiler_guid:a.compiler_guid,type:"arduino",code:{"sketch.ino":wg(a)},variant:d.variant,menu:d.w7,code_opt:$(".js-code_editor__breakpoints__codeOpt_checkbox").is(":checked")},b.push(a))});0<b.length?$.ajax({type:"POST",url:circuitsUrls.arduinoServerCompile,
contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(b),success:function(b){var d=new G;d.type(H.YD);0<b.length?b.forEach(function(b){"success"==b.state?a.Aa.Bb.forEach(function(a){a.Sa().qg&&a.Sa().qg.Vl&&a.compiler_guid==b.compiler_guid&&(a.Qm=b.url,a.yw=JSON.parse(b.elf),a.Pm=!1)}):"error"==b.state?(a.Aa.Bb.forEach(function(a){a.Sa().qg&&a.Sa().qg.Vl&&a.compiler_guid==b.compiler_guid&&(a.Qm=!1,a.Pm=b.stderr)}),d.type(H.HL)):(circuitsGui.error("Compile Server Error",
"Unable to compile code for this circuit. <br><br>Please try again later or contact us if the problem persists."),d.type(H.hz))}):(circuitsGui.error("Compile Server Error","Unable to compile code for this circuit. <br><br>Please try again later or contact us if the problem persists."),d.type(H.hz));a.handle(d)},error:function(){circuitsGui.error("Connection Error","Unable to contact the code compilation service. <br><br>Please try again later or contact us if the problem persists.");a.handle(H.hz)}}):
setTimeout(function(){a.handle(H.YD)},250)};function Vh(a,b){var c=this;kd.call(this,a,b);qb(c,"mouse_down");F(c,"idle","moving",function(a){return a.type()==H.pF},function(a){c.zc=Q(c.ba,a.data("mouseCoord"));c.root.Vb();c.ba.lc();c.ba.fh.fe();c.oe(a.data("did"));c.ba.fh.ib(c.ba.selection.Eb());c.ba.Rf=new J(0,0);a=c.ba.Tg();c.ba.Kc=a.Kc;c.ba.$c=a.$c;c.ba.yj(!0);c.ba.Ql()});F(c,"moving","idle",function(a){return a.type().Ed||a.Mb("C_z","C_y")},function(a){c.xl(!0);c.handle(a)})}Vh.prototype=inherit(kd.prototype);Vh.prototype.constructor=Vh;
Vh.prototype.oe=function(a){a=df(this.root.Aa,Df(this.root.Zf,a));a.Sa().eb(this.zc);this.ba.selection.add(a.Sa())};function Xh(a,b){kd.call(this,a,b);qb(this,"moving")}Xh.prototype=inherit(kd.prototype);Xh.prototype.constructor=Xh;function Oh(a,b,c){var d=this;Ph.call(d,a,b,c);lb({VD:{id:"cse_0",name:"CIRCUITSCRIBE_TERMINAL_MOUSE_DOWN"},CL:{id:"cse_1",name:"CIRCUITSCRIBE_FOOTPRINT_BUTTON",Ed:!0},GL:{id:"cse_2",name:"CIRCUITSCRIBE_VIEW_BUTTON",Eq:!0},FL:{id:"cse_3",name:"CIRCUITSCRIBE_TOGGLE_VIEW",Eq:!0},DL:{id:"cse_4",name:"CIRCUITSCRIBE_TOGGLE_PAPER",Eq:!0},EL:{id:"cse_5",name:"CIRCUITSCRIBE_TOGGLE_PRINT_INSPECTOR",Ed:!0},BL:{id:"cse_6",name:"CIRCUITSCRIBE_DOWNLOAD_PDF",Ed:!0}});F(d,"select","eink",function(a){return a.type()==
H.ng&&"eink"==a.data("tool")},function(){d.ba.Xh("eink")});F(d,"eink","select",function(a){return a.type()==H.ng&&"eink"==a.data("tool")||a.Mb("space","escape")},function(){d.ba.Xh("select")});F(d,"eink","select",function(a){return a.type().Ed&&a.type()!=H.ng||a.Mb("C_z","C_y","c")||a.type()==H.gc&&a.element("subelement")&&a.element("subelement").constructor==me},function(a){d.ba.Xh("select");d.handle(a)});this.EQ=new $h(b,d.ba,$e,d.root.Aa.yk().elements);this.u0=nb(this.EQ,"pan_to_next");this.append("einking",
this.EQ,"eink",this.lc,"eink",null);["select","simulating","eink",this.u0].forEach(function(a){F(d,a,a,function(a){return a.type()==H.GL||a.Mb("v")},function(){d.ba.AH(!d.ba.AH())});F(d,a,a,function(a){return a.type()==H.FL},function(){var a="sketch"==d.ba.qh()?"wireframe":"sketch";d.ba.qh(a)});F(d,a,a,function(a){return a.type()==H.DL},function(){d.root.Vb();var a=d.Aa.rk();a.visible(!a.visible());d.root.Xb()})});this.rZ=new jd(b,this.ba);this.append("eink_zooming",this.rZ,"eink",null,"eink",null);
F(d,"select","select",function(a){return a.type()==H.CL},function(){d.ba.ck(!d.ba.ck())},"Circuit Scribe footprint dialog");F(d,"select","select",function(a){return a.type()==H.EL},function(){var a=d.Aa.rk(),b=a.selected;d.root.Vb();a.visible(!0);d.root.Xb();d.ba.lc();0==b&&d.ba.selection.add(a)});F(d,"select","select",function(a){return a.type()==H.BL},function(){d.root.Vb();var a=d.Aa.rk();a.visible(!0);d.root.Xb();var b=a.width(),a=a.height(),c=$(".js-circuitscribe-download-pdf"),n=Kf(d.root.Aa,
b,a);$(".js-circuitscribe-download-pdf-svgdata",c).val(n);$(".js-circuitscribe-download-pdf-doc_width",c).val(Math.round(.254*b));$(".js-circuitscribe-download-pdf-doc_height",c).val(Math.round(.254*a));c.submit()})}Oh.prototype=inherit(Ph.prototype);Oh.prototype.constructor=Oh;function $h(a,b,c,d){var e=this;te.call(this,a,b,c,d,null,1);this.Jw=new y;this.tZ.vt=function(a){return a.type()==H.of||a.type()==H.gc&&!a.data("isEinkPad")&&a.element("subelement")&&a.element("subelement").constructor!=me};this.vZ.vt=function(a){return a.type()==H.of||a.type()==H.gc&&!a.data("isEinkPad")&&a.element("subelement")&&a.element("subelement").constructor!=me};this.uZ.vt=function(a){var b=(new Date).getTime();return(a.type()==H.of||a.type()==H.gc&&!a.data("isEinkPad"))&&500>b-e.yy};F(e,
"idle","just_added_point",function(a){return a.type()==H.VD||a.type()==H.gc&&a.data("isEinkPad")},function(a){a=a.element("terminal");e.root.Vb();e.Jw.add(a.parent());e.V1=a;ue(e,Xg(a))});F(e,"pan_to_next","idle",function(a){return a.type()==H.VD||a.type()==H.gc&&a.data("isEinkPad")},function(a){a=a.element("terminal");e.ba.Gd(null);ve(e,Xg(a));e.Jw.add(a.parent());e.V1==a&&2>=e.tf.pc.size()&&(e.tf.remove(),e.Jw=new y);e.ur();e.root.Xb()})}$h.prototype=inherit(te.prototype);
$h.prototype.constructor=$h;$h.prototype.ur=function(){this.tf.Ya.Nw(!1);ai(this);this.Jw=new y};function ai(a){a.Jw.forEach(function(b){if("circuitscribe_module"===b.Sa().wb().symbol_type&&!Ch(a.ba,b)){var c=b.wb().device.circuitscribe_footprint_id,c=df(a.root.Aa,Df(a.root.Zf,c));c.Sa().eb(b.Sa().eb());c.Sa().Oa(b.Sa().Oa());c.Sa().hb(b.Sa().hb());c.Sa().rotate(b.wb().device.circuitscribe_footprint_rotation)}})};function Jh(a,b,c){function d(){return 0==k.ba.Fd()?{font:"pcbfont",fontSize:4233,hb:1,fill:!1,qc:250}:1==k.ba.Fd()?{font:"pcbfont",fontSize:4233,hb:-1,fill:!1,qc:250}:null}function e(){return 0==k.ba.Fd()?k.root.Aa.hh().elements:1==k.ba.Fd()?k.root.Aa.Lh().elements:null}var k=this;this.Aa=b.Aa;this.type=c;c=b.ba.Ah();hd.call(k,a,b,c,c.state);lb({ML:{id:"pcb_0",name:"DRAWINGAIDS_BUTTON",Eq:!0},vM:{id:"pcb_1",name:"LAYERS_BUTTON",Eq:!0},UD:{id:"pcb_2",name:"CHANGE_LAYER"},AL:{id:"pcb_3",name:"CHANGE_NUMBER_OF_LAYERS"},
yL:{id:"pcb_4",name:"CHANGE_FOOTPRINT_CLICK",Ed:!0},zL:{id:"pcb_5",name:"CHANGE_FOOTPRINT_ELEMENT"},TD:{id:"pcb_6",name:"CHANGE_COPPER_TRACE_WIDTH"},Vu:{id:"pcb_7",name:"CHANGE_COPPER_TRACE_CORNER"},PL:{id:"pcb_8",name:"DRAWINGAIDS_TOGGLE_GRID"},OL:{id:"pcb_9",name:"DRAWINGAIDS_TOGGLE_BOARD"},NL:{id:"pcb_10",name:"DRAWINGAIDS_SHOW_BOARD_SETTINGS"},QL:{id:"pcb_11",name:"DRAWINGAIDS_TOGGLE_GRID_INSPECTOR"}});this.bm("select");a=new bi(b,this.ba);this.append("copper_tracing",a,"trace",this.lc,"trace",
null);c=new ci(b,this.ba);this.append("copper_pouring",c,"poly",this.lc,"poly",null);var l=new Ae(b,this.ba,e,d);this.append("tool_text",l,"text",this.lc,"text",null);var n=new te(b,this.ba,ae,e,d);this.append("tool_path",n,"path",this.lc,"path",null);n=new we(b,this.ba,e,d);this.append("tool_circle",n,"circle",this.lc,"circle",null);n=new ze(b,this.ba,e,d);this.append("tool_rectangle",n,"rect",this.lc,"rect",null);n=new di(b,this.ba);this.append("tool_via",n,"via",this.lc,"via",null);var q=new ei(b,
this.ba);this.append("tool_drillhole",q,"drillhole",this.lc,"drillhole",null);q="trace poly text path circle rect via drillhole".split(" ");q.forEach(function(a){var c=new jd(b,k.ba);k.append(a+"_zooming",c,a,null,a,null);F(k,"select",a,function(b){return b.type()==H.ng&&b.data("tool")==a},function(a){k.ba.Xh(a.data("tool"));k.ba.sk()&&k.ba.sk(!1)});F(k,a,"select",function(a){return a.type()==H.ng},function(b){k.ba.Gd(null);k.ba.Xh("select");b.data("tool")!=a&&k.handle(b)});F(k,a,"select",function(a){return a.Mb("escape")},
function(){k.ba.Xh("select")});F(k,a,"select",function(a){return a.type().Ed&&a.type()!=H.ng||a.Mb("C_z","C_y")},function(a){k.ba.Xh("select");k.handle(a)});0<=["trace","poly","via"].indexOf(a)?(c=new ld(b,k.ba),k.append(a+"_panning",c,a,null,a,null),c.AJ.tA(function(){var a=new G(H.ng);a.data("tool","select");k.handle(a)})):F(k,a,"select",function(a){return a.type()==H.gc},function(a){k.ba.Xh("select");k.handle(a)})});q.push("select");q.push(nb(a,"connecting"));q.push(nb(c,"connecting"));q.push(nb(n,
"moving"));q.push(nb(l,"moving"));q.forEach(function(a){F(k,a,a,function(a){return a.type()==H.ML||a.Mb("v")},function(){k.ba.eL(!k.ba.eL())});F(k,a,a,function(a){return a.type()==H.vM||a.Mb("l")},function(){k.ba.dJ(!k.ba.dJ())});nb(k,a).YZ||F(k,a,a,function(a){return a.type()==H.UD},function(a){a=a.data("layer");k.ba.zl(a)});F(k,a,a,function(a){return a.type()==H.PL},function(){k.root.Vb();k.ba.origin().Pt(!k.ba.origin().Pt());k.root.Xb()});F(k,a,a,function(a){return a.type()==H.QL},function(){k.ba.FI(!k.ba.FI())});
F(k,a,a,function(a){return a.type()==H.OL},function(){k.ba.sH(!k.ba.sH())});F(k,a,a,function(a){return a.type()==H.NL},function(){var a=k.Aa.outline();a.Ya.Re(!a.Ya.Re())})});F(k,"select","select",function(a){return a.type()==H.yL},function(a){k.ba.sk()||(k.ba.FA(a.element()),k.ba.sk(!0))},"Change footprint");F(k,"select","select",function(a){return a.type()==H.zL},function(a){k.root.Vb();zg(k.ba.FA(),a.data("footprint_id"));k.root.Xb();k.ba.sk()&&k.ba.sk(!1)},"Change footprint element");this.ou.kC.Yf(function(){k.ba.sk()&&
k.ba.sk(!1)})}Jh.prototype=inherit(hd.prototype);Jh.prototype.constructor=Jh;
Jh.Sj=function(a,b,c,d,e){var k=b.x-c.x,l=b.y-c.y;d.ya(b);e.ya(c);a==Kh||a==fi?(a==Kh?(a=d,b=e):(a=e,b=d),0<k?0<l?a.direction(new J(1,1)):a.direction(new J(1,-1)):0<l?a.direction(new J(-1,1)):a.direction(new J(-1,-1)),Math.abs(k)>Math.abs(l)?0<k?b.direction(new J(1,0)):b.direction(new J(-1,0)):0<l?b.direction(new J(0,1)):b.direction(new J(0,-1))):a==gi?(d.direction(new J(1,0)),e.direction(new J(0,1))):a==hi&&(e.direction(new J(1,0)),d.direction(new J(0,1)));d.Rj(!0);e.Rj(!0)};function ci(a,b){this.root=a;this.ba=b;this.style=Kh;D.call(this);var c=new jd(a,b);this.append("zooming",c,"connecting",null,"connecting",null);this.iH()}ci.prototype=inherit(D.prototype);f=ci.prototype;f.constructor=ci;
f.iH=function(){var a=this;F(a,"idle","idle",function(a){return a.type()==H.Vu},function(b){b=b.data("corner");a.style=b;a.ba.Tm(b)});F(a,"idle","idle",function(a){return a.Mb("space")},function(){var b=a.style+1;4<=b&&(b=0);a.style=b;a.ba.Tm(b)});F(a,"idle","ending_mouse_down",function(a){return a.type()===H.gc&&a.element().constructor===Gf&&!a.data("shiftKey")},function(b){a.kg=b.element();a.zc=a.kg.Ui(Q(a.ba,b.data("mouseCoord")));a.ba.Fd(b.element().af());a.tr=a.ba.Fd()});F(a,"idle","ending_mouse_down",
function(a){return a.type()===H.gc&&a.element("subelement")&&a.element("subelement").constructor===U},function(b){a.kg=b.element("subelement");a.zc=a.kg.Be();a.tr=a.ba.Fd()});F(a,"ending_mouse_down","connecting",function(b){if(b.type()!=H.He)return!1;b=a.kg.Ha();return null!==b&&Ig(Hg(b))?!0:!1},function(){a.root.Vb();a.ba.Kc=Eh(a.ba,a.ba.$d());a.eI=!1;a.Kd=Hg(a.kg.Ha());a.ba.gg(a.Kd);a.zn=a.kg;a.rg=a.zc;a.wc=Cg(a.Kd,a.ba.$d(),a.tr,!0);a.wc.$f(!0);a.jc=Cg(a.Kd,a.ba.$d(),a.tr,!0);a.jc.$f(!0);a.mr=
Dg(a.Kd,a.zc);a.Qf=Dg(a.Kd,a.rg);a.zn.Xa(a.mr);a.wc.Xa(a.mr);a.zn.Xa(a.wc);a.wc.Xa(a.jc);a.jc.Xa(a.Qf);a.Qf.eb(a.rg);Jh.Sj(a.style,a.zc,a.rg,a.wc,a.jc)});F(a,"ending_mouse_down","idle",function(b){return b.type()!==H.gc||(b=a.kg.Ha(),null!==b&&Ig(Hg(b)))?!1:!0},function(){});F(a,"ending_mouse_down","idle",function(a){return a.type()==H.Od},function(){});F(a,"connecting","connecting",function(a){return a.type()==H.Od?!0:!1},function(b){a.ij-=a.wc.length()+a.jc.length();a.rg=Rc(a.ba,Q(a.ba,b.data("mouseCoord")));
a.Qf.Ge(a.rg);Jh.Sj(a.style,a.zc,a.rg,a.wc,a.jc)});F(a,"connecting","connecting",function(a){if(a.type()==H.gc&&1==a.data("which")){if(a.element().constructor==eg){if(a.element("subelement").constructor==U)var c=a.element("subelement")}else c=a.element();if(!c||!c.Dq)return!0}return!1},function(b){a.Lp(Q(a.ba,b.data("mouseCoord")));a.ba.Gd(null)});F(a,"connecting","connecting",function(b){if(b.type()==H.gc&&1==b.data("which")){if(b.element().constructor==eg){if(b.element("subelement").constructor==
U)var c=b.element("subelement")}else c=b.element();if(c&&c.Dq&&((b=c.Ha())&&!Ig(b)&&(b=b.yB),b!=a.Kd||!c.xe||!c.xe()||c.dg()!==a.tr))return!0}return!1},function(b){a.Lp(Q(a.ba,b.data("mouseCoord")));a.ba.Gd(null)});F(a,"connecting","idle",function(b){if(b.type()==H.gc&&1==b.data("which")){if(b.element().constructor==eg){if(b.element("subelement").constructor==U)var c=b.element("subelement")}else c=b.element();if(c&&c.Dq&&((b=c.Ha())&&!Ig(b)&&(b=b.yB),b==a.Kd&&c.xe&&c.xe()&&c.dg()===a.tr))return!0}return!1},
function(b){if(b.element().constructor==eg){if(b.element("subelement").constructor==U)var c=b.element("subelement")}else c=b.element();c.constructor===U&&(b=new J(dh(c),eh(c)),a.Qf.Ge(b),Jh.Sj(a.style,a.zc,b,a.wc,a.jc));a.jc.Xa(c,a.Qf.Yb());a.wc.$f(!1);a.jc.$f(!1);a.jc.dg(a.tr);a.wc=null;a.jc=null;Jf(a.Kd);Rg(a.Kd);a.ba.gg(null);a.root.Xb();a.ba.Gd(null)});F(a,"connecting","connecting",function(a){return a.type()==H.of&&1==a.data("which")?!0:!1},function(b){a.zn=a.wc;a.Lp(Q(a.ba,b.data("mouseCoord")))});
F(a,"connecting","idle",function(a){return a.Mb("escape")?!0:!1},function(){a.pw()});F(a,"connecting","connecting",function(a){return a.type()==H.Vu?!0:!1},function(b){a.sw(b.data("corner"))});F(a,"connecting","connecting",function(a){return a.type()==H.of&&3==a.data("which")?!0:!1},function(){a.Gw()});F(a,"connecting","connecting",function(a){return a.Mb("space")},function(){a.Gw()});F(a,"connecting","idle",function(a){return a.type().Ed||a.Mb("C_z","C_y")},function(b){a.pw();a.handle(b)})};
f.sw=function(a){this.ij-=this.wc.length()+this.jc.length();this.style=a;this.ba.Tm(a);this.Qf.Ge(this.rg);Jh.Sj(this.style,this.zc,this.rg,this.wc,this.jc)};f.Gw=function(){var a=this.style+1;4<=a&&(a=0);this.sw(a)};
f.Lp=function(a){var b=this.wc.$e(this.jc),c=Dg(this.Kd,b);this.wc.$f(!1);this.wc.Xa(c);this.jc.Xa(c);c=Cg(this.Kd,this.ba.$d(),this.tr,!0);this.jc.Xa(c);this.jc.Rg(this.Qf);c.Xa(this.Qf);this.zc=b;this.wc=this.jc;this.jc=c;this.jc.$f(!0);this.style==fi?this.style=Kh:this.style==Kh?this.style=fi:this.style==gi?this.style=hi:this.style==hi&&(this.style=gi);this.Qf.Ge(a);Jh.Sj(this.style,this.zc,a,this.wc,this.jc)};
f.pw=function(){this.ij-=this.wc.length()+this.jc.length();this.jc.Ag();this.wc.Ag();this.state("idle");this.parent.BJ=!0;this.parent.eI=!0;Jf(this.Kd);Rg(this.Kd);this.root.Xb();this.ba.gg(null);this.ba.Gd(null)};f.Zv=function(){};function bi(a,b){this.root=a;this.ba=b;this.Ft=!1;this.style=Kh;D.call(this);var c=new jd(a,b);this.append("zooming",c,"connecting",null,"connecting",null);this.iH()}bi.prototype=inherit(D.prototype);f=bi.prototype;f.constructor=bi;
f.iH=function(){var a=this;F(a,"idle","idle",function(a){return a.type()==H.TD},function(b){b=parseInt(b.data("width"));a.ba.$d(b)});F(a,"idle","idle",function(a){return a.type()==H.Vu},function(b){b=b.data("corner");a.style=b;a.ba.Tm(b)});F(a,"idle","idle",function(a){return a.Mb("space")},function(){var b=a.style+1;4<=b&&(b=0);a.style=b;a.ba.Tm(b)});F(a,"idle","ending_mouse_down",function(a){return a.type()===H.gc&&a.element().constructor===Gf&&!a.data("shiftKey")},function(b){a.kg=b.element();
a.zc=a.kg.Ui(Q(a.ba,b.data("mouseCoord")));a.ba.Fd(b.element().af())});F(a,"idle","ending_mouse_down",function(a){return a.type()===H.gc&&a.element("subelement")&&a.element("subelement").constructor===U},function(b){ii(a,b.element("subelement"))});F(a,"idle","ending_mouse_down",function(a){return a.type()===H.gc&&a.element()&&a.element().constructor===If},function(b){ii(a,b.element())});F(a,"ending_mouse_down","idle",function(b){return b.type()!==H.gc||(b=a.kg.Ha(),null!==b&&Ig(Hg(b)))?!1:!0},null);
F(a,"ending_mouse_down","connecting",function(b){if(b.type()!=H.He)return!1;b=a.kg.Ha();return null!==b&&Ig(Hg(b))?!0:!1},function(b){a.root.Vb();a.ba.Kc=Eh(a.ba,a.ba.$d());a.eI=!1;a.Kd=Hg(a.kg.Ha());a.ba.gg(a.Kd);a.zn=a.kg;a.rg=Rc(a.ba,Q(a.ba,b.data("mouseCoord")));a.wc=Cg(a.Kd,a.ba.$d(),a.ba.Fd(),a.Ft);a.wc.$f(!0);a.jc=Cg(a.Kd,a.ba.$d(),a.ba.Fd(),a.Ft);a.jc.$f(!0);a.mr=Dg(a.Kd,a.zc);a.Qf=Dg(a.Kd,a.rg);a.zn.Xa(a.mr);a.wc.Xa(a.mr);a.zn.Xa(a.wc);a.wc.Xa(a.jc);a.jc.Xa(a.Qf);a.Qf.eb(a.rg);Jh.Sj(a.style,
a.zc,a.rg,a.wc,a.jc)});F(a,"connecting","connecting",function(a){return a.type()==H.Od},function(b){a.ij-=a.wc.length()+a.jc.length();a.rg=Rc(a.ba,Q(a.ba,b.data("mouseCoord")));a.Qf.Ge(a.rg);Jh.Sj(a.style,a.zc,a.rg,a.wc,a.jc)});F(a,"connecting","connecting",function(a){return a.type()==H.UD},function(b){b=b.data("layer");a.zl(b)});nb(a,"connecting").YZ=!0;F(a,"connecting","connecting",function(b){for(var c=a.root.Aa.ud(),d=[],e=1;e<=c;e++)d.push(e.toString());return b.Mb(d)},function(b){b=parseInt(b.data("keyCode"))-
1;0<=b&&b<a.root.Aa.ud()&&a.zl(b)});F(a,"connecting","connecting",function(a){if(a.type()==H.gc&&1==a.data("which")){if(a.element().constructor==eg){if(a.element("subelement").constructor==U)var c=a.element("subelement")}else c=a.element();if(!c||!c.Dq)return!0}return!1},function(b){a.Lp(Q(a.ba,b.data("mouseCoord")));a.ba.Gd(null)});F(a,"connecting","connecting",function(b){if(b.type()==H.gc&&1==b.data("which")){if(b.element().constructor==eg){if(b.element("subelement").constructor==U)var c=b.element("subelement")}else c=
b.element();if(c&&c.Dq&&((b=c.Ha())&&!Ig(b)&&(b=b.yB),b!=a.Kd||!(!a.Ft||c.xe&&c.xe()&&c.dg()===a.ba.Fd())))return!0}return!1},function(b){a.Lp(Q(a.ba,b.data("mouseCoord")));a.ba.Gd(null)});F(a,"connecting","idle",function(b){if(b.type()==H.gc&&1==b.data("which")){if(b.element().constructor==eg){if(b.element("subelement").constructor==U)var c=b.element("subelement")}else c=b.element();if(c&&c.Dq&&((b=c.Ha())&&!Ig(b)&&(b=b.yB),b==a.Kd&&(!a.Ft||c.xe&&c.xe()&&c.dg()===a.ba.Fd())))return!0}return!1},function(b){if(b.element().constructor==
eg){if(b.element("subelement").constructor==U)var c=b.element("subelement")}else c=b.element();(b=c.Ha())&&Ig(b);b=a.ba.Fd();if(c.constructor===U){var d=new J(dh(c),eh(c));a.Qf.Ge(d);Jh.Sj(a.style,a.zc,d,a.wc,a.jc);c.Yi(a.ba.Fd())||(c.Yi(0)?b=0:c.Yi(1)&&(b=1))}a.jc.Xa(c,a.Qf.Yb());a.wc.$f(!1);a.jc.$f(!1);a.jc.dg(b);a.wc=null;a.jc=null;Jf(a.Kd);Rg(a.Kd);a.ba.Fd(b);a.ba.gg(null);a.root.Xb();a.ba.Gd(null)});F(a,"connecting","connecting",function(a){return a.type()==H.of&&3==a.data("which")?!0:!1},function(){a.Gw()});
F(a,"connecting","connecting",function(a){return a.Mb("space")},function(){a.Gw()});F(a,"connecting","connecting",function(a){return a.type()==H.of&&1==a.data("which")?!0:!1},function(b){a.zn=a.wc;a.Lp(Q(a.ba,b.data("mouseCoord")))});F(a,"connecting","connecting",function(a){return a.type()==H.TD?!0:!1},function(b){b=parseInt(b.data("width"));a.ba.$d(b);a.wc.RC(b);a.jc.RC(b)});F(a,"connecting","connecting",function(a){return a.type()==H.Vu},function(b){a.sw(b.data("corner"))});F(a,"connecting","idle",
function(a){return a.Mb("escape")?!0:!1},function(){a.pw()});F(a,"connecting","idle",function(a){return a.type().Ed||a.Mb("C_z","C_y")},function(b){a.pw();a.handle(b)})};f.sw=function(a){this.ij-=this.wc.length()+this.jc.length();this.style=a;this.ba.Tm(a);this.Qf.Ge(this.rg);Jh.Sj(this.style,this.zc,this.rg,this.wc,this.jc)};f.Gw=function(){var a=this.style+1;4<=a&&(a=0);this.sw(a)};
f.Lp=function(a){var b=this.wc.$e(this.jc),c=Dg(this.Kd,b);this.wc.$f(!1);this.wc.Xa(c);this.jc.Xa(c);c=Cg(this.Kd,this.ba.$d(),this.ba.Fd(),this.Ft);this.jc.Xa(c);this.jc.Rg(this.Qf);c.Xa(this.Qf);this.zc=b;this.wc=this.jc;this.jc=c;this.jc.$f(!0);this.style==fi?this.style=Kh:this.style==Kh?this.style=fi:this.style==gi?this.style=hi:this.style==hi&&(this.style=gi);this.Qf.Ge(a);Jh.Sj(this.style,this.zc,a,this.wc,this.jc)};
f.pw=function(){this.ij-=this.wc.length()+this.jc.length();this.jc.Ag();this.wc.Ag();this.state("idle");this.parent.BJ=!0;this.parent.eI=!0;Jf(this.Kd);Rg(this.Kd);this.root.Xb();this.ba.gg(null);this.ba.Gd(null)};f.Zv=function(){};function ii(a,b){a.kg=b;a.zc=a.kg.Be();a.Ft||a.kg.Yi(a.ba.Fd())||(a.kg.Yi(0)?a.ba.Fd(0):a.kg.Yi(1)&&a.ba.Fd(1))}f.zl=function(a){this.wc.dg(a);this.jc.dg(a);this.wc.Xa(this.mr);this.zn.Xa(this.mr);this.Kd&&(Rg(this.Kd),Jf(this.Kd));this.ba.zl(a)};function ei(a,b){var c=this;kd.call(this,a,b);qb(c,"mouse_down");F(c,"idle","moving",function(a){return a.type()==H.of},function(a){a=Q(c.ba,a.data("mouseCoord"));c.root.Vb();var b=gf(c.root.Aa,100,"mil");b.Jc(a);c.ba.lc();c.ba.selection.add(b);c.ba.fh.fe();c.ba.fh.add(b);c.zc=a;c.ba.Rf=new J(0,0);a=c.ba.Tg(b);c.ba.Kc=a.Kc;c.ba.$c=a.$c})}ei.prototype=inherit(kd.prototype);ei.prototype.constructor=ei;ei.prototype.xl=function(a){kd.prototype.xl.call(this,a);this.ba.lc()};function di(a,b){var c=this;c.Ra=null;kd.call(c,a,b);qb(c,"mouse_down");F(c,"idle","select_net_mouse_down",function(a){return a.type()==H.gc&&1==a.data("which")&&(a=c.Ha(a))?(c.Ra=a,!0):!1},function(a){c.zc=Q(c.ba,a.data("mouseCoord"))});F(c,"select_net_mouse_down","moving",function(a){return a.type()==H.He},function(a){c.root.Vb();a=Bg(c.Ra,Q(c.ba,a.data("mouseCoord")),250,!0);c.ba.lc();c.ba.selection.add(a);c.ba.fh.fe();c.ba.fh.add(a);c.ba.Rf=new J(0,0);a=c.ba.Tg();c.ba.Kc=a.Kc;c.ba.$c=a.$c});F(c,
"select_net_mouse_down","idle",function(a){return a.type()==H.Od},function(){});F(c,"select_net_mouse_down","idle",function(a){return a.Mb("escape")},function(){c.xl(!0)});F(c,"moving","idle",function(a){return a.type().Ed||a.Mb("C_z","C_y")},function(a){c.xl(!0);c.handle(a)})}di.prototype=inherit(kd.prototype);di.prototype.constructor=di;
di.prototype.Ha=function(a){if(a.element("subelement")&&a.element("subelement").constructor===U){if(a.element("subelement").Ha())return a.element("subelement").Ha()}else if(a.element().constructor==Gf||a.element().constructor==If)return a.element().Ha();return null};window.vT=window.vT||{};function ji(){var a=this;this.SJ={};window.addEventListener("message",function(b){if(b.data.name&&a.SJ.hasOwnProperty(b.data.name))a.SJ[b.data.name](b.data.data)},!1)}function ki(a,b){window.CircuitsAPI.SJ[a]=b}"undefined"!=typeof window&&(window.I6=new ji);(function(a,b){var c;a.H6=function(d){b(".rendered").length&&(console.log("Render init"),b("body").css("background","none"),b("#breadboardTab").css("background","none"),b("#schematicTab").css("background","none"),b("#pcbTab").css("background","none"),b("#circuitscribeTab").css("background","none"),b(".editor").css("top","0"),d.Yg&&(d.Yg.RO=!1,li(d.Yg)),b(".loading").length&&b(".loading").remove(),b(".viewer--circuits").length&&b(".viewer--circuits").removeClass("viewer--circuits"),b("#bomTab").length&&
b("#bomTab").remove(),b(".js-sitemenu").length&&b(".js-sitemenu").remove(),b(".controls").length&&b(".controls").remove(),b(".js-error-message").length&&b(".js-error-message").remove(),window.onhashchange=function(){a.ZO()},a.ZO(),c=setTimeout(function(){console.log("--- CIRCUIT LOADED ---")},5E3),0===d.eh.Qy&&(console.log("--- CIRCUIT LOADED ---"),clearTimeout(c)))};if(b(".footprintRenderHolder").length){b("body").css("background","none");var d=JSON.parse(b(".footprint_json").text()),e=new aa.d5(null,
b(".footprintRenderHolder"),{},mi);e.s7(d);Oc(e);test=e;console.log("--- CIRCUIT LOADED ---")}b(".symbolRenderHolder").length&&(b("body").css("background","none"),d=JSON.parse(b(".schematic_symbol_json").text()),e=new aa.L4(null,b(".symbolRenderHolder"),{noLabels:!0},mi),e.t7(d),Mc(e,e.data.Bb.se(0).qd.se(0).K7.fw()),test=e,console.log("--- CIRCUIT LOADED ---"));a.ZO=function(){b("#breadboardTab").hide();b("#schematicTab").hide();b("#pcbTab").hide();b("#circuitscribeTab").hide();switch(document.location.hash){case "#circuitscribe":b("#circuitscribeTab").show();
break;case "#breadboard":b("#breadboardTab").show();break;case "#schematic":b("#schematicTab").show();break;case "#pcb":b("#pcbTab").show()}b(".circuitsDialog").length&&b(".circuitsDialog").remove()}})(window.circuitsGui=window.circuitsGui||{},jQuery);(function(a){a.r2={embedded_svg:function(a){a=a.replace(/-/g,"_").replace(".svg","");return ni[a]},params:function(a){var c=window.location.href.split(/[\?&]+/);for(kc=0;kc<c.length;kc++){var d=c[kc].split("=");if(d[0]==a)return d[1]}return null},link_to_s3_file:function(a,c){return""==a?"":-1!=a.indexOf("http://")||-1!=a.indexOf("https://")?a:c?"https://s3-us-west-1.amazonaws.com/123d-circuits-"+c+"/"+a:"https://s3-us-west-1.amazonaws.com/123d-circuits-assets/"+a},image_tag:function(a){var c=a[1],
d='<img src="'+a[0]+'" ';Object.keys(c).forEach(function(a){d+=" "+a+'="'+c[a]+'"'});return d+=">"}};a.template=function(b,c){c=c||{};var d=_.template(b);c=_.extend(c,a.r2);return d(c)}})(window.circuitsGui=window.circuitsGui||{},jQuery);var R=1,mi=3;
function oi(a,b,c,d){var e=this;this.Rt=a;this.mode=b;this.root=c;this.data=c.Aa;this.type=c.Aa.Ye();this.Ea=d;this.template(pi,".js-editor--circuit");"breadboard"==this.type&&this.template(qi,".js-tpl-target__breadboard");"circuitscribe"==this.type&&this.template(ri,".js-tpl-target__circuitscribe");this.template(si,".js-tpl-target__schematic");this.template(ti,".js-tpl-target__pcb");this.template(ui,".js-tpl-target__bom");this.template(vi,".js-tpl-target__settings");this.template(wi,".js-tpl-target__dialogue");
this.template(xi,".js-tpl-target__error");this.template(yi,".js-tpl-target__data_model");this.Au=$("#schematicTab",a);this.mC=$("#pcbTab",a);this.JN=$("#breadboardTab",a);this.cO=$("#circuitscribeTab",a);this.Jp=[];window.gui=e;Modernizr.svg&&Modernizr.webworkers&&Modernizr.hashchange&&Modernizr.cssanimations||circuitsGui.hL("We're sorry!","Autodesk Circuits uses a lot of the new shiny features of modern browsers<br><br>The following operating systems and browser are known to work well with Autodesk Circuits<br><br><a href='http://www.microsoft.com' target='_blank'>Windows 7</a> (or newer) <br><a href='http://www.apple.com/' target='_blank'>Mac OSX 10.6</a> (or newer)<br><br>In combination with the latest <a href='https://www.google.com/intl/en/chrome/browser/' target='_blank'>Google Chrome</a>",
"browser support");window.unsavedChanges=!1;window.onbeforeunload=function(){if(window.unsavedChanges)return"There could be unsaved changes!"};$(".loading").length&&circuitsGui.NX();this.template(0==b?zi:b==R?Ai:2==b?Bi:Gi,".js-tpl-target__menu");b==R&&("breadboard"==this.type&&this.template(Hi,".js-tpl-target__menu_sub"),"circuitscribe"==this.type&&this.template(Ii,".js-tpl-target__menu_sub"),this.template(Ji,".js-tpl-target__menu_sub"),this.template(Ki,".js-tpl-target__menu_sub"),this.template(Li,
".js-tpl-target__menu_sub"));new circuitsGui.uT(this);e.$N=new circuitsGui.nt(e,Mi,".js-tpl-target__chat",".js-chat__toggle");e.CJ=new circuitsGui.Ub(e,Ni,".js-tpl-target__layers",".js-layers__toggle");e.jq=new circuitsGui.jq(e,Oi,".js-tpl-target__drawing_aids",".js-drawing_aids__toggle");"circuitscribe"==e.type&&(e.bq=new circuitsGui.qh(e,Pi,".js-tpl-target__circuitscribe_view",".js-circuitscribe_view__toggle"));e.rb=new circuitsGui.rb(e,Qi,".js-tpl-target__code_editor",".js-code_editor__textarea");
e.root.ba.mJ("lesson_parameters")&&(e.wq=new circuitsGui.wq(e.root.ba.mJ("lesson_parameters"),Ri,".js-tpl-target__ignite_lesson"));a={};b=window.location.search.substring(1).split("&");for(c=0;c<b.length;c++)d=b[c].split("="),"undefined"===typeof a[d[0]]?a[d[0]]=decodeURIComponent(d[1]):"string"===typeof a[d[0]]?a[d[0]]=[a[d[0]],decodeURIComponent(d[1])]:a[d[0]].push(decodeURIComponent(d[1]));a.lesson&&(e.Aq=new circuitsGui.Aq({id:a.lesson,step:a.step},Si,".js-tpl-target__ignite_lesson"));Ti(e);circuitsGui.cD("schematic");
Ui(this);e.root.ba.connection.ka("view",function(a,b,c){"saving"==c?e.wk.b2():"ok"==c?e.wk.a2():"error"==c?e.wk.Y1():"failed"==c&&e.wk.Z1();window.ga&&window.ga("send","event","EDITOR_CONNECTION_STATE",c)},10);e.zh=new J(0,0);this.mode===R&&this.PX();circuitsGui.m0()}
extend(oi,{PX:function(){var a=this;$(document).unbind("keydown").bind("keydown",function(b){if(1!=b.metaKey||"r"!=Hc.toString(b.keyCode)){if(1==b.altKey&&1==b.metaKey){var c=Hc.toString(b.keyCode);if(-1!=["i","u","j"].indexOf(c))return}c=b.srcElement||b.target;if(("INPUT"!==c.tagName.toUpperCase()||"TEXT"!==c.type.toUpperCase())&&"TEXTAREA"!==c.tagName.toUpperCase()){b.preventDefault();b.stopPropagation();b=Fb(new G(H.sm),b);var d="";if(b.data("metaKey")||b.data("ctrlKey"))d+="C_";b.data("shiftKey")&&
(d+="S_");c=d+Hc.toString(b.data("which"));d+=b.data("which");b.data("code",d).data("keyCode",c).data("mouseCoord",a.zh);a.Ea.handle(b)}}})},Dw:function(a,b,c,d,e,k){k=k||{};var l=k.C6||"";$(circuitsGui.template(b,{circuit_type:c,circuits_path:k.J6||"/circuits"})).appendTo($(".js-tpl-target__overlay"));b=new circuitsGui.ee(this,".js-"+a+"_search_container",".js-"+a+"_search_inner","n",280,".js-"+a+"_search_toggle_btn",60,".js-root_container",d);var n=[];e.forEach(function(a){0>Object.keys(a).indexOf("filter")&&
(a.filter={});a.filter.q="__Q__";var b=l+"/components/get_search_results.json?"+Object.keys(a.filter).map(function(b){return""+b+"="+a.filter[b]}).join("&");a.endpoint&&(b=a.endpoint);n.push({tab_ref:a.ref,search_target_url:b,template:a.template,instant_search:a.instant_search})});return new circuitsGui.xi(n,this,b,".js-"+a+"_search")}});
function Ti(a){a.oq=a.Dw("footprint",Vi,"",H.Tr,[{ref:"all-footprints",template:Wi,instant_search:!0,endpoint:"/components/__Q__/packages.json"}]);if("breadboard"===a.type){a.Mh=a.Dw("component",Xi,"breadboard",H.Tr,[{ref:"123d-components",template:Yi,filter:{collection:"breadboard_devices",type:"breadboard"}},{ref:"all-components",template:Zi,filter:{collection:"breadboard_devices",type:"breadboard"}},{ref:"arduinokit",template:Yi,filter:{collection:"arduinokit",type:"breadboard"}},{ref:"dfrobotkit",
template:Yi,filter:{collection:"dfrobotkit",type:"breadboard"}}]);a.JN.empty();a.kw=new $i(a,a.JN,a.mode,a.root,a.Ea);a.Au.empty();a.eh=new aj(a,a.Au,a.mode,a.root,a.Ea);a.mC.empty();a.Yg=new bj(a,a.mC,a.mode,a.root,a.Ea);a.Yg.Cx=!0;a.kw.resize();a.eh.resize();a.Yg.resize();a.kw.eg();a.eh.eg();a.Yg.eg();var b=new G;b.type(H.Fm);b.data("editor_type","breadboard");a.Ea.handle(b);b=new G;b.type(H.Fm);b.data("editor_type","schematic");a.Ea.handle(b);b=new G;b.type(H.Fm);b.data("editor_type","pcb");a.Ea.handle(b);
a.Jp.push(a.kw);a.Jp.push(a.eh);a.Jp.push(a.Yg)}else"schematic"===a.type||"classic"===a.type||null===a.type||"mesh_pcb"==a.type?(a.Mh=a.Dw("component",Xi,"schematic",H.Tr,[{ref:"123d-components",template:Yi,filter:{collection:"schematic_devices",type:"schematic"}},{ref:"all-components",template:Zi,filter:{type:"schematic"}},{ref:"my-components",template:Zi,filter:{type:"schematic",user:"current_user"}}]),a.Au.empty(),a.eh=new cj(a,a.Au,a.mode,a.root,a.Ea),a.mC.empty(),a.Yg=new bj(a,a.mC,a.mode,a.root,
a.Ea),a.Yg.Cx=!0,a.eh.resize(),a.Yg.resize(),a.eh.eg(),a.Yg.eg(),b=new G,b.type(H.Fm),b.data("editor_type","schematic"),a.Ea.handle(b),b=new G,b.type(H.Fm),b.data("editor_type","pcb"),a.Ea.handle(b),a.Jp.push(a.eh),a.Jp.push(a.Yg)):"circuitscribe"===a.type&&(a.Mh=a.Dw("component",dj,"circuitscribe",H.Tr,[{ref:"all-modules",template:ej,filter:{collection:"circuitscribe_all_modules",type:"breadboard"}},{ref:"power",template:ej,filter:{collection:"circuitscribe_power",type:"breadboard"}},{ref:"input",
template:ej,filter:{collection:"circuitscribe_input",type:"breadboard"}},{ref:"connect",template:ej,filter:{collection:"circuitscribe_connect",type:"breadboard"}},{ref:"output",template:ej,filter:{collection:"circuitscribe_output",type:"breadboard"}}]),a.vy=a.Dw("circuitscribe_footprint",fj,"circuitscribe",H.CL,[{ref:"circuitscribe-footprints",template:gj,filter:{collection:"circuitscribe_footprints",type:"breadboard"}}]),a.cO.empty(),a.HA=new $i(a,a.cO,a.mode,a.root,a.Ea),a.Au.empty(),a.eh=new aj(a,
a.Au,a.mode,a.root,a.Ea),a.HA.resize(),a.eh.resize(),a.HA.eg(),a.eh.eg(),b=new G,b.type(H.Fm),b.data("editor_type","breadboard"),a.Ea.handle(b),b=new G,b.type(H.Fm),b.data("editor_type","schematic"),a.Ea.handle(b),a.Jp.push(a.HA),a.Jp.push(a.eh));a.root.Mj(a.root.Bk)}
function Ui(a){var b=new G,c=document.location.hash;if(!c)switch(a.type){case "breadboard":c="#breadboard";break;case "classic":case "schematic":c="#schematic";break;case "circuitscribe":c="#circuitscribe"}switch(c){case "#breadboard":b.type(H.RM);break;case "#schematic":b.type(H.UM);break;case "#pcb":b.type(H.TM);break;case "#circuitscribe":b.type(H.SM);break;case "#bom":oi.fY(a.eY,a.data.Bb);b.type(H.QM);break;case "#settings":b.type(H.VM)}b.type&&a.Ea.handle(b)}
oi.fY=function(a,b){function c(b,c,l,t){b=["Mouser","Digi-Key","element14 APAC","Newark"];var v={shop_links:[]};b.forEach(function(a,b){v.shop_links[b]={name:a.toLowerCase().split(" ").join("_")}});var x=[];k.forEach(function(k,v){var z="",I,N,K,O;v.forEach(function(a){I||(I=a.wb());N||(N=e(a));0<z.length&&(z+=", ");z+=I.device.base+a.name();K=a.Oh();O=I.device.version_root_id});var L=I.footprint_name;"dummy"==L&&(L="");if("LABEL"!=I.device.base&&"LABELNO"!=I.device.base&&I.pinmaps_attributes&&0<
I.pinmaps_attributes.length){if(7449==K){var A={ids:z,versionroot:O,device_name:"Arduino Uno Rev3",footprint:"",properties:"",nr:v.size(),shop_links:[]};b.forEach(function(a,b){A.shop_links[b]={name:a.toLowerCase().split(" ").join("_"),OR:"arduino.cc",link:"http://store.arduino.cc/index.php?main_page=product_info&cPath=11&products_id=195",CS:"$28.49"}})}else A={ids:z,versionroot:O,device_name:d(I.device.name)+" "+d(I.name)+" "+d(I.device.description),footprint:L,properties:N,nr:v.size(),shop_links:[]},
b.forEach(function(a,b){var d=I.octo_uid;A.shop_links[b]=t[d]&&t[d][a]?{name:a.toLowerCase().split(" ").join("_"),OR:l[d][a],link:t[d][a],CS:"$"+c[d][a]}:{name:a.toLowerCase().split(" ").join("_"),OR:"",link:"",CS:""}});x.push(A);a&&a.UA.push(A)}});$(".js-bom-table-target").html(circuitsGui.template(hj,{bom:x}));a&&a.Ut()}function d(a){return a?a:""}function e(a){var b="";a.Cb.forEach(function(a,c){0<b.length&&(b+=", ");b=void 0!=c.prefix&&"none"!=c.prefix?b+(c.value+" "+c.prefix+c.unit):void 0!=
c.unit&&"none"!=c.unit?b+(c.value+" "+c.unit):b+c.value});return b}a.iy();a.UA=[];var k=new w,l=[];b.forEach(function(a){if(1E6!=a.Oh()){var b=a.Oh()+" $ "+e(a);k.get(b)||(k.put(b,new y),a.wb().octo_uid&&l.push(a.wb().octo_uid));k.get(b).add(a)}});0==l.length?c([],[],[],[]):$.ajax("/components/order_info?octo_uids="+JSON.stringify(l),{success:function(a){c(a[0],a[1],a[2],a[3])},error:function(){c([],[],[],[])}})};
function ij(a){a.root.fg||jb||"pcbEditor"!==a.t3||circuitsGui.hL("Warning","This action changed the schematic view.",!1)}function jj(a){a.root.fg||jb||"schematicEditor"!==a.t3||circuitsGui.hL("Warning","This action changed the PCB view.",!1)}function kj(a){switch(a.Ea.state()){case "schematic":return a.eh;case "pcb":return a.Yg;case "breadboard":if("breadboard"==a.type)return a.kw;if("circuitscribe"==a.type)return a.HA;break;default:return null}}var Cd=0;
oi.prototype.nt=function(a){a=a.replace(/(\r\n|\n|\r)/gm," ");a="<div class='chat__username'>"+($(".username_holder").text()?$(".username_holder").text():"Anonymous")+"</div><div class='chat__message'>"+a+"</div>";shareJsDoc.shout(JSON.stringify([shareJsDoc.connection.id,"chat",a]));this.$N&&this.$N.G1(a)};oi.prototype.template=function(a,b){$(circuitsGui.template(a,{model:this.root.ba,mode:this.mode,type:this.type})).appendTo(b)};circuitsGui.uT=function(a){this.lq=a;lj(this)};
function lj(a){var b=a.lq;a=a.lq.type;window.onhashchange=function(){Ui(b);console.log("--- HASH CHANGE ---")};var c=new circuitsGui.OO;b.OO=c;c=new circuitsGui.wk(b,".js-connection-menu");b.wk=c;c=new circuitsGui.Ah(b,b.Yg);b.Sl=c;c=new circuitsGui.Lk(b,".js-pcb-copper-trace",".js-pcb-change-corner",".js-pcb-copper-trace-options");b.Lk=c;c=new circuitsGui.Wk(b);b.N7=c;c=new circuitsGui.jw($(".bom__loading"));b.eY=c;c=new circuitsGui.Sa(b);b.lw=c;c=new circuitsGui.Sk(b);b.J7=c;c=new circuitsGui.ca(b,
".js-simulation",".js-code_editor__container");b.jy=c;$(".tutorial").length&&new circuitsGui.j8(b,$(".tutorial__tid").text(),$(".tutorial"),$(".js-tutorial--loading"));c=new circuitsGui.CH(".js-invite-collaborator");b.CH=c;circuitsGui.FY(b);"circuitscribe"==a&&(a=new circuitsGui.CY(b),b.K6=a)};function mj(a,b,c,d){var e=this;this.data=b;this.aa=a;this.Ja=new y;this.hu=new w;this.description=b.description;this.cg(d);this.setTransform();e.Zc.forEach(function(a,b){b.x_&&(e.aa.mode==R?$(b.sa).mousedown(function(a){return e.bc(a,H.gc)}):$(b.sa).mousedown(function(a){return e.bc(a,H.aM)}))})}extend(mj,Jd);mj.prototype.Th=function(){return this.Ja};mj.prototype.bc=function(a,b){var c=Fb(new G(b),a).element(this.data).data("mouseCoord",Bd(this.aa,a));return this.aa.Ea.handle(c)};
mj.prototype.st=function(){};mj.prototype.UJ=function(){this.remove();return!1};function nj(a,b,c){var d=this;this.aa=a;this.data=b;this.data.nd(this.aa,this);this.Ej=c;d.Ej.forEach(function(a,b){b.sa=d.aa.svg.group(d.aa.Ub.get(b.Fd).sa)})}f=nj.prototype;f.remove=function(){this.Ej.forEach(function(a,b){$(b.sa).remove()})};function oj(a){a.Ej.forEach(function(a,c){$(c.sa).empty()})}f.wa=function(){};f.Pb=function(a){this.data.Pb(a.data)};f.lJ=function(a){this.data.lJ(a.data);a.remove()};f.Xl=function(a){this.data.Ja.Xl(a.data)};f.Et=function(){this.data.Et()};f.DB=function(a){return this.data.DB(a.data)};
f.Kt=function(){return this.data.Kt()};f.size=function(){return this.data.size()};function pj(a,b,c){this.aa=a.aa;this.xf=a;this.data=c;this.description=b}f=pj.prototype;f.bc=function(a){a=Fb(new G(H.FG),a).element("terminal",this.data);this.aa.Ea.handle(a);return!1};f.remove=function(){$(this.yf).remove()};f.Af=function(a){this.data.Af(a.data)};f.Ug=function(){return this.data.Ug()};f.disconnect=function(){this.data.disconnect()};(function(a,b){a.rb=function(c,d,e,k){var l=this;l.aa=c;d=a.template(d,{edit:1==c.mode?!0:!1});b(d).appendTo(e);l.ee=new a.ee(c,".js-code_editor__container",".js-code_editor__inner","n",320,".js-toggle_code_editor",60,".js-root_container",H.gz);l.Nc=l.ee.Vh;l.Yq=l.ee.xJ;l.fO=k;l.vd=[];l.ze=null;l.P7=new w;l.Ud;l.S7=!1;l.gy=!1;l.aB=!1;l.eP=function(a){var b=document.createElement("div");b.className="code_editor__breakpoint";b.innerHTML='<div class="code_editor__breakpoint__background">';b.innerHTML+=
'<?xml version="1.0" encoding="UTF-8" standalone="no"?> <svg width="41px" height="17px" viewBox="0 0 41 17" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns"> <g id="MVP" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage"> <g id="ElectronicsLab_LabView_Debugger_MVP_Simulating" sketch:type="MSArtboardGroup" transform="translate(0.000000, -770.000000)" stroke-opacity="0.222514719" stroke="#34495E" fill="#0696D7"> <g id="Code" sketch:type="MSLayerGroup" transform="translate(0.000000, 587.000000)"> <g id="Breakpoint-12" transform="translate(0.000000, 183.000000)" sketch:type="MSShapeGroup"> <path d="M0,0.944444444 L37.195122,0.944444444 L41,9.0739019 L37.195122,17 L0,17 L0,0.944444444 Z" id="Rectangle-675"></path> </g> </g> </g> </g> </svg>';
b.innerHTML+="</div>";b.innerHTML+='<div class="code_editor__breakpoint__linenumber">'+a+"</div>";return b};b(".js-code_editor__selector",l.Nc).click(function(){0<l.vd.length&&l.MK()});b(".js-code_editor__toggle_libraries",l.Nc).click(function(){0<l.vd.length&&l.NK()});b(".js-code_editor__toggle_serial-monitor",l.Nc).click(function(){0<l.vd.length&&l.F2()});b(".js-code_editor__library-btn",l.Nc).click(function(a){0<l.vd.length&&l.QX(b(a.currentTarget).data("library"))});b(".js-code-editor__upload",
l.Nc).click(function(){0<l.vd.length&&l.aa.Ea.handle(H.hG)});b(".js-code-editor__download_code",l.Nc).click(function(){0<l.vd.length&&l.dZ()});b(".js-code_editor__serial-monitor--form",l.Nc).submit(function(a){a.preventDefault();0<l.vd.length&&(a=b(".js-code_editor__serial-monitor__input",this),l.J0(a.val()),a.val(""))});l.kf=new a.kf(l);l.kf.f_();l.kf.b_();l.kf.$Z();l.kf.JO();l.kf.KO();l.ee.NH=function(){l.Ud&&(b(".js-code_editor__error",l.Nc).is(":visible")&&b(l.Yq).css("height",b(l.Nc).height()-
50-150),l.Ud.refresh())}};a.rb.prototype.v1=function(){function a(b){b=(new G(H.gE)).element(d.ze).data("file","sketch.ino").data("line",b);d.aa.Ea.handle(b)}var d=this;d.Ud||(d.aa.mode==R?(d.Ud=CodeMirror.fromTextArea(b(d.fO,d.Nc).get(0),{lineNumbers:!0,gutters:["CodeMirror-linenumbers","breakpoints"],matchBrackets:!0,mode:"text/x-c++src"}),d.Ud.on("changes",function(b,k){var l=0,n;for(n in k)l+=k[n].text.length-k[n].removed.length;if(0!=l){var q=[];d.ze.codemirrorDoc.eachLine(function(a){a.gutterMarkers&&
a.gutterMarkers.breakpoints&&q.push(d.ze.codemirrorDoc.getLineNumber(a)+1)});l=(new G(H.fE)).element(d.ze);d.aa.Ea.handle(l);q.forEach(function(b){a(b)})}}),d.Ud.on("update",function(){d.ze.oK&&d.iK()})):d.Ud=CodeMirror.fromTextArea(b(d.fO,d.Nc).get(0),{lineNumbers:!0,gutters:["CodeMirror-linenumbers","breakpoints"],matchBrackets:!0,mode:"text/x-c++src",readOnly:!0}),d.Ud.on("gutterClick",function(b,k){d.ze&&a(k+1)}));b(".disabled",this.Nc).each(function(a,c){b(c).removeClass("disabled code_editor_disabled")});
b(".js-code_editor__tab").hide();b(".js-code_editor__texteditor").show()};a.rb.prototype.EO=function(){b("a",this.Nc).each(function(a,d){b(d).addClass("disabled code_editor_disabled")});b(".js-code_editor__tab").hide();b(".js-code_editor__none-found").show();b(".js-code_editor__selector__text",this.Nc).html("none")};a.rb.prototype.SX=function(a){var b=this;0==b.vd.length&&b.v1();a.vw=!0;a.AS=b.vd.length+1;a.Qm=!1;b.vd.push(a);var e=wg(a);e||(e="// Pin 13 has an LED connected on most Arduino boards.\n// give it a name:\nint led = 13;\n\n// the setup routine runs once when you press reset:\nvoid setup() {\n  // initialize the digital pin as an output.\n  pinMode(led, OUTPUT);\n}\n\n// the loop routine runs over and over again forever:\nvoid loop() {\n  digitalWrite(led, HIGH);   // turn the LED on (HIGH is the voltage level)\n  delay(1000);               // wait for a second\n  digitalWrite(led, LOW);    // turn the LED off by making the voltage LOW\n  delay(1000);               // wait for a second\n}");
xg(a,e);var k=a.Sa().na.Me;k&&(k.kc("breakpoints",function(e,k){var l=k.split(":");b.ze==a&&b.Ud.setGutterMarker(l[1]-1,"breakpoints",b.eP(l[1]))},10),k.Tc("breakpoints",function(e,k){var l=k.split(":");b.ze==a&&b.Ud.setGutterMarker(l[1]-1,"breakpoints",null)},10));if(b.aa.mode==R){var l=yg(a),n=CodeMirror.Doc(e,"text/x-c++src");a.codemirrorDoc=n;l.on("insert",function(b,d){n.replaceRange(d,n.posFromIndex(b));a.Qm=!1});l.on("delete",function(b,d){var e=n.posFromIndex(b),k=n.posFromIndex(b+d.length);
n.replaceRange("",e,k);a.Qm=!1});CodeMirror.on(n,"beforeChange",function(e,k){k.origin&&"setValue"!=k.origin&&(b.WX(l,a,k),a.Qm=!1)});b.hm(a)}else 0==b.aa.mode&&(n=CodeMirror.Doc(e,"text/x-c++src"),a.codemirrorDoc=n,b.hm(a))};a.rb.prototype.WX=function(a,b,e){var k,l,n;for(l=n=0;l<e.from.line;)n+=b.codemirrorDoc.getLine(l).length+1,l++;n+=e.from.ch;if(e.to.line===e.from.line&&e.to.ch===e.from.ch)l=wg(b),xg(b,l.slice(0,n)+e.text.join("\n")+l.slice(n)),a.insert(n,e.text.join("\n"),function(){});else{for(k=
e.to.ch-e.from.ch;l<e.to.line;)k+=b.codemirrorDoc.getLine(l).length+1,l++;l=wg(b);xg(b,l.slice(0,n)+l.slice(n+k));e.text&&(l=wg(b),xg(b,l.slice(0,n)+e.text.join("\n")+l.slice(n)));a.remove(n,k,function(){});e.text&&a.insert(n,e.text.join("\n"),function(){})}};a.rb.prototype.jR=function(a){var d=this;b.each(d.vd,function(b){if(d.vd[b]===a)return d.vd.splice(b,1),!1});0==d.vd.length?d.EO():d.hm(d.vd[d.vd.length-1])};a.rb.prototype.P0=function(){var a=this;b(".js-code_editor__select__container").empty();
b.each(a.vd,function(d,e){var k=b(".js-code_editor__select__option--template").clone().removeClass("hide js-code_editor__select__option--template").appendTo(".js-code_editor__select__container"),l=e.AS+" ("+e.wb().device.name+")";b(".js-code_editor__select__option__text",k).html(l);e.vw?(k.addClass("active"),b(".js-code_editor__select__option__btn",k).html("Active")):b(".js-code_editor__select__option__btn",k).html("Edit Code");b(".js-code_editor__select__option__action",k).click(function(b){b.preventDefault();
a.hm(e)})})};a.rb.prototype.hm=function(a){var d=this;b.each(this.vd,function(a,b){b.vw=!1});a.vw=!0;this.ze=a;this.sP();if(a){var e=a.AS+" ("+a.wb().device.name+")";this.Ud.swapDoc(a.codemirrorDoc);this.Ud.refresh()}else e="none";b(".js-code_editor__selector__text",this.Nc).html(e);this.P0();this.Xx();if(e=this.ze.Sa().na.Me)d.Ud.clearGutter("breakpoints"),e.forEach(function(a){a=a.split(":");d.Ud.setGutterMarker(a[1]-1,"breakpoints",d.eP(a[1]))});this.vd.forEach(function(b){b!=a&&b.Sa().na.ie&&
b.Sa().na.ie.play()});this.ze.oK&&this.iK()};a.rb.prototype.sP=function(){this.MK(!0);this.NK(!0);this.kK()};a.rb.prototype.kK=function(){0==this.vd.length?b(".js-code_editor__none-found").show():b(".js-code_editor__texteditor").show();this.FR();this.Ud.refresh()};a.rb.prototype.tP=function(){b(".js-code_editor__none-found").hide();b(".js-code_editor__texteditor").hide();this.FB()};a.rb.prototype.MK=function(a){a||this.NK(!0);b(".js-code_editor__select").is(":visible")||a?(b(".js-rotate-dropdown-arrow").removeClass("flipped-arrow"),
b(".js-code_editor__select").hide(),this.kK()):(this.tP(),b(".js-rotate-dropdown-arrow").addClass("flipped-arrow"),b(".js-code_editor__select").show())};a.rb.prototype.NK=function(a){a||this.MK(!0);b(".js-code_editor__libraries").is(":visible")||a?(b(".js-code_editor__libraries").hide(),b('[data-rel="js-code_editor__libraries"]').removeClass("active"),this.kK()):(this.tP(),b(".js-code_editor__libraries").show(),b('[data-rel="js-code_editor__libraries"]').addClass("active"))};a.rb.prototype.F2=function(){b(".js-code_editor__serial-monitor").is(":visible")?
(b(".js-code_editor__serial-monitor").hide(),b(".js-code_editor__toggle_serial-monitor").removeClass("active"),this.gy=!1):(b(".js-code_editor__serial-monitor").show(),b(".js-code_editor__toggle_serial-monitor").addClass("active"),this.gy=!0,this.Xx());this.FJ()};a.rb.prototype.FJ=function(){this.gy&&this.aB?(b(this.Yq).css("right",404),b(".js-code_editor__debugger").css("right",202)):(b(".js-code_editor__debugger").css("right",0),this.gy||this.aB?b(this.Yq).css("right",202):b(this.Yq).css("right",
0))};a.rb.prototype.GZ=function(){b(".js-code-editor__success-compiled").velocity("stop",!0).velocity({opacity:1},300).velocity({opacity:0},{delay:1E3,duration:1500})};a.rb.prototype.cI=function(){this.Ud&&b(this.Ud.getInputField()).blur()};a.rb.prototype.xZ=function(){this.aa.mode==R&&this.Ud&&1==this.Ud.getOption("readOnly")&&this.Ud.setOption("readOnly",!1)};a.rb.prototype.cB=function(){this.Ud&&0==this.Ud.getOption("readOnly")&&this.Ud.setOption("readOnly",!0)};a.rb.prototype.uY=function(){var a=
null;this.vd.forEach(function(b){b.Pm&&(a=b,b.JA=[],b.Pm.split("\n").forEach(function(a){a=parseInt(a.substr(0,a.indexOf(":")));isNaN(a)||(b.JA.push(a-1),b.codemirrorDoc.addLineClass(a-1,null,"lineError"))}))});this.ze.Pm||null==a||this.hm(a);this.FR()};a.rb.prototype.uP=function(a){a.Pm=null;for(var b in a.JA)a.codemirrorDoc.removeLineClass(a.JA[b],null,"lineError");a.JA=null};a.rb.prototype.a_=function(){var a=this;this.vd.forEach(function(b){a.uP(b)});this.FB()};a.rb.prototype.FR=function(){var a=
this;if(this.ze.Pm){var d=b(".js-code_editor__error",this.Nc);d.show();b(".js-code_editor__error__content",d).html(this.ze.Pm);b(".js-code_editor__error__close",d).click(function(){a.uP(a.ze);a.FB()});b(this.Yq).css("bottom",150);b(this.Yq).css("height",b(this.Nc).height()-50-150);a.Ud.refresh()}else this.FB()};a.rb.prototype.FB=function(){b(".js-code_editor__error",this.Nc).is(":visible")&&(b(".js-code_editor__error",this.Nc).hide(),b(this.Yq).css("bottom",0),this.ee.fu(),this.Ud.refresh())};a.rb.prototype.K0=
function(){var a=this;this.vd.forEach(function(b){var e=b.Sa().na.ie,k;if(k=e)k=(k=e.FQ.get(e.Fa.$b))?{hY:-1<e.Me.indexOf(e.Fa.$b),file:k.File,line:k.Line}:null;if(e=k)a.kf.GR(),a.kf.yZ(),a.kf.zZ(),e.hY&&(a.ze!=b&&a.hm(b),a.iK()),b.mw=e.line-1,b.codemirrorDoc.addLineClass(b.mw,null,"breakLine"),a.Ud.scrollIntoView({line:b.mw,ch:0},40)})};a.rb.prototype.FZ=function(){this.vd.forEach(function(a){null!=a.mw&&a.codemirrorDoc.removeLineClass(a.mw,null,"breakLine");a.mw=null;a.oK=!1;a.VA=null});this.kf.JO();
this.kf.KO();this.Ud.refresh()};a.rb.prototype.iK=function(){function a(b,d){var e="";b.getName();b.AB();var q=b.getValue();b.Zb()&&(e=qj(b))&&(b=e,q=e.getValue());if(null==q)e="&ltOptimized out&gt";else if(0==d)e=b.isArray()?"[...]":b.isObject()?"{...}":q;else if(rj(b)){var e=q,r=qj(b);r&&(e=q+" -> "+a(r,d-1))}else if(b.isArray()&&q.constructor==Array){e="[";for(r in q)if(e+=a(q[r],d-1)+", ",100<r){e+="...(+more), ";break}e=e.substr(0,e.length-2)+"]"}else if(b.isObject()){var e="{",t;for(t in q)e+=
t+": "+a(q[t],d-1)+", ";e=e.substr(0,e.length-2)+"}"}else e=q;return e}var d=this,e=this.ze.Sa().na.ie;!this.ze.VA&&e&&(d.ze.VA=new w,sj(e).forEach(function(b,e){d.ze.VA.put(b,a(e,2))}));this.ze.oK=!0;this.ze.VA.forEach(function(a,c){var e=b(".cm-variable,.cm-keyword",d.Nc).filter(function(){return b(this).text()==a});e.attr("title",c);e.tipsy({gravity:"n",offset:3})})};a.rb.prototype.Xx=function(){var a=this;this.gy&&(b.each(this.vd,function(d,e){if(e.vw&&e.Sa().na.Yk){var k=e.Sa().na.Yk.getData().content.join("");
b(".js-code_editor__serial-monitor__content",a.Nc).text(k).scrollTop(b(".js-code_editor__serial-monitor__content",a.Nc)[0].scrollHeight);return!0}})||b(".js-code_editor__serial-monitor__content",a.Nc).text(""))};a.rb.prototype.J0=function(a){var d=this;b.each(this.vd,function(b,k){if(k.vw){var l=(new G(H.HM)).element("element",k.Sa()).data("msg",a);d.aa.Ea.handle(l)}})};a.rb.prototype.QX=function(a){a=this.K_(a);this.Ud.getDoc().replaceRange(a,{line:0,ch:0},{line:0,ch:0}," ");this.sP()};a.rb.prototype.dZ=
function(){var a=this;b.each(this.vd,function(b,e){console.log(b);window.setTimeout(function(){a.IZ(e.codemirrorDoc.getValue())},1500*b)})};a.rb.prototype.IZ=function(a){target_url=b(".js-absolute-url").text()+"/download_code";var d=document.createElement("input");d.setAttribute("name","code");d.setAttribute("value",a);d.setAttribute("type","hidden");a=document.createElement("input");a.setAttribute("name","type");a.setAttribute("value","arduino");a.setAttribute("type","hidden");var e=document.createElement("input");
e.setAttribute("name","authenticity_token");e.setAttribute("value",b('meta[name="csrf-token"]').attr("content"));e.setAttribute("type","hidden");var k=document.createElement("form");k.method="post";k.action=target_url;k.appendChild(d);k.appendChild(a);k.appendChild(e);document.body.appendChild(k);k.submit();document.body.removeChild(k)};a.rb.prototype.K_=function(a){switch(a){case "eeprom":return"#include <EEPROM.h>\n\n";case "servo":return"#include <Servo.h>\n\n";case "wire":return"#include <Wire.h>\n\n";
case "softwareserial":return"#include <SoftwareSerial.h>\n\n";case "stepper":return"#include <Stepper.h>\n\n";case "liquidcrystal":return"#include <LiquidCrystal.h>\n\n";case "keypad":return"#include <Keypad.h>\n\n";case "neopixel":return"#include <Adafruit_NeoPixel.h>\n\n";case "sd":return"#include <SD.h>\n\n";case "spi":return"#include <SPI.h>\n\n";case "IRremote":return"#include <IRremote.h>\n\n";case "IRremoteInterrupts":return"#include <IRremoteInterrupts.h>\n\n"}}})(window.circuitsGui=window.circuitsGui||
{},jQuery);(function(a,b){a.kf=function(a){var d=this;d.rb=a;b(".js-code_editor__toggle_debugger",a.Nc).click(function(){0<d.rb.vd.length&&(b(".js-code_editor__debugger").is(":visible")?d.c_():d.GR())});b(".js-code_editor__breakpoints__pause",a.Nc).click(function(){});b(".js-code_editor__breakpoints__play",a.Nc).click(function(){if(!b(".js-code_editor__breakpoints__play",a.Nc).hasClass("code_editor__debugger__top__icon__disabled")&&0<d.rb.vd.length){var e=(new G(H.JL)).element(d.rb.ze);d.rb.aa.Ea.handle(e)}});
b(".js-code_editor__breakpoints__step",a.Nc).click(function(){if(!b(".js-code_editor__breakpoints__step",a.Nc).hasClass("code_editor__debugger__top__icon__disabled")&&0<d.rb.vd.length){var e=(new G(H.KL)).element(d.rb.ze);d.rb.aa.Ea.handle(e)}});b(".js-code_editor__breakpoints__deactivate",a.Nc).click(function(){});b(".js-code_editor__breakpoints__activate",a.Nc).click(function(){});b(".js-code_editor__breakpoints__codeOpt_checkbox",a.Nc).click(function(){for(var a in d.rb.vd)d.rb.vd[a].Qm=!1})};
a.kf.prototype.GR=function(){b(".js-code_editor__debugger").is(":visible")||(b(".js-code_editor__debugger").show(),b(".js-code_editor__toggle_debugger").addClass("active"),this.rb.aB=!0,this.rb.FJ())};a.kf.prototype.c_=function(){b(".js-code_editor__debugger").is(":visible")&&(b(".js-code_editor__debugger").hide(),b(".js-code_editor__toggle_debugger").removeClass("active"),this.rb.aB=!1,this.rb.FJ())};a.kf.prototype.f_=function(){b(".js-code_editor__breakpoints__pause",this.rb.Nc).hide()};a.kf.prototype.b_=
function(){b(".js-code_editor__breakpoints__deactivate",this.rb.Nc).hide()};a.kf.prototype.$Z=function(){b(".js-code_editor__breakpoints__activate",this.rb.Nc).hide()};a.kf.prototype.JO=function(){b(".js-code_editor__breakpoints__play",this.rb.Nc).addClass("code_editor__debugger__top__icon__disabled")};a.kf.prototype.yZ=function(){b(".js-code_editor__breakpoints__play",this.rb.Nc).removeClass("code_editor__debugger__top__icon__disabled")};a.kf.prototype.KO=function(){b(".js-code_editor__breakpoints__step",
this.rb.Nc).addClass("code_editor__debugger__top__icon__disabled")};a.kf.prototype.zZ=function(){b(".js-code_editor__breakpoints__step",this.rb.Nc).removeClass("code_editor__debugger__top__icon__disabled")}})(window.circuitsGui=window.circuitsGui||{},jQuery);(function(a,b){a.wk=function(a,b){this.aa=a;this.Vi=b};a.wk.prototype.b2=function(){b(this.Vi).length&&(b(this.Vi).removeClass("connection_menu__warning connection_menu__error"),b(this.Vi).html("Saving..."));window.unsavedChanges=!1};a.wk.prototype.a2=function(){b(this.Vi).length&&(b(this.Vi).removeClass("connection_menu__warning connection_menu__error"),b(this.Vi).html("All changes saved"));window.unsavedChanges=!1};a.wk.prototype.Y1=function(){b(this.Vi).length&&(b(this.Vi).addClass("connection_menu__warning"),
b(this.Vi).html("Connection lost! Changes will be saved on reconnect."));window.unsavedChanges=!0};a.wk.prototype.Z1=function(){b(this.Vi).length&&(b(this.Vi).addClass("connection_menu__error"),b(this.Vi).html("Connection failed! Please contact support!"));window.unsavedChanges=!0}})(window.circuitsGui=window.circuitsGui||{},jQuery);var tj={Fz:0,RU:1,tV:2,jG:3,sV:4,uV:5,SU:6,hF:7};
function cj(a,b,c,d,e){var k=this;this.type="schematic";this.pa=a;this.root=d;this.data=d.Aa;this.ba=d.ba.Sk();this.Bd=null;k.ef=k.zt();this.Wk={showTerminals:!1};d=new w;for(var l in tj)d.put(tj[l],new xd(tj[l]));d.get(1).visible=!0;d.get(2).visible=!0;d.get(3).M8=!1;this.Zc=this.pg();yd.call(this,a,b,c,d,e);this.Ub.get(1);this.Ub.get(2);this.eu=this.Ub.get(4).sa;this.Ub.get(5);this.Ub.get(6);this.zi=this.Ub.get(3).sa;this.line=null;this.a1=new uj(function(a){var b=k.root.xc.get(a.data.versions_id);
if(null!==b){var c=a.data.segments,d=new y;if(a.data.bollekes){a=JSON.parse(a.data.bollekes).content;for(var e in a)d.add(new J(a[e].val.x,a[e].val.y))}b.jb=c;b.it=d;vj(b.Wa(k),k.svg,c,d,b.Wa(k).Gk,b.Wa(k).cx,b.Wa(k).Ad)}});this.ba.yj.ka("view",function(){1==k.ba.yj()?k.pa.Mh.ee.tk():k.pa.Mh.ee.sn()},10);k.ba.gg.ka("layer",function(a,b,c){null!=b&&(b.Wa(k).Yl(),wj(b.Wa(k),!1));null!=c&&(c.Wa(k).nK(),wj(c.Wa(k),!0))},10);k.ba.St.ka("layer",function(a,b,c){null!=b&&b!=k.ba.gg()&&wj(b.Wa(k),!1);null!=
c&&c!=k.ba.gg()&&wj(c.Wa(k),!0)},10);k.ba.Zg.ka("view",function(a,b,c){c&&c.ih&&c.zh?k.fB(nh(c.ih),oh(c.ih),c.zh.lb(),c.zh.pb()):k.Wl()},10);k.ba.og.ka("view",function(a,b,c){b!=c&&(c?k.pa.Mh.ee.sn():(k.pa.Mh.hw(),k.pa.Mh.ee.tk(!1)))},10);this.ba.cy.ka("view",function(){k.ba.og()&&k.pa.Mh.rB()},10);k.ba.cK.ka("view",function(a,b,c){k.pa.Mh.Ax(c)},10)}cj.prototype=inherit(yd.prototype);f=cj.prototype;f.constructor=cj;f.zt=function(){return new xj};
f.fB=function(a,b,c,d){this.Wl();this.line=this.svg.line(this.eu,a,b,c,d,{fill:"blue",stroke:"blue",strokeWidth:"2"})};f.Wl=function(){$(this.line).remove()};f.pg=function(){var a=new w,b;for(b in tj)a.put(tj[b],new S(tj[b],!0,tj[b],!0));return a};f.eg=function(){this.VJ=this.ef.fQ(this,this.data,this);this.VJ.OC(!0)};function yj(a,b,c){function d(){e.Op=null;e.data.tb()&&(e.setTransform(),e.Th().forEach(function(a){a.Ug()&&(a=a.Ha(),a.Ag(),e.data.root.fc("route_schematic_net",a.wa,a,[],"net"+Ia(a)))}),e.wu(),e.aa.pa&&ij(e.aa.pa))}var e=this;mj.call(this,a,b,0,c);this.data.nd(a,this);this.la=this.data.parent().wb().device;this.qd=this.description=this.data.wb();this.symbol=this.description.schematic_symbol_attributes;1<this.data.parent().qd.size()&&this.description.name?this.name=this.description.name:this.name=
null;this.yf=this.Sc(0).sa;this.Pa=this.Sc(2).sa;this.group=this.aa.svg.group(this.yf,this.id);this.Kn=this.aa.svg.group(this.group);this.aa.svg.add(this.Kn,this.symbol.svg);a=this.UI(0);this.aa.svg.rect(this.Pa,a.Wj,a.Xj,a.Vn-a.Wj,a.Wn-a.Xj,0,0,{fill:"blue",stroke:"none",opacity:0});for(a=0;a<this.qd.schematic_symbol_attributes.schematic_symbol_terminals_attributes.length;a++){c=this.qd.schematic_symbol_attributes.schematic_symbol_terminals_attributes[a];var k=e.aa.ef.dC(e,c,Ef(b.parent(),this.description.id,
c.id));this.Ja.add(k);this.hu.put(c.name,k)}"nolabel"!=this.la.base&&"LABELNO"!=this.la.base&&(this.YB=this.Zc.get(1).sa);this.data.eb.ka(this,d,10);this.data.Oa.ka(this,d,10);this.data.hb.ka(this,d,10);this.data.parent().name.ka(this,function(){e.data.tb()&&(e.wu(),e.aa.pa&&ij(e.aa.pa))},10);this.data.parent().Cb.we(this,function(){e.data.tb()&&(e.wu(),e.aa.pa&&ij(e.aa.pa))},10);this.data.Hk(e,function(){e.aa.pa&&ij(e.aa.pa);e.aa.te.hide()},10)}yj.prototype=inherit(mj.prototype);f=yj.prototype;
f.constructor=yj;f.pg=function(){var a=new w;a.put(0,new S(0,!1,1,!0));a.put(1,new S(1,!0,1,!1));a.put(2,new S(2,!0,6,!0));return a};f.remove=function(){ef(this.aa.data,this.data.parent())};
f.wu=function(){function a(){for(var a=0;a<e.length&&!d[e[a]];a++);d[e[a]]=!1;return e[a]}function b(a,b){var d=c.aa.svg.group(c.YB);c.aa.svg.text(d,0,0,a);c.aa.svg.change(d,{style:"text-anchor: middle;font-family: verdana; font-size : 10px;"});var e=c.fw(),k=0,v=0,x;switch(b){case 0:case 1:case 7:x="text-anchor: start;font-family: verdana; font-size : 10px;";break;case 3:case 4:case 5:x="text-anchor: end;font-family: verdana; font-size : 10px;";break;case 2:case 6:x="text-anchor: middle;font-family: verdana; font-size : 10px;";
break;default:x="text-anchor: middle;font-family: verdana; font-size : 10px;"}c.aa.svg.change(d,{style:x});x=d.getBBox();switch(b){case 0:case 1:case 7:k=e.x+e.width+3;break;case 4:case 3:case 5:k=e.x-3;break;case 2:case 6:k=(e.x+e.width+e.x)/2}switch(b){case 0:case 4:v=(e.y+e.height+e.y)/2-x.y-x.height/2;break;case 5:case 6:case 7:v=e.y-x.y-x.height-0;break;case 1:case 2:case 3:v=e.y+e.height-x.y+0}k-=c.data.eb().x;v-=c.data.eb().y;c.aa.svg.change(d,{transform:"translate("+k+","+v+")"})}var c=this,
d=[!0,!0,!0,!0,!0,!0,!0,!0],e=[6,2,0,1,7,4,3,5];if(!c.aa.Wk.noLabels){$(this.YB).empty();d[7]=!1;this.Th().forEach(function(a){0==a.Qe()?d[0]=!1:90==a.Qe()?d[2]=!1:180==a.Qe()?d[4]=!1:270==a.Qe()&&(d[6]=!1)});var k=zj(this);k&&b(k,a())}};
function zj(a){var b=a.aa.svg.createText(),c=!0;if("nolabel"!=a.la.base&&"LABELNO"!=a.la.base){if("none"==a.la.base||"LABEL"==a.la.base)b.span(a.data.parent().name(),{});else{b.span(a.la.base,{});var d=[];a.data.parent().name()&&d.push(a.data.parent().name());a.name&&d.push(a.name);b.span(d.join("_"),{dy:"3","font-size":"8px"})}c=!1}a.data.parent().Cb.forEach(function(a,d){if(d.show){var l=d.unit;"ohm"==l&&(l="\u2126");var n=d.prefix;n&&"none"!=n||(n="");"u"==n&&(n="\u03bc");var q=d.value;l&&(q+=
n+l);b.span(q,{x:0,dy:12});c=!1}});return c?null:b}f.disconnect=function(){this.Th().forEach(function(a){if(a.Ug()){var b=a.Ha();a.disconnect();2>b.size()&&this.aa.Zx(b)}})};
f.fw=function(){if(!this.Op){var a=this.Kn.getBBox(),b=a.x,c=a.x+a.width,d=a.y,e=a.y+a.height,k=new J(this.data.hb()*b,d),a=new J(this.data.hb()*c,e),k=k.rotate(this.data.Oa()),a=a.rotate(this.data.Oa()),b=Math.min(k.x,a.x),c=Math.max(k.x,a.x),d=Math.min(k.y,a.y),e=Math.max(k.y,a.y),b=b+this.data.eb().x,c=c+this.data.eb().x,d=d+this.data.eb().y,e=e+this.data.eb().y;this.Th().forEach(function(a){a.lb()<b&&(b=a.lb());a.lb()>c&&(c=a.lb());a.pb()<d&&(d=a.pb());a.pb()>e&&(e=a.pb())});this.Op=new Zb(b,
d,c-b,e-d)}return this.Op};f.Yl=function(){$(this.G2).empty();this.Th().forEach(function(a){a.Yl()})};f.Nd=function(){var a=[{label:"Name",type:Md,Id:this.data.parent().Dl}];this.data.parent().xu.forEach(function(b,c){a.push({label:c.name,type:c.type==Id?Od:c.type,Id:c.Ly,Ey:c.BS,list:c.list,BY:c.vY})});Hd(this.aa.te,a,{name:this.la.name,version_root_id:this.la.rD,summary:this.la.summary})};f.iP=function(a){var b=null;this.Ja.forEach(function(c){lg(c.data)==a&&(b=c.data)});return b};
f.Ac=function(a){var b=this;this.Zc.forEach(function(c,d){a?b.aa.svg.change(d.sa,{stroke:"black"}):b.aa.svg.change(d.sa,{stroke:""})})};function Aj(a,b,c){var d=this;this.aa=a;this.data=b;this.data.nd(a,this);this.cg(c);this.Ml=!1;this.elements=new y;this.eg(this.data.Aa);this.data.ud.ka(d,function(){var a=new y;a.add("undo");a.add("share");d.data.root.Aa.mf(a);Bf(d.data.root);d.data.root.Aa.LB();Ti(d.aa.pa);kj(d.aa.pa).Jl.focus()});this.data.Bb.kc(d,function(a,b){b.qd.forEach(function(a,b){d.aa.ef.wx(d.aa,b,d).wu();d.aa.pa&&ij(d.aa.pa)})},10);this.data.Bb.Tc(d,function(a,b){b.qd.forEach(function(a,b){b.Wa(d.aa).Md();d.aa.pa&&ij(d.aa.pa)})},
10);this.data.ed.kc(d,function(a,b){b.fd.kc(d,function(a,b){d.aa.ef.xx(d.aa,b);d.aa.pa&&ij(d.aa.pa)},10);b.fd.Tc(d,function(a,b){b.Wa(d.aa).remove();d.aa.pa&&ij(d.aa.pa)},10)},10);this.data.ed.Tc(d,function(a,b){b.fd.forEach(function(a){a.Wa(d.aa).remove();d.aa.pa&&ij(d.aa.pa)})},10);this.data.ed.forEach(function(a){a.fd.kc(d,function(a,b){d.aa.ef.xx(d.aa,b);d.aa.pa&&ij(d.aa.pa)},10);a.fd.Tc(d,function(a,b){b.Wa(d.aa).remove();d.aa.pa&&ij(d.aa.pa)},10)});this.data.zu().elements.kc(d,function(a,b,
c){var n;switch(c.constructor){case Xd:n=new Be(d.aa,c,d,1);break;case ae:n=new Ge(d.aa,c,d,1);break;case ge:n=new Je(d.aa,c,d,1);break;case he:n=new Le(d.aa,c,d,1)}d.add(n)});this.data.zu().elements.Tc(d,function(a,b,c){c.view.Md();d.elements.remove(c.view)});this.data.Hk(d,function(){d.ba.selection.remove(d);d.aa.pa&&ij(d.aa.pa)},10)}extend(Aj,Jd);f=Aj.prototype;
f.eg=function(a){var b=this;a||(a=this.data);a.Bb.forEach(function(c){try{c.qd.forEach(function(a,c){var d=b.aa.ef.wx(b.aa,c,b);d.wu();b.add(d)})}catch(d){console.log("Removing broken device"),a.Bb.remove(c)}});a.ed.forEach(function(a){a.fd.forEach(function(a){a=b.aa.ef.xx(b.aa,a,b);b.add(a)})});a.zu().elements.forEach(function(a,d){var e;switch(d.constructor){case Xd:e=new Be(b.aa,d,b,1);break;case ae:e=new Ge(b.aa,d,b,1);break;case ge:e=new Je(b.aa,d,b,1);break;case he:e=new Le(b.aa,d,b,1)}b.add(e)})};
f.add=function(a){this.elements.add(a)};f.Ac=function(a){this.elements.forEach(function(b){b.Ac(a)})};f.OC=function(a){this.Ml=a};f.Ec=function(){var a=new y;this.elements.forEach(function(b){b.Ec&&a.add(b)});var b=a.collect(function(a){return a.Ec()});return(new ec(b)).yl()};function Bj(a,b){var c=this,d=new w;d.put(0,new S(0,!1,2,!0));d.put(1,new S(1,!1,5,!0));nj.call(this,a,b,d);this.data.nd(a,this);this.group=this.Ej.get(0).sa;this.Pa=this.Ej.get(1).sa;this.Gk=this.aa.svg.group(this.group);wj(this,!1);this.cx=this.aa.svg.group(this.Pa);this.gj(!1);this.Ad=this.aa.svg.group(this.Pa);this.aa.mode==R&&($(this.Ad).mousedown(function(a){return c.bc(a)}),$(this.Ad).mouseover(function(a){return c.mu(a)}),$(this.Ad).mouseout(function(a){return c.lu(a)}));this.data.jb&&this.data.it&&
this.data.jb[0]&&this.data.jb[0].x1?vj(this,this.aa.svg,this.data.jb,this.data.it,this.Gk,this.cx,this.Ad):c.data.root.fc("route_schematic_net",c.wa,c,[],"net"+Ia(c));this.data.Ja.kc(this,function(){c.data.tb()&&(c.data.root.fc("route_schematic_net",c.wa,c,[],"net"+Ia(c)),c.aa.pa&&ij(c.aa.pa))},10);this.data.Ja.Tc(this,function(){c.data.tb()&&(c.data.root.fc("route_schematic_net",c.wa,c,[],"net"+Ia(c)),c.aa.pa&&ij(c.aa.pa))},10)}Bj.prototype=inherit(nj.prototype);f=Bj.prototype;f.constructor=Bj;
f.Ag=function(){this.data.jb=[];this.data.it=[]};
f.wa=function(){function a(){b.data.Ja.forEach(function(a){(a=a.Wa(b.aa))&&c.Pb(a)});var a=b.data.Ja.filter(function(a){return Gg(a)?!0:!1}).collect(function(a){return ph(a)}),a=(new ec(a)).Pe().buffer(10);c.p1(a);of(b.aa.data).forEach(function(a){a=a.Wa(b.aa).fw();a.Ra=!1;a.ex=!0;a.Ny=!0;c.sN(a)});b.data.parent().parent().ed.forEach(function(a){a.fd.forEach(function(a){if((a=a.Wa(b.aa))&&a!==b&&a.data.jb&&null!==a.data.jb)for(var d=0;d<a.data.jb.length;d++){var e=a.data.jb[d],q=new Zb(e.x1,e.y1,
e.x2-e.x1,e.y2-e.y1);q.Ra=!0;q.ex=e.hor;q.Ny=e.ver;c.sN(q)}})});return c.A_(b.data.Rb)}var b=this;if(0!=b.data.tb()){var c=new ba;Cj(b.aa.a1,a)}};
function vj(a,b,c,d,e,k,l){$(a.Gk).empty();$(a.Ad).empty();$(a.cx).empty();a.gj(!1);if(c)for(var n=0;n<c.length;n++){var q=c[n];b.line(e,q.x1,q.y1,q.x2,q.y2,{fill:"blue",stroke:"black","stroke-linecap":"round"});b.line(k,q.x1,q.y1,q.x2,q.y2,{fill:"blue",stroke:"red",strokeWidth:"3","stroke-linecap":"round"});b.line(l,q.x1,q.y1,q.x2,q.y2,{fill:"blue",stroke:"black",strokeWidth:"10",opacity:"0","stroke-linecap":"round",id:a.data.yh+"_"+n})}d&&d.forEach(function(a){b.circle(e,a.lb(),a.pb(),2,{fill:"black"})})}
f.mu=function(a){a=new G(H.Iz,this.data,a);return this.aa.Ea.handle(a)};f.lu=function(a){a=new G(H.Hz,this.data,a);return this.aa.Ea.handle(a)};f.bc=function(a){a=new G(H.oF,this.data,a);return this.aa.Ea.handle(a)};f.gj=function(a){a?$(this.cx).attr("opacity","1"):$(this.cx).attr("opacity","0")};function wj(a,b){b?$(a.Gk).attr("stroke-width","2"):$(a.Gk).attr("stroke-width","1")}f.nK=function(){var a=this.aa;this.data.Ja.forEach(function(b){b.Wa(a)&&b.Wa(a).nK()})};
f.Yl=function(){var a=this.aa;this.data.Ja.forEach(function(b){b.Wa(a)&&b.Wa(a).Yl()})};function Dj(a,b,c){pj.apply(this,arguments);c.nd(this.aa,this);this.Pa=this.aa.svg.group(this.xf.Pa);this.yf=this.aa.svg.group(this.xf.yf);this.group=this.aa.svg.group(this.yf);this.aa.svg.change(this.yf,{transform:"translate("+this.description.x+","+this.description.y+") rotate("+this.description.dir+")"});this.aa.svg.change(this.Pa,{transform:"translate("+this.description.x+","+this.description.y+") rotate("+this.description.dir+")"});this.wa();this.QK=this.aa.svg.group(this.yf);this.lO=this.aa.svg.group(this.Pa);
this.aa.svg.change(this.QK,{class_:"tools"});$(this.group).attr("opacity","0");var d=this;d.data.Tf.ka("subnet",function(a,b,c){null==c&&d.Yl()})}Dj.prototype=inherit(pj.prototype);f=Dj.prototype;f.constructor=Dj;
f.wa=function(){var a=this;this.rect=this.aa.svg.rect(this.group,-2.5,-2.5,5,5,0,0,{fill:"red",stroke:"black",strokeWidth:"2"});this.Ad=this.aa.svg.rect(this.Pa,-5,-5,15,15,0,0,{fill:"#ff0000",fillOpacity:"0",stroke:"none"});a.aa.mode==R&&($(this.Ad).mouseover(function(b){return a.mu(b)}),$(this.Ad).mouseout(function(b){return a.lu(b)}),$(this.Ad).mousedown(function(b){return a.bc(b)}))};f.lb=function(){return nh(this.data)};f.pb=function(){return oh(this.data)};f.Ec=function(){return ph(this.data)};
f.Qe=function(){return qh(this.data)};f.Ug=function(){return this.data.Ug()};f.Ha=function(){return Ag(this.data).Wa(this.aa)};f.mu=function(a){this.gj(!0);a=Fb(new G(H.dN),a).element("terminal",this.data);this.aa.Ea.handle(a);return!1};f.lu=function(a){this.gj(!1);a=Fb(new G(H.cN),a).element("terminal",this);return this.aa.Ea.handle(a)};
f.nK=function(){var a=this.aa.svg.group(this.QK,"removeTool");this.aa.svg.rect(a,5,5,5,5,0,0,{fill:"white",stroke:"none"});this.aa.svg.line(a,5,5,10,10,{stroke:"blue",strokeWidth:"1.5"});this.aa.svg.line(a,5,10,10,5,{stroke:"blue",strokeWidth:"1.5"});a=this.aa.svg.group(this.lO,"removeTool");this.aa.svg.rect(a,4,4,7,7,0,0,{fill:"red",stroke:"none",opacity:"0"});if(this.aa.mode==R){var b=this;$(a).mousedown(function(a){a=new G(H.JM,b.data,a);return b.aa.Ea.handle(a)})}};
f.Yl=function(){$(this.QK).empty();$(this.lO).empty()};f.gj=function(a){a?$(this.group).attr("opacity","1"):$(this.group).attr("opacity","0")};function xj(){}xj.prototype.dC=function(){return ca(Dj,arguments)};xj.prototype.wx=function(){return ca(yj,arguments)};xj.prototype.fQ=function(){return ca(Aj,arguments)};xj.prototype.xx=function(){return ca(Bj,arguments)};(function(a,b){a.Sk=function(a){var d=this;this.pa=a;b(".js-download_schematic_vector").click(function(){d.jZ()});-1<navigator.userAgent.toLowerCase().indexOf("chrome")?b(".js-download_schematic_image").click(function(){d.Mw()}):b(".js-download_schematic_image").closest("li").remove()};a.Sk.prototype.Mw=function(){a.bI(this.pa.eh,"#schematicTab","schematic","#f4f5f6")};a.Sk.prototype.jZ=function(){a.hZ(this.pa.eh)}})(window.circuitsGui=window.circuitsGui||{},jQuery);ba=function(){this.Ja=[];this.kH=[];this.it=new y};ba.o5={W5:0,t6:1};ba.n5={f5:0,q6:1};f=ba.prototype;f.A_=function(a){for(var b=[],c=[],d=0;d<this.Ja.length;d++){var e={getDir:this.Ja[d].Qe(),getX:this.Ja[d].lb(),getY:this.Ja[d].pb()};b.push(e)}for(d=0;d<this.kH.length;d++)e=this.kH[d],e={x:e.x,y:e.y,width:e.width,height:e.height,net:e.Ra,hor:e.ex,ver:e.Ny},c.push(e);return{versions_id:a,bb:{x:this.Pe().x,y:this.Pe().y,width:this.Pe().width,height:this.Pe().height},terminals:b,all_blockages:c}};
f.Pb=function(a){this.Ja.push(a)};f.sN=function(a){this.kH.push(a)};f.p1=function(a){this.bY=a};f.Pe=function(){return this.bY};function uj(a){var b=this;this.onsuccess=a;this.YJ=new Worker(circuitsUrls.worker);this.Qy=0;this.LP=[];this.XI=!1;this.YJ.onmessage=function(a){if(a.data&&"error"!=a.data)b.onsuccess(a);Ej(b);Fj(b,!0)};this.YJ.onerror=function(){Ej(b);Fj(b,!0)}}function Ej(a){--a.Qy;0===a.Qy&&console.log("--- CIRCUIT LOADED ---")}function Fj(a,b){b&&(a.XI=!1);if(!a.XI){var c=a.LP.pop(0);void 0!==c&&(a.XI=!0,c=c.call(),a.YJ.postMessage(c))}}function Cj(a,b){a.Qy+=1;a.LP.push(b);Fj(a)};function aj(a,b,c,d,e){cj.call(this,a,b,c,d,e);this.ba.y_(!0)}aj.prototype=inherit(cj.prototype);aj.prototype.constructor=aj;aj.prototype.zt=function(){return new Gj};function Hj(a,b){Bj.call(this,a,b)}Hj.prototype=inherit(Bj.prototype);Hj.prototype.constructor=Hj;Hj.prototype.bc=function(){return!0};function Ij(a,b,c){Dj.call(this,a,b,c)}Ij.prototype=inherit(Dj.prototype);Ij.prototype.constructor=Ij;Ij.prototype.mu=function(){};Ij.prototype.lu=function(){};Ij.prototype.bc=function(){};function Gj(){}Gj.prototype=inherit(xj.prototype);Gj.prototype.constructor=Gj;Gj.prototype.dC=function(){return ca(Ij,arguments)};Gj.prototype.xx=function(){return ca(Hj,arguments)};var Kj={Fz:0,z5:1,O4:2,y3:3,tV:4,RU:5,IE:6,jG:7,sV:8,A5:9,P4:10,z3:11,SU:12,uV:13,hF:14,JE:15};
function $i(a,b,c,d,e){var k=this;this.type="breadboard";this.pa=a;this.root=d;this.data=d.Aa;this.ba=d.ba.Sa();k.ef=k.zt();this.Wk={showTerminals:!1};d=new w;for(var l in Kj)d.put(Kj[l],new xd(Kj[l]));d.get(5).visible=!0;d.get(4).visible=!0;this.Zc=this.pg();yd.call(this,a,b,c,d,e);this.gg=null;this.qZ=this.Ub.get(2).sa;this.Ub.get(3);this.Ub.get(5);this.Ub.get(4);this.eu=this.Ub.get(8).sa;this.pZ=this.Ub.get(10).sa;this.Ub.get(13);this.Ub.get(11);this.Ub.get(12);this.zi=this.Ub.get(7).sa;this.svg.change(this.qZ,
{fill:"#bfbfbf",stroke:"#bfbfbf",style:"stroke-linecap:round;stroke-linejoin:round"});this.svg.change(this.pZ,{fill:"green",stroke:"green",opacity:0});this.line=null;this.svg.group();this.ba.state.ka("view",function(a){"select"==a()?(k.pa.jy.R1(),k.pa.lw.GB(),k.pa.rb.xZ()):"compiling"==a()?(k.pa.jy.LR(),k.pa.rb.cB()):"building_model"==a()?(k.pa.jy.LR(),k.pa.rb.cB()):"build"==a()?(k.pa.jy.JY(),k.pa.rb.cB()):"simulating"==a()&&(k.pa.jy.Q1(),k.pa.rb.cB())},10);this.data.Bb.forEach(function(a){Lj(k,a)});
this.data.Bb.kc("view",function(a,b){Lj(k,b)},10);this.data.Bb.Tc("view",function(a,b){b.Sa().qg&&b.Sa().qg.Vl&&k.pa.rb.jR(b)},10);this.ba.selection.kc("CodeEditorUpdate",function(a,b){b.constructor==ag&&k.hm(b.parent())},10);k.ba.Zg.ka("view",function(a,b,c){$(k.zi).empty();c&&c.ih&&c.zh?(a=c.zh,c.Gj?(b=c.Gj.slice(0),b.unshift(Xg(c.ih)),a=Tc(k.ba,a,b),b.push(a),Mj(k,b,c.color)):(a=Tc(k.ba,a,[Xg(c.ih)]),Mj(k,[Xg(c.ih),a],c.color)),c.zh.x=a.x,c.zh.y=a.y):k.Wl()},10);this.ba.yj.ka("view",function(){circuitsGui.sA&&
(k.ba.yj()?circuitsGui.sA.tk():circuitsGui.sA.sn())},10);this.ba.Xh.ka("tool",function(){k.pa.lw.BH();k.te.hide();k.pa.lw.hK(k.ba.Xh())},10);this.ba.qh.ka(this,function(){k.pa.bq&&("wireframe"==k.ba.qh()?k.pa.bq.a0():"sketch"==k.ba.qh()&&k.pa.bq.b0())});this.ba.state.ka("set component inspector",function(a,b,c){var d="simulating"==c;k.ba.Zm.forEach(function(a){a=a.Wa(k);a.NC&&a.NC(d)})},10);this.ba.AH.ka("view",function(a,b,c){k.pa.bq&&b!=c&&k.pa.bq.dL.LK()},10);k.ba.og.ka("view",function(a,b,c){c&&
(k.ba.ri()&&k.ba.ri(!1),k.ba.ck()&&k.ba.ck(!1));b!=c&&(c?k.pa.Mh.ee.sn():(k.pa.Mh.hw(),k.pa.Mh.ee.tk(!1)))},10);k.ba.ri.ka("view",function(a,b,c){c&&(k.ba.og()&&k.ba.og(!1),k.ba.ck()&&k.ba.ck(!1));b!=c&&(c?k.pa.rb.ee.sn():(k.pa.rb.cI(),k.pa.rb.ee.tk(!1)))},10);this.ba.KA.ka("view",function(a,b,c){c?k.pa.rb.uY():k.pa.rb.a_()});this.ba.xd.ka("show breakpoints",function(a,b,c){0<k.pa.rb.vd.length&&(c==V.Uc.ps?(k.ba.ri(!0),k.pa.rb.K0()):k.pa.rb.FZ())},10);this.ba.MR.ka("show simulator time",function(a,
b,c){a=Math.floor(c/3600);b=Math.floor((c-3600*a)/60);var d=Math.floor(c-3600*a-60*b);c=Math.floor(1E3*(c-3600*a-60*b-d));10>a&&(a="0"+a);10>b&&(b="0"+b);10>d&&(d="0"+d);100>c&&(c="0"+c);10>c&&(c="0"+c);a=a+":"+b+":"+d;if(k.ba.xd()==V.Uc.ps||3<k.ba.uK())a+="."+c;k.pa.lw.showHelp("Simulator time: "+a)},10);this.ba.uK.ka("show simulator slowdown",function(){},10);k.ba.ck.ka("view",function(a,b,c){c&&(k.ba.og()&&k.ba.og(!1),k.ba.ri()&&k.ba.ri(!1));b!=c&&(c?k.pa.vy.ee.sn():(k.pa.vy.hw(),k.pa.vy.ee.tk(!1)))},
10);this.ba.cy.ka("view",function(){k.ba.og()?k.pa.Mh.rB():k.ba.ck()&&k.pa.vy.rB()},10);this.ba.cK.ka("view",function(a,b,c){k.ba.og()&&k.pa.Mh.Ax(c);k.ba.ri()&&k.pa.rb.Ax(c);k.ba.ck()&&k.pa.vy.Ax(c)});this.ba.Gd.ka("snapped",function(a,b,c){c&&(c.Hc.parent&&(a=c.Hc.parent.Wa(k),a.En&&a.En(!0,c.Lc.parent)),c.Lc.parent&&(a=c.Lc.parent.Wa(k),a.En&&a.En(!0,c.Hc.parent)));b&&(!c||b.Hc!=c.Lc&&b.Lc!=c.Lc)&&(b.Hc.parent&&(a=b.Hc.parent.Wa(k),a.En&&a.En(!1)),b.Lc.parent&&(a=b.Lc.parent.Wa(k),a.En&&a.En(!1)))},
10)}$i.prototype=inherit(cj.prototype);f=$i.prototype;f.constructor=$i;f.pg=function(){var a=new w,b;for(b in Kj)a.put(Kj[b],new S(Kj[b],!0,Kj[b],!0));return a};f.zt=function(){return new Nj};function Lj(a,b){b.Sa().qg&&b.Sa().qg.Vl&&a.pa.rb.SX(b)}f.hm=function(a){a.Sa().qg&&a.Sa().qg.Vl&&this.pa.rb.hm(a)};f.Yl=function(){};f.eg=function(){cj.prototype.eg.call(this)};
function Mj(a,b,c){a.Wl();if(1<b.length){var d=a.root,e=new ae(d,b[0]);e.Vt=!0;b.forEach(function(a,b){0<b&&e.Im(new be(d,a,4))});b=$(e.toSVG({})).attr("d");a.fJ=a.svg.path(a.eu,b,{fill:"none",stroke:Oj[c||"green"][1],"stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"});a.line=a.svg.path(a.eu,b,{fill:"none",stroke:Oj[c||"green"][0],"stroke-width":"1.8","stroke-linecap":"round","stroke-linejoin":"round"})}}
f.fB=function(a,b,c,d){this.Wl();this.fJ=this.svg.line(this.eu,a,b,c,d,{fill:"green",stroke:"#369936",strokeWidth:"2.5","stroke-linecap":"round"});this.line=this.svg.line(this.eu,a,b,c,d,{fill:"green",stroke:"#40b942",strokeWidth:"1.8","stroke-linecap":"round"})};cj.prototype.Wl=function(){this.line&&$(this.line).remove();this.fJ&&$(this.fJ).remove()};function Pj(a,b,c){function d(){e.Op=null;e.data.tb()&&(e.setTransform(),e.Th().forEach(function(a){a.data.sc.forEach(function(a){a.Wa(e.aa).wa()})}),e.aa.pa&&ij(e.aa.pa))}var e=this;mj.call(this,a,b,0,c);this.data.nd(a,this);this.la=this.data.parent().wb().device;this.symbol=this.qd=this.description=this.data.wb();this.type=this.description.symbol_type;switch(this.type){case "breadboard_background":case "circuitscribe_module":this.yf=this.Sc(3).sa;this.Pa=this.Sc(4).sa;break;case "schematic":console.warn("Warning: symbol_type of "+
this.la.name+" breadboard component cannot be 'schematic'");case "breadboard":this.yf=this.Sc(0).sa;this.Pa=this.Sc(2).sa;break;case "eink_footprint":this.yf=this.Sc(5).sa,this.Pa=this.Sc(6).sa}this.Dd=this.Sc(7).sa;this.group=this.aa.svg.group(this.yf,this.id);this.Kn=this.aa.svg.group(this.group);this.aa.svg.add(this.Kn,this.symbol.svg);this.aa.svg.change(this.Pa,{opacity:0});this.aa.svg.change(this.Dd,{opacity:0});c=$(".selected,.cgfx__hitarea",e.group);if(0<c.length)SvgHelpers.eO(this.aa.svg,
this.Pa,c).attr("display","inline");else{switch(this.type){case "breadboard_background":case "circuitscribe_module":var k=this.UI(3);break;case "breadboard":k=this.UI(0)}k&&this.aa.svg.rect(this.Pa,k.Wj,k.Xj,k.Vn-k.Wj,k.Wn-k.Xj,0,0,{fill:"blue",stroke:"none"})}for(k=0;k<this.qd.schematic_symbol_terminals_attributes.length;k++){c=this.qd.schematic_symbol_terminals_attributes[k];switch(c.terminal_type){case "lbmagnetic-in":case "lbmagnetic-out":var l=new Qj(e,c,tg(b.parent(),c.id));break;case "circuitscribe_magnet":l=
new Rj(e,c,tg(b.parent(),c.id));break;case "eink_pad":l=new Sj(e,c,tg(b.parent(),c.id));break;case "breadboard":case "breadboard_female":l=e.aa.ef.dC(e,c,tg(b.parent(),c.id))}this.Ja.add(l);this.hu.put(c.name,l)}new e.data.qg.fa(e,e.data.parent(),e.data.na,a.ba);this.data.eb.ka(this,d,10);this.data.Oa.ka(this,d,10);this.data.hb.ka(this,d,10);this.data.parent().name.ka(this,function(){e.data.tb()&&e.aa.pa&&ij(e.aa.pa)},10);this.data.parent().Cb.we(this,function(){e.data.tb()&&e.aa.pa&&ij(e.aa.pa)},
10);this.data.Hk(e,function(){"breadboard_arduino"==e.qd.name&&e.aa.pa.rb.jR(e);e.aa.te.hide();e.aa.pa&&ij(e.aa.pa)},10);"circuitscribe_module"==this.type&&(e.aa.ba.qh.ka(this,function(a,b,c){Tj(e,c)}),Tj(e,e.aa.ba.qh()));e.NC(!1)}Pj.prototype=inherit(mj.prototype);f=Pj.prototype;f.constructor=Pj;
f.pg=function(){var a=new w;a.put(0,new S(0,!1,5,!0));a.put(3,new S(3,!1,3,!0));a.put(1,new S(1,!1,5,!1));a.put(2,new S(2,!0,12,!0));a.put(4,new S(4,!0,11,!0));a.put(5,new S(5,!1,2,!0));a.put(6,new S(6,!0,10,!0));a.put(7,new S(7,!0,15,!0));return a};
f.wu=function(){function a(){for(var a=0;a<e.length&&!d[e[a]];a++);d[e[a]]=!1;return e[a]}function b(a,b){var d=c.aa.svg.group(c.YB);c.aa.svg.text(d,0,0,a);c.aa.svg.change(d,{style:"text-anchor: middle;font-family: verdana; font-size : 10px;"});var e=c.fw(),k=0,l=0,n;switch(b){case 0:case 1:case 7:n="text-anchor: start;font-family: verdana; font-size : 10px;";break;case 3:case 4:case 5:n="text-anchor: end;font-family: verdana; font-size : 10px;";break;case 2:case 6:n="text-anchor: middle;font-family: verdana; font-size : 10px;";
break;default:n="text-anchor: middle;font-family: verdana; font-size : 10px;"}c.aa.svg.change(d,{style:n});n=d.getBBox();switch(b){case 0:case 1:case 7:k=e.x+e.width+3;break;case 4:case 3:case 5:k=e.x-3;break;case 2:case 6:k=(e.x+e.width+e.x)/2}switch(b){case 0:case 4:l=(e.y+e.height+e.y)/2-n.y-n.height/2;break;case 5:case 6:case 7:l=e.y-n.y-n.height-0;break;case 1:case 2:case 3:l=e.y+e.height-n.y+0}k-=c.data.eb().x;l-=c.data.eb().y;c.aa.svg.change(d,{transform:"translate("+k+","+l+")"})}var c=this,
d=[!0,!0,!0,!0,!0,!0,!0,!0],e=[6,2,0,1,7,4,3,5];$(this.YB).empty();d[7]=!1;this.Th().forEach(function(a){0==a.Qe()?d[0]=!1:90==a.Qe()?d[2]=!1:180==a.Qe()?d[4]=!1:270==a.Qe()&&(d[6]=!1)});var k=this.aa.svg.createText(),l=!0;if("nolabel"!=this.la.base&&"LABELNO"!=this.la.base){if("none"==this.la.base||"LABEL"==this.la.base)k.span(this.data.parent().name(),{});else{k.span(this.la.base,{});var n=[];this.data.parent().name()&&n.push(this.data.parent().name());1<this.data.parent().qd.size()&&this.description.name&&
n.push(this.description.name);k.span(n.join("_"),{dy:"3","font-size":"8px"})}l=!1}c.data.parent().Cb.forEach(function(a,b){if(b.show){var c=b.unit;"ohm"==c&&(c="\u2126");var d=b.prefix;d&&"none"!=d||(d="");"u"==d&&(d="\u03bc");var e=b.value;c&&(e+=d+c);k.span(e,{x:0,dy:12});l=!1}});l||b(k,a())};f.disconnect=function(){this.Th().forEach(function(a){if(a.Ug()){var b=a.Ha();a.disconnect();2>b.size()&&this.aa.Zx(b)}})};
f.fw=function(){if(!this.Op){var a=this.Kn.getBBox(),b=a.x,c=a.x+a.width,d=a.y,e=a.y+a.height,k=new J(this.data.hb()*b,d),a=new J(this.data.hb()*c,e),k=k.rotate(this.data.Oa()),a=a.rotate(this.data.Oa()),b=Math.min(k.x,a.x),c=Math.max(k.x,a.x),d=Math.min(k.y,a.y),e=Math.max(k.y,a.y),b=b+this.data.eb().x,c=c+this.data.eb().x,d=d+this.data.eb().y,e=e+this.data.eb().y;this.Th().forEach(function(a){a.lb()<b&&(b=a.lb());a.lb()>c&&(c=a.lb());a.pb()<d&&(d=a.pb());a.pb()>e&&(e=a.pb())});this.Op=new Zb(b,
d,c-b,e-d)}return this.Op};f.Yl=function(){$(this.G2).empty();this.Th().forEach(function(a){a.Yl()})};f.Nd=function(){var a=[{label:"Name",type:Md,Id:this.data.parent().Dl}];this.data.parent().xu.forEach(function(b,c){a.push({label:c.name,type:c.type,Id:c.Ly,Ey:c.BS,list:c.list,Bd:c.Bd})});"oscilloscoop_bb"==this.qd.name&&a.push({label:"Autoscale",type:Qd,Id:this.data.na.BN});Hd(this.aa.te,a,{name:this.la.name,version_root_id:this.la.rD,summary:this.la.summary,usage:this.la.$K})};
function Tj(a,b){switch(b){case "sketch":$(".cgfx__sketchview",a.group).attr("display","inline");$(".cgfx__sketchview",a.Pa).attr("display","inline");$(".cgfx__wireframeview",a.group).attr("display","none");$(".cgfx__wireframeview",a.Pa).attr("display","none");a.data.parent().Ja.forEach(function(b,d){var e=d.Wa(a.aa);e.constructor==Rj&&$(e.Ad).attr("display","inline")});break;case "wireframe":$(".cgfx__sketchview",a.group).attr("display","none"),$(".cgfx__sketchview",a.Pa).attr("display","none"),
$(".cgfx__wireframeview",a.group).attr("display","inline"),$(".cgfx__wireframeview",a.Pa).attr("display","inline"),a.data.parent().Ja.forEach(function(b,d){var e=d.Wa(a.aa);e.constructor==Rj&&$(e.Ad).attr("display","none")})}}
f.Ac=function(a){var b=this,c=a?"inline":"none";0<$(".selected,.cgfx__selected",b.group).length?$(".selected,.cgfx__selected",b.group).attr("display",c):this.Zc.forEach(function(c,e){!0===a?(b.aa.svg.change(e.sa,{stroke:"black"}),b.aa.svg.change(e.sa,{"stroke-opacity":.6})):(b.aa.svg.change(e.sa,{stroke:""}),b.aa.svg.change(e.sa,{"stroke-opacity":""}))})};f.Qj=function(a){a=a&&"simulating"==this.aa.ba.state();this.NC(a)};
function Uj(a,b,c){c=c?"inline":"none";$(".cgfx__terminalgrouphighlight-"+b,a.group).attr("display",c)}f.NC=function(a){a=a?"inline":"none";$(".cgfx__inspector",this.group).attr("display",a);$(".cgfx__inspector",this.Dd).attr("display",a)};function Vj(a,b,c){var d=this;this.aa=a;this.data=b;this.data.nd(a,this);this.cg(c);this.Ml=!1;this.elements=new y;this.eg(this.data.Aa);this.data.ud.ka(d,function(){var a=new y;a.add("undo");a.add("share");d.data.root.Aa.mf(a);Bf(d.data.root);d.data.root.Aa.LB();Ti(d.aa.pa);kj(d.aa.pa).Jl.focus()});this.data.Bb.kc(d,function(a,b){b.Sa()&&d.aa.ef.wx(d.aa,b.Sa(),d)},10);this.data.Bb.Tc(d,function(a,b){b.Sa().Wa(d.aa).Md()},10);this.data.sc.kc(d,function(a,b){d.aa.ef.gQ(d.aa,b)},10);this.data.sc.Tc(d,
function(a,b){var c=b.Wa(d.aa);c&&c.remove()},10)}extend(Vj,Jd);f=Vj.prototype;
f.eg=function(a){var b=this;a||(a=this.data);a.Bb.forEach(function(c){try{c.Sa()&&b.aa.ef.wx(b.aa,c.Sa(),b)}catch(e){console.log("Removing broken device"),a.Bb.remove(c)}});if("circuitscribe"==a.Ye()){var c=[2,10,6,15];b.xj($e,a.yk().elements,Wj,c);b.xj(je,a.yk().elements,He,c);a.rk()&&(view=new Xj(b.aa,a.rk(),b),b.add(view))}"breadboard"==a.Ye()&&b.xj(je,a.sc,He,[4,13,6,15]);a.sc.forEach(function(a){b.aa.ef.gQ(b.aa,a,b)})};f.add=function(a){this.elements.add(a)};f.Ac=function(a){this.elements.forEach(function(b){b.Ac(a)})};
f.OC=function(a){this.Ml=a};f.Ec=function(){var a=new y;this.elements.forEach(function(b){b.Ec&&a.add(b)});var b=a.collect(function(a){return a.Ec()});return(new ec(b)).yl()};function Xj(a,b,c){var d=this;d.aa=a;this.data=b;this.data.nd(a,this);this.cg(c);this.group=this.Sc(1).sa;this.Pa=this.Sc(9).sa;this.data.pu.ka(this,function(){d.wa()},10);d.wa();this.data.visible.ka(this,function(a,b,c){Yj(d,c)},10);Yj(d,d.data.visible());this.aa.ba.ab.ka(d,function(){var a=1+4/d.aa.ba.ab();d.HH&&$(d.HH).attr("stroke-width",a)},10)}extend(Xj,Jd);f=Xj.prototype;f.pg=function(){var a=new w;a.put(1,new S(1,!1,1,!0));a.put(9,new S(9,!0,9,!0));return a};
f.wa=function(){var a=this;$(this.group).empty();$(this.Pa).empty();var b=this.data.Cd(),c=this.data.width(),d=this.data.height(),e=this.data.margin(),k=1+4/a.aa.ba.ab();this.tQ=this.aa.svg.rect(this.group,b.x,b.y,c,d,0,0,{fill:"white",stroke:"black",strokeWidth:"1"});this.aa.svg.rect(this.group,b.x+e,b.y+e,c-2*e,d-2*e,0,0,{fill:"white",stroke:"red",strokeWidth:"1"});!0===a.data.selected?a.aa.svg.change(a.tQ,{stroke:"#3b8ed7",strokeWidth:"3.5"}):a.aa.svg.change(a.tQ,{stroke:"black",strokeWidth:"1"});
this.HH=this.aa.svg.rect(a.Pa,b.x,b.y,c,d,0,0,{fill:"none",stroke:"green",strokeWidth:k,opacity:"0"});this.aa.mode==R&&$(this.HH).mousedown(function(b){return a.bc(b)})};f.bc=function(a){a=(new G(H.gc,this.data,a)).data("mouseCoord",Bd(this.aa,a));return this.aa.Ea.handle(a)};function Yj(a,b){b?($(a.group).show(),$(a.Pa).show(),a.aa.pa.bq.x0()):($(a.group).hide(),$(a.Pa).hide(),a.aa.pa.bq.w0())}f.Ac=function(a){this.data.selected=a;this.wa()};
f.Nd=function(){Hd(this.aa.te,[{label:"Type",type:Rd,Id:this.data.pu,list:this.data.v0}],{name:"Paper"})};function Zj(a,b,c){Dj.call(this,a,b,c);this.wa()}Zj.prototype=inherit(Dj.prototype);f=Zj.prototype;f.constructor=Zj;f.lb=function(){return kh(this.data)};f.pb=function(){return lh(this.data)};f.Ec=function(){return Xg(this.data)};f.Qe=function(){return mh(this.data)};f.Ha=function(){return Ag(this.data).Wa(this.aa)};
f.wa=function(){var a=this;this.rect=this.aa.svg.rect(this.group,-3.5,-3.5,7,7,0,0,{fill:"red",stroke:"black",strokeWidth:"2"});this.Ad=this.aa.svg.rect(this.Pa,-4,-4,8,8,0,0,{fill:"#ff0000",fillOpacity:"0",stroke:"none"});this.aa.mode!=R||"breadboard"!=this.description.terminal_type&&"breadboard_female"!=this.description.terminal_type||($(this.Ad).mouseover(function(b){null!=a.data.Jj&&Uj(a.xf,Tg(a.data).split("_")[0],!0);return a.mu(b)}),$(this.Ad).mouseout(function(b){null!=a.data.Jj&&Uj(a.xf,
Tg(a.data).split("_")[0],!1);return a.lu(b)}),null==a.data.Jj&&($(this.Ad).attr("title",a.description.name),$(this.Ad).tipsy({gravity:"n",offset:3,zoom_stuff:a.aa.el})),$(this.Ad).mousedown(function(b){return a.bc(b)}))};function Nj(){}Nj.prototype=inherit(xj.prototype);f=Nj.prototype;f.constructor=Nj;f.dC=function(){return ca(Zj,arguments)};f.xx=function(){return null};f.gQ=function(){ca(ak,arguments)};f.wx=function(){return ca(Pj,arguments)};f.fQ=function(){return ca(Vj,arguments)};function ak(a,b){var c=this,d=new w;d.put(0,new S(0,!1,4,!0));d.put(1,new S(1,!1,13,!0));nj.call(this,a,b,d);this.data.nd(a,this);this.group=this.Ej.get(0).sa;this.Pa=this.Ej.get(1).sa;this.Gk=this.aa.svg.group(this.group);this.Ad=this.aa.svg.group(this.Pa);this.data.Tb.ka(this,function(){c.wa()},10);this.data.end.ka(this,function(){c.wa()},10);this.data.color.ka(this,function(){c.wa();(c.selected||c.uq())&&c.QO()},10);this.data.Hk(c,function(){c.aa.te.hide()},10);this.wa();this.sa=this.group;this.data.md("view",
function(){c.data.tb()&&c.wa()},10)}ak.prototype=inherit(nj.prototype);ak.prototype.constructor=ak;extend(ak,Ge);extend(ak,Jd);var Oj={black:["#3C4042","#171919"],red:["#EC2222","#C11F1F"],orange:["#F78300","#CC6600"],yellow:["#FFDF01","#CCAE02"],green:["#40B942","#369936"],turquoise:["#71cedc","#58a1a8"],blue:["#009ed9","#007ea5"],indigo:["#3853a5","#283c70"],purple:["#7f3b9a","#522866"],pink:["#d9288c","#a52073"],brown:["#aa7b4c","#755335"],grey:["#999ea1","#63696b"],white:["#ffffff","#b8b8b8"]};
f=ak.prototype;f.Ac=function(a){this.selected!=a&&(this.selected=a,this.data.Ya&&this.data.Ya.Re&&this.data.Ya.Re(a),this.wa(a))};f.uq=function(){var a=this,b=!1;this.data.Ya&&this.data.Ya.ke&&this.data.Ya.ke.forEach(function(c,d){var e=d.Wa(a.aa);e&&e.selected&&(b=!0)});return b};f.gj=function(a){this.JI&&$(this.JI).attr("opacity",a||this.selected||this.uq()?.5:0)};
f.wa=function(a){this.JI=null;$(this.Gk).empty();$(this.Ad).empty();a=null===a||void 0===a?this.selected:a;if(!this.data.insert()&&this.data.Tb()&&this.data.end()){var b=$(this.data.toSVG({})).attr("d");this.JI=this.aa.svg.path(this.Gk,b,{fill:"none",stroke:"#3b8ed7","stroke-width":"5","stroke-linecap":"round","stroke-linejoin":"round",opacity:a?.5:0});this.aa.svg.path(this.Gk,b,{fill:"none",stroke:this.borderColor(),"stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"});this.aa.svg.path(this.Gk,
b,{fill:"none",stroke:this.color(),"stroke-width":"1.8","stroke-linecap":"round","stroke-linejoin":"round"})}};f.QO=function(){var a=this;a.data.Ya.ke.forEach(function(b,c){c.im.get(a.aa).wa()})};f.bc=function(a){a=(new G(H.gc,this.data.Ya?this.data.Ya:this.data,a)).data("mouseCoord",Bd(this.aa,a));return this.aa.Ea.handle(a)};f.UJ=function(){this.data.remove()};f.Nd=function(){Hd(this.aa.te,[{label:"Color",type:Rd,Id:this.data.color,list:this.data.hO}],{name:"Breadboardwire"})};
f.color=function(){return Oj[this.data.color()][0]||this.data.color()};f.borderColor=function(){return Oj[this.data.color()][1]||"darkslategray"};function Rj(a,b,c){var d=this;Dj.call(this,a,b,c);this.data.Tf.ka(this,function(){d.iq()},10);this.wa()}Rj.prototype=inherit(Dj.prototype);f=Rj.prototype;f.constructor=Rj;f.lb=function(){return kh(this.data)};f.pb=function(){return lh(this.data)};f.Ec=function(){return Xg(this.data)};f.Qe=function(){return mh(this.data)};f.Ha=function(){return Ag(this.data).Wa(this.aa)};
f.wa=function(){var a=this;$(this.Ad).remove();this.Ad=this.aa.svg.circle(this.Pa,0,0,15,{fill:"#ff0000",fillOpacity:"0",stroke:"none"});this.iq();this.aa.mode==R&&($(this.Ad).mouseover(function(b){return a.mu(b)}),$(this.Ad).mouseout(function(b){return a.lu(b)}),$(this.Ad).attr("title",a.description.name),$(this.Ad).tipsy({gravity:"n",offset:3,zoom_stuff:a.aa.el}),$(this.Ad).mousedown(function(b){return a.bc(b)}))};
f.bc=function(a){a=Fb(new G(H.VD),a).element("terminal",this.data);this.aa.Ea.handle(a);return!1};
f.iq=function(){var a=this.description.name,b=null,b=this.data.Tf()?"connected":"unconnected";"connected"==b?($(".cgfx__"+a+".cgfx__terminalstate-connected",this.xf.yf).show(),$(".cgfx__"+a+".cgfx__terminalstate-unconnected",this.xf.yf).hide(),$(".cgfx__"+a+".cgfx__terminalstate-hover",this.xf.yf).hide()):"unconnected"==b?($(".cgfx__"+a+".cgfx__terminalstate-connected",this.xf.yf).hide(),$(".cgfx__"+a+".cgfx__terminalstate-unconnected",this.xf.yf).show(),$(".cgfx__"+a+".cgfx__terminalstate-hover",
this.xf.yf).hide()):console.log("Trouble")};f.gj=function(a){var b=this.description.name;a?($(".cgfx__"+b+".cgfx__terminalstate-connected",this.xf.yf).hide(),$(".cgfx__"+b+".cgfx__terminalstate-unconnected",this.xf.yf).hide(),$(".cgfx__"+b+".cgfx__terminalstate-hover",this.xf.yf).show()):this.iq()};function Sj(a,b,c){Dj.call(this,a,b,c);this.wa()}Sj.prototype=inherit(Dj.prototype);f=Sj.prototype;f.constructor=Sj;f.lb=function(){return kh(this.data)};f.pb=function(){return lh(this.data)};f.Ec=function(){return Xg(this.data)};f.wa=function(){var a=this;this.Ad=this.aa.svg.circle(this.Pa,0,0,12.5,{fill:"#ff0000",fillOpacity:"0",stroke:"none"});this.aa.mode==R&&$(this.Ad).mousedown(function(b){return a.bc(b)})};
f.bc=function(a){a=Fb(new G(H.gc),a).element(this.xf.data).element("terminal",this.data).data("mouseCoord",Bd(this.aa,a)).data("isEinkPad",!0);return this.aa.Ea.handle(a)};f.gj=function(){};function Wj(a,b,c,d,e){Ge.apply(this,arguments)}Wj.prototype=inherit(Ge.prototype);Wj.prototype.constructor=Wj;Wj.prototype.Ac=function(a){this.selected=a;this.wa()};Wj.prototype.wa=function(){$(this.sa).empty();this.aa.svg.add(this.sa,this.data.toSVG());this.selected?this.aa.svg.change(this.sa,{stroke:"#3b8ed7"}):this.aa.svg.change(this.sa,{stroke:"#bfbfbf"})};Wj.prototype.Nd=function(){};function Qj(a,b,c){var d=this;this.PA=!1;this.QA=$(".cgfx__connector.cgfx__connector-"+b.name,a.Kn)[0];Zj.call(this,a,b,c);this.data.Tf.md(this,function(){bk(d);d.iq()},10);bk(this);this.wa()}Qj.prototype=inherit(Zj.prototype);f=Qj.prototype;f.constructor=Qj;f.wa=function(){var a=this;$(this.Ad).remove();this.Ad=this.aa.svg.rect(this.Pa,-4,-4,8,8,0,0,{fill:"#ff0000",fillOpacity:"0",stroke:"none"});this.iq();this.aa.mode==R&&$(this.Ad).mousedown(function(b){return a.bc(b)})};
function bk(a){a.PA=!1;a.data.Tf()&&(a.PA=!0)}f.iq=function(){this.PA?($(".cgfx__terminalstate-connected",this.QA).show(),$(".cgfx__terminalstate-unconnected",this.QA).hide()):($(".cgfx__terminalstate-connected",this.QA).hide(),$(".cgfx__terminalstate-unconnected",this.QA).show())};f.En=function(a,b){a&&b&&b.constructor==U&&"lbmagnetic"==b.AB().split("-")[0]&&1>Xg(this.data).Yc(Xg(b))?this.PA=!0:bk(this);this.iq()};f.gj=function(){};(function(a,b){a.Sa=function(a){var d=this;this.pa=a;-1<navigator.userAgent.toLowerCase().indexOf("chrome")?b(".js-download_breadboard_image").click(function(){d.Mw()}):b(".js-download_breadboard_image").closest("li").remove()};a.Sa.prototype.hK=function(a){var d=!1;switch(a){case "eink":d=b(".js-einkTool"),this.pa.lw.showHelp("Click anywhere to add a electroninks polyline.")}d&&d.addClass("active")};a.Sa.prototype.BH=function(){b(".js-breadboard_button .active").removeClass("active");this.Tt&&this.GB()};
a.Sa.prototype.showHelp=function(a){b(".js-breadboard-menu-info").html(a);this.Tt=!0};a.Sa.prototype.GB=function(){this.Tt=!1;b(".js-breadboard-menu-info").html("")};a.Sa.prototype.Mw=function(){a.bI(this.pa.kw,"#breadboardTab","breadboard","#f4f5f6")}})(window.circuitsGui=window.circuitsGui||{},jQuery);(function(a,b){a.qh=function(c,d,e,k){var l=this;l.aa=c;this.cl=b(a.template(d)).appendTo(e);this.dL=new a.iC(c,".js-circuitscribe_view",k,H.GL);l.YP=!0;l.DQ=!1;b(".js-toggle_modules_visibility",l.cl).click(function(){l.D2()});b(".js-toggle_paper_visibility",l.cl).click(function(){l.E2()})};a.qh.prototype.b0=function(){b(".js-eye-active",b(".js-toggle_modules_visibility",this.cl)).show();b(".js-eye-disabled",b(".js-toggle_modules_visibility",this.cl)).hide();this.YP=!0};a.qh.prototype.a0=function(){b(".js-eye-active",
b(".js-toggle_modules_visibility",this.cl)).hide();b(".js-eye-disabled",b(".js-toggle_modules_visibility",this.cl)).show();this.YP=!1};a.qh.prototype.D2=function(){this.aa.Ea.handle(H.FL)};a.qh.prototype.x0=function(){b(".js-eye-active",b(".js-toggle_paper_visibility",this.cl)).show();b(".js-eye-disabled",b(".js-toggle_paper_visibility",this.cl)).hide();this.DQ=!0};a.qh.prototype.w0=function(){b(".js-eye-active",b(".js-toggle_paper_visibility",this.cl)).hide();b(".js-eye-disabled",b(".js-toggle_paper_visibility",
this.cl)).show();this.DQ=!1};a.qh.prototype.E2=function(){this.aa.Ea.handle(H.DL)}})(window.circuitsGui=window.circuitsGui||{},jQuery);(function(a,b){a.CY=function(a){var d=this;d.aa=a;d.fZ=b(".js-download_circuitscribe_pdf");d.y0=b(".js-circuitscribe-papersettings");d.R6=!1;d.fZ.click(function(){d.aa.Ea.handle(H.BL)});d.y0.click(function(){d.aa.Ea.handle(H.EL)})}})(window.circuitsGui=window.circuitsGui||{},jQuery);(function(a,b){a.ca=function(a,d,e){var k=this;k.aa=a;k.Bg=b(d);k.qi=b(e);k.IC=!1;d=(new Spinner({lines:13,length:3,width:1,color:"#fff",Bh:4,SA:1,speed:1.8})).spin();b(".js-simulation-spinner",this.Bg).html(d.Ow);b(".js-code-editor__upload__spinner",this.qi).html(b(d.Ow).clone());b(".js-toggleSimulation",k.Bg).click(function(){k.IC?a.Ea.handle(H.Uz):a.Ea.handle(H.hG)})};a.ca.prototype.cI=function(){this.aa.rb.cI()};a.ca.prototype.JY=function(){this.aa.rb.GZ()};a.ca.prototype.Q1=function(){b(".js-simulation-play",
this.Bg).hide();b(".js-simulation-stop",this.Bg).show();b(".js-simulation-spinner",this.Bg).hide();b(".js-simulation-text",this.Bg).html("Stop Simulation");b(".js-simulation-menu",this.Bg).addClass("active");b(".js-code-editor__upload__spinner",this.qi).hide();b(".js-code-editor__upload__icon",this.qi).show();b(".js-code-editor__upload__text",this.qi).html("Upload & Run");b(".js-code-editor__upload",this.qi).removeClass("active");this.IC=!0};a.ca.prototype.LR=function(){b(".js-simulation-play",this.Bg).hide();
b(".js-simulation-stop",this.Bg).hide();b(".js-simulation-spinner",this.Bg).show();b(".js-simulation-text",this.Bg).html("Initializing...");b(".js-simulation-menu",this.Bg).addClass("active");b(".js-code-editor__upload__spinner",this.qi).show();b(".js-code-editor__upload__icon",this.qi).hide();b(".js-code-editor__upload__text",this.qi).html("Compiling...");b(".js-code-editor__upload",this.qi).addClass("active");this.IC=!1};a.ca.prototype.R1=function(){b(".js-simulation-play",this.Bg).show();b(".js-simulation-stop",
this.Bg).hide();b(".js-simulation-spinner",this.Bg).hide();b(".js-simulation-text",this.Bg).html("Start Simulation");b(".js-simulation-menu",this.Bg).removeClass("active");b(".js-code-editor__upload__spinner",this.qi).hide();b(".js-code-editor__upload__icon",this.qi).show();b(".js-code-editor__upload__text",this.qi).html("Upload & Run");b(".js-code-editor__upload",this.qi).removeClass("active");this.IC=!1}})(window.circuitsGui=window.circuitsGui||{},jQuery);(function(a,b){a.FY=function(a){b(".js-circuits_menu_hash_btn").click(function(a){a.preventDefault();history.pushState?history.pushState(null,null,b(this).attr("href")):location.hash=b(this).attr("href");window.onhashchange()});b(".schematic .js-rotate").click(function(b){b=new G(H.zv,null,b);a.Ea.handle(b)});b(".schematic .js-flipH").click(function(){a.Ea.handle(H.hM)});b(".schematic .js-flipV").click(function(){a.Ea.handle(H.iM)});b(".schematic .js-redo").click(function(){a.Ea.handle(H.yv)});b(".schematic .js-undo").click(function(){a.Ea.handle(H.Ps)});
b(".schematic .js-delete").click(function(){a.Ea.handle(H.xs)});b(".schematic .js-zoomToFit").click(function(){a.Ea.handle(H.tl)});b(".pcb .js-rotate").click(function(b){b=new G(H.zv,null,b);a.Ea.handle(b)});b(".pcb .js-redo").click(function(){a.Ea.handle(H.yv)});b(".pcb .js-undo").click(function(){a.Ea.handle(H.Ps)});b(".pcb .js-delete").click(function(){a.Ea.handle(H.xs)});b(".pcb .js-zoomToFit").click(function(){a.Ea.handle(H.tl)});b(".pcb .js-selectTool").click(function(){var b=(new G(H.ng)).data("tool",
"select");a.Ea.handle(b)});b(".pcb .js-trace").click(function(){var b=(new G(H.ng)).data("tool","trace");a.Ea.handle(b)});b(".pcb .js-fill").click(function(){var b=(new G(H.ng)).data("tool","poly");a.Ea.handle(b)});b(".pcb .js-via").click(function(){var b=(new G(H.ng)).data("tool","via");a.Ea.handle(b)});b(".pcb .js-drillhole").click(function(){var b=(new G(H.ng)).data("tool","drillhole");a.Ea.handle(b)});b(".pcb .js-circleTool").click(function(){var b=(new G(H.ng)).data("tool","circle");a.Ea.handle(b)});
b(".pcb .js-rectTool").click(function(){var b=(new G(H.ng)).data("tool","rect");a.Ea.handle(b)});b(".pcb .js-textTool").click(function(){var b=(new G(H.ng)).data("tool","text");a.Ea.handle(b)});b(".pcb .js-penTool").click(function(){var b=(new G(H.ng)).data("tool","path");a.Ea.handle(b)});b(".breadboard .js-rotate").click(function(b){b=new G(H.zv,null,b);a.Ea.handle(b)});b(".breadboard .js-redo").click(function(){a.Ea.handle(H.yv)});b(".breadboard .js-undo").click(function(){a.Ea.handle(H.Ps)});b(".breadboard .js-delete").click(function(){a.Ea.handle(H.xs)});
b(".breadboard .js-zoomToFit").click(function(){a.Ea.handle(H.tl)});b(".circuitscribe .js-rotate").click(function(b){b=new G(H.zv,null,b);a.Ea.handle(b)});b(".circuitscribe .js-redo").click(function(){a.Ea.handle(H.yv)});b(".circuitscribe .js-undo").click(function(){a.Ea.handle(H.Ps)});b(".circuitscribe .js-delete").click(function(){a.Ea.handle(H.xs)});b(".circuitscribe .js-zoomToFit").click(function(){a.Ea.handle(H.tl)});b(".circuitscribe .js-einkTool").click(function(){var b=(new G(H.ng)).data("tool",
"eink");a.Ea.handle(b)})}})(window.circuitsGui=window.circuitsGui||{},jQuery);var ck={Fz:0,Nz:1,Di:2,Vz:3,bz:4,az:5,wz:6,bA:7,Dv:8,Lg:9,Xf:10,es:11,Zo:12,Yr:13,IE:14,jG:15,gG:16,ND:17,Oz:18,vL:19,eN:20,Hg:21,AT:22,hF:23,JE:24},Dh={Am:0,Rr:1};function dk(a,b,c,d,e,k,l){this.index=b;this.name=a;this.color=c;this.Fg=d;this.yd=e;this.rh=k;this.Nh=l}
function bj(a,b,c,d,e){function k(){l.ba.CR()?l.pa.Sl.H1():l.pa.Sl.e_()}var l=this;this.type="pcb";this.pa=a;this.root=d;this.data=d.Aa;this.ba=d.ba.Ah();this.Bd="\u03bcm";this.RO=!0;this.ef=this.zt();var n=this.data.ud();d=n-2;p={};var q=0,r;for(r in ck){p[r]=q;q++;if(4==ck[r])for(var t=d-1;0<=t;t--)p["inner_"+t]=q,q++;if(19==ck[r])for(t=d-1;0<=t;t--)p["inner_c_"+t]=q,q++}q=new w;for(r in p)q.put(p[r],new xd(p[r]));q.get(p.Nz).visible=!0;q.get(p.Di).visible=!0;q.get(p.Vz).visible=!0;q.get(p.bz).visible=
!0;q.get(p.az).visible=!0;q.get(p.wz).visible=!0;q.get(p.bA).visible=!0;q.get(p.Dv).visible=!0;q.get(p.Lg).visible=!0;q.get(p.Xf).visible=!0;q.get(p.Nz).name="outline";q.get(p.Di).name="bottomsilk";q.get(p.Vz).name="soldermaskbottom";q.get(p.bz).name="bottommetal";q.get(p.az).name="bottomfr4";q.get(p.wz).name="fr4";q.get(p.bA).name="topmetal";q.get(p.Dv).name="soldermasktop";q.get(p.Lg).name="silkscreen";q.get(p.Xf).name="drill";q.get(p.Zo).name="ratsnest";this.Zc=this.pg();yd.call(this,a,b,c,q,e);
this.Cx=!0;this.DC=this.t0=!1;this.zi=this.Ub.get(p.jG).sa;var v="#f41d1d #0078ff #eb2bbc #611deb #21d761 #1febe4".split(" ");this.me=new w;a=new dk("Top",Dh.Am,v[Dh.Am],p.bA,this.Ub.get(p.bA).sa,p.eN,this.Ub.get(p.eN).sa);a.Uh=0;this.me.put(Dh.Am,a);a=new dk("Bottom",Dh.Rr,v[Dh.Rr],p.bz,this.Ub.get(p.bz).sa,p.vL,this.Ub.get(p.vL).sa);a.Uh=n-1;this.me.put(Dh.Rr,a);for(t=0;t<d;t++)q=t<Math.ceil(d/2)?2*(t+1):2*(d-t-1+1)+1,n=new dk("Inner"+(t+1),q,"",p["inner_"+t],this.Ub.get(p["inner_"+t]).sa,p["inner_c_"+
t],this.Ub.get(p["inner_c_"+t]).sa),n.Uh=t+1,this.me.put(q,n),Dh["inner_"+t]=q;this.me.forEach(function(a,b){b.color=v[a];l.svg.change(b.yd,{fill:b.color,stroke:b.color});l.svg.change(b.Nh,{fill:"green",stroke:"green",opacity:0})});this.kZ=new dk("drill",0,"#11181f",p.Xf,this.Ub.get(p.Xf).sa,p.Hg,this.Ub.get(p.Hg).sa);l.svg.change(l.kZ.Nh,{fill:"green",stroke:"green",opacity:0});this.cm=new dk("silkscreen",0,"white",p.Lg,this.Ub.get(p.Lg).sa,p.gG,this.Ub.get(p.gG).sa);l.svg.change(l.cm.yd,{fill:l.cm.color,
stroke:l.cm.color,opacity:1});l.svg.change(l.cm.Nh,{fill:"green",stroke:"green",opacity:0});this.tj=new dk("bottomsilk",0,"white",p.Di,this.Ub.get(p.Di).sa,p.ND,this.Ub.get(p.ND).sa);l.svg.change(l.tj.yd,{fill:l.tj.color,stroke:l.tj.color,opacity:.2});l.svg.change(l.tj.Nh,{fill:"green",stroke:"green",opacity:0});this.Vq=new dk("outline",0,"#ff6e02",p.Nz,this.Ub.get(p.Nz).sa,p.Oz,this.Ub.get(p.Oz).sa);l.svg.change(l.Vq.yd,{fill:"#ff6e02",stroke:"#ffa210",strokeWidth:"100","fill-opacity":.25});l.svg.change(l.Vq.Nh,
{fill:"green",stroke:"green",opacity:0});this.ZI=new dk("label",0,"white",p.es,this.Ub.get(p.es).sa,null,null);l.svg.change(l.ZI.yd,{fill:l.ZI.color,stroke:l.ZI.color,"stroke-width":1});this.Ht=new dk("drc",0,"yellow",p.Yr,this.Ub.get(p.Yr).sa,null,this.Ub.get(p.AT).sa);l.svg.change(l.Ht.yd,{fill:l.Ht.color,stroke:l.Ht.color,"stroke-width":2,opacity:.5});this.bC=new dk("measure",0,"#34495e",p.Fz,this.Ub.get(p.Fz).sa,null,this.Ub.get(p.hF).sa);l.svg.change(l.bC.yd,{fill:"#34495e",stroke:"#34495e",
"stroke-width":2,opacity:1});l.svg.change(l.bC.Nh,{fill:"#1da750",stroke:"#1da750","stroke-width":2,opacity:1});this.yK=new dk("soldermasktop",0,"purple",p.Dv,this.Ub.get(p.Dv).sa,null,null);l.svg.change(l.yK.yd,{fill:l.yK.color,"fill-rule":"evenodd",stroke:l.yK.color,opacity:0,"stroke-width":2});this.xK=new dk("soldermaskbottom",0,"purple",p.Vz,this.Ub.get(p.Vz).sa,null,null);l.svg.change(l.xK.yd,{fill:l.xK.color,"fill-rule":"evenodd",stroke:l.xK.color,opacity:0,"stroke-width":2});this.pI=new dk("fr4",
0,"white",p.wz,this.Ub.get(p.wz).sa,null,null);l.svg.change(l.pI.yd,{fill:l.pI.color,"fill-rule":"evenodd",stroke:l.pI.color,opacity:0,"stroke-width":2});this.tH=new dk("bottomfr4",0,"white",p.az,this.Ub.get(p.az).sa,null,null);l.svg.change(l.tH.yd,{fill:l.tH.color,"fill-rule":"evenodd",stroke:l.tH.color,opacity:0,"stroke-width":2});$(this.zi).insertAfter(this.Ub.get(p.Zo).sa);l.svg.change(this.Ub.get(p.Zo).sa,{fill:"red","fill-rule":"evenodd",stroke:"green",opacity:.5,"stroke-width":2});this.Ra=
null;this.ij=0;this.zc=null;this.Ej=new y;this.ph=new y;this.ba.ab.ka("measure",function(){l.origin.wa()},10);this.ba.Xh.ka("tool",function(){l.pa.Sl.BH();l.te.hide();l.pa.Sl.hK(l.ba.Xh());$(l.zi).empty()},10);this.ba.Fd.ka("layer",function(){l.zl(l.ba.Fd())},10);l.zl(l.ba.Fd());this.ba.dJ.ka("layerPanel show",function(a,b,c){b!=c&&l.pa.CJ.D_.LK()},10);this.ba.eL.ka("viewPanel show",function(a,b,c){b!=c&&l.pa.jq.UX.LK()},10);this.ba.gg.ka("layer",function(a,b,c){b&&(qf(l.root.Aa).forEach(function(a){l.svg.change(a.Wa(l).kq,
{opacity:1})}),qf(l.root.Aa).forEach(function(a){l.svg.change(a.Wa(l).yC,{opacity:1})}),l.root.Aa.Bj(!0).forEach(function(a){a.Wa(l).Ac(!1)}));c&&(a=l.root.Aa.Bj(!0).Eb(),a.fe(c.Bj()),a.forEach(function(a){a.Wa(l).Ac(!0)}),a=qf(l.root.Aa).Eb(),a.remove(c),a.forEach(function(a){l.svg.change(a.Wa(l).yC,{opacity:0})}),a.forEach(function(a){l.svg.change(a.Wa(l).kq,{opacity:0})}))},10);this.ba.state.ka("view",function(a){-1<["trace","copper_tracing","poly","copper_pouring"].indexOf(a())?l.pa.Lk.L1():l.pa.Lk.vP()},
10);this.ba.sk.ka("view",function(a){a()?(l.pa.oq.query=l.ba.FA().wb().device.id,l.pa.oq.EZ.A7=l.ba.FA(),l.pa.oq.kI=!0,l.pa.oq.ee.sn()):(l.pa.oq.hw(),l.pa.oq.ee.tk())},10);this.ba.$d.ka("copper_trace",function(){l.pa.Lk.sY(l.ba.$d())},10);this.ba.Tm.ka("copper_trace",function(){l.pa.Lk.rY(l.ba.Tm())},10);l.ba.selection.kc("removability",function(){k()},10);l.ba.selection.Tc("removability",function(){k()},10);l.ba.gJ.ka("view",function(){var a=l.ba.PP(),b=l.ba.gJ();null!==a&&null!=b?l.fB(a.lb(),a.pb(),
b.lb(),b.pb(),2/l.ba.ab()):l.Wl()},10);this.ba.cy.ka("view",function(){l.ba.sk()&&l.pa.oq.rB()},10);l.ba.origin().Pt.ka("view",function(){l.pa.jq.C2()},10);l.ba.sH.ka("view",function(a,b,c){l.svg.change(l.Vq.yd,{"fill-opacity":c?0:.25});l.pa.jq.B2()},10);l.ba.FI.ka("inspector",function(a,b,c){c?l.origin.Nd():l.origin.Vg()})}bj.prototype=inherit(yd.prototype);f=bj.prototype;f.constructor=bj;f.fB=function(a,b,c,d,e){this.Wl();this.line=this.svg.line(this.zi,a,b,c,d,{fill:"blue",stroke:"blue",strokeWidth:e})};
f.Wl=function(){$(this.line).remove()};f.zt=function(){return new ek};f.pg=function(){var a=new w,b;for(b in p)a.put(p[b],new S(p[b],!0,p[b],!0));return a};
f.zl=function(a){"undefined"==typeof this.JJ&&(this.JJ=Dh.Rr);var b=this.me.get(this.JJ),c=this.me.get(a);a==Dh.Am?($(this.cm.yd).insertBefore(this.Ub.get(p.Xf).sa),$(this.cm.Nh).insertBefore(this.Ub.get(p.Oz).sa),this.svg.change(this.cm.yd,{opacity:1}),this.svg.change(this.tj.yd,{opacity:.1})):a==Dh.Rr?($(this.tj.yd).insertBefore(this.Ub.get(p.Xf).sa),$(this.tj.Nh).insertBefore(this.Ub.get(p.Oz).sa),this.svg.change(this.cm.yd,{opacity:.1}),this.svg.change(this.tj.yd,{opacity:1})):(this.svg.change(this.cm.yd,
{opacity:.1}),this.svg.change(this.tj.yd,{opacity:.1}));this.svg.change(b.yd,{opacity:.5});this.svg.change(c.yd,{opacity:1});$(c.yd).insertBefore(this.Ub.get(p.Dv).sa);$(c.Nh).insertBefore(this.Ub.get(p.Hg).sa);var d=[];this.me.forEach(function(a,b){d[b.Uh]=b});this.pa.CJ.R0(d);this.pa.CJ.j1(a);this.JJ=a};f.ye=function(){var a=this;pf(this.data).forEach(function(b){b.kt();fk(b.Wa(a))})};
function li(a){Ed(a);a.eg();a.mode==R&&(qf(a.data,!0).forEach(function(a){for(var c=new w,d=0;d<a.root.ud();d++){var e=Lg(a,d);c.put(d,e)}a.PH=c}),a.kq(!0))}f.eg=function(){2==this.mode&&this.d8.reset();this.origin=new Fd(this,this.ba.origin(),this.bC.yd,this.bC.Nh);this.VJ=this.ef.pJ(this,this.data,this,this.Cx);this.VJ.OC(!0);this.ye()};var Kh=0,fi=1,gi=2,hi=3;var gk={ix:function(a){var b=this;if(b.aa.RO){this.ph=new y;this.rH=new y;this.lC=!0;b.aa.Gt||(b.aa.Gt=new y);b.aa.Gt.add(this);b.aa.ph||(b.aa.ph=new y);b.data.root.fc("drc",b.SN,b,[],"drc"+Ia(b));for(var c=0;c<a.length;c++){var d=function(){b.data.root.fc("drc",b.SN,b,[],"drc"+Ia(b));b.constructor===Ih&&b.data.xe&&b.data.root.fc("drc",b.nY,b,[],"drc_poly")},e=a[c];e.Ij()?e.ka("drc"+Ia(b),d,10):e.Xg()&&(e.kc("drc"+Ia(b),d,10),e.Tc("drc"+Ia(b),d,10))}b.data.Hk("drc"+Ia(b),function(a){a.Wa(b.aa).hR();
b.aa.Gt.remove(b)},10)}},hR:function(){this.ph.forEach(function(a){a.ty&&a.ty.ph.remove(a);a.uy&&a.uy.ph.remove(a);$(a.rj).attr("title","destroy");$(a.rj).tipsy({gravity:"n",offset:3});$(a.rj).remove()})},W0:function(){this.rH.forEach(function(a){a.ty&&a.ty.ph.remove(a);a.uy&&a.uy.ph.remove(a);$(a.rj).attr("title","destroy");$(a.rj).tipsy({gravity:"n",offset:3});$(a.rj).remove()})},nY:function(){var a=this;a.lC=!0;a.aa.ph.forEach(function(a){$(blobinfo.rj).attr("title","destroy");$(a.rj).tipsy({gravity:"n",
offset:3});$(a.rj).remove()});a.aa.ph=new y;for(var b in Dh){var c=Dh[b],d=a.aa.me.get(c),e=new jsts.index.strtree.STRtree;qf(a.aa.data,!0).forEach(function(a){a.PH.get(c).forEach(function(b){b.Ra=a;e.insert(b.getEnvelopeInternal(),b)})});qf(a.aa.data,!0).forEach(function(b){b.PH.get(c).forEach(function(b){for(var c=b.buffer(Gc.ci),k=e.query(c.getEnvelopeInternal()),r=0;r<k.length;r++){var t=k[r];if(b.Ra!==t.Ra&&c.intersects(t)){a.lC=!1;var t=c.intersection(t).buffer(500).getCoordinates(),t=mc(new $b(t),
a.aa.svg,a.aa.Ht.yd),v={};v.rj=t;a.aa.ph.add(v);v=d.name.charAt(0).toUpperCase()+d.name.slice(1);$(t).attr("title",v+" layer polygons are too close together for manufacturing. Drag them further apart.");$(t).tipsy({gravity:"n",offset:3})}}})})}},RN:function(){this.W0();if(this.data.tb())for(var a in Dh){var b=this.data.Wt.get(Dh[a]);if(b.Fj){var b=b.Fj,c=this.data.root.outline().Jd().buffer(-Gc.XP);c.covers(b)||(b=b.difference(c).buffer(500),b=mc(new $b(b),this.aa.svg,this.aa.Ht.yd),c={},c.rj=b,c.ty=
this,c.uy=null,this.rH.add(c))}}},SN:function(){this.lC=!0;this.RN();this.hR();if(this.data.tb())for(var a in Dh){var b=Dh[a],c=this.aa.me.get(b),d=this.data.Wt.get(b),e=this.data.root.Ot().get(b);if(d.Fj)for(var d=d.Fj.buffer(Gc.ci),e=e.quadtree.query(d.getEnvelopeInternal()),k=0;k<e.length;k++){var l=e[k],n=l.Wt.get(b);if(this.data!==l){var q=this.data.Ra()?Hg(this.data.Ra()):null,r=l.Ra()?Hg(l.Ra()):null;q===r&&q&&r||!d.intersects(n.Fj)||(this.lC=!1,n=d.intersection(n.Fj).buffer(500).getCoordinates(),
n=mc(new $b(n),this.aa.svg,this.aa.Ht.yd),q={},q.rj=n,q.ty=this,q.uy=l.Wa(this.aa),this.ph.add(q),l.Wa(this.aa).ph.add(q),q=c.name.charAt(0).toUpperCase()+c.name.slice(1),this.data.constructor!=hf&&l.constructor!=hf?$(n).attr("title",q+" layer nets are too close together for manufacturing. Drag them further apart."):this.data.constructor==hf&&l.constructor==hf?$(n).attr("title","Drills are too close together for manufacturing. Drag them further apart."):$(n).attr("title",q+" layer net is too close to drill for manufacturing. Drag them further apart."),
$(n).tipsy({gravity:"n",offset:3,zoom_stuff:this.aa.el}))}}}var t=!1;this.aa.Gt.forEach(function(a){0!==a.ph.size()&&(t=!0);0!==a.rH.size()&&(t=!0)});0!==this.aa.ph.size()&&(t=!0);this.aa.data.kq(t)}};var ik={JB:function(){this.oj=this.Gm=!1;this.Dq=!0},Jd:function(){return null},yR:function(){var a=this;a.data.root.fc("update_nets",a.wa,a,[],a.data.Rb);a.Ha()&&a.data.root.fc("update_ratsnest",a.Ha().Xm,a.Ha(),[!0],a.Ha().data.Rb);a.data.Oe.forEach(function(b){var c=b.Wa(a.aa);c&&c.wa&&a.data.root.fc("update_nets",c.wa,c,[],b.Rb);c&&c.Ha&&c.Ha()&&a.data.root.fc("update_ratsnest",c.Ha().Xm,c.Ha(),[!0],c.Ha().data.Rb)})},Rj:function(a){this.Gm=a},ZZ:function(){return this.Gm},dK:function(a){this.oj=
a},Af:function(a){this.data.Af(a.data)},Ha:function(){return null!==this.data.Ha()?this.data.Ha().Wa(this.aa):null},Ug:function(){return this.data.Ug()},uA:function(a){this.data.uA(a.data)},BC:function(a){this.data.BC(a.data)},Sh:function(){var a=this,b=new y;this.data.Oe.forEach(function(c){b.add(c.Wa(a.aa))});return b},hP:function(){var a=this,b=new y;this.data.Oe.forEach(function(c){c.constructor===Gf&&b.add(c.Wa(a.aa))});return b}};function jk(a,b,c){function d(){e.data.tb()&&(e.wa(),kk(e),e.aa.pa&&jj(e.aa.pa),e.data.parent().Ja.forEach(function(a,b){b.Wa(e.aa)&&b.Wa(e.aa).yR()}));e.data.root.fc("poly",e.aa.ye,e.aa,[],"poly")}var e=this;mj.call(this,a,b,0,c);this.data.nd(a,this);this.la=this.data.parent().wb().device;for(a=0;a<this.data.wb().pads_attributes.length;a++)b=this.data.wb().pads_attributes[a],c=e.aa.ef.g0(e,b,Ff(this.data.parent(),b.id)),this.Ja.add(c),this.hu.put(b.name,c);e.wa();this.data.eb.ka(this,d,10);this.data.Oa.ka(this,
d,10);this.data.hb.ka(this,d,10);this.data.parent().name.ka(this,d,10);this.data.Hk(e,function(){e.aa.pa&&jj(e.aa.pa);e.aa.te.hide()},10);d()}jk.prototype=inherit(mj.prototype);f=jk.prototype;f.constructor=jk;
f.wa=function(){$(this.Zc.get(p.Lg).sa).empty();$(this.Zc.get(p.Di).sa).empty();var a=this.data.wb().outline;a&&("<g>"!==a.substr(0,3)?(a=$.parseJSON(a),a=new $b(a),1===this.data.hb()?this.aa.svg.add(this.Zc.get(p.Lg).sa,a.toSVG(!1,!0,50)):this.aa.svg.add(this.Zc.get(p.Di).sa,a.toSVG(!1,!0,50))):1===this.data.hb()?this.aa.svg.add(this.Zc.get(p.Lg).sa,a):this.aa.svg.add(this.Zc.get(p.Di).sa,a));this.setTransform();kk(this);this.Ja.forEach(function(a){a.wa()})};
f.pg=function(){var a=new w;this.aa.me.forEach(function(b,c){a.put(c.Fg,new S(c.Fg,!1,c.Fg,!0));a.put(c.rh,new S(c.rh,!1,c.rh,!0))});a.put(p.Lg,new S(p.Lg,!0,p.Lg,!0));a.put(p.Xf,new S(p.Xf,!1,p.Xf,!0));a.put(p.es,new S(p.es,!1,p.es,!0));a.put(1E3,new S(1E3,!0,p.Lg,!1));a.put(p.Hg,new S(p.Hg,!1,p.Hg,!0));a.put(p.Di,new S(p.Di,!1,p.Di,!0));a.put(1001,new S(1001,!0,p.Di,!1));return a};
function kk(a){var b;$(a.Zc.get(1E3).sa).empty();$(a.Zc.get(1001).sa).empty();1===a.data.hb()?b=a.aa.svg.group(a.Zc.get(1E3).sa):(b=a.aa.svg.group(a.Zc.get(1001).sa),a.aa.svg.change(b,{transform:"scale(-1,1)"}));var c=a.data.parent().wb().device.base;"nolabel"!=c&&"LABELNO"!=c&&(c=a.data.parent(),c=Dc(ug(c)),a.aa.svg.add(b,c))}f.Ec=function(){return this.data.eb()};
f.Nd=function(){var a=[{label:"Name",type:Md,Id:this.data.parent().Dl},{label:"Layer",type:Rd,Id:this.data.hb,list:this.data.C_}];if(this.data.parent().isToplevel()){var b=new G(H.yL,this.data.parent());a.push({label:"Change Footprint",type:Sd,kY:b})}Hd(this.aa.te,a,{name:this.la.name,version_root_id:this.la.rD,summary:this.la.summary})};f.Ac=function(a){var b=this;this.Zc.forEach(function(c,d){a?b.aa.svg.change(d.sa,{stroke:"#3b8ed7"}):b.aa.svg.change(d.sa,{stroke:""})})};function lk(a,b,c,d){var e=this;this.aa=a;this.data=b;this.data.nd(a,this);this.cg(c);this.Cx=d;this.Ml=!1;this.elements=new y;this.Aa=this.data.Aa?this.data.Aa():this.data;this.eg(this.Aa);this.Aa.Bb.kc(e,function(a,b){if(b.Fb()){var c=e.aa.ef.dQ(e.aa,b.Fb(),e);e.data.root.fc("poly",e.aa.ye,e.aa,[],"poly");e.add(c);e.aa.pa&&jj(e.aa.pa)}b.Rd()&&(c=e.aa.ef.pJ(e.aa,b.Rd(),e,!1),e.data.root.fc("poly",e.aa.ye,e.aa,[],"poly"),e.add(c),e.aa.pa&&jj(e.aa.pa))});this.Aa.Bb.Tc(e,function(a,b){b.Fb()&&(b.Fb().Wa(e.aa).Md(),
e.data.root.fc("poly",e.aa.ye,e.aa,[],"poly"),e.aa.pa&&jj(e.aa.pa))});this.Aa.ed.kc(e,function(a,b){var c=e.aa.ef.eQ(e.aa,b,e);e.add(c);e.aa.pa&&jj(e.aa.pa)});this.Aa.ed.Tc(e,function(a,b){b.Wa(e.aa).remove();e.aa.pa&&jj(e.aa.pa)});this.Aa.zj.kc(e,function(a,b){var c=new mk(e.aa,b,e);e.data.root.fc("poly",e.aa.ye,e.aa,[],"poly");e.add(c);e.aa.pa&&jj(e.aa.pa)});this.Aa.zj.Tc(e,function(a,b){b.Wa(e.aa).Md();e.data.root.fc("poly",e.aa.ye,e.aa,[],"poly");e.aa.pa&&jj(e.aa.pa)});this.Aa.outline.ka(e,function(a,
b,c){b.Wa(e.aa)&&b.Wa(e.aa).Md();c&&(c.constructor==sf?(a=new nk(e.aa,c),e.add(a)):c.constructor==Oe&&(a=new ok(e.aa,c),e.add(a)));e.data.root.fc("poly",e.aa.ye,e.aa,[],"poly");e.aa.pa&&jj(e.aa.pa)})}extend(lk,Jd);f=lk.prototype;
f.eg=function(a){a||(a=this.data);var b=this;a.Bb.forEach(function(c){try{if(c.Fb()){var d=b.aa.ef.dQ(b.aa,c.Fb(),b);b.add(d)}if(c.Rd()){var e=b.aa.ef.pJ(b.aa,c.Rd(),b,!1);b.add(e)}}catch(k){console.log("Removing broken device"),a.Bb.remove(c)}});a.ed.forEach(function(a){a=b.aa.ef.eQ(b.aa,a,b);b.add(a)});a.zj.forEach(function(a){a=new mk(b.aa,a,b);b.add(a)});[{Vd:a.hh().elements,Kl:[p.Lg,p.gG,p.IE,p.JE]},{Vd:a.Lh().elements,Kl:[p.Di,p.ND,p.IE,p.JE]}].forEach(function(a){b.xj(Xd,a.Vd,Be,a.Kl);b.xj(ae,
a.Vd,Ge,a.Kl);b.xj(ge,a.Vd,Je,a.Kl);b.xj(he,a.Vd,Le,a.Kl);b.xj(ne,a.Vd,Ce,a.Kl);b.xj(je,a.Vd,He,a.Kl);b.xj(pe,a.Vd,Ke,a.Kl);b.xj(re,a.Vd,Me,a.Kl)});!0===this.Cx&&new ok(b.aa,a.outline())};f.add=function(a){this.elements.add(a)};f.Jc=function(a){this.u1(this.By.add(a))};f.rotate=function(a){var b=this.Aa.yl();this.Aa.rotate(a,b)};f.Ac=function(a){this.elements.forEach(function(b){b.Ac(a)})};f.OC=function(a){this.Ml=a};
f.Ec=function(){var a=new y;this.elements.forEach(function(b){b.Ec&&a.add(b)});var b=a.collect(function(a){return a.Ec()});return(new ec(b)).yl()};function mk(a,b,c){var d=this;this.aa=a;this.data=b;this.data.nd(a,this);this.ix([this.data.ya,this.data.val,this.data.Bd]);this.cg(c);this.Pa=this.Sc(p.Hg).sa;this.aa.mode==R&&$(this.Pa).mousedown(function(a){return d.bc(a)});this.selected=this.oj=!1;this.wa();this.data.val.ka(d,function(){d.data.tb()&&(d.wa(),d.aa.pa&&jj(d.aa.pa));d.data.root.fc("poly",d.aa.ye,d.aa,[],"poly")},10);this.data.Bd.ka(d,function(){d.data.tb()&&(d.wa(),d.aa.pa&&jj(d.aa.pa));d.data.root.fc("poly",d.aa.ye,d.aa,[],"poly")},
10);this.data.ya.ka(d,function(){d.data.tb()&&(d.wa(),d.aa.pa&&jj(d.aa.pa));d.data.root.fc("poly",d.aa.ye,d.aa,[],"poly")},10)}extend(mk,gk);extend(mk,Jd);f=mk.prototype;f.pg=function(){var a=new w;a.put(p.Xf,new S(p.Xf,!1,p.Xf,!0));a.put(p.Hg,new S(p.Hg,!1,p.Hg,!0));return a};f.Jd=function(a,b){return this.data.Jd(a,b)};f.remove=function(){this.aa.data.zj.remove(this.data)};f.Ge=function(a){this.data.ya(a)};f.Yb=function(){return this.data.ya()};f.Ec=function(){return this.Yb()};f.lb=function(){return this.data.lb()};
f.pb=function(){return this.data.pb()};f.rotate=function(a,b){this.data.ya(this.data.ya().rotate(a,b))};f.rP=function(){return this.oj};f.dK=function(a){this.oj=a};
f.wa=function(){this.fI();var a=this.Sc(p.Xf).sa;this.aa.svg.circle(a,this.data.ya().lb(),this.data.ya().pb(),this.data.Gf()/2);var a=this.Sc(p.Hg).sa,b=.8/this.aa.ba.ab(),c=this.data.Gf()/2+this.data.Gf()/2/5;this.control=this.aa.svg.circle(a,this.data.ya().lb(),this.data.ya().pb(),this.data.Gf()/2,{fill:"#11181f"});this.aa.svg.circle(a,this.data.ya().lb(),this.data.ya().pb(),this.data.Gf()/2,{stroke:"#ffa210","stroke-width":b});this.aa.svg.line(a,this.data.ya().lb()-c,this.data.ya().pb(),this.data.ya().lb()+
c,this.data.ya().pb(),{stroke:"#ffa210","stroke-width":b});this.aa.svg.line(a,this.data.ya().lb(),this.data.ya().pb()-c,this.data.ya().lb(),this.data.ya().pb()+c,{stroke:"#ffa210","stroke-width":b});this.Ac(this.selected)};f.bc=function(a){a=(new G(H.gc,this.data,a)).data("mouseCoord",Bd(this.aa,a));return this.aa.Ea.handle(a)};f.Nd=function(){this.vi.Ml&&Hd(this.aa.te,[{label:"Diameter",type:Id,Id:this.data.AY,Ey:this.data.zY,list:this.data.Iu}],{name:"Drillhole"})};function pk(a,b,c){var d=this;d.aa=a;d.vi=c;nj.call(this,a,b,this.pg());this.yC=this.Ej.get(p.Zo).sa;this.kq=this.Ej.get(p.Yr).sa;this.me=new w;for(var e in Dh)a=Dh[e],b=this.aa.me.get(a).Fg,this.me.put(a,this.Ej.get(b).sa);this.data.jb.forEach(function(a){new Ih(d.aa,a,d.vi)});this.data.ge.forEach(function(a){new qk(d.aa,a,d.vi)});this.data.Of.forEach(function(a){new rk(d.aa,a)});this.wa();this.data.fd.kc(d,function(a,b){d.wa();b.Ja.kc(d,function(){d.data.tb()&&d.wa();d.aa.pa&&jj(d.aa.pa)},10);b.Ja.Tc(d,
function(){d.data.tb()&&d.wa();d.aa.pa&&jj(d.aa.pa)},10)},10);this.data.fd.qQ(d,function(a,b,c){d.wa();var e=c.ti().Wa(d.aa);e.wa();d.aa.pa&&jj(d.aa.pa);b.Fe(d);b.Ja.kc(e,function(){e.wa();d.aa.pa&&jj(d.aa.pa)},10);b.Ja.Tc(e,function(){e.wa();d.aa.pa&&jj(d.aa.pa)},10)},10);this.data.jb.kc(d,function(a,b){var c=new Ih(d.aa,b,d.vi);d.data.root.fc("update_nets",c.wa,c,[],b.Rb);d.data.root.fc("update_ratsnest",d.Xm,d,[!0],d.Rb);d.data.root.fc("poly",d.aa.ye,d.aa,[],"poly");d.aa.pa&&jj(d.aa.pa)},10);this.data.jb.Tc(d,
function(a,b){b.Wa(d.aa).Ac(!1);b.Wa(d.aa).Md();d.data.root.fc("poly",d.aa.ye,d.aa,[],"poly");d.aa.pa&&jj(d.aa.pa)},10);this.data.ge.kc(d,function(a,b){var c=new qk(d.aa,b,d.vi);d.data.root.fc("update_nets",c.wa,c,[],b.Rb);d.data.root.fc("update_ratsnest",d.Xm,d,[!0],d.Rb);d.data.root.fc("poly",d.aa.ye,d.aa,[],"poly");d.aa.pa&&jj(d.aa.pa)},10);this.data.ge.Tc(d,function(a,b){b.Wa(d.aa).Md();d.data.root.fc("poly",d.aa.ye,d.aa,[],"poly");d.aa.pa&&jj(d.aa.pa)},10);this.data.Of.kc(d,function(a,b){var c=
new rk(d.aa,b);d.data.root.fc("update_nets",c.wa,c,[],b.Rb);d.data.root.fc("update_ratsnest",d.Xm,d,[!0],d.Rb);d.data.root.fc("poly",d.aa.ye,d.aa,[],"poly");d.aa.pa&&jj(d.aa.pa)},10);this.data.Of.Tc(d,function(){d.data.root.fc("poly",d.aa.ye,d.aa,[],"poly");d.aa.pa&&jj(d.aa.pa)},10)}pk.prototype=inherit(nj.prototype);f=pk.prototype;f.constructor=pk;
f.pg=function(){var a=new w;a.put(p.Yr,new S(p.Yr,!1,p.Yr,!0));a.put(p.Zo,new S(p.Zo,!1,p.Zo,!0));this.aa.me.forEach(function(b,c){a.put(c.Fg,new S(c.Fg,!1,c.Fg,!0));a.put(c.rh,new S(c.rh,!1,c.rh,!0))});return a};f.Ac=function(a){var b=new y;b.ib(this.data.jb);b.ib(this.data.ge);b.ib(this.data.Of);b.forEach(function(b){b.Wa(self.aa).Ac(a)})};f.Jc=function(a){var b=new y;b.ib(this.data.jb);b.ib(this.data.ge);b.ib(this.data.Of);b.forEach(function(b){b.Wa(self.aa).Jc(a)})};
f.rotate=function(a,b){var c=new y;c.ib(this.L8);c.ib(this.ge);c.ib(this.Of);c.forEach(function(c){c.rotate(a,b)})};f.TH=function(a){this.data.jb.remove(a.data)};f.DO=function(a){this.data.ge.remove(a.data)};f.wa=function(){var a=this;oj(this);Ig(this.data)&&this.Xm();this.data.jb.forEach(function(b){b.Wa(a.aa).wa()});this.data.ge.forEach(function(b){b.Wa(a.aa).wa()});Jg(this.data).forEach(function(b){b.Wa(a.aa).wa()})};
function fk(a){a.me.forEach(function(a,c){$(c).empty()});a.data.Jx.forEach(function(b,c){c.forEach(function(c){a.aa.DC?vc(c.vu.jh(),a.aa.svg,a.me.get(b),{opacity:1}):vc(c.vu.jh(),a.aa.svg,a.me.get(b),{opacity:.5})})});Ig(a.data)&&a.Xm()}
f.Xm=function(){var a=this;if(0!=Eg(a.data).size()+Jg(a.data).size()){var b=new Pa(function(a){return a.toString()});Eg(this.data).forEach(function(a){a.Hl()&&Ta(b,a.Be())});a.data.ge.forEach(function(a){Ta(b,a.Be())});a.data.jb.forEach(function(a){if(!a.xe()){var c=[];a.Oe.forEach(function(d){d=a.$e(d);null!==d&&(c.push(d),Ta(b,d))});var d=a.Ae();c.sort(function(a,b){return d.xg(a)-d.xg(b)});for(var n=0;n<c.length-1;n++)Za(b,c[n],c[n+1])}});Jg(this.data).forEach(function(a){Eg(a).forEach(function(a){a.Hl()&&
Ta(b,a.Be())});a.jb.forEach(function(a){var c=[];a.Oe.forEach(function(d){d=a.$e(d);null!==d&&(c.push(d),Ta(b,d))});var d=a.Ae();c.sort(function(a,b){return d.xg(a)-d.xg(b)});for(var e=0;e<c.length-1;e++)Za(b,c[e],c[e+1])})});a.data.Jx.forEach(function(c,d){d.forEach(function(c){if(0<c.Pn.size()){var d=c.vu.outline[0];Ta(b,d);c.Pn.forEach(function(c){c.constructor!==Gf?c.Wa(a.aa)&&(c=c.Wa(a.aa).Ec(),Ta(b,c),Za(b,d,c)):(c=Qg(c),Ta(b,c[0]),Za(b,d,c[0]),Ta(b,c[1]),Za(b,d,c[1]))})}})});var c=$a(b),d=
new Pa;c.forEach(function(a){Ta(d,a)});d.bn(function(a,b){var c=a.element,n=b.element,q=Number.MAX_VALUE,r=null,t=null;Wa(c,function(a){Wa(n,function(b){var c=Math.sqrt(Math.pow(a.element.x-b.element.x,2)+Math.pow(a.element.y-b.element.y,2));c<q&&(q=c,r=a,t=b)})});Za(d,c,n,q,{Tb:r.element,end:t.element})});c=ab(d);$(a.kq).empty();$(a.yC).empty();Xa(c,function(b){a.aa.svg.line(a.kq,b.data.Tb.x,b.data.Tb.y,b.data.end.x,b.data.end.y,{stroke:"green",strokeWidth:"1000","stroke-linecap":"round",opacity:"0.3"});
a.aa.svg.line(a.yC,b.data.Tb.x,b.data.Tb.y,b.data.end.x,b.data.end.y,{stroke:"green",strokeWidth:"200","stroke-linecap":"round"})})}};function nk(a,b){var c=this;this.aa=a;this.data=b;this.data.nd(a,this);this.$d=10;var d=this.aa.Vq;this.sa=this.aa.svg.group(d.yd);this.Pa=this.aa.svg.group(d.Nh);this.Qn=new sk(this.aa,this,this.data.Cd,new J(1,0));this.Wm=new sk(this.aa,this,this.data.le,new J(1,0));this.left=new sk(this.aa,this,this.data.Cd,new J(0,1));this.right=new sk(this.aa,this,this.data.le,new J(0,1));this.Ek=this.aa.svg.group(this.aa.tj.yd);this.aa.mode==R&&$(this.sa).mousedown(function(a){return c.bc(a)});this.Qn.zw=this.left;
this.Qn.Aw=this.right;this.left.zw=this.Wm;this.left.Aw=this.Qn;this.Wm.zw=this.right;this.Wm.Aw=this.left;this.right.zw=this.Qn;this.right.Aw=this.Wm;this.oj=!1;c.wa();this.data.Cd.ka(c,function(){c.wa();c.aa.origin.wa();c.data.root.fc("poly",c.aa.ye,c.aa,[],"poly");c.aa.pa&&jj(c.aa.pa)},10);this.data.le.ka(c,function(){c.wa();c.aa.origin.wa();c.data.root.fc("poly",c.aa.ye,c.aa,[],"poly");c.aa.pa&&jj(c.aa.pa)},10)}f=nk.prototype;
f.Md=function(){$(this.sa).remove();$(this.Pa).remove();this.Qn.Md();this.Wm.Md();this.left.Md();this.right.Md()};f.rP=function(){return this.oj};f.dK=function(a){this.oj=a};f.wa=function(){this.Qn.wa();this.left.wa();this.Wm.wa();this.right.wa();$(this.Ek).empty();this.aa.svg.add(this.Ek,yc.zI(this.data.Pe()));this.aa.DC||this.aa.svg.change(this.Ek,{opacity:.25})};f.bc=function(a){if("idle"!=this.aa.state())return!0;a=Fb(new G(H.gc),a).element(this.data).data("mouseCoord",Bd(this.aa,a));return this.aa.Ea.handle(a)};
function sk(a,b,c,d){this.aa=a;this.outline=b;this.ya=c;this.direction=d;this.Aw=this.zw=null;this.sa=this.aa.svg.group(this.aa.Vq.yd);this.Pa=this.aa.svg.group(this.aa.Vq.Nh);this.aa.mode==R&&$(this.Pa).mousedown(function(a){return self.bc(a)});this.selected=!1}f=sk.prototype;f.Ge=function(a){this.ya(a)};f.Yb=function(){return this.ya()};f.pr=function(a){this.direction(a)};f.Qe=function(){return this.direction()};f.Ae=function(){return new M(this.direction,this.ya())};
f.Md=function(){$(this.sa).remove();$(this.Pa).remove()};f.wa=function(){$(this.sa).empty();$(this.Pa).empty();var a=this.Ae().intersection(this.zw.Ae()),b=this.Ae().intersection(this.Aw.Ae());this.aa.svg.line(this.sa,a.lb(),a.pb(),b.lb(),b.pb(),{"stroke-linecap":"round",strokeWidth:this.$d});this.aa.svg.line(this.Pa,a.lb(),a.pb(),b.lb(),b.pb(),{"stroke-linecap":"round",strokeWidth:10*this.$d})};
f.bc=function(a){return"idle"===this.aa.state()?(a=(new G(H.gc,this.data,a)).data("mouseCoord",Bd(this.aa,a)),this.aa.Ea.handle(a)):!0};f.Jc=function(a){this.ya(this.ya().add(Sb(this.direction).Qb(a.dot(Sb(this.direction)))))};f.Ac=function(){};
f.td=function(){var a=new P;this===this.outline.Qn&&a.add(new M(Ub,this.outline.Qn.Yb()),1);this===this.outline.Wm&&a.add(new M(Ub,this.outline.Wm.Yb()),1);this===this.outline.left&&a.add(new M(Vb,this.outline.left.Yb()),1);this===this.outline.right&&a.add(new M(Vb,this.outline.right.Yb()),1);return a};function Ih(a,b,c){var d=this;this.aa=a;this.data=b;this.data.nd(a,this);this.ix([this.data.direction,this.data.ya,this.data.$d,this.data.dg,this.data.Ra,this.data.Oe]);this.JB();this.cg(c);this.error=this.$f=!1;a=this.aa.me.get(this.af());this.Mq=this.aa.svg.group(a.yd);this.Pa=this.aa.svg.group(a.Nh);a=this.aa.me.get(this.af());$(this.Zc.get(a.Fg).sa).append(this.Mq);$(this.Zc.get(a.rh).sa).append(this.Pa);this.aa.mode==R&&$(this.Pa).mousedown(function(a){return d.bc(a)});this.selected=!1;this.data.$d.ka(d,
function(){d.data.tb()&&(d.wa(),d.data.root.fc("poly",d.aa.ye,d.aa,[],"poly"),d.aa.pa&&jj(d.aa.pa))},10);this.data.$f.ka(d,function(){var a=d.data.$f();d.$f=a;tk(d)},10);this.data.ya.ka(d,function(){d.yR();d.data.root.fc("poly",d.aa.ye,d.aa,[],"poly");d.aa.pa&&jj(d.aa.pa)},10);this.data.dg.ka(d,function(){d.data.root.fc("poly",d.aa.ye,d.aa,[],"poly");var a=d.aa.me.get(d.af());$(d.Zc.get(a.Fg).sa).append(d.Mq);$(d.Zc.get(a.rh).sa).append(d.Pa);d.aa.pa&&jj(d.aa.pa)},10)}extend(Ih,gk);extend(Ih,ik);
extend(Ih,Jd);f=Ih.prototype;f.pg=function(){var a=new w;this.aa.me.forEach(function(b,c){a.put(c.Fg,new S(c.Fg,!1,c.Fg,!0));a.put(c.rh,new S(c.rh,!1,c.rh,!0))});return a};f.Jd=function(a,b){return this.data.Jd(a,b)};f.RC=function(a){this.data.RC(a)};f.vh=function(){return this.data.vh()};f.af=function(){return this.data.af()};f.pr=function(a){this.data.pr(a)};f.Qe=function(){return this.data.Qe()};f.$e=function(a){return this.data.$e(a.data)};f.WI=function(a){return this.data.WI(a.data)};
f.bc=function(a){a=(new G(H.gc,this.data,a)).data("mouseCoord",Bd(this.aa,a));return this.aa.Ea.handle(a)};
f.wa=function(){$(this.Mq).empty();$(this.Pa).empty();var a=Qg(this.data);this.aa.me.get(this.af());var b=this.vh();this.data.xe()&&(b=200);this.data.xe()?this.aa.DC||(this.line=this.aa.svg.line(this.Mq,a[0].lb(),a[0].pb(),a[1].lb(),a[1].pb(),{"stroke-dasharray":"300 300","stroke-linecap":"round",strokeWidth:b})):this.line=this.aa.svg.line(this.Mq,a[0].lb(),a[0].pb(),a[1].lb(),a[1].pb(),{"stroke-linecap":"round",strokeWidth:b});this.data.$f()||(this.control=this.aa.svg.line(this.Pa,a[0].lb(),a[0].pb(),
a[1].lb(),a[1].pb(),{"stroke-linecap":"round",strokeWidth:b}))};f.Ac=function(a){this.selected=a;tk(this)};f.Nd=function(){Hd(this.aa.te,[{label:"Thickness",type:Rd,Id:this.data.$d,list:this.data.v2}],{name:"Copper Trace"})};f.QC=function(){this.data.Ha().jb.forEach(function(a){self.data.xe()===a.xe()&&(a.Wa(self.aa).selected=!0,self.aa.ba.selection.add(a.Wa(self.aa)),tk(a.Wa(self.aa)))})};function tk(a){a.selected||a.$f?a.aa.svg.change(a.Mq,{opacity:.5}):a.aa.svg.change(a.Mq,{opacity:1})}
f.rotate=function(a,b){this.Ge(this.Yb().rotate(a,b));this.pr(this.Qe().rotate(a));this.Rj(!0)};function uk(a,b,c){var d=this;pj.apply(this,arguments);this.data.nd(this.aa,this);this.ix([this.data.parent().Fb().eb,this.data.parent().Fb().Oa,this.data.parent().Fb().hb,this.data.Ra]);this.JB();this.Gx=[];this.control=[];for(var e=0;e<this.data.root.ud();e++){var k=this.aa.me.get(e);this.Gx[e]=this.aa.svg.group(this.xf.Zc.get(k.Fg).sa);this.control[e]=this.aa.svg.group(this.xf.Zc.get(k.rh).sa)}this.SO=this.aa.svg.group(this.xf.Zc.get(p.Xf).sa);this.gB=this.aa.svg.group(this.xf.Zc.get(p.Hg).sa);
if(this.aa.mode==R){for(e=0;e<this.control.length;e++)null!==this.control[e]&&$(this.control[e]).mousedown(function(a){return d.bc(a)});null!==this.gB&&$(this.gB).mousedown(function(a){return d.bc(a)})}this.wa()}uk.prototype=inherit(pj.prototype);uk.prototype.constructor=uk;extend(uk,gk);extend(uk,ik);f=uk.prototype;
f.wa=function(){for(var a=0;a<this.data.root.ud();a++)$(this.Gx[a]).empty(),$(this.control[a]).empty();$(this.SO).empty();$(this.gB).empty();if(this.data.tb()){for(a=0;a<this.data.root.ud();a++){var b;this.aa.me.get(a);b=this.data.parent()&&-1===this.data.parent().Fb().hb()?0==a%2?a+1:a-1:a;b=Og(this.data,b);"nopoly"!==b&&(this.aa.svg.add(this.Gx[a],b.toSVG(!0,!1)),this.aa.svg.add(this.control[a],b.toSVG(!0,!1)))}a=this.description.drill;null!==a&&""!==a&&($.parseJSON(a),b=sh(this.data),"nopoly"!==
b&&(this.aa.svg.add(this.SO,b.toSVG(!0,!1)),this.aa.svg.add(this.gB,b.toSVG(!0,!1))));this.aa.t0&&this.control[0]&&(this.jC=this.aa.svg.group(this.xf.Zc.get(p.es).sa),this.aa.svg.text(this.jC,0,0,this.description.name.toString()),this.aa.svg.change(this.jC,{style:"fill: black; text-anchor: middle;font-family: verdana; font-size : 100px;"}),a=nc(this.jC.getBBox(),this.control[0].getBBox()),this.aa.svg.change(this.jC,{transform:" translate("+a.transX+","+a.transY+") scale("+a.scale+","+a.scale+")"}))}};
f.Jd=function(a,b){return this.data.Jd(a,b)};f.lb=function(){return dh(this.data)};f.pb=function(){return eh(this.data)};f.Ec=function(){return this.data.Be()};f.af=function(){return this.data.af()};f.Qe=function(){return 0};f.bc=function(a){a=Fb(new G(H.gc),a).element(this.xf.data).element("subelement",this.data).data("mouseCoord",Bd(this.aa,a));return this.aa.Ea.handle(a)};f.Ac=function(a){var b=this;this.selected=a;this.Gx.forEach(function(a){b.aa.svg.change(a,{opacity:b.selected?.5:1})})};function qk(a,b,c){var d=this;this.aa=a;this.data=b;this.data.nd(a,this);this.ix([this.data.ya,this.data.Gf,this.data.Ra]);this.JB();this.cg(c);this.$_=new y;this.Pa=this.Sc(p.Hg).sa;this.aa.mode==R&&$(this.Pa).mousedown(function(a){return d.bc(a)});this.selected=!1;this.data.ya.ka(d,function(){d.data.root.fc("update_nets",d.wa,d,[],d.data.Rb);d.Ha()&&d.data.root.fc("update_ratsnest",d.Ha().Xm,d.Ha(),[!0],d.Ha().data.Rb);d.data.root.fc("poly",d.aa.ye,d.aa,[],"poly");d.aa.pa&&jj(d.aa.pa)},10);this.data.Hk(d,
function(){d.aa.pa&&jj(d.aa.pa)},10)}extend(qk,gk);extend(qk,ik);extend(qk,Jd);f=qk.prototype;f.pg=function(){var a=new w;this.aa.me.forEach(function(b,c){a.put(c.Fg,new S(c.Fg,!1,c.Fg,!0));a.put(c.rh,new S(c.rh,!1,c.rh,!0))});a.put(p.Xf,new S(p.Xf,!1,p.Xf,!0));a.put(p.Hg,new S(p.Hg,!1,p.Hg,!0));return a};f.Jd=function(a,b){return this.data.Jd(a,b)};f.Ge=function(a){this.data.ya(a)};f.Yb=function(){return this.data.ya()};f.Ec=function(){return this.Yb()};f.xI=function(){return this.data.xI()};
f.lb=function(){return this.data.lb()};f.pb=function(){return this.data.pb()};f.rotate=function(a,b){this.data.ya(this.data.ya().rotate(a,b));this.data.root.fc("update_nets",this.wa,this,[],this.data.Rb)};
f.wa=function(){var a=this;a.fI();var b=this.data.Gf()/2,c=Fc(Gc,this.data.Gf())/2;a.aa.me.forEach(function(b,d){var l=a.Sc(d.Fg).sa;a.$_.add(l);a.aa.svg.circle(l,a.data.ya().lb(),a.data.ya().pb(),c)});var d=a.Sc(p.Xf).sa;a.aa.svg.circle(d,a.data.ya().lb(),a.data.ya().pb(),b);this.control=a.aa.svg.circle(this.Pa,a.data.ya().lb(),a.data.ya().pb(),c);a.Ac(a.selected)};f.bc=function(a){a=(new G(H.gc,this.data,a)).data("mouseCoord",Bd(this.aa,a));return this.aa.Ea.handle(a)};f.Ag=function(){this.data.Ag()};function ek(){}ek.prototype.g0=function(){return ca(uk,arguments)};ek.prototype.dQ=function(){return ca(jk,arguments)};ek.prototype.pJ=function(){return ca(lk,arguments)};ek.prototype.eQ=function(){return ca(pk,arguments)};function vk(a,b,c,d,e){var k=this;this.aa=a;this.data=b;this.data.view=this;this.dg=d;this.MY=e;this.cg(c);this.sa=this.Sc(this.dg).sa;this.Pa=this.Sc(this.MY).sa;this.Ek=this.aa.svg.group(this.sa);this.pP=this.aa.svg.group(this.sa);this.UP=this.aa.svg.group(this.Pa);this.oP=this.aa.svg.group(this.Pa);this.selected=this.oj=!1;this.wa();this.data.width.ka(k,function(){k.data.tb()&&(k.wa(),k.aa.pa&&jj(k.aa.pa))},10);this.data.qb.ka(k,function(){k.data.tb()&&(k.wa(),k.aa.pa&&jj(k.aa.pa))},10);this.data.Oa.ka(k,
function(){k.data.tb()&&(k.wa(),k.aa.pa&&jj(k.aa.pa))},10)}extend(vk,Jd);vk.prototype.wa=function(){$(this.Ek).empty();$(this.UP).empty();this.aa.svg.add(this.Ek,this.data.toSVG());this.aa.svg.add(this.UP,this.data.toSVG())};vk.prototype.QO=function(){};
vk.Ea=function(a,b,c,d,e){void 0==c&&(c=new J(0,0));if(this.sh&&a.type()==H.sm)switch(a.data("which")){case 187:this.sh.gK(this.sh.AI()+1);break;case 189:this.sh.gK(this.sh.AI()-1);break;case 84:this.sh.eK(!this.sh.wI())}switch(this.state){case "idle":if(a.type()==H.of||a.type()==H.gc){this.root.Vb();var k=this.ba.Tg();this.Kc=k.Kc;this.$c=k.$c;this.BJ=!1;this.sh=new $d(this.root,0,Rc(this,this.fP(a)).sub(c),0,e);b.wh()?b.push(this.sh):d(this.sh);this.state="setting_width_height_new_logo";this.sh.view.Ml=
!0}else a.type()==H.Od?Rc(this,this.fP(a)):this.W6(a);break;case "setting_width_height_new_logo":a.type()==H.Od?(a=Rc(this,this.fP(a)).sub(this.sh.qb()),this.sh.width(2*Math.abs(a.lb()))):a.type()==H.He&&(this.state="idle",this.BJ=!0,1E4>=this.sh.width()&&this.sh.width(1E4),this.sh=null,this.root.Xb(),$(this.zi).empty(),this.M7("select"))}};f=vk.prototype;f.remove=function(){this.data.parent().elements.remove(this.data.parent().elements.indexOf(this.data))};f.Md=function(){$(this.sa).remove();$(this.Pa).remove()};
f.Jc=function(a){this.data.qb(this.data.qb().add(a))};f.td=function(){var a=new P;gd(a,this.data.qb());fd(a,this.data.qb());return a};f.bc=function(a){a=Fb(new G(H.gc),a).element(this);this.aa.Ea.handle(a);return!1};
f.st=function(){this.wa();var a=this;this.wa();var b=[];b.push({label:"X",type:circuitsGui.SI.rF,value:a.data.x(),callbacks:[{sg:"focus",Pj:".js-valueInput",Pg:function(){a.data.root.Vb()}},{sg:"keyup",Pj:".js-valueInput",Pg:function(){a.data.x($(this).val())}},{sg:"blur",Pj:".js-valueInput",Pg:function(){a.data.root.Xb()}}]});b.push({label:"Y",type:circuitsGui.SI.rF,value:a.data.y(),callbacks:[{sg:"focus",Pj:".js-valueInput",Pg:function(){a.data.root.Vb()}},{sg:"keyup",Pj:".js-valueInput",Pg:function(){a.data.y($(this).val())}},
{sg:"blur",Pj:".js-valueInput",Pg:function(){a.data.root.Xb()}}]});b.push({label:"width",type:circuitsGui.SI.rF,value:a.data.width(),callbacks:[{sg:"focus",Pj:".js-valueInput",Pg:function(){a.data.root.Vb()}},{sg:"keyup",Pj:".js-valueInput",Pg:function(){a.data.width($(this).val())}},{sg:"blur",Pj:".js-valueInput",Pg:function(){a.data.root.Xb()}}]});b.push({label:"height",type:circuitsGui.SI.rF,value:a.data.height(),callbacks:[{sg:"focus",Pj:".js-valueInput",Pg:function(){a.data.root.Vb()}},{sg:"keyup",
Pj:".js-valueInput",Pg:function(){a.data.height($(this).val())}},{sg:"blur",Pj:".js-valueInput",Pg:function(){a.data.root.Xb()}}]});Kd(this.aa.te,b,{name:"Logo Tool"});this.aa.te.show()};function wk(a,b,c){var d=this;this.aa=a;this.data=b;this.data.nd(a,this);this.cg(c);this.sa=this.Zc.get(p.Lg).sa;this.data.Cd.ka(d,function(){d.wa();d.aa.pa&&jj(d.aa.pa)},10);this.data.le.ka(d,function(){d.wa();d.aa.pa&&jj(d.aa.pa)},10)}extend(wk,Jd);wk.prototype.pg=function(){var a=new w;a.put(p.Lg,new S(p.Lg,!0,p.Lg,!0));return a};wk.prototype.wa=function(){this.fI();var a=this.data,a=(new ec([a.le(),a.Cd()])).Pe().Jd();this.aa.svg.add(this.sa,a.toSVG(!1,!0,100,"400 200"))};
wk.prototype.Jc=function(a){this.data.le(this.data.le().add(a));this.data.Cd(this.data.Cd().add(a));this.wa()};wk.prototype.rotate=function(a,b){this.data.le(this.data.le().rotate(a,b));this.data.Cd(this.data.Cd().rotate(a,b));this.wa()};function rk(a,b){var c=this;this.aa=a;this.data=b;this.data.nd(a,this);this.ix([]);this.JB();this.data.eb.ka(this,function(){c.Rj(!0);c.data.root.fc("poly",c.aa.ye,c.aa,[],"poly")},10)}extend(rk,gk);extend(rk,ik);f=rk.prototype;f.Yb=function(){return this.data.Yb()};f.Ge=function(a){this.data.Ge(a)};f.Ac=function(){};f.Ec=function(){return this.Yb()};f.rotate=function(a,b){this.Ge(this.Yb().rotate(a,b));this.Rj(!0)};f.wa=function(){};(function(a,b){a.Ah=function(a,d){var e=this;e.aa=a;e.Yg=d;e.Tt=!1;-1<navigator.userAgent.toLowerCase().indexOf("chrome")?b(".js-download_pcb_image").click(function(){e.Mw()}):b(".js-download_pcb_image").closest("li").remove()};a.Ah.prototype.hK=function(a){var d=!1;switch(a){case "trace":d=b(".js-trace");break;case "poly":d=b(".js-fill");break;case "via":d=b(".js-via");this.aa.Sl.showHelp("First select a net of wires you want to reference for a via.");break;case "drillhole":d=b(".js-drillhole");
break;case "text":d=b(".js-textTool");this.aa.Sl.showHelp("Click anywhere to add a silkscreen textlabel.");break;case "path":d=b(".js-penTool");this.aa.Sl.showHelp("Click anywhere to add a silkscreen polyline.");break;case "circle":d=b(".js-circleTool");this.aa.Sl.showHelp("Click anywhere to add a silkscreen circle.");break;case "rect":d=b(".js-rectTool"),this.aa.Sl.showHelp("Click anywhere to add a silkscreen rectangle.")}d&&d.addClass("active")};a.Ah.prototype.BH=function(){b(".js-pcb_buttons .active").removeClass("active");
this.Tt&&this.GB()};a.Ah.prototype.showHelp=function(a){b(".js-pcb-menu-info").html(a);this.Tt=!0};a.Ah.prototype.GB=function(){this.Tt=!1;b(".js-pcb-menu-info").html("")};a.Ah.prototype.H1=function(){b(".js-pcb-delete").show()};a.Ah.prototype.e_=function(){b(".js-pcb-delete").hide()};a.Ah.prototype.Mw=function(){a.bI(this.aa.Yg,"#pcbTab","pcb","#000")}})(window.circuitsGui=window.circuitsGui||{},jQuery);(function(a,b){a.gZ=function(){var c=document.URL;"/"==c[c.length-1]&&(c=c.slice(0,-1));var d;b.ajax({type:"GET",url:c+".json",dataType:"json",context:this,success:function(a){d=a},async:!1});try{var e=new Rf,k;k="string"==typeof d?T.JH(d,e):T.JH(JSON.stringify(d),e);Sf(e,k);e.Mj(e.Bk);c="gtl gbl gts gbs gto gbo drl outline".split(" ");for(e=0;e<k.ud()-2;e++)c.push("g"+(e+2)+"l");for(var e={},l=0;l<c.length;l++)e[c[l]]=wf(k,c[l]);b(this).hasClass("oshpark")?(b("#osh_gerbers").val(JSON.stringify(e)),
b("#osh_gerber_form").submit()):(b("#gerbers").val(JSON.stringify(e)),b("#gerber_form").submit())}catch(n){throw new a.error("Gerber generation","Something went wrong during the gerber generation",n),n;}return!1};a.download_gerbers_click=a.gZ})(window.circuitsGui=window.circuitsGui||{},jQuery);(function(a,b){a.jq=function(c,d,e,k){var l=this;l.aa=c;this.Jm=b(a.template(d)).appendTo(e);this.UX=new a.iC(c,".js-drawing_aids",k,H.ML);b(".js-grid-settings",l.Jm).click(function(){l.aa.Ea.handle(H.QL)});b(".js-toggle_grid_visibility",l.Jm).click(function(){l.aa.Ea.handle(H.PL)});b(".js-board-settings",l.Jm).click(function(){l.aa.Ea.handle(H.NL)});b(".js-toggle_board_visibility",l.Jm).click(function(){l.aa.Ea.handle(H.OL)})};a.jq.prototype.C2=function(){b(".js-toggle_grid_visibility .js-eye-active",
this.Jm).toggle();b(".js-toggle_grid_visibility .js-eye-disabled",this.Jm).toggle()};a.jq.prototype.B2=function(){b(".js-toggle_board_visibility .js-eye-active",this.Jm).toggle();b(".js-toggle_board_visibility .js-eye-disabled",this.Jm).toggle()}})(window.circuitsGui=window.circuitsGui||{},jQuery);(function(a,b){a.Lk=function(a,d,e,k){var l=this;l.aa=a;l.oO=b(k);l.nO=b(e);l.mO=b(d);l.oO.on("change",function(){var a=(new G(H.TD)).data("width",b(this).val());l.aa.Ea.handle(a)});l.nO.on("click",function(){var a=(new G(H.Vu)).data("corner",b(this).data("corner"));l.aa.Ea.handle(a)});this.vP()};a.Lk.prototype.L1=function(){this.mO.show()};a.Lk.prototype.vP=function(){this.mO.hide()};a.Lk.prototype.sY=function(a){this.oO.val(a)};a.Lk.prototype.rY=function(a){this.nO.each(function(){b(this).removeClass("sitemenu__svg_block_btn--active");
parseInt(b(this).data("corner"))==a&&b(this).addClass("sitemenu__svg_block_btn--active")})}})(window.circuitsGui=window.circuitsGui||{},jQuery);(function(a,b){a.Ub=function(c,d,e,k){this.aa=c;this.MP=b(a.template(d)).appendTo(e);this.D_=new a.iC(c,".js-layers",k,H.vM)};a.Ub.prototype.R0=function(c){var d=this;c=b(a.template(xk,{layers:c}));b(".js-layers__body",this.MP).html(c);b(".js-layers__layer",c).click(function(){var a=b(this).data("layer"),a=(new G(H.UD)).data("layer",a);d.aa.Ea.handle(a)})};a.Ub.prototype.j1=function(a){b("[data-layer]",this.MP).each(function(d,e){b(e).data("layer")===a&&b(e).addClass("active")})}})(window.circuitsGui=
window.circuitsGui||{},jQuery);function yk(a,b,c){this.aa=a;this.outline=b;this.data=c;this.data.nd(a,this);this.sa=this.aa.svg.group(this.outline.pP);this.Pa=this.aa.svg.group(this.outline.oP);this.eD=new zk(this.aa,this,this.data.n2);this.fD=new zk(this.aa,this,this.data.o2)}f=yk.prototype;f.Md=function(){$(this.sa).remove();$(this.Pa).remove()};
f.wa=function(){var a=this;$(this.sa).empty();$(this.Pa).empty();if(this.outline.data.Ya.Re()){this.eD.wa();this.fD.wa();var b=10/this.aa.ba.ab(),c=1/this.aa.ba.ab();this.aa.svg.rect(this.sa,a.data.ya().x-b/2,a.data.ya().y-b/2,b,b,{fill:this.selected?"#1da750":"none",fillOpacity:1,stroke:"#1da750",strokeWidth:c});b=this.aa.svg.rect(this.Pa,a.data.ya().x-b/2,a.data.ya().y-b/2,b,b,{fill:"red",stroke:"red"});this.aa.mode==R&&$(b).mousedown(function(b){return a.bc(b)})}};
f.Ac=function(a){this.selected=a;this.wa()};f.Ec=function(){return this.data.ya()};f.bc=function(a){a=Fb(new G(H.gc),a).element(this.data).data("mouseCoord",Bd(this.aa,a)).data("notFocusable",!0);return this.aa.Ea.handle(a)};function ok(a,b){var c=this;this.aa=a;this.data=b;this.data.nd(a,this);var d=this.aa.Vq;this.sa=this.aa.svg.group(d.yd);this.Pa=this.aa.svg.group(d.Nh);this.uQ=this.aa.svg.group(this.sa);this.h1=this.aa.svg.group(this.sa);this.pP=this.aa.svg.group(this.sa);this.q0=this.aa.svg.group(this.Pa);this.g1=this.aa.svg.group(this.Pa);this.oP=this.aa.svg.group(this.Pa);this.Ek=this.aa.svg.group(this.aa.tj.yd);this.data.xa.forEach(function(a,b){new yk(c.aa,c,b)});this.data.Ya.jb.forEach(function(a,b){new Ak(c.aa,
c,b)});c.wa();this.data.Ya.jb.kc(c,function(a,b,d){new Ak(c.aa,c,d)});this.data.Ya.jb.Tc(c,function(a,b,d){a=d.Wa(c.aa);a.Md();c.aa.ba.ab.Fe(a);c.data.Fe(a,!0)});this.data.iw.ka(c,function(){c.data.root.fc("poly",c.aa.ye,c.aa,[],"poly");c.data.root.fc("drc",c.mY,c,[],"drc_outline")},10);this.data.xa.md(c,function(){c.wa()},10);this.data.xa.kc(c,function(a,b,d){new yk(c.aa,c,d)},10);this.data.xa.Tc(c,function(a,b,d){a=d.Wa(c.aa);a.Md();c.aa.ba.ab.Fe(a);c.data.Fe(a,!0)},10);this.data.Ya.Re.ka("view",
function(a,b,d){d?c.Nd():c.Vg();c.wa()},10);this.aa.ba.ab.ka(c,function(){c.wa()},10)}f=ok.prototype;f.Md=function(){$(this.sa).remove();$(this.Pa).remove()};f.mY=function(){this.aa.Gt&&this.aa.Gt.forEach(function(a){a.RN()})};
f.BI=function(){var a=new jQuerySvg.SVGPath;if(0<this.data.xa.size()){var b=this.data.xa.get(-1);a.move(b.ya().x,b.ya().y);this.data.xa.forEach(function(c,d){var e=b;b=d;var k=b.ya(),e=e.mode()!==vh?e.yb():e.ya(),l=b.mode()!==vh?b.zb():b.ya();a.curveC(e.x,e.y,l.x,l.y,k.x,k.y)});a.close()}return a};
f.wa=function(){$(this.uQ).empty();$(this.q0).empty();var a=this.BI(this.aa.svg),b=1/this.aa.ba.ab();this.aa.svg.path(this.uQ,a,{strokeWidth:b,opacity:1,"shape-rendering":"optimizeSpeed"});$(this.Ek).empty();this.aa.svg.add(this.Ek,yc.zI(this.data.sj()));this.aa.DC||this.aa.svg.change(this.Ek,{opacity:.2});Bk(this)};function Bk(a){a.data.xa.forEach(function(b,c){c.Wa(a.aa).wa()})}f.Ac=function(a){this.selected=a;this.wa()};f.Qj=function(a){this.data.Ya.Re(a)};
f.Nd=function(){var a=this.data.root.Aa,b=a.GJ;-1==a.GJ.indexOf(a.iu())&&(b=[a.iu()]);Hd(this.aa.te,[{label:"Layers",type:Rd,Id:a.iu,list:b},{label:"Price for 3 boards",type:Nd,Id:a.dY,Bd:"$"}],{name:"PCB Board",summary:"Click on the edges of the board to make it bigger or smaller.<br><br>Double click on an edge to create a new vertex that you can use to make a custom shape. Double click on a vertex to enable bezier handles that allow you to draw curves."})};f.Vg=function(){this.aa.te.hide()};function Ak(a,b,c){var d=this;this.aa=a;this.outline=b;this.data=c;this.data.nd(d.aa,this);this.sa=this.aa.svg.group(this.outline.h1);this.Pa=this.aa.svg.group(this.outline.g1);d.wa();this.data.Tb().ya.ka(d,function(){d.wa()},10);this.data.Tb().yb.ka(d,function(){d.wa()},10);this.data.Tb().mode.ka(d,function(){d.wa()},10);this.data.end().ya.ka(d,function(){d.wa()},10);this.data.end().zb.ka(d,function(){d.wa()},10);this.data.end().mode.ka(d,function(){d.wa()},10);this.aa.ba.ab.ka(d,function(){d.wa()},
10);this.data.k0(d,function(){},10)}f=Ak.prototype;f.Md=function(){$(this.sa).remove();$(this.Pa).remove()};
f.wa=function(){var a=this;$(this.sa).empty();$(this.Pa).empty();var b=this.data.Tb(),c=this.data.end();if(c&&b){var d=c.ya(),e;e=b.mode()!==vh?b.yb():b.ya();var k;k=c.mode()!==vh?c.zb():c.ya();c=this.aa.svg.createPath();c.move(b.ya().x,b.ya().y);c.curveC(e.x,e.y,k.x,k.y,d.x,d.y);b=10/this.aa.ba.ab();b=this.aa.svg.path(this.Pa,c,{fill:"none",stroke:"green",strokeWidth:b,opacity:1});this.aa.mode==R&&$(b).mousedown(function(b){return a.bc(b)})}};f.Ac=function(a){this.outline.Ac(a)};f.Nd=function(){this.outline.Nd()};
f.Vg=function(){this.outline.Vg()};f.Qj=function(a){this.outline.Qj(a)};f.bc=function(a){a=Fb(new G(H.gc),a).element(this.data).data("mouseCoord",Bd(this.aa,a));return this.aa.Ea.handle(a)};function zk(a,b,c){this.aa=a;this.data=c;this.data.nd(a,this);this.handle=b;this.selected=!1;this.wa()}
zk.prototype.wa=function(){var a=this;if(this.data.sD.mode()!==vh){var b=this.data.sD.ya(),c=this.data.Va(),d=10/this.aa.ba.ab(),e=1/this.aa.ba.ab(),k=this.data.LJ||this.data.sD.mode()!=yh?1:.3;this.aa.svg.line(this.handle.sa,b.x,b.y,c.x,c.y,{stroke:"#1da750",opacity:k,strokeWidth:e});this.aa.svg.rect(this.handle.sa,c.x-d/2,c.y-d/2,d,d,{fill:this.selected?"#1da750":"none",fillOpacity:1,stroke:"#1da750",opacity:k,strokeWidth:e});b=this.aa.svg.rect(this.handle.Pa,c.x-d/2,c.y-d/2,d,d,{fill:"red",stroke:"red"});
this.aa.mode==R&&$(b).mousedown(function(b){return a.bc(b)})}};zk.prototype.Ac=function(a){1==this.handle.data.mode()?(this.handle.eD&&(this.handle.eD.selected=a,this.handle.eD.wa()),this.handle.fD&&(this.handle.fD.selected=a,this.handle.fD.wa())):(this.selected=a,this.wa())};zk.prototype.bc=function(a){a=Fb(new G(H.gc),a).element(this.data).data("mouseCoord",Bd(this.aa,a)).data("notFocusable",!0);return this.aa.Ea.handle(a)};(function(a,b){a.jw=function(a){var d=this;this.HN=a;this.aC=!0;this.UA=[];b(".js-bom-download-csv").click(function(){d.iZ()});b(".js-add-bom-items-to-cart").click(function(){d.TX()})};a.jw.prototype.iy=function(){new a.Eu(this.HN);this.aC=!0};a.jw.prototype.Ut=function(){b(this.HN).empty();this.aC=!1};a.jw.prototype.iZ=function(){this.aC||(b(".js-bom-download-csv-form-data").val(JSON.stringify(this.UA)),b(".js-bom-download-csv-form").submit())};a.jw.prototype.TX=function(){if(!this.aC){var a=[];
this.UA.forEach(function(b){a.push(b.versionroot)});b(".js-add_bom_to_cart-form-data").val(a);b(".js-add_bom_to_cart-form").submit()}}})(window.circuitsGui=window.circuitsGui||{},jQuery);(function(a,b){a.CH=function(a){var d=this;d.NA=b(a);d.q2=b(a).data("targeturl");b(".js-invite-collaborator__button",d.NA).on("click",function(a){a.preventDefault();d.w_()})};a.CH.prototype.w_=function(){var a=this,d=b(".js-invite-collaborator__uid",a.NA).val();b.ajax({url:a.q2,data:{authenticity_token:b('meta[name="csrf-token"]').attr("content"),share_uid:d},type:"GET",success:function(){b(".js-invite-collaborator__message",a.NA).html("Email send to user to invite him/her to your circuit!")},error:function(){b(".js-invite-collaborator__message",
a.NA).html("Sorry, we were unable to invite this person!")}})}})(window.circuitsGui=window.circuitsGui||{},jQuery);(function(a,b){a.Wk=function(a){var d=this;d.aa=a;d.mH=!1;d.$X();d.ZX();d.aO();d.e0();d.r1();b(".js-number-of-layers").change(function(){d.ZN(b(this).val())})};a.Wk.prototype.$X=function(){var a=this;b(".js-circuits-settings .js-settings-autosave").on("input change paste railsAutocomplete.select",function(){var d=b(this).parents("form");a.mH&&clearTimeout(a.mH);a.mH=setTimeout(function(){var a=d.serialize();b.ajax({url:d.attr("action"),type:"POST",dataType:"json",data:a,success:function(){},error:function(){}})},
1E3)})};a.Wk.prototype.ZX=function(){var a=this;b(".js-circuits-settings .js-settings-please-fill").on("input change",function(){a.aO()})};a.Wk.prototype.e0=function(){b(".js-settings-circuit-name").on("input change",function(){b(".js-circuit-menu-title").html(b(".js-settings-circuit-name").val())})};a.Wk.prototype.aO=function(){b.each(b(".js-circuits-settings .js-settings-please-fill"),function(a,d){var e=b(d).data("target");""!=b(d).val()?(b("[data-settings-target="+e+"] .js-settings-arrow").show(),
b("[data-settings-target="+e+"]").removeClass("settings-please-fill").addClass("settings-filled"),b("[data-settings-group="+e+"] .js-settings-title").show(),b("[data-settings-group="+e+"] .js-settings-please-fill-title").hide()):(b("[data-settings-target="+e+"] .js-settings-arrow").hide(),b("[data-settings-target="+e+"]").addClass("settings-please-fill").removeClass("settings-filled"),b("[data-settings-group="+e+"] .js-settings-title").hide(),b("[data-settings-group="+e+"] .js-settings-please-fill-title").show())})};
a.Wk.prototype.r1=function(){var a=b(".js-settings-license").text();b(".js-settings-license-select").val(a)};a.Wk.prototype.ZN=function(a){a=(new G(H.AL)).data("target_number_of_layers",a);this.aa.Ea.handle(a)}})(window.circuitsGui=window.circuitsGui||{},jQuery);function Ck(a,b,c,d,e,k,l){var n=this;this.Rt=$(a);this.mode=b;this.Ye=e;var q="circuit:"+c;circuitsUrls=JSON.parse(k);var r={authentication:d,connectTime:Date.now,name:$(".username_holder").text(),origin:circuitsUrls.shareJSServer,collection:circuitsUrls.shareJSServerTenant,appsession:d};this.CZ=circuitsUrls.eventsAPIServer;this.BZ=l;this.AZ=circuitsUrls.eventsAPIAFC;this.aZ=c;n=this;$.getJSON(Dk()).done(function(a){try{kb.n0(q,r,function(){n.Fc(a)},circuitsGui.error)}catch(b){throw circuitsGui.error("Starting editor",
"Something went seriously wrong, please try refreshing the page or contact support",b),b;}}).fail(function(a,b,c){circuitsGui.error("Starting editor","Something went seriously wrong, please try refreshing the page or contact support",c);throw c;})}
Ck.prototype.Fc=function(a){var b=this;this.root=new Rf;this.root.YX();var c=this.root.Ib;this.mode!=R&&(c.unsubscribe(),this.root.s1());var d=c.snapshot();$.isEmptyObject(d)?(this.data=new T(this.root,4,2,this.Ye),Ek(this),Sf(this.root,this.data),Fk(this,this.Ye),this.root.KH(this.root.data)):Gk(this,d);"breadboard"==this.Ye&&"open"==c.state&&setTimeout(Nf(b.root.Zf),0);Tf(this.root);this.root.ba.meta(a);this.root.DR();a=window.CircuitsRecorder;this.BZ&&this.mode==R&&a.DJ(this.CZ,this.aZ,this.AZ);
this.Ea=new Nh(this.mode,this.root,a);window.hasOwnProperty("CircuitsAPI")&&ki("event",function(a){for(var c in H){var d=H[c];if(d.name==a.name){a=(new G).type(d).data(a.data);b.Ea.handle(a);break}}});this.pa=new oi(this.Rt,this.mode,this.root,this.Ea)};function Gk(a,b){wa(b,a.root);a.data=Da(b,a.root);Ek(a);Sf(a.root,a.data);a.root.KH(a.root.data);Hk(a)}
function Ek(a){a.Zf=a.root.Zf;var b=[];a.data.Bb.forEach(function(a){b.push(a.Oh())});[19301,2474].forEach(function(a){b.push(a)});b=b.sort().filter(function(a,b,e){return a!=e[b-1]?1:0});Mf(a.Zf,b);lf(a.data)}
function Fk(a,b){if("breadboard"===b)df(a.data,Df(a.root.Zf,"device_19301"));else if("arduino"===b){var c=df(a.data,Df(a.root.Zf,"device_2474"));c.Sa().eb(new J(-216,-260));c.qd.se(0).eb(new J(0,-230));c.Fb().eb(new J(-11430,53340))}else"mesh_pcb"===b&&(c=a.data.pO(111057),a.data.$P(c,2540,25400,0,0))}
function Hk(a){a.root.Q0();"classic"!=a.root.Aa.Ye()&&null!=a.root.Aa.Ye()||a.root.Aa.Ye("schematic");vf(a.data);a.data.ru()||a.data.ru(new ad(a.root,null,a.data.outline().Cd()));a.data.iJ&&(a.root.Zf.qx=a.data.iJ);a.data.hh()||a.data.hh(new Ud(a.root));a.data.Lh()||a.data.Lh(new Ud(a.root));a.data.zu()||a.data.zu(new Ud(a.root));a.data.Ux();a.data.sc.forEach(function(a){var c=a.color();a.color("indigo"==c?"blue":c)});5>a.root.data.version()&&(a.data.sc.keys().forEach(function(b){var c;c=a.data.sc;
void 0==b?c=null:(b=c.Hp(b),c=void 0==c.vb[b]?null:c.vb[b]);c=c.val;c instanceof Wg&&(b=new le(c.root,c.Tb(),c.end(),c.insert(),c.color()),a.data.sc.remove(c),a.data.sc.add(b))}),a.root.data.version(5));a.data.sc.forEach(function(a){a.kR&&a.kR()});a.root.Mj(a.root.Bk);a.data.rk()&&"a4"==a.data.rk().pu()&&a.data.rk().pu("Letter");a.data.hh().elements.forEach(function(a,c){c.constructor==he?(c.fontSize(parseFloat(c.fontSize())),c.an(c.an())):c.constructor==ge&&c.Oa(c.Oa())});a.data.Lh().elements.forEach(function(a,
c){c.constructor==he?(c.fontSize(parseFloat(c.fontSize())),c.an(c.an())):c.constructor==ge&&c.Oa(c.Oa())});a.data.Bb.forEach(function(a){var c=new w;a.Ja.forEach(function(d,e){va.z_(d)&&(c.put(e.getKey(),e),a.Ja.qn(d),a.SP(a.Ja,d,e))});c.forEach(function(c,e){a.Ja.pQ(c,e);a.RP(a.Ja,c,e,null);e.Nf[1]=c});a.wb().device.properties_attributes.forEach(function(c){null===a.Cb.get(c.id)&&a.Cb.put(c.id,{id:c.id,name:c.name,prefix:c.default_prefix,show:c.default_show,unit:c.unit,value:c["default"]})})});a.root.d2()}
function Dk(){var a=location.pathname.split("/");-1<["view","edit","embed"].indexOf(a[a.length-1])?a[a.length-1]="meta_data":a.push("meta_data");return a.join("/")}window.CircuitEditorApp=Ck;window.CircuitsAPI=new ji;
ki("userCircuitsList",function(){var a=null;$.ajax({type:"GET",url:"/users/circuits_list",dataType:"json",context:this,success:function(b){a=b},error:function(){a='{"error":"Connection failed to the circuits.io servers. Make sure you have internet connectivity or try again later"}'},async:!1});window.parent.postMessage({name:"userCircuitsList",data:a},"*")});function Ik(a,b,c){this.Uw=a;this.type=b;this.GO=c;this.PK=null}Ik.prototype.hash=function(){var a;a=""+this.type;return a+="_"+this.GO};Ik.prototype.jI=function(){return"T"+this.PK+"C"+Math.round(this.GO)/1E3+"\n"};Ik.prototype.select=function(){return"T"+this.PK+"\n"};function Jk(a,b,c,d,e,k,l){this.Uw=a;this.type=b;this.zJ=c;this.AQ=d;this.BQ=e;this.CQ=k;this.s0=l;this.ZA=null}
Jk.prototype.hash=function(){var a;a=""+this.type;a+="_"+this.zJ;a+="_"+this.AQ;a+="_"+this.BQ;a+="_"+this.CQ;return a+="_"+this.s0};
Jk.prototype.sI=function(){switch(this.type){case "C":return"%ADD"+this.ZA+"C,"+Math.round(this.zJ)/1E3+"*%\n";case "P":var a=this.BQ,b=this.CQ,c="_"+this.AQ+"_"+this.zJ+"_"+b,d;d=""+("%AM"+c+"*\n")+"4,1,";d+=a.xa.length+",";for(var e=0;e<a.xa.length;e++){var k=Tb(a.xa[e]);d+=Math.round(k.x)/1E3+","+Math.round(k.y)/1E3+","}k=Tb(a.xa[0]);d+=Math.round(k.x)/1E3+","+Math.round(k.y)/1E3+",";d+=b+"*%\n";return d+="%ADD"+this.ZA+c+"*%\n";default:return"Trouble!\n"}};
Jk.prototype.select=function(){return"D"+this.ZA+"*\n"};function xf(a){this.Aa=a;this.dw=this.hQ=null;this.hQ=10;this.dw=new w;this.Ay=this.jQ=null;this.jQ=1;this.Ay=new w;this.Mf=new w;this.eC=new w}function Kk(a,b){var c=new Jk(a,"C",b,void 0,void 0,void 0,void 0);a.dw.contains(c.hash())?c=a.dw.get(c.hash()):(a.dw.put(c.hash(),c),c.ZA=a.hQ++);return c}function Lk(a){var b="";a.dw.forEach(function(a,d){b+=d.sI()});return b}
function Mk(a,b){var c=new Ik(a,"C",b);a.Ay.contains(c.hash())?c=a.Ay.get(c.hash()):(a.Ay.put(c.hash(),c),c.PK=a.jQ++);return c}function Nk(a){var b="";a.Ay.forEach(function(a,d){b+=d.jI()});return b}
function Ok(a,b,c,d){function e(a,b){var c=a.getAttribute(b);if(null===c){var d=a.getAttribute("style");null!==d&&(d=d.match(new RegExp(b+"[\\s]*[:][\\s]*([^;]*)")))&&1<d.length&&(c=d[1])}return c}function k(a,b){b=b||new oc;a.children().each(function(){switch($(this).prop("tagName")){case "LINE":var a=parseFloat(e(this,"stroke-width")),a=Kk(l,a),c=new Qb(new J(parseFloat(this.getAttribute("x1")),parseFloat(this.getAttribute("y1"))),new J(parseFloat(this.getAttribute("x2")),parseFloat(this.getAttribute("y2")))),
c=c.transform(b);l.Mf.put(c,a);break;case "CIRCLE":case "RECT":var d=(new $b((new XMLSerializer).serializeToString(this),100)).transform(b),c=d.Nn(),n=e(this,"fill"),a=parseFloat(e(this,"stroke-width")),a=Kk(l,a);l.Mf.put(c,a);"none"!==n&&l.Mf.put(d,null);break;case "PATH":d=new fc(this);c=d.Nn(100).transform(b);n=e(this,"fill");a=Kk(l,d.qc());l.Mf.put(c,a);"none"!==n&&(d=d.zy(100).transform(b),l.Mf.put(d,null));break;case "POLYGON":d=new $b((new XMLSerializer).serializeToString(this));l.Mf.put(d,
null);break;case "G":a=this.getAttribute("text-data");if(null!==a){var c=this.getAttribute("font-size"),q=parseFloat(this.getAttribute("x")),r=parseFloat(this.getAttribute("y")),N=new J(q,r),K=parseFloat(this.getAttribute("flip")),O=parseInt(this.getAttribute("rotate-angle")||(this.getAttribute("transform")||"rotate(0)").split(" ")[0].split("(")[1]),a=Bc(Ec,a,9*parseInt(c)/12);a.forEach(function(a){var c=Kk(l,a.width);a=a.hb(K).rotate(O).translate(N);l.Mf.put(a.transform(b),c)})}else k($(this),b);
break;case "TEXT":a=$(this).text();if(null!=a){var c=parseFloat(e(this,"font-size")||"16"),q=parseFloat(this.getAttribute("x"))||0,r=parseFloat(this.getAttribute("y"))||0,L=new oc,n=this.getAttribute("transform"),d=e(this,"text-anchor"),A=e(this,"alignment-baseline");if(d)switch(d){case "start":q+=.3*c*a.length;break;case "end":q-=.3*c*a.length}if(A)switch(A){case "baseline":case "alphabetic":r-=.3*c;break;case "ideographic":case "after-edge":case "text-after-edge":r-=.5*c;break;case "before-edge":case "text-before-edge":case "hanging":r+=
.5*c}n&&(L=L.bd(n));a=Bc(Ec,a,9*c/12);a.forEach(function(a){var c=Kk(l,a.width);a=a.translate(new J(q,r)).transform(L).transform(b);l.Mf.put(a,c)})}break;default:console.log($(this).prop("tagName"))}})}var l=a,n=!1;if("g"===c[0]&&"l"===c[2]){a=c[1];var q="t"==a?0:"b"==a?1:kf(b,parseInt(c[1])-1),n=!0}else"gts"===c?q=0:"gbs"===c&&(q=1);if(d&&(d=Kk(l,100),l.Mf.put(b.outline(),d),"gbo"===c))for(d=xc(yc,b.outline().sj()),a=0;a<d.length;a++)l.Mf.put(d[a],null);n&&b.ed.forEach(function(a){a.jb.forEach(function(a){if(!a.xe()&&
a.af()===q){var b=Kk(l,a.vh());l.Mf.put(a,b)}});rf(a)&&Mg(a,q,b.root.VC)[1].forEach(function(a){l.Mf.put(a.vu.jh(),null)})});b.ed.forEach(function(a){a.ge.forEach(function(a){if(n){var b=Kk(l,Fc(Gc,a.Gf()));l.Mf.put(a,b)}else"drl"===c&&(b=Mk(l,a.Gf()),l.eC.put(a,b))})});b.Bb.forEach(function(a){if(a.Fb()){if(a.Ja.forEach(function(a,b){if(b.Hl()){var d=hh(b);if(n||"gts"===c||"gbs"===c){var e=rh(b,q);e&&l.Mf.put(e,null)}else if("drl"===c)d=d.drill,""!==d&&null!==d&&(d=hh(b).drill,"["!==d[0]?d=Math.max(330.2,
parseFloat(d)):(d=JSON.parse(d),d=Math.max(889,d[0])),d=Mk(l,d),l.eC.put(b,d));else{if(d="outline"===c)d=(d=hh(b).drill)&&"["==d[0]?!0:!1;d&&(d=Kk(l,100),e=sh(b),"nopoly"!==e?(e=e.hb(b.parent().Fb().hb()),e=e.rotate(b.parent().Fb().Oa()),e=e.translate(b.parent().Fb().eb())):e=null,e&&l.Mf.put(e.Nn(),d))}}}),"gto"===c&&1===a.Fb().hb()||"gbo"===c&&-1===a.Fb().hb()){ug(a).forEach(function(b){var c=Kk(l,b.width);l.Mf.put(b.hb(a.Fb().hb()).translate(a.Fb().eb()),c)});var b=a.wb().footprint.outline;if(b)if("<g>"!==
b.substr(0,3)){var d=Kk(l,170),b=JSON.parse(b),b=new $b(b);l.Mf.put(b.Nn().rotate(a.Fb().Oa()).translate(a.Fb().eb()),d)}else d=a.Fb(),d=(new oc).hb(d.hb()).rotate(d.Oa()).translate(d.eb()),k($(b),d)}}else a.Rd()&&Ok(l,a.Rd().Aa(),c,!1)});b.zj.forEach(function(a){if("drl"===c){var b=Mk(l,a.Gf());l.eC.put(a,b)}});"gto"===c&&k($(b.hh().toSVG()));"gbo"===c&&k($(b.Lh().toSVG()))}
function Pk(a,b){var c;c=a.Aa.outline().Cd();var d=a.Aa.outline().le();c=Tb(b.sub(new J(c.x,d.y)));return"X"+Math.round(c.x)+"Y"+Math.round(c.y)}function Qk(a,b){for(var c="",d=0;d<b.xa.length;d++)c+=Pk(a,b.xa[d]),c=0===d?c+"D02*\n":c+"D01*\n";return c}
xf.prototype.sI=function(a){var b=this;Ok(b,this.Aa,a,!0);var c="",c=c+"G75*\n",c=c+"G71*\n",c=c+"%OFA0B0*%\n",c=c+"%FSLAX23Y23*%\n",c=c+"%IPPOS*%\n",c=c+"%LPD*%\n",c=c+Lk(b);b.Mf.forEach(function(a){if(a instanceof jsts.geom.Polygon){c+="%LPD*%";c+="G36*\n";for(var e=a.getExteriorRing(),e=e.getCoordinates(),k=0;k<e.length;k++){var l=new J(e[k].x,e[k].y);c=0===k?c+(Pk(b,l)+"D02*\n"):c+(Pk(b,l)+"D01*\n")}c+="G37*\n";c+="%LPC*%";for(var n=0;n<a.getNumInteriorRing();n++){e=a.getInteriorRingN(n);e=e.getCoordinates();
c+="G36*\n";for(k=0;k<e.length;k++)l=new J(e[k].x,e[k].y),c=0===k?c+(Pk(b,l)+"D02*\n"):c+(Pk(b,l)+"D01*\n");c+="G37*\n"}}});c+="%LPD*%";b.Mf.forEach(function(a,e){switch(a.constructor){case Gf:c+=e.select();var k=Qg(a);c+=Pk(b,k[0])+"D02*\n";c+=Pk(b,k[1])+"D01*\n";break;case If:c+=e.select();k=a.Yb();c+=Pk(b,k)+"D03*\n";break;case U:c+=e.select();k=a.Be();c+=Pk(b,k)+"D03*\n";break;case sf:c+=e.select();var k=a.Cd(),l=a.le(),n=new J(l.x,k.y),q=new J(k.x,l.y);c+=Pk(b,k)+"D02*\n";c+=Pk(b,n)+"D01*\n";
c+=Pk(b,n)+"D02*\n";c+=Pk(b,l)+"D01*\n";c+=Pk(b,l)+"D02*\n";c+=Pk(b,q)+"D01*\n";c+=Pk(b,q)+"D02*\n";c+=Pk(b,k)+"D01*\n";break;case Oe:c+=e.select();l=th(a,100);c+=Qk(b,l.Nn());break;case cc:c+=e.select();c+=Qk(b,a);break;case Qb:c+=e.select();c+=Pk(b,a.Wb)+"D02*\n";c+=Pk(b,a.ob)+"D01*\n";break;case $b:c+="G36*\n";l=a;for(n=0;n<l.xa.length;n++)k=l.xa[n],c=0===n?c+(Pk(b,k)+"D02*\n"):c+(Pk(b,k)+"D01*\n");c+="G37*\n"}});return c+="M02*\n"};
xf.prototype.jI=function(a){var b=this;Ok(b,this.Aa,a,!0);var c="",c=c+"%\n",c=c+"M48\n",c=c+"METRIC,TZ,000.000\n",c=c+"ICI,OFF\n",c=c+Nk(b),c=c+"%\n";b.eC.forEach(function(a,e){switch(a.constructor){case If:c+=e.select();var k=a.Yb();c+=Pk(b,k)+"\n";break;case U:c+=e.select();var l,k=[];(l=hh(a).drill)&&(k="["!==l[0]?[[0,0]]:JSON.parse(l)[1]);k=new ec(k);k=k.rotate(hh(a).dir);k=k.translate(new J(hh(a).x,hh(a).y));k=k.hb(a.parent().Fb().hb());k=k.rotate(a.parent().Fb().Oa());l=k=k.translate(a.parent().Fb().eb());
for(var n=0;n<l.xa.length;n++)k=l.xa[n],c+=Pk(b,k)+"\n";break;case hf:c+=e.select(),k=a.Yb(),c+=Pk(b,k)+"\n"}});return c+="M30\n"};"undefined"===typeof Raphael._ellipsePath&&(Raphael._ellipsePath=function(a,b,c,d){return[["M",a-c,b],["a",c,d,0,1,0,2*c,0],["a",c,d,0,1,0,-2*c,0],["Z"]]});"undefined"===typeof Raphael._rectPath&&(Raphael._rectPath=function(a,b,c,d,e){return e?[["M",a-c/2+e,b-d/2+e],["a",e,e,0,0,0,-e,e],["l",0,d/2-2*e],["a",e,e,0,0,0,e,e],["l",c/2-2*e,0],["a",e,e,0,0,0,e,-e],["l",0,-d/2+2*e],["a",e,e,0,0,0,-e,-e],["l",-c/2+2*e,0],["Z"]]:[["M",a-c/2,b-d/2],["l",c,0],["l",0,d],["l",-c,0],["Z"]]});(function(a){function b(a){return 1==a.length?"0"+a:""+a}function c(a,b){var c=a;"string"==typeof c&&-1!=c.indexOf(".")&&1===parseFloat(c)&&(a="100%");c="string"===typeof a&&-1!=a.indexOf("%");a=k(b,l(0,parseFloat(a)));c&&(a=parseInt(a*b,10)/100);return 1E-6>d.abs(a-b)?1:a%b/parseFloat(b)}a.P6="Polaris";a.qC={color:{metal:"#bfbfbf",metalconnector:"#8C8C8C",shadow:"",silkscreen:"#EAEAEA",label:"#DDDDDD",select:"#3b8ed7",wire:"#8C8C8C",wireonboard:"#DDDDDD",solder:"#bfbfbf",canvas:"#f4f5f6",copper:"#D1C690",
greyish:"#3c4042",black:"#333333",red:"#AF1C1C",orange:"#f9a319",blue:"#008dd1",yellow:"#F2AE16",green:"#7FBF34",debuggreen:"#00FF00",debugred:"#FF0000",brokenwhite:"#DDDDDD",white:"#FFFDFA",lightningyellow:"#ffe91d",pcbSparkfunRed:"#D82416",pcbArduinoBlue:"#316E99",pcbGreen:"#4ea36a",csRed:"#f9423a",csYellow:"#E1E000",csBlue:"#00aec7",csTransparent:"#B3B1B1",csPurple:"#ad208e",csPrintTemplate:"#000000",csElectronink:"#bfbfbf",csPCB:"#232323",csSwitchHandle:"#f0f4e6",lbBlue:"#0237cc",lbBlueDarker:"#011f8e",
lbGreen:"#97d700",lbGreenDarker:"#83b200",lbPink:"#ed258f",lbPinkDarker:"#b22081",lbOrange:"#ff8a00",lbOrangeDarker:"#cc6a00",lbPurple:"#511374",lbPurplePCB:"#7c518d"},gradient:{arduinoBlue:{offset:{0:"#316E99",100:"#24516E"}},pcbGreen:{offset:{0:"#4ea36a",100:"#438c5b"}}},hue:{ledRed:0,ledGreen:.347,ledBlue:.555,ledYellow:.138,ledOrange:.1},style:{shadow:" style='fill:#000;fill-opacity:0.2'",highlight:" style='opacity:0.4;fill:#FFFFFF;'",wire:" style='fill:none;stroke:#8C8C8C;stroke-width:2;stroke-linecap:round;stroke-miterlimit:10;'",
selected1:" fill='none' stroke='#3b8ed7' stroke-width='2' stroke-miterlimit='10' stroke-linecap='round' stroke-linejoin='round'",selected2:" fill='#3b8ed7' stroke='#3b8ed7' stroke-width='3.5' stroke-miterlimit='10' stroke-linecap='round' stroke-linejoin='round'",selected3:" style='fill:#3b8ed7;stroke:none;stroke-linejoin=round;stroke-miterlimit:10;'",selectedfill:" style='fill:#3b8ed7;stroke:none;stroke-linejoin=round;stroke-miterlimit:10;' display='none'",selectedstroke:" fill='none' stroke='#3b8ed7' stroke-linecap='round' stroke-linejoin='round' display='none' stroke-width='3'",
selectedthinstroke:" fill='none' stroke='#3b8ed7' stroke-linecap='round' stroke-linejoin='round' display='none' stroke-width='2'",selectedfatstroke:" fill='none' stroke='#3b8ed7' stroke-linecap='round' stroke-linejoin='round' display='none' stroke-width='5'",selectedundefinedstroke:" fill='none' stroke='#3b8ed7' stroke-linecap='round' stroke-linejoin='round' display='none'",selectedfillandstroke:" fill='#3b8ed7' stroke='#3b8ed7' stroke-width='3.5' stroke-miterlimit='10' stroke-linecap='round' stroke-linejoin='round' display='none'",
selectedwire:" fill='none' stroke='#3b8ed7' stroke-width='2' stroke-miterlimit='10' stroke-linecap='round' stroke-linejoin='round' display='none'",hitareafill:" style='fill:#ff0000;' opacity='0' display='none'",hitareastroke:" style='stroke:#ff0000;fill:none;stroke-linecap:round;stroke-miterlimit:10;' opacity='0' display='none'",hitareaundefinedstroke:" style='stroke:#ff0000;fill:none;stroke-linecap:round;stroke-miterlimit:10;' opacity='0' display='none'",hitareafillandstroke:" style='fill:#ff0000;stroke:#ff0000;' opacity='0' display='none'",
hitareawire:" style='stroke:#ff0000;fill:none;stroke-width:2;stroke-linecap:round;stroke-miterlimit:10;' opacity='0' display='none'",hover:" stroke-linejoin='round' stroke='#3b8ed7' stroke-width='3' fill='none'",labelfont:" style='fill:none;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-width:1.3'",schematic:" style='fill:none;stroke:black;stroke-width:1;'",littlebitsPCB:" style='fill:#FFFFFF;stroke:#7a7a7a;stroke-width:0.35;'"}};a.uI=function(b){return"#"!=b.charAt(0)?a.qC.color[b]:
b};a.Ak=function(b){return a.qC.hue[b]};a.rq=function(b){return a.qC.style[b]};a.d7=function(){return' rx="1" ry="1"'};a.QZ=function(b){return a.qC.gradient[b]};a.Go=function(b,c,d){b=a.m_(360*b,100*c,100*d);return"#"+a.qR(b.xC,b.Hf,b.ob)};a.mM=function(a,b,c){var d=l(a,b,c),e=k(a,b,c),x,B=d-e;if(d==e)x=0;else{switch(d){case a:x=(b-c)/B+(b<c?6:0);break;case b:x=(c-a)/B+2;break;case c:x=(a-b)/B+4}x/=6}return{tq:x,Oj:0===d?0:B/d,ob:d}};a.D5=function(b,c,d){return a.l_(b,c,d)};a.g5=function(b){return 1<=
b?"#FFF":0>=b?"#000":"#"+a.qR(255*b,255*b,255*b)};var d=Math,e=d.round,k=d.min,l=d.max;a.G7=function(a,b,d){return{xC:255*c(a,255),Hf:255*c(b,255),ob:255*c(d,255)}};a.E7=function(a,b,d){a=c(a,255);b=c(b,255);d=c(d,255);console.log("r:"+a);console.log("g:"+b);console.log("b:"+d);var e=l(a,b,d),v=k(a,b,d),x,B=(e+v)/2;if(e==v)x=v=0;else{var E=e-v,v=.5<B?E/(2-e-v):E/(e+v);switch(e){case a:x=(b-d)/E+(b<d?6:0);break;case b:x=(d-a)/E+2;break;case d:x=(a-b)/E+4}x/=6}return{tq:x,Oj:v,p7:B}};a.k7=function(a,
b,d){function e(a,b,c){0>c&&(c+=1);1<c&&--c;return c<1/6?a+6*(b-a)*c:.5>c?b:c<2/3?a+(b-a)*(2/3-c)*6:a}a=c(a,360);b=c(b,100);d=c(d,100);if(0===b)d=b=a=d;else{var k=.5>d?d*(1+b):d+b-d*b,l=2*d-k;d=e(l,k,a+1/3);b=e(l,k,a);a=e(l,k,a-1/3)}return{xC:255*d,Hf:255*b,ob:255*a}};a.F7=function(a,b,d){a=c(a,255);b=c(b,255);d=c(d,255);var e=l(a,b,d),v=k(a,b,d),x,B=e-v;if(e==v)x=0;else{switch(e){case a:x=(b-d)/B+(b<d?6:0);break;case b:x=(d-a)/B+2;break;case d:x=(a-b)/B+4}x/=6}return{tq:x,Oj:0===e?0:B/e,I8:e}};a.D7=
function(a,b,d){a=c(a,255);b=c(b,255);d=c(d,255);var e=l(a,b,d),v=k(a,b,d),x,B=e-v;if(e==v)x=0;else{switch(e){case a:x=(b-d)/B+(b<d?6:0);break;case b:x=(d-a)/B+2;break;case d:x=(a-b)/B+4}x/=6}return{tq:x,Oj:0===e?0:B/e,ob:e}};a.m_=function(a,b,e){a=6*c(a,360);b=c(b,100);e=c(e,100);var k=d.floor(a),l=a-k;a=e*(1-b);var x=e*(1-l*b);b=e*(1-(1-l)*b);k%=6;return{xC:255*[e,x,a,a,b,e][k],Hf:255*[b,e,e,x,a,a][k],ob:255*[a,a,b,e,e,x][k]}};a.l_=function(a,b,e){a=6*c(a,360);b=c(b,100);e=c(e,100);var k=d.floor(a),
l=a-k;a=e*(1-b);var x=e*(1-l*b);b=e*(1-(1-l)*b);k%=6;return{xC:[e,x,a,a,b,e][k],Hf:[b,e,e,x,a,a][k],ob:[a,a,b,e,e,x][k]}};a.qR=function(a,c,d){return[b(e(a).toString(16)),b(e(c).toString(16)),b(e(d).toString(16))].join("")};a.H7=function(a,c,d,k){return[b(convertDecimalToHex(k)),b(e(a).toString(16)),b(e(c).toString(16)),b(e(d).toString(16))].join("")}})(window.cGraphics=window.cGraphics||{});(function(a){a.W7=function(b){var c=a.QZ(b.wK);b='<linearGradient id="'+b.wK+'" x1="0%" y1="0%" x2="0%" y2="100%" >';for(var d in c.offset)b+='<stop offset="'+d+'%" style="stop-color:'+c.offset[d]+';stop-opacity:1"/>';return b+"</linearGradient>"};a.l2=function(b){var c="",d;for(d in b){var e=b[d],c=c+'<g class="cgfx__terminal">',k="";"pth"==e.type?k="breadboard":"breadboard-round"==e.type?k="breadboard_female":"bindingpost"==e.type?k="breadboard_female":"packagepin"==e.type?k="breadboard":"wire"==
e.type?k="breadboard":"pin"==e.type?k="breadboard":"pinheader-male"==e.type?k="breadboard":"pinheader-male-solderside-round"==e.type?k="breadboard":"pinheader-male-solderside-square"==e.type?k="breadboard":"pin-hidden"==e.type?k="breadboard":"pinheader"==e.type?k="breadboard_female":"pinheader-shield"==e.type?k="breadboard":"csfootprint"==e.type?k="csfootprint":"csmagnetic"==e.type?k="csmagnetic":console.log("Unknown terminaltype:"+e.type);c+='<desc class="cgfx__terminalname">'+e.e8+"</desc>";c+=
'<desc class="cgfx__terminaltype">'+k+"</desc>";"undefined"!=typeof e.group&&(c+='<desc class="cgfx__terminalgroup">'+e.group+"</desc>");c+='<line class="'+a.Gu("origin direction reference debug")+'" x1="'+e.x+'" y1="'+e.y+'" x2="'+(e.x+25*e.direction.x)+'" y2="'+(e.y+25*e.direction.y)+'" stroke-dasharray="10,2,3,2,3,2,3" style="stroke:rgb(255,0,0);stroke-width:2;opacity:0.5" display="none"/>';c+="</g>"}return c};a.h2=function(b){var c="",d;for(d in b.elements){var e=b.elements[d];e.id=d;a[e.Uw]&&
(e=a[e.Uw](e),"1"==b.debug&&(console.log("svgElement generated:"+d+" for "+b.type),console.log(e.Ee)),c+=e.svg)}return c};a.U7=function(b){var c;c="hitarea";b.LI.select.Mm&&(c+=" "+b.LI.select.Mm);b.Mm&&(c+=" "+b.Mm);return c=a.Gu(c)};a.T7=function(b){var c;c="hitarea-interaction";""!=b.id&&(c+=" "+b.id);b.LI.t_.Mm&&(c+=" "+b.LI.t_.Mm);b.Mm&&(c+=" "+b.Mm);return c=a.Gu(c)};a.k2=function(b){var c="",d;for(d in b.Ja){var e=b.Ja[d];labelModel=JSON.parse(JSON.stringify(e.label));labelModel.x=e.x+e.label.x;
labelModel.y=e.y+e.label.y;c+=a.lf(labelModel).svg}return c};a.V7=function(b){var c="",d;for(d in b.Qg){var e=b.Qg[d];a[e.Uw]&&(c+=a[e.Uw](e).svg)}return c};a.Z7=function(b){var c=a.bS(b);svg=c.o0;svg+=a.i2(b);svg+=a.j2(b);svg+=a.h2(b);svg+=a.k2(b);svg+=a.g2();"1"==b.debug&&(svg+=a.SY());svg+=a.l2(b.Ja);return svg+=c.HY};a.i2=function(b){svg="";if(b.mi.EK)svg+='<path class="cgfx__selected" display="none"'+a.rq("selected1")+" "+b.mi.EK+"/>",svg+='<path fill="'+a.uI(b.mi.wK)+'" '+b.mi.EK+"/>",svg+=
'<path class="cgfx__hitarea"'+a.rq("hitareafill")+" "+b.mi.EK+"/>";else{svg+='<rect class="cgfx__selected" '+a.rq("selected2")+' rx="2" ry="2" display="none" x="'+b.mi.width/-2+'" y="'+b.mi.height/-2+'" width="'+b.mi.width+'" height="'+b.mi.height+'" />';svg+='<rect mask="url(#'+b.type+'-mask)" fill="'+a.uI(b.mi.wK)+'"  rx="2" ry="2" x="'+b.mi.width/-2+'" y="'+b.mi.height/-2+'" width="'+b.mi.width+'" height="'+b.mi.height+'" />';svg+='<mask id="'+b.type+'-mask">';svg+='  <rect x="-200" y="-200" width="100%" height="100%" fill="#FFF"/>';
for(var c in b.wy)"circle"===b.wy[c].type&&(svg+='<circle cx="'+b.wy[c].x+'" cy="'+b.wy[c].y+'" r="'+b.wy[c].r+'" />');for(var d in b.Ja)"pth"===b.Ja[d].type&&(svg+='<circle cx="'+b.Ja[d].x+'" cy="'+b.Ja[d].y+'" r="2" />');svg+="</mask>"}return svg};a.j2=function(b){var c="",d;for(d in b.Ja)c+=a.T6(b.Ja[d]);return c};a.a8=function(b){var c='<g class="selected" display="none"'+a.rq("selected")+" >";return c=c+b+"</g>"};a.bS=function(b){var c={id:""},d="",e=!0;"undefined"!=typeof b.id&&""!=b.id&&(d+=
a.Gu(b.id),e=!1);"undefined"!=typeof b.classname&&(d=d+(e?"":" ")+a.Gu(b.Mm),e=!1);"undefined"!=typeof b.type&&(d+=e?"":" ",d+=a.Gu(b.type));c["class"]=""==d?"":' class="'+d+'"';c.x="undefined"===typeof b.x?"":"undefined"!=typeof b.width?' x="'+(b.x-b.width/2+'"'):" x="+b.x;c.y="undefined"===typeof b.y?"":"undefined"!=typeof b.height?' y="'+(b.y-b.height/2+'"'):" y="+b.y;c.width="undefined"===typeof b.width?"":' width="'+b.width+'"';c.height="undefined"===typeof b.height?"":' height="'+b.height+'"';
c.viewbox="undefined"===typeof b.viewbox?"":' viewBox="'+b.viewbox[0]+" "+b.viewbox[1]+" "+b.viewbox[2]+" "+b.viewbox[3]+'"';d="";e=!0;"undefined"!=typeof b.x&&"undefined"!=typeof b.x&&(d+="translate("+b.x+", "+b.y+")",e=!1);"undefined"!=typeof b.rotation&&(d=d+(e?"":" ")+("rotate("+b.rotation+")"),e=!1);"undefined"!=typeof b.scale&&(d+=e?"":" ",d+="scale("+b.scale+")",e=!1);e||(c.transform=' transform="'+d+'"');c.o0='<svg class="cgfx__'+b.type+'" viewBox="-1000 -1000 2000 2000" width="2000" height="2000" x="-1000" y="-1000">';
c.HY="</svg>";return c};a.Gu=function(a){a=a.split(" ");for(var c="",d=0;d<a.length;d++)c+="cgfx__"+a[d],c+=d==a.length-1?"":" ";return c};a.X7=function(a,c){var d;d=""+(a+"-hitarea hitarea-interaction");"undefined"!=typeof c&&(d+=" "+c);return d};a.c8=function(){var a;return a='<?xml version="1.0" encoding="utf-8"?>\x3c!-- Generator: 123D Circuits cGraphics Library  --\x3e<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:cgraphics="http://123d.circuits.io/cgraphics/ns">'};
a.E8=function(a,c,d){var e=a.substring(a.indexOf("translate("),a.indexOf(")")+1);c=[parseInt(e.substring(e.indexOf("(")+1,e.indexOf(",")))+c[0],parseInt(e.substring(e.indexOf(",")+1,e.indexOf(")")))+c[1]];a=a.substring(a.indexOf("rotate("),a.lastIndexOf(")")+1);d=parseInt(a.substring(a.indexOf("(")+1,a.indexOf(")")))+d;a="translate("+c[0]+", "+c[1]+") rotate("+d+")";d=(d/90/4).toFixed(2).toString();d=d.split(".")[1];console.log(d);c="north";"25"==d?c="east":"50"==d?c="south":"75"==d&&(c="west");console.log(c);
return{svg:a,m:{orientation:c}}};a.DK=function(a,c){a||(a="");var d;d=""+(-1!=a.indexOf("rotate(")?a.substring(a.indexOf("rotate("),a.lastIndexOf(")")+1):"");return""!=d?"translate("+c[0]+","+c[1]+") "+d:"translate("+c[0]+","+c[1]+")"};a.gm=function(a,c,d){var e="";-1!=a.indexOf("translate(")&&(e+=a.substring(a.indexOf("translate("),a.indexOf(")")+1));0==e.length&&(e+=" ");"undefined"==typeof d&&(d=[0,0]);return e+(""!=e?" ":"")+"rotate("+c+", "+d[0]+","+d[1]+")"};a.b8=function(a){for(var c=[],d=
/(rotate|translate|scale)\(([-+]?[0-9]*\.?[0-9]+)(?:(?: +| *\, *)([-+]?[0-9]*\.?[0-9]+))?(?:(?: +| *\, *)([-+]?[0-9]*\.?[0-9]+))?\)/g;match=d.exec(a);)c.push(match)};a.SY=function(){var b='<g stroke-linecap="round" style="stroke:'+a.uI("debugred")+';stroke-width:0.2;stroke-opacity:0.8">',b=b+'<line x1="0" y1="-10" x2="0" y2="10" /><line x1="-10" y1="0" x2="10" y2="0" />';return b+="</g>"};a.g2=function(){var a=[0,0],c=[3.5];"undefined"==typeof c[1]&&(c[1]=c[0]);a='<polygon class="cgfx__breakdown" transform="translate('+
a[0]+","+a[1]+")rotate(0) scale("+c+')" display="none" style="opacity:0.7;fill:#FF0000;stroke:#F7E60B;stroke-miterlimit:10;" ';return a+'points="2.415,-5.161 7.901,-7.299 5.471,-2.294 11.953,-0.565 5.126,1.63 8.332,8.197 2.59,5.053 -0.137,10.527 -2.24,4.375 -7.565,7.957 -6.133,2.443 -11.953,0.87 -5.945,-1.796 -8.854,-7.513 -3.289,-5.371 -1.401,-10.527 "/>'};a.Y7=function(a){for(var c="",d="0";d<a.split("").length;d++)character=a.split("")[d],"A"==character&&(console.log("A"),c+='<path id="A" d="M1.23,1.74h-2.46l-0.55,1.52C-1.86,3.47-2.05,3.6-2.27,3.6c-0.27,0-0.51-0.23-0.51-0.52c-0-0.06,0.01-0.11,0.03-0.17l2.2-6.14C-0.47-3.43-0.25-3.6,0-3.6c0.23,0,0.47,0.16,0.55,0.39l2.2,6.13c0.02,0.05,0.03,0.12,0.03,0.17c0,0.27-0.22,0.52-0.52,0.52c-0.21,0-0.41-0.13-0.49-0.34L1.23,1.74z M0-1.68l-0.87,2.42h1.74L0-1.68z"/>'),
"B"==character&&(console.log("B"),c+='<path id="B" d="M-1.46,3.5c-0.36,0-0.65-0.29-0.65-0.64v-5.73c0-0.35,0.29-0.64,0.65-0.64h1.63c1.18,0,1.97,0.78,1.97,1.94c0,0.53-0.22,1.02-0.67,1.39c0.59,0.4,0.86,1,0.86,1.6c0,1.25-0.84,2.08-2.09,2.08H-1.46z M0.02-0.64c0.61,0,1.06-0.41,1.06-0.93c0-0.59-0.3-0.93-0.91-0.93h-1.22v1.86H0.02z M0.24,2.49c0.68,0,1.03-0.39,1.03-1.07c0-0.58-0.5-1.05-1.19-1.05c0.01,0-0.1,0-1.13,0v2.12H0.24z"/>'),"C"==character&&(console.log("C"),c+='<path id="C" d="M-2.07-1.02c0-1.55,1.04-2.59,2.58-2.59c0.54,0,1.06,0.16,1.54,0.47c0.15,0.1,0.24,0.26,0.24,0.43c0,0.27-0.23,0.49-0.52,0.49c-0.09,0-0.18-0.03-0.27-0.08C1.18-2.5,0.85-2.63,0.51-2.63c-0.97,0-1.52,0.64-1.52,1.61v2.03c0,0.97,0.55,1.61,1.52,1.61c0.34,0,0.66-0.14,0.98-0.34c0.09-0.06,0.19-0.09,0.29-0.09c0.27,0,0.51,0.21,0.51,0.5c0,0.17-0.09,0.34-0.24,0.44c-0.48,0.31-1,0.47-1.54,0.47c-1.54,0-2.58-1.04-2.58-2.59V-1.02z"/>');
return c}})(window.cGraphics=window.cGraphics||{});(function(a,b){a.Bi=function(b,d){var e="0"==d?45:Math.round(45+270*d),k=$(".cgfx__knob",b),l=k.attr("transform");k.attr("transform",a.gm(l,e))};a.Sn=function(a,b){b?($(".cgfx__up",a).attr("display","none"),$(".cgfx__pressed",a).attr("display","inline")):($(".cgfx__up",a).attr("display","inline"),$(".cgfx__pressed",a).attr("display","none"))};a.nf=function(a,b){b?($(".cgfx__toggle-on",a).attr("display","inline"),$(".cgfx__toggle-off",a).attr("display","none")):($(".cgfx__toggle-on",a).attr("display",
"none"),$(".cgfx__toggle-off",a).attr("display","inline"))};a.Y2=function(a,d,e,k){var l=2.1653543*d[0][0][0].length+.1968*(d[0][0][0].length-1),n=2.55905512*d[0][0].length+.1968*(d[0][0].length-1),q=l*d[0].length+2.3622*(d[0].length-1),r=n*d.length+1.5748*(d.length-1),t=[["001b54"],["9287a8"],["b6bbde"],["dbe7ff"],["e6eeff"],["e6eeff"],["e6eeff"],["e6eeff"],["e6eeff"],["e6eeff"],["e6eeff"]],v="",v=.4<k?t[Math.floor((k-.4)/.6*10)]:"001b54",t="fill:#"+v+";fill-opacity:"+(.5>=k?k/.5:1);k="fill:#001b54;fill-opacity:"+
(.6>k?0:(k-.6)/.4*.2);v=.2+.8*e;if(a!=b)if(e=$(".cgfx__dots",a).get(0),e.firstChild)for(a=e.firstChild,a.setAttributeNS(null,"opacity",v),v=l=0;v<d.length;v++)for(x=0;x<d[v].length;x++)for(B=0;B<d[v][x].length;B++)for(E=0;E<d[v][x][B].length;E++)N=1==d[v][x][B][E]?t:k,K=a.childNodes[l++],K.setAttributeNS(null,"style",N);else{a=document.createElementNS("http://www.w3.org/2000/svg","g");a.setAttributeNS(null,"opacity",v);for(v=0;v<d.length;v++)for(var x=0;x<d[v].length;x++)for(var B=0;B<d[v][x].length;B++)for(var E=
0;E<d[v][x][B].length;E++){var z=E*(2.1653543+.1968)+l*x+2.3622*x-q/2,I=2.75585512*B+n*v+1.5748*v-r/2,N=1==d[v][x][B][E]?t:k,K=document.createElementNS("http://www.w3.org/2000/svg","rect");K.setAttributeNS(null,"x",z);K.setAttributeNS(null,"y",I);K.setAttributeNS(null,"width",2.1653543);K.setAttributeNS(null,"height",2.55905512);K.setAttributeNS(null,"style",N);a.appendChild(K)}e.appendChild(a)}};a.IS=function(a,b){$(".cgfx__backlight",a).attr("fill-opacity",.95*b+.05)};a.mD=function(a,b){$(".cgfx__brightness",
a).attr("fill-opacity",b)};a.rc=function(a,b){var e=.1>b?0:.4+.6*b,k=.1>b?0:.6+.2*b,l=.1>b?0:.2+.25*b,n=.1>b?0:.25+.15*b;$(".cgfx__default",a).attr("display","none");$(".cgfx__basecolor",a).attr("opacity",e);$(".cgfx__brightnesscore",a).attr("opacity",k);$(".cgfx__brightnessring1",a).attr("opacity",l);$(".cgfx__brightnessring2",a).attr("opacity",n)};a.kj=function(b,d,e,k){var l=$(".cgfx__knob",b),n=$(".cgfx__knoblabel",b),q=$(".cgfx__bounds",b).attr("width"),r=$(".cgfx__bounds",b).attr("height"),
t=l.attr("transform"),q=e*(q-r);l.attr("transform",a.DK(t,[q,0]));n.attr("transform",a.DK(t,[q,0]));$(".cgfx__arrow",b).attr("opacity",1-8*e);d&&d.attr("transform",a.DK(t,[q,0]));"undefined"!=typeof k&&$(".cgfx__knoblabel",b).html(k)};a.aT=function(a,b){var e=$(".cgfx__lightning",a),k=$(".cgfx__usbmale",a);b?(e.attr("opacity","0.1"),k.attr("transform","translate(0,40)")):(e.attr("opacity","1"),k.attr("transform","translate(0,0)"))};a.bT=function(a,b,e){var k=$(".cgfx__lightning",a),l=$(".cgfx__transfer",
a);a=$(".cgfx__usbmale",a);1==b?(k.attr("opacity","0"),l.attr("display","none"),a.attr("transform","translate(0,50)")):1==e?(k.attr("opacity","0"),l.attr("display","inline")):(k.attr("opacity","1"),a.attr("transform","translate(0,0)"),l.attr("display","none"))};a.VS=function(a,b){var e="black saddlebrown red darkorange yellow green blue darkmagenta grey white gold silver".split(" "),k=b;.1>k&&(k=.1);var k=k.toExponential(1),l=parseFloat(k.substr(4,2))-1;0>l&&(l=10-l);$(".cgfx__color0",a).attr("fill",
e[k.charAt(0)]);$(".cgfx__color1",a).attr("fill",e[k.charAt(2)]);$(".cgfx__color2",a).attr("fill",e[l])};a.RS=function(b,d){var e="0"==d?45:Math.round(45+270*d),k=$(".cgfx__knob",b),l=k.attr("transform");k.attr("transform",a.gm(l,e))};a.XK=function(a,b){b=0>b?0:1<b?1:b;var e=.6>b?0:.6+.4*b,k=.3>b?0:.3+.7*b,l=b;$(".cgfx__outerring",a).attr("opacity",e);$(".cgfx__middlering",a).attr("opacity",k);$(".cgfx__innerring",a).attr("opacity",l)};a.$S=function(a,b){b?($(".cgfx__toggle-on",a).attr("display",
"inline"),$(".cgfx__toggle-off",a).attr("display","none")):($(".cgfx__toggle-on",a).attr("display","none"),$(".cgfx__toggle-off",a).attr("display","inline"))};a.A8=function(b,d){var e;switch(d){case "green":e=a.Ak("ledGreen");break;case "yellow":e=a.Ak("ledYellow");break;case "orange":e=a.Ak("ledOrange");break;case "blue":e=a.Ak("ledBlue");break;default:e=a.Ak("ledRed")}var k=a.Go(e,.75,1);e=a.Go(e,.75,.5);$(".basecolor",b).attr("fill",k);$(".brightness",b).attr("fill",e)};a.Rn=function(b,d){var e,
k,l;l=a.mM(d[0],d[1],d[2]);e=l.tq;k=l.ob;k=0==k?0:.45+.55*l.ob;e=a.Go(e,"0"==l.Oj?0:.3+.7*l.Oj,k);k=.01>l.ob?0:.4+.6*l.ob;var n=.01>l.ob?0:.8+.2*l.ob,q=.01>l.ob?0:.5+.5*l.ob;l=.01>l.ob?0:.2+.8*l.ob;$(".cgfx__basecolor",b).attr("fill",e);$(".cgfx__lightvisibility",b).attr("opacity",k);$(".cgfx__brightnesscore",b).attr("opacity",n);$(".cgfx__brightnessring1",b).attr("opacity",q);$(".cgfx__brightnessring2",b).attr("opacity",l)};a.On=function(a,b){var e=b?"inline":"none";$(".cgfx__inactive",a).attr("display",
e)}})(window.cGraphics=window.cGraphics||{});(function(a){a.y8=function(b,c){"undefined"!=typeof c.La?c.La?($(".cgfx__powerin",b).attr("display","inline"),$(".cgfx__powerout",b).attr("display","none")):($(".cgfx__powerin",b).attr("display","none"),$(".cgfx__powerout",b).attr("display","inline")):("undefined"!=typeof c.fr&&a.rc($(".cgfx__powerled",b),c.fr),"undefined"!=typeof c.Hj&&a.$S($(".cgfx__switch",b),!c.Hj))};a.t8=function(b,c){"undefined"!=typeof c.ZB&&a.rc($(".cgfx__led",b),c.ZB)};a.u8=function(b,c){"undefined"!=typeof c.H0&&a.Bi($(".cgfx__r",
b),c.H0);"undefined"!=typeof c.G0&&a.Bi($(".cgfx__g",b),c.G0);"undefined"!=typeof c.F0&&a.Bi($(".cgfx__b",b),c.F0);"undefined"!=typeof c.La?a.On($(".cgfx__led",b),c.La):"undefined"!=typeof c.pd&&a.Lu($(".cgfx__led",b),c.pd)};a.v8=function(b,c){var d=$(".cgfx__arm",b),e=d.attr("transform");d.attr("transform",a.gm(e,c.rotation))};a.w8=function(b,c){a.XK(b,c.volume)};a.x8=function(b,c){"undefined"!=typeof c.gn&&a.rc($(".cgfx__led1",b),c.gn);"undefined"!=typeof c.hn&&a.rc($(".cgfx__led2",b),c.hn);"undefined"!=
typeof c.E_&&a.rc($(".cgfx__led3",b),c.E_);"undefined"!=typeof c.F_&&a.rc($(".cgfx__led4",b),c.F_);"undefined"!=typeof c.G_&&a.rc($(".cgfx__led5",b),c.G_)};a.z8=function(b,c){"undefined"!=typeof c.La?a.aT($(".cgfx__usbmicro",b),c.La):("undefined"!=typeof c.jn&&a.rc($(".cgfx__led-rx",b),c.jn),"undefined"!=typeof c.kn&&a.rc($(".cgfx__led-tx",b),c.kn),"undefined"!=typeof c.nS&&("analog"==c.nS&&a.Iy($(".cgfx__switch-d5",b),!0),"pwm"==c.nS&&a.Iy($(".cgfx__switch-d5",b),!1)),"undefined"!=typeof c.oS&&("analog"==
c.oS&&a.Iy($(".cgfx__switch-d9",b),!0),"pwm"==c.oS&&a.Iy($(".cgfx__switch-d9",b),!1)))};a.r8=function(b,c){"undefined"!=typeof c.Nl&&a.Sn($(".cgfx__pushbutton",b),c.Nl)};a.s8=function(b,c){"undefined"!=typeof c.position&&a.Bi($(".cgfx__potentiometer",b),c.position)};a.n8=function(b,c){"undefined"!=typeof c.speed&&a.Bi($(".cgfx__speed",b),c.speed)};a.o8=function(b,c){"undefined"!=typeof c.time&&a.Bi($(".cgfx__time",b),c.time);"undefined"!=typeof c.mode&&("on-off"==c.mode&&a.Iy($(".cgfx__mode",b),!0),
"off-on"==c.mode&&a.Iy($(".cgfx__mode",b),!1))};a.p8=function(b,c){"undefined"!=typeof c.o1&&a.Bi($(".cgfx__sensitivity",b),c.o1)};a.q8=function(b,c){"undefined"!=typeof c.position&&a.Bi($(".cgfx__potentiometer",b),c.position)};a.R2=function(b,c){a.XK(b,c.volume)};a.V2=function(b,c){var d=$(".cgfx__arm",b),e=d.attr("transform");d.attr("transform",a.gm(e,c.rotation))};a.W2=function(b,c){"undefined"!=typeof c.position&&a.RS($(".cgfx__potentiometer",b),c.position)};a.X2=function(b,c){"undefined"!=typeof c.Wg&&
(b.view&&b.control?a.kj($(".cgfx__incominglight",b.view),$(".cgfx__incominglight.cgfx__knob",b.control),c.Wg):a.kj($(".cgfx__incominglight",b),null,c.Wg))};a.DS=function(b,c){"undefined"!=typeof c.La?a.On($(".cgfx__rgbled",b),c.La):"undefined"!=typeof c.pd&&a.Rn($(".cgfx__rgbled",b),c.pd)};a.UK=function(b,c){"undefined"!=typeof c.La?a.On($(".cgfx__biled",b),c.La):("undefined"!=typeof c.GN&&a.Rn($(".cgfx__biled",b),[0,0,parseFloat(c.GN)]),"undefined"!=typeof c.gR&&a.Rn($(".cgfx__biled",b),[parseFloat(c.gR),
0,0]))};a.S2=function(b,c){"undefined"!=typeof c.xq&&a.rc($(".cgfx__in-a",b),c.xq);"undefined"!=typeof c.yq&&a.rc($(".cgfx__in-b",b),c.yq);"undefined"!=typeof c.Gr&&a.rc($(".cgfx__vcc",b),c.Gr);"undefined"!=typeof c.sq&&a.rc($(".cgfx__ground",b),c.sq);"undefined"!=typeof c.Tq&&a.rc($(".cgfx__out",b),c.Tq);"undefined"!=typeof c.yA&&a.nf($(".cgfx__switch",b),c.yA)};a.T2=function(b,c){"undefined"!=typeof c.xq&&a.rc($(".cgfx__in-a",b),c.xq);"undefined"!=typeof c.yq&&a.rc($(".cgfx__in-b",b),c.yq);"undefined"!=
typeof c.Gr&&a.rc($(".cgfx__vcc",b),c.Gr);"undefined"!=typeof c.sq&&a.rc($(".cgfx__ground",b),c.sq);"undefined"!=typeof c.Tq&&a.rc($(".cgfx__out",b),c.Tq);"undefined"!=typeof c.hC&&a.nf($(".cgfx__switch",b),c.hC)};a.U2=function(b,c){"undefined"!=typeof c.xq&&a.rc($(".cgfx__in-a",b),c.xq);"undefined"!=typeof c.yq&&a.rc($(".cgfx__in-b",b),c.yq);"undefined"!=typeof c.Gr&&a.rc($(".cgfx__vcc",b),c.Gr);"undefined"!=typeof c.sq&&a.rc($(".cgfx__ground",b),c.sq);"undefined"!=typeof c.Tq&&a.rc($(".cgfx__out",
b),c.Tq);"undefined"!=typeof c.wD&&a.nf($(".cgfx__switch",b),c.wD)};a.VK=function(b,c){"undefined"!=typeof c.xQ&&a.rc($(".cgfx__outputled",b),parseFloat(c.xQ));"undefined"!=typeof c.gT&&a.rc($(".cgfx__vccled",b),parseFloat(c.gT));"undefined"!=typeof c.QQ&&a.RS($(".cgfx__potentiometer",b),c.QQ)};a.FS=function(b,c){"undefined"!=typeof c.on&&a.nf($(".cgfx__switch",b),c.on)};a.Fy=function(b,c){"undefined"!=typeof c.La?c.La?$(".cgfx__battery",b).attr("transform","translate(0,25)"):$(".cgfx__battery",b).attr("transform",
"translate(0,0)"):("undefined"!=typeof c.fr&&a.rc($(".cgfx__powerled",b),c.fr),"undefined"!=typeof c.hy&&a.rc($(".cgfx__shortled",b),c.hy),"undefined"!=typeof c.Hj&&a.$S($(".cgfx__switch",b),c.Hj))};a.Q2=function(b,c){"undefined"!=typeof c.Kj&&a.VS($(".cgfx__resistor",b),c.Kj)};a.P2=function(b,c){"undefined"!=typeof c.Wg&&(b.view&&b.control?a.kj($(".cgfx__incominglight",b.view),$(".cgfx__incominglight.cgfx__knob",b.control),c.Wg):a.kj($(".cgfx__incominglight",b),null,c.Wg))};a.WK=function(b,c){"undefined"!=
typeof c.La?a.aT($(".cgfx__usbmicro",b),c.La):("undefined"!=typeof c.fr&&a.rc($(".cgfx__powerled",b),c.fr),"undefined"!=typeof c.hy&&a.rc($(".cgfx__shortled",b),c.hy))};a.ES=function(b,c){"undefined"!=typeof c.on&&a.nf($(".cgfx__switch",b),c.on)};a.l8=function(){};a.k8=function(){};a.GS=function(b,c){"undefined"!=typeof c.Wg&&(b.view&&b.control?a.kj($(".cgfx__incominglight",b.view),$(".cgfx__incominglight.cgfx__knob",b.control),c.Wg):a.kj($(".cgfx__incominglight",b),null,c.Wg))};a.Ku=function(a,c){"undefined"!=
typeof c.La?c.La&&($(".cgfx__aled",a).attr("fill","#B2B2B2"),$(".cgfx__bled",a).attr("fill","#B2B2B2"),$(".cgfx__cled",a).attr("fill","#B2B2B2"),$(".cgfx__dled",a).attr("fill","#B2B2B2"),$(".cgfx__eled",a).attr("fill","#B2B2B2"),$(".cgfx__fled",a).attr("fill","#B2B2B2"),$(".cgfx__gled",a).attr("fill","#B2B2B2"),$(".cgfx__dpled",a).attr("fill","#B2B2B2"),$(".cgfx__aled",a).attr("opacity","1"),$(".cgfx__bled",a).attr("opacity","1"),$(".cgfx__cled",a).attr("opacity","1"),$(".cgfx__dled",a).attr("opacity",
"1"),$(".cgfx__eled",a).attr("opacity","1"),$(".cgfx__fled",a).attr("opacity","1"),$(".cgfx__gled",a).attr("opacity","1"),$(".cgfx__dpled",a).attr("opacity","1")):"undefined"!=typeof c.Zd&&($(".cgfx__aled",a).attr("fill",0<c.Zd[0]?"#FF1038":"#545454"),$(".cgfx__aled",a).attr("opacity",0<c.Zd[0]?.4+.6*c.Zd[0]:1),$(".cgfx__bled",a).attr("fill",0<c.Zd[1]?"#FF1038":"#545454"),$(".cgfx__bled",a).attr("opacity",0<c.Zd[1]?.4+.6*c.Zd[1]:1),$(".cgfx__cled",a).attr("fill",0<c.Zd[2]?"#FF1038":"#545454"),$(".cgfx__cled",
a).attr("opacity",0<c.Zd[2]?.4+.6*c.Zd[2]:1),$(".cgfx__dled",a).attr("fill",0<c.Zd[3]?"#FF1038":"#545454"),$(".cgfx__dled",a).attr("opacity",0<c.Zd[3]?.4+.6*c.Zd[3]:1),$(".cgfx__eled",a).attr("fill",0<c.Zd[4]?"#FF1038":"#545454"),$(".cgfx__eled",a).attr("opacity",0<c.Zd[4]?.4+.6*c.Zd[4]:1),$(".cgfx__fled",a).attr("fill",0<c.Zd[5]?"#FF1038":"#545454"),$(".cgfx__fled",a).attr("opacity",0<c.Zd[5]?.4+.6*c.Zd[5]:1),$(".cgfx__gled",a).attr("fill",0<c.Zd[6]?"#FF1038":"#545454"),$(".cgfx__gled",a).attr("opacity",
0<c.Zd[6]?.4+.6*c.Zd[6]:1),$(".cgfx__dpled",a).attr("fill",0<c.Zd[7]?"#FF1038":"#545454"),$(".cgfx__dpled",a).attr("opacity",0<c.Zd[7]?.4+.6*c.Zd[7]:1))};a.HS=function(b,c){"undefined"!=typeof c.OP&&a.rc($(".cgfx__ledstatus",b),c.OP);"undefined"!=typeof c.NP&&a.rc($(".cgfx__ledpower",b),c.NP)};a.JS=function(b,c){if("undefined"!=typeof c.La)c.La&&($(".cgfx__bulb",b).attr("opacity",0),$(".cgfx__bulboutline",b).attr("fill","#AAA"),$(".cgfx__filament",b).attr("stroke","#AAA"));else if("undefined"!=typeof c.cb){$(".cgfx__bulb",
b).attr("opacity",.85*c.cb);$(".cgfx__bulboutline",b).attr("fill","#D6C421");var d,e,k;d=.088+.088*c.cb;e=.89-.89*c.cb;k=.86+.14*c.cb;$(".cgfx__filament",b).attr("stroke",a.Go(d,e,k));0==c.cb&&($(".cgfx__bulboutline",b).attr("fill","#AAA"),$(".cgfx__filament",b).attr("stroke","#AAA"))}};a.Lu=function(b,c){m={};m.vg=a.mM(c.pd[0],c.pd[1],c.pd[2]);m.Kh={vg:{tq:m.vg.tq,Oj:m.vg.Oj,ob:m.vg.ob}};m.Kh.MN=.45;m.Kh.vg.ob=0==m.Kh.vg.ob?0:m.Kh.MN+m.vg.ob*(1-m.Kh.MN);m.Kh.vR=.3;m.Kh.X_=1;m.Kh.vg.Oj="0"==m.vg.Oj?
0:m.Kh.vR+m.vg.Oj*(m.Kh.X_-m.Kh.vR);var d=a.Go(m.Kh.vg.tq,m.Kh.vg.Oj,m.Kh.vg.ob),e=.01>m.vg.ob?0:.2+.8*m.vg.ob,k=.01>m.vg.ob?0:.85+.25*m.vg.ob;$(b).find(".cgfx__basecolor").attr("fill",d);$(b).find(".cgfx__background").attr("opacity",k);$(b).find(".cgfx__basecolor").attr("opacity",e);$(b).find(".cgfx__highlightborderback").attr("opacity",e/3)};a.Fr=function(b,c){if("undefined"!=typeof c.cb){var d=.01>c.cb?1:1-(.2+.8*c.cb);$(b).find(".cgfx__mask").attr("fill-opacity",d)}if("undefined"!=typeof c.color)switch(c.color){case "green":c.vq=
a.Ak("ledGreen");break;case "yellow":c.vq=a.Ak("ledYellow");break;case "orange":c.vq=a.Ak("ledOrange");break;case "blue":c.vq=a.Ak("ledBlue");break;default:c.vq=a.Ak("ledRed")}if("undefined"!=typeof c.vq){var d=a.Go(c.vq,.75,1),e=a.Go(c.vq,.75,.5);$(b).find(".cgfx__basecolor").attr("fill",d);$(b).find(".cgfx__mask").attr("fill",e)}};a.cT=function(a,c){if("undefined"!=typeof c.cb){var d=.01>c.cb?0:.2+.8*c.cb,e=.01>c.cb?0:.85+.25*c.cb;$(a).find(".cgfx__basecolor").attr("opacity",d);$(a).find(".cgfx__highlightborderback").attr("opacity",
d/1.1);$(a).find(".cgfx__background").attr("opacity",e)}};a.LS=function(b,c){"undefined"!=typeof c.La?a.On($(".cgfx__neopixel",b),!c.La):"undefined"!=typeof c.Lf&&"undefined"!=typeof c.Lf.neopixel0&&a.Rn($(".cgfx__neopixel",b),c.Lf.neopixel0.pd)};a.MS=function(b,c){if("undefined"!=typeof c.La)for(var d=0;7>d;d++)a.On($(".cgfx__neopixel"+d,b),!c.La);else if("undefined"!=typeof c.Lf)for(d=0;7>d;d++)"undefined"!=typeof c.Lf["neopixel"+d]&&a.Rn($(".cgfx__neopixel"+d,b),c.Lf["neopixel"+d].pd)};a.NS=function(b,
c){if("undefined"!=typeof c.La)for(var d=0;12>d;d++)a.On($(".cgfx__neopixel"+d,b),!c.La);else if("undefined"!=typeof c.Lf)for(d=0;12>d;d++)"undefined"!=typeof c.Lf["neopixel"+d]&&a.Rn($(".cgfx__neopixel"+d,b),c.Lf["neopixel"+d].pd)};a.OS=function(b,c){if("undefined"!=typeof c.La)for(var d=0;16>d;d++)a.On($(".cgfx__neopixel"+d,b),!c.La);else if("undefined"!=typeof c.Lf)for(d=0;16>d;d++)"undefined"!=typeof c.Lf["neopixel"+d]&&a.Rn($(".cgfx__neopixel"+d,b),c.Lf["neopixel"+d].pd)};a.PS=function(b,c){if("undefined"!=
typeof c.La)for(var d=0;24>d;d++)a.On($(".cgfx__neopixel"+d,b),!c.La);else if("undefined"!=typeof c.Lf)for(d=0;24>d;d++)"undefined"!=typeof c.Lf["neopixel"+d]&&a.Rn($(".cgfx__neopixel"+d,b),c.Lf["neopixel"+d].pd)};a.b3=function(b,c){a.Fr(b,c)};a.Z2=function(b,c){a.Fr(b,c)};a.a3=function(b,c){a.Fr(b,c)};a.B8=function(b,c){a.Fr(b,c)};a.c3=function(b,c){a.Fr(b,c)};a.bl=function(b,c){if("undefined"!=typeof c.La)c.La&&$(".cgfx__rpm",b).length&&$(".cgfx__rpm",b).text("");else{var d=$(".cgfx__arm",b),e=
d.attr("transform");d.attr("transform",a.gm(e,c.rotation,[0,0]));"undefined"!=typeof c.GC&&$(".cgfx__rpm",b).text(c.GC)}};a.d3=function(b,c){var d=$(".cgfx__arm",b),e=d.attr("transform");d.attr("transform",a.gm(e,c.rotation,[-13,-25]))};a.f3=function(b,c){var d=$(".cgfx__arm",b),e=d.attr("transform");d.attr("transform",a.gm(e,c.rotation,[0,0]))};a.e3=function(b,c){var d=$(".cgfx__servohorn",b),e=$(".cgfx__gear-connected",b),k=a.gm(d.attr("transform"),c.rotation,[0,0]);d.attr("transform",k);e.attr("transform",
k);d=$(".cgfx__gear-opposite",b);e=a.gm(d.attr("transform"),c.rotation,[0,0]);d.attr("transform",e)};a.nD=function(a,c){"undefined"!=typeof c.La?c.La?($(".cgfx__displaytext",a).text(""),$(".cgfx__screen",a).attr("opacity",.85)):$(".cgfx__screen",a).attr("opacity",1):("undefined"!=typeof c.text&&$(".cgfx__displaytext",a).text(c.text),c.VX&&($(".cgfx__button-ampere-active",a).attr("display","inline"),$(".cgfx__button-ampere-inactive",a).attr("display","none"),$(".cgfx__button-volt-active",a).attr("display",
"none"),$(".cgfx__button-volt-inactive",a).attr("display","inline"),$(".cgfx__button-resistance-active",a).attr("display","none"),$(".cgfx__button-resistance-inactive",a).attr("display","inline")),c.u3&&($(".cgfx__button-ampere-active",a).attr("display","none"),$(".cgfx__button-ampere-inactive",a).attr("display","inline"),$(".cgfx__button-volt-active",a).attr("display","inline"),$(".cgfx__button-volt-inactive",a).attr("display","none"),$(".cgfx__button-resistance-active",a).attr("display","none"),
$(".cgfx__button-resistance-inactive",a).attr("display","inline")),c.Kj&&($(".cgfx__button-ampere-active",a).attr("display","none"),$(".cgfx__button-ampere-inactive",a).attr("display","inline"),$(".cgfx__button-volt-active",a).attr("display","none"),$(".cgfx__button-volt-inactive",a).attr("display","inline"),$(".cgfx__button-resistance-active",a).attr("display","inline"),$(".cgfx__button-resistance-inactive",a).attr("display","none")))};a.Gy=function(a,c){"undefined"!=typeof c.La?c.La?($(".cgfx__screen",
a).attr("opacity",.85),$(".cgfx__graph",a).attr("d","M 0 0"),$(".cgfx__xscale",a).text("Time"),$(".cgfx__yscale",a).text("Voltage")):$(".cgfx__screen",a).attr("opacity",1):("undefined"!=typeof c.Ry&&$(".cgfx__xscale",a).text(c.Ry),"undefined"!=typeof c.Sy&&$(".cgfx__yscale",a).text(c.Sy),"undefined"!=typeof c.DI&&$(".cgfx__graph",a).attr("d",c.DI))};a.j3=function(a,c){"undefined"!=typeof c.position&&$(a).find(".cgfx__knob").attr("transform","rotate("+(45+270*c.position)+")")};a.h3=function(a,c){"undefined"!=
typeof c.position&&$(a).find(".cgfx__knob").attr("transform","rotate("+(45+270*c.position)+")")};a.i3=function(a,c){"undefined"!=typeof c.position&&($(a).find(".cgfx__knob").attr("transform","rotate("+(45+270*c.position)+")"),$(a).find(".cgfx__knobshadow").attr("transform","rotate("+(45+270*c.position)+", 0,2)"))};a.Tn=function(b,c){if("undefined"!=typeof c.La)if(c.La){var d=$(".cgfx__display-voltage",b);$(".cgfx__displaytext",d).text("");$(".cgfx__screen",d).attr("opacity",.85);a.mD($(".cgfx__vcled",
b),0);d=$(".cgfx__display-current",b);$(".cgfx__displaytext",d).text("");$(".cgfx__screen",d).attr("opacity",.85);a.mD($(".cgfx__ccled",b),0)}else $(".cgfx__screen",b).attr("opacity",1);else"undefined"!=typeof c.mT&&a.Bi($(".cgfx__potentiometer-voltage",b),c.mT),"undefined"!=typeof c.lT&&(d=$(".cgfx__display-voltage",b),$(".cgfx__displaytext",d).text(c.lT)),"undefined"!=typeof c.vO&&a.Bi($(".cgfx__potentiometer-current",b),c.vO),"undefined"!=typeof c.uO&&(d=$(".cgfx__display-current",b),$(".cgfx__displaytext",
d).text(c.uO)),"undefined"!=typeof c.iT&&a.mD($(".cgfx__vcled",b),c.iT),"undefined"!=typeof c.VN&&a.mD($(".cgfx__ccled",b),c.VN),"undefined"!=typeof c.Hj&&a.nf($(".cgfx__powerbtn",b),c.Hj)};a.Hy=function(b,c){"undefined"!=typeof c.Zl&&a.Sn($(".cgfx__resetbutton",b),c.Zl);"undefined"!=typeof c.uR&&a.Sn($(".cgfx__s1button",b),c.uR);"undefined"!=typeof c.gn&&a.rc($(".cgfx__led1",b),c.gn);"undefined"!=typeof c.hn&&a.rc($(".cgfx__led2",b),c.hn)};a.g3=function(b,c){a.XK(b,c.volume)};a.C8=function(b,c){"undefined"!=
typeof c.J_&&a.rc($(".cgfx__ledusb",b),c.J_);"undefined"!=typeof c.H_&&a.rc($(".cgfx__lederror",b),c.H_);"undefined"!=typeof c.I_&&a.rc($(".cgfx__ledstatus",b),c.I_)};a.SS=function(a,c){"undefined"!=typeof c.La?c.La&&($(".cgfx__switch-left-top",a).attr("display","inline"),$(".cgfx__switch-left-bottom",a).attr("display","inline"),$(".cgfx__switch-right-top",a).attr("display","none"),$(".cgfx__switch-right-bottom",a).attr("display","none")):"undefined"!=typeof c.Ch&&("6and11connected"==c.Ch?($(".cgfx__switch-left-top",
a).attr("display","inline"),$(".cgfx__switch-left-bottom",a).attr("display","inline"),$(".cgfx__switch-right-top",a).attr("display","none"),$(".cgfx__switch-right-bottom",a).attr("display","none")):"8and9connected"==c.Ch&&($(".cgfx__switch-left-top",a).attr("display","none"),$(".cgfx__switch-left-bottom",a).attr("display","none"),$(".cgfx__switch-right-top",a).attr("display","inline"),$(".cgfx__switch-right-bottom",a).attr("display","inline")))};a.TS=function(a,c){"undefined"!=typeof c.La?c.La&&($(".cgfx__switch-left-top",
a).attr("display","inline"),$(".cgfx__switch-left-bottom",a).attr("display","inline"),$(".cgfx__switch-right-top",a).attr("display","none"),$(".cgfx__switch-right-bottom",a).attr("display","none")):"undefined"!=typeof c.Ch&&("8and9connected"==c.Ch?($(".cgfx__switch-left-top",a).attr("display","none"),$(".cgfx__switch-left-bottom",a).attr("display","none"),$(".cgfx__switch-right-top",a).attr("display","inline"),$(".cgfx__switch-right-bottom",a).attr("display","inline")):"6and11connected"==c.Ch&&($(".cgfx__switch-left-top",
a).attr("display","inline"),$(".cgfx__switch-left-bottom",a).attr("display","inline"),$(".cgfx__switch-right-top",a).attr("display","none"),$(".cgfx__switch-right-bottom",a).attr("display","none")))};a.oD=function(a,c){"undefined"!=typeof c.La?c.La&&($(".cgfx__switch-6connected",a).attr("display","none"),$(".cgfx__switch-7connected",a).attr("display","inline")):"undefined"!=typeof c.Ch&&("6connected"==c.Ch?($(".cgfx__switch-6connected",a).attr("display","inline"),$(".cgfx__switch-7connected",a).attr("display",
"none")):"7connected"==c.Ch&&($(".cgfx__switch-6connected",a).attr("display","none"),$(".cgfx__switch-7connected",a).attr("display","inline")))};a.D8=function(a,c){"undefined"!=typeof c.La?c.La&&($(".cgfx__switch-6connected",a).attr("display","none"),$(".cgfx__switch-7connected",a).attr("display","inline")):"undefined"!=typeof c.Ch&&("6connected"==c.Ch?($(".cgfx__switch-6connected",a).attr("display","inline"),$(".cgfx__switch-7connected",a).attr("display","none")):"7connected"==c.Ch&&($(".cgfx__switch-6connected",
a).attr("display","none"),$(".cgfx__switch-7connected",a).attr("display","inline")))};a.k3=function(b,c){"undefined"!=typeof c.Wg&&(b.view&&b.control?a.kj($(".cgfx__incominglight",b.view),$(".cgfx__incominglight.cgfx__knob",b.control),c.Wg):a.kj($(".cgfx__incominglight",b),null,c.Wg))};a.US=function(b,c){a.VS(b,c.Kj)};a.WS=function(b,c){"undefined"!=typeof c.gD&&(b.view&&b.control?a.kj($(".cgfx__temperature",b.view),$(".cgfx__temperature.cgfx__knob",b.control),c.gD,c.vK):a.kj($(".cgfx__temperature",
b),null,c.gD,c.vK))};a.XS=function(b,c){"undefined"!=typeof c.hD&&(b.view&&b.control?a.kj($(".cgfx__tilt",b.view),$(".cgfx__tilt.cgfx__knob",b.control),c.hD):a.kj($(".cgfx__tilt",b),null,c.hD))};a.ZS=function(b,c){"undefined"!=typeof c.FK&&a.nf($(".cgfx__switch1",b),c.FK.on);"undefined"!=typeof c.fS&&a.nf($(".cgfx__switch2",b),c.fS.on);"undefined"!=typeof c.gS&&a.nf($(".cgfx__switch3",b),c.gS.on);"undefined"!=typeof c.hS&&a.nf($(".cgfx__switch4",b),c.hS.on);"undefined"!=typeof c.iS&&a.nf($(".cgfx__switch5",
b),c.iS.on);"undefined"!=typeof c.jS&&a.nf($(".cgfx__switch6",b),c.jS.on);"undefined"!=typeof c.kS&&a.nf($(".cgfx__switch7",b),c.kS.on);"undefined"!=typeof c.lS&&a.nf($(".cgfx__switch8",b),c.lS.on);"undefined"!=typeof c.mS&&a.nf($(".cgfx__switch9",b),c.mS.on);"undefined"!=typeof c.cS&&a.nf($(".cgfx__switch10",b),c.cS.on);"undefined"!=typeof c.dS&&a.nf($(".cgfx__switch11",b),c.dS.on);"undefined"!=typeof c.eS&&a.nf($(".cgfx__switch12",b),c.eS.on)};a.m3=function(a,c){"undefined"!=typeof c.Nl&&(c.Nl?
($(".cgfx__up",a).attr("display","none"),$(".cgfx__pressed",a).attr("display","inline")):($(".cgfx__up",a).attr("display","inline"),$(".cgfx__pressed",a).attr("display","none")))};a.n3=function(b,c){"undefined"!=typeof c.on&&a.nf(b,c.on)};a.lD=function(b,c){"undefined"!=typeof c.La?c.La&&($(".cgfx__dots",b).get(0).innerHTML="",a.IS(b,0)):"undefined"!=typeof c.aI&&"undefined"!=typeof c.cb&&"undefined"!=typeof c.Sm&&(a.Y2(b,c.aI,c.cb,c.Sm),a.IS(b,c.cb))};a.Yh=function(b,c){"undefined"!=typeof c.La?
a.bT($(".cgfx__usb",b),c.La):("undefined"!=typeof c.H2&&a.bT($(".cgfx__usb",b),!1,c.H2),"undefined"!=typeof c.Zl&&a.Sn($(".cgfx__resetbutton",b),c.Zl),"undefined"!=typeof c.bu&&a.rc($(".cgfx__led13",b),c.bu),"undefined"!=typeof c.kn&&a.rc($(".cgfx__ledtx",b),c.kn),"undefined"!=typeof c.jn&&a.rc($(".cgfx__ledrx",b),c.jn),"undefined"!=typeof c.eJ&&a.rc($(".cgfx__ledon",b),c.eJ))};a.Ju=function(b,c){"undefined"==typeof c.La&&("undefined"!=typeof c.Zl&&a.Sn($(".cgfx__resetbutton",b),c.Zl),"undefined"!=
typeof c.bu&&a.rc($(".cgfx__led13",b),c.bu),"undefined"!=typeof c.kn&&a.rc($(".cgfx__ledtx",b),c.kn),"undefined"!=typeof c.jn&&a.rc($(".cgfx__ledrx",b),c.jn))};a.KS=function(a,c){if("undefined"!=typeof c.Nl)if("undefined"!=typeof c.rR&&"undefined"!=typeof c.gO){var d=".cgfx__button_"+c.rR+""+c.gO;c.Nl?$(d,a).attr("display","inline"):$(d,a).attr("display","none")}else c.Nl||$(".cgfx__hitarea_interaction",a).attr("display","none")};a.al=function(b,c){if("undefined"!=typeof c.La)if(c.La){var d=$(".cgfx__display-frequency",
b);$(".cgfx__screen",d).attr("opacity",.85);d=$(".cgfx__display-amplitude",b);$(".cgfx__screen",d).attr("opacity",.85);d=$(".cgfx__display-dc-offset",b);$(".cgfx__screen",d).attr("opacity",.85);$(".cgfx__button-overlay",b).attr("opacity",.5);$(".cgfx__displaytext",b).attr("display","none");a.nf($(".cgfx__powerbtn",b),!1)}else $(".cgfx__screen",b).attr("opacity",1),$(".cgfx__button-overlay",b).attr("opacity",1),$(".cgfx__displaytext",b).attr("display","inline");else"undefined"!=typeof c.cP&&a.Bi($(".cgfx__potentiometer-frequency",
b),c.cP),"undefined"!=typeof c.bP&&(d=$(".cgfx__display-frequency",b),$(".cgfx__displaytext",d).text(c.bP)),"undefined"!=typeof c.yN&&a.Bi($(".cgfx__potentiometer-amplitude",b),c.yN),"undefined"!=typeof c.xN&&(d=$(".cgfx__display-amplitude",b),$(".cgfx__displaytext",d).text(c.xN)),"undefined"!=typeof c.BO&&a.Bi($(".cgfx__potentiometer-dc-offset",b),c.BO),"undefined"!=typeof c.AO&&(d=$(".cgfx__display-dc-offset",b),$(".cgfx__displaytext",d).text(c.AO)),"undefined"!=typeof c.HP&&a.Sn($(".cgfx__button-square",
b),c.HP),"undefined"!=typeof c.GP&&a.Sn($(".cgfx__button-sine",b),c.GP),"undefined"!=typeof c.IP&&a.Sn($(".cgfx__button-triangle",b),c.IP),"undefined"!=typeof c.Hj&&a.nf($(".cgfx__powerbtn",b),c.Hj)};a.qD=function(b,c){if("undefined"!=typeof c.La)c.La?$(".cgfx__target_area",b.view).attr("display","none"):$(".cgfx__target_area",b.view).attr("display","inline");else{if("undefined"!=typeof c.Kb){var d=$(".cgfx__hitarea_interaction",b.view);d.attr("cx",""+c.Kb.x);d.attr("cy",""+c.Kb.y);d=$(".cgfx__hitarea_interaction",
b.control);d.attr("cx",""+c.Kb.x);d.attr("cy",""+c.Kb.y);d=$(".cgfx__target_line",b.view);d.attr("x2",""+c.Kb.x);d.attr("y2",""+c.Kb.y)}"undefined"!=typeof c.Lx&&$(".cgfx__displaytext",b.view).text(c.Lx);"undefined"!=typeof c.aj&&a.rc($(".cgfx__ledActive",b.view),c.aj);"undefined"!=typeof c.inRange&&$(".cgfx__target_range",b.view).attr("fill",c.inRange?"#339933":"#993333")}};a.pD=function(a,c){if("undefined"!=typeof c.La)c.La?$(".cgfx__target_area",a.view).attr("display","none"):$(".cgfx__target_area",
a.view).attr("display","inline");else{if("undefined"!=typeof c.Kb){var d=$(".cgfx__hitarea_interaction",a.view);d.attr("cx",""+c.Kb.x);d.attr("cy",""+c.Kb.y);d=$(".cgfx__hitarea_interaction",a.control);d.attr("cx",""+c.Kb.x);d.attr("cy",""+c.Kb.y);d=$(".cgfx__target_line",a.view);d.attr("x2",""+c.Kb.x);d.attr("y2",""+c.Kb.y)}"undefined"!=typeof c.Lx&&$(".cgfx__displaytext",a.view).text(c.Lx);"undefined"!=typeof c.aj&&(d=$(".cgfx__ledActive",a.view),d.attr("display",c.aj?"inline":"none"));"undefined"!=
typeof c.inRange&&$(".cgfx__target_range",a.view).attr("fill",c.inRange?"#339933":"#993333")}};a.ZK=function(a,c){"undefined"!=typeof c.La&&(c.La?$(".cgfx__target_area",a.view).attr("display","none"):$(".cgfx__target_area",a.view).attr("display","inline"));if("undefined"!=typeof c.Kb){var d=$(".cgfx__gas",a.view);d.attr("transform","translate("+c.Kb.x+","+c.Kb.y+")");d=$(".cgfx__hitarea_interaction",a.control);d.attr("cx",""+c.Kb.x);d.attr("cy",""+c.Kb.y);d=$(".cgfx__target_line",a.view);d.attr("x2",
""+c.Kb.x);d.attr("y2",""+c.Kb.y)}"undefined"!=typeof c.bw&&($(".cgfx__gas1",a.view).attr("transform","rotate("+(270+360*c.bw)+")"),$(".cgfx__gas2",a.view).attr("transform","rotate("+(45+360*c.bw)+")"),$(".cgfx__gas3",a.view).attr("transform","rotate("+720*c.bw+")"))}})(window.cGraphics=window.cGraphics||{});(function(a){a.nx={LZ:function(b){for(var c=[],d=0;d<b.length;d++){c[d]=[];for(var e=0;e<b[d].length;e++)c[d][e]=a.nx.MZ(b[d][e])}return c},MZ:function(b){null==b&&(b="_EMPTY");"undefined"==typeof a.nx.$H[b]&&(b="_UNKNOWN");return a.nx.$H[b]},$H:{16:[[0,0,1,0,0],[0,0,1,0,0],[1,1,1,1,1],[0,0,1,0,0],[0,0,1,0,0],[0,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0]],17:[[1,1,1,1,1],[0,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],18:[[1,1,1,1,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,0,0,1],
[0,1,0,0,0],[0,1,0,0,0],[0,0,1,0,0],[0,0,1,0,0]],19:[[0,0,1,0,0],[0,0,1,0,0],[0,1,0,0,0],[0,1,0,0,0],[0,1,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,1]],20:[[0,0,0,0,1],[0,0,0,1,0],[0,0,0,1,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0]],21:[[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,0,1,0]],22:[[1,0,0,0,0],[0,1,0,0,0],[0,1,0,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0]],23:[[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,
0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,1,0,0,0]],24:[[0,0,0,0,1],[0,0,0,1,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0]],25:[[1,0,0,0,0],[0,1,0,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0]],26:[[0,0,0,0,0],[0,1,0,1,0],[1,0,1,0,0],[0,0,0,0,0],[0,1,0,1,0],[1,0,1,0,0],[0,0,0,0,0],[0,0,0,0,0]],27:[[0,0,0,1,1],[0,0,1,0,1],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0]],28:[[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[1,1,
1,1,1],[0,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0],[0,0,0,0,0]],29:[[0,0,0,0,0],[0,0,0,0,0],[0,1,0,0,0],[1,0,1,0,1],[1,0,1,0,1],[0,0,0,1,0],[0,0,0,0,0],[0,0,0,0,0]],30:[[1,1,1,0,0],[0,0,1,0,0],[1,1,1,0,0],[1,0,0,0,0],[1,1,1,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],31:[[1,1,1,0,0],[0,0,1,0,0],[1,1,1,0,0],[0,0,1,0,0],[1,1,1,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],32:[[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],33:[[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,
0,1,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,1,0,0],[0,0,0,0,0]],34:[[0,1,0,1,0],[0,1,0,1,0],[0,1,0,1,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],35:[[0,1,0,1,0],[0,1,0,1,0],[1,1,1,1,1],[0,1,0,1,0],[1,1,1,1,1],[0,1,0,1,0],[0,1,0,1,0],[0,0,0,0,0]],36:[[0,0,1,0,0],[0,1,1,1,1],[1,0,1,0,0],[0,1,1,1,0],[0,0,1,0,1],[1,1,1,1,0],[0,0,1,0,0],[0,0,0,0,0]],37:[[1,1,0,0,0],[1,1,0,0,1],[0,0,0,1,0],[0,0,1,0,0],[0,1,0,0,0],[1,0,0,1,1],[0,0,0,1,1],[0,0,0,0,0]],38:[[0,1,0,0,0],[1,0,1,0,0],[1,0,1,0,0],
[0,1,0,0,1],[1,0,1,0,1],[1,0,0,1,0],[0,1,1,0,1],[0,0,0,0,0]],39:[[0,1,1,0,0],[0,0,1,0,0],[0,1,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],40:[[0,0,0,1,0],[0,0,1,0,0],[0,1,0,0,0],[0,1,0,0,0],[0,1,0,0,0],[0,0,1,0,0],[0,0,0,1,0],[0,0,0,0,0]],41:[[0,1,0,0,0],[0,0,1,0,0],[0,0,0,1,0],[0,0,0,1,0],[0,0,0,1,0],[0,0,1,0,0],[0,1,0,0,0],[0,0,0,0,0]],42:[[0,0,1,0,0],[1,0,1,0,1],[0,1,1,1,0],[0,0,1,0,0],[0,1,1,1,0],[1,0,1,0,1],[0,0,1,0,0],[0,0,0,0,0]],43:[[0,0,0,0,0],[0,0,1,0,0],[0,0,1,0,
0],[1,1,1,1,1],[0,0,1,0,0],[0,0,1,0,0],[0,0,0,0,0],[0,0,0,0,0]],44:[[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,1,1,0,0],[0,0,1,0,0],[0,1,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],45:[[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],46:[[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,1,1,0,0],[0,1,1,0,0],[0,0,0,0,0]],47:[[0,0,0,0,0],[0,0,0,0,1],[0,0,0,1,0],[0,0,1,0,0],[0,1,0,0,0],[1,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],48:[[0,1,1,1,0],[1,0,0,0,1],[1,0,
0,1,1],[1,0,1,0,1],[1,1,0,0,1],[1,0,0,0,1],[0,1,1,1,0],[0,0,0,0,0]],49:[[0,0,1,0,0],[0,1,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,1,1,1,0],[0,0,0,0,0]],50:[[0,1,1,1,0],[1,0,0,0,1],[0,0,0,0,1],[0,0,0,1,0],[0,0,1,0,0],[0,1,0,0,0],[1,1,1,1,1],[0,0,0,0,0]],51:[[1,1,1,1,1],[0,0,0,1,0],[0,0,1,0,0],[0,0,0,1,0],[0,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0],[0,0,0,0,0]],52:[[0,0,0,1,0],[0,0,1,1,0],[0,1,0,1,0],[1,0,0,1,0],[1,1,1,1,1],[0,0,0,1,0],[0,0,0,1,0],[0,0,0,0,0]],53:[[1,1,1,1,1],[1,0,0,0,0],[1,
1,1,1,0],[0,0,0,0,1],[0,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0],[0,0,0,0,0]],54:[[0,0,1,1,0],[0,1,0,0,0],[1,0,0,0,0],[1,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0],[0,0,0,0,0]],55:[[1,1,1,1,1],[0,0,0,0,1],[0,0,0,1,0],[0,0,0,1,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,0,0,0]],56:[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0],[0,0,0,0,0]],57:[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,1],[0,0,0,0,1],[0,0,0,1,0],[0,1,1,0,0],[0,0,0,0,0]],58:[[0,0,0,0,0],[0,1,1,0,0],
[0,1,1,0,0],[0,0,0,0,0],[0,1,1,0,0],[0,1,1,0,0],[0,0,0,0,0],[0,0,0,0,0]],59:[[0,0,0,0,0],[0,1,1,0,0],[0,1,1,0,0],[0,0,0,0,0],[0,1,1,0,0],[0,0,1,0,0],[0,1,0,0,0],[0,0,0,0,0]],60:[[0,0,0,1,0],[0,0,1,0,0],[0,1,0,0,0],[1,0,0,0,0],[0,1,0,0,0],[0,0,1,0,0],[0,0,0,1,0],[0,0,0,0,0]],61:[[0,0,0,0,0],[0,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],62:[[0,1,0,0,0],[0,0,1,0,0],[0,0,0,1,0],[0,0,0,0,1],[0,0,0,1,0],[0,0,1,0,0],[0,1,0,0,0],[0,0,0,0,0]],63:[[0,1,1,1,0],[1,0,0,0,
1],[0,0,0,0,1],[0,0,0,1,0],[0,0,1,0,0],[0,0,0,0,0],[0,0,1,0,0],[0,0,0,0,0]],64:[[0,1,1,1,0],[1,0,0,0,1],[1,0,1,1,1],[1,0,1,0,1],[1,0,1,1,1],[1,0,0,0,0],[0,1,1,1,0],[0,0,0,0,0]],65:[[0,0,1,0,0],[0,1,0,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,1],[1,0,0,0,1],[1,0,0,0,1],[0,0,0,0,0]],66:[[1,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,0],[0,0,0,0,0]],67:[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,1],[0,1,1,1,0],[0,0,0,0,0]],68:[[1,1,1,0,0],[1,0,
0,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,1,0],[1,1,1,0,0],[0,0,0,0,0]],69:[[1,1,1,1,1],[1,0,0,0,0],[1,0,0,0,0],[1,1,1,1,0],[1,0,0,0,0],[1,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0]],70:[[1,1,1,1,1],[1,0,0,0,0],[1,0,0,0,0],[1,1,1,1,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[0,0,0,0,0]],71:[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,0],[1,0,1,1,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,1],[0,0,0,0,0]],72:[[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,0,0,0,0]],73:[[0,1,1,1,0],[0,
0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,1,1,1,0],[0,0,0,0,0]],74:[[0,0,1,1,1],[0,0,0,1,0],[0,0,0,1,0],[0,0,0,1,0],[0,0,0,1,0],[1,0,0,1,0],[0,1,1,0,0],[0,0,0,0,0]],75:[[1,0,0,0,1],[1,0,0,1,0],[1,0,1,0,0],[1,1,0,0,0],[1,0,1,0,0],[1,0,0,1,0],[1,0,0,0,1],[0,0,0,0,0]],76:[[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0]],77:[[1,0,0,0,1],[1,1,0,1,1],[1,0,1,0,1],[1,0,1,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,0,0,0,0]],78:[[1,0,0,0,1],
[1,0,0,0,1],[1,1,0,0,1],[1,0,1,0,1],[1,0,0,1,1],[1,0,0,0,1],[1,0,0,0,1],[0,0,0,0,0]],79:[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0],[0,0,0,0,0]],80:[[1,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[0,0,0,0,0]],81:[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,1,0,1],[1,0,0,1,0],[0,1,1,0,1],[0,0,0,0,0]],82:[[1,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,0],[1,0,1,0,0],[1,0,0,1,0],[1,0,0,0,1],[0,0,0,0,0]],83:[[0,1,1,1,
0],[1,0,0,0,1],[1,0,0,0,0],[0,1,1,1,0],[0,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0],[0,0,0,0,0]],84:[[1,1,1,1,1],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,0,0,0]],85:[[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0],[0,0,0,0,0]],86:[[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,0,1,0],[0,0,1,0,0],[0,0,0,0,0]],87:[[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,1,0,1],[1,0,1,0,1],[1,0,1,0,1],[0,1,0,1,0],[0,0,0,0,0]],88:[[1,0,
0,0,1],[1,0,0,0,1],[0,1,0,1,0],[0,0,1,0,0],[0,1,0,1,0],[1,0,0,0,1],[1,0,0,0,1],[0,0,0,0,0]],89:[[1,0,0,0,1],[1,0,0,0,1],[0,1,0,1,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,0,0,0]],90:[[1,1,1,1,1],[0,0,0,0,1],[0,0,0,1,0],[0,0,1,0,0],[0,1,0,0,0],[1,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0]],91:[[0,1,1,1,0],[0,1,0,0,0],[0,1,0,0,0],[0,1,0,0,0],[0,1,0,0,0],[0,1,0,0,0],[0,1,1,1,0],[0,0,0,0,0]],92:[[0,0,0,0,0],[1,0,0,0,0],[0,1,0,0,0],[0,0,1,0,0],[0,0,0,1,0],[0,0,0,0,1],[0,0,0,0,0],[0,0,0,0,0]],93:[[0,
1,1,1,0],[0,0,0,1,0],[0,0,0,1,0],[0,0,0,1,0],[0,0,0,1,0],[0,0,0,1,0],[0,1,1,1,0],[0,0,0,0,0]],94:[[0,0,1,0,0],[0,1,0,1,0],[1,0,0,0,1],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],95:[[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0]],96:[[0,0,1,1,0],[0,0,1,0,0],[0,0,0,1,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],97:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,0],[0,0,0,0,1],[0,1,1,1,1],[1,0,0,0,1],[0,1,1,1,1],[0,0,0,0,0]],98:[[1,
0,0,0,0],[1,0,0,0,0],[1,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,0],[0,0,0,0,0]],99:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,1],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[0,1,1,1,1],[0,0,0,0,0]],100:[[0,0,0,0,1],[0,0,0,0,1],[0,1,1,1,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,1],[0,0,0,0,0]],101:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,0],[1,0,0,0,1],[1,1,1,1,1],[1,0,0,0,0],[0,1,1,1,0],[0,0,0,0,0]],102:[[0,0,0,1,1],[0,0,1,0,0],[1,1,1,1,1],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,0,0,0]],
103:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,1],[1,0,0,0,1],[0,1,1,1,1],[0,0,0,0,1],[0,1,1,1,0],[0,0,0,0,0]],104:[[1,0,0,0,0],[1,0,0,0,0],[1,0,1,1,0],[1,1,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,0,0,0,0]],105:[[0,0,1,0,0],[0,0,0,0,0],[0,1,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,1,1,1,0],[0,0,0,0,0]],106:[[0,0,0,1,0],[0,0,0,0,0],[0,0,1,1,0],[0,0,0,1,0],[0,0,0,1,0],[1,0,0,1,0],[0,1,1,0,0],[0,0,0,0,0]],107:[[0,1,0,0,0],[0,1,0,0,0],[0,1,0,0,1],[0,1,0,1,0],[0,1,1,0,0],[0,1,0,1,0],[0,1,0,0,1],[0,0,
0,0,0]],108:[[0,1,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,1,1,1,0],[0,0,0,0,0]],109:[[0,0,0,0,0],[0,0,0,0,0],[1,1,0,1,0],[1,0,1,0,1],[1,0,1,0,1],[1,0,1,0,1],[1,0,1,0,1],[0,0,0,0,0]],110:[[0,0,0,0,0],[0,0,0,0,0],[1,0,1,1,0],[1,1,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,0,0,0,0]],111:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0],[0,0,0,0,0]],112:[[0,0,0,0,0],[0,0,0,0,0],[1,1,1,1,0],[1,0,0,0,1],[1,1,1,1,0],[1,0,0,0,0],[1,0,0,0,
0],[0,0,0,0,0]],113:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,1],[1,0,0,0,1],[0,1,1,1,1],[0,0,0,0,1],[0,0,0,0,1],[0,0,0,0,0]],114:[[0,0,0,0,0],[0,0,0,0,0],[0,1,0,1,1],[0,1,1,0,0],[0,1,0,0,0],[0,1,0,0,0],[0,1,0,0,0],[0,0,0,0,0]],115:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,0],[1,0,0,0,0],[0,1,1,1,0],[0,0,0,0,1],[1,1,1,1,0],[0,0,0,0,0]],116:[[0,0,1,0,0],[0,0,1,0,0],[1,1,1,1,1],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,0,1,1],[0,0,0,0,0]],117:[[0,0,0,0,0],[0,0,0,0,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,1,1],
[0,1,1,0,1],[0,0,0,0,0]],118:[[0,0,0,0,0],[0,0,0,0,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,0,1,0],[0,0,1,0,0],[0,0,0,0,0]],119:[[0,0,0,0,0],[0,0,0,0,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,1,0,1],[1,0,1,0,1],[0,1,0,1,0],[0,0,0,0,0]],120:[[0,0,0,0,0],[0,0,0,0,0],[1,0,0,0,1],[0,1,0,1,0],[0,0,1,0,0],[0,1,0,1,0],[1,0,0,0,1],[0,0,0,0,0]],121:[[0,0,0,0,0],[0,0,0,0,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,1],[0,0,0,0,1],[0,1,1,1,0],[0,0,0,0,0]],122:[[0,0,0,0,0],[0,0,0,0,0],[1,1,1,1,1],[0,0,0,1,0],[0,0,1,0,0],[0,
1,0,0,0],[1,1,1,1,1],[0,0,0,0,0]],123:[[0,0,0,1,1],[0,0,1,0,0],[0,0,1,0,0],[0,1,0,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,0,1,1],[0,0,0,0,0]],124:[[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,0,0,0]],125:[[1,1,0,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,0,1,0],[0,0,1,0,0],[0,0,1,0,0],[1,1,0,0,0],[0,0,0,0,0]],126:[[0,1,0,0,0],[1,0,1,0,1],[0,0,0,1,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],127:[[0,0,0,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,1,0,1,0],[0,1,0,
1,0],[1,0,0,0,1],[1,1,1,1,1],[0,0,0,0,0]],128:[[0,1,1,1,1],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[0,1,1,1,1],[0,0,0,1,0],[0,1,1,1,0],[0,0,0,0,0]],129:[[0,0,0,0,0],[0,1,0,1,0],[0,0,0,0,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,1,1],[0,1,1,0,1],[0,0,0,0,0]],130:[[0,0,0,1,0],[0,0,1,0,0],[0,1,1,1,0],[1,0,0,0,1],[1,1,1,1,1],[1,0,0,0,0],[0,1,1,1,0],[0,0,0,0,0]],131:[[0,0,1,0,0],[0,1,0,1,0],[0,1,1,1,0],[0,0,0,0,1],[0,1,1,1,1],[1,0,0,0,1],[0,1,1,1,1],[0,0,0,0,0]],132:[[0,1,0,1,0],[0,0,0,0,0],[0,1,1,1,0],[0,0,0,0,1],
[0,1,1,1,1],[1,0,0,0,1],[0,1,1,1,1],[0,0,0,0,0]],133:[[0,1,0,0,0],[0,0,1,0,0],[0,1,1,1,0],[0,0,0,0,1],[0,1,1,1,1],[1,0,0,0,1],[0,1,1,1,1],[0,0,0,0,0]],134:[[0,0,1,0,0],[0,0,0,0,0],[0,1,1,1,0],[0,0,0,0,1],[0,1,1,1,1],[1,0,0,0,1],[0,1,1,1,1],[0,0,0,0,0]],135:[[0,0,0,0,0],[0,1,1,1,1],[1,0,0,0,0],[1,0,0,0,0],[0,1,1,1,1],[0,0,0,1,0],[0,1,1,1,0],[0,0,0,0,0]],136:[[0,0,1,0,0],[0,1,0,1,0],[0,1,1,1,0],[1,0,0,0,1],[1,1,1,1,1],[1,0,0,0,0],[0,1,1,1,0],[0,0,0,0,0]],137:[[0,1,0,1,0],[0,0,0,0,0],[0,1,1,1,0],[1,
0,0,0,1],[1,1,1,1,1],[1,0,0,0,0],[0,1,1,1,0],[0,0,0,0,0]],138:[[0,1,0,0,0],[0,0,1,0,0],[0,1,1,1,0],[1,0,0,0,1],[1,1,1,1,1],[1,0,0,0,0],[0,1,1,1,0],[0,0,0,0,0]],139:[[0,1,0,1,0],[0,0,0,0,0],[0,1,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,1,1,1,0],[0,0,0,0,0]],140:[[0,0,1,0,0],[0,1,0,1,0],[0,0,0,0,0],[0,1,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,1,1,1,0],[0,0,0,0,0]],141:[[0,1,0,0,0],[0,0,1,0,0],[0,0,0,0,0],[0,1,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,1,1,1,0],[0,0,0,0,0]],142:[[0,1,0,1,0],[0,0,0,0,0],[0,0,1,
0,0],[0,1,0,1,0],[1,0,0,0,1],[1,1,1,1,1],[1,0,0,0,1],[0,0,0,0,0]],143:[[0,0,1,0,0],[0,1,0,1,0],[0,0,1,0,0],[0,1,1,1,0],[1,0,0,0,1],[1,1,1,1,1],[1,0,0,0,1],[0,0,0,0,0]],144:[[0,0,0,1,0],[0,0,1,0,0],[1,1,1,1,1],[1,0,0,0,0],[1,1,1,1,0],[1,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0]],145:[[0,0,0,0,0],[0,0,0,0,0],[1,1,0,1,0],[0,0,1,0,1],[0,1,1,1,1],[1,0,1,0,0],[0,1,1,1,1],[0,0,0,0,0]],146:[[0,1,1,1,1],[1,0,1,0,0],[1,0,1,0,0],[1,1,1,1,1],[1,0,1,0,0],[1,0,1,0,0],[1,0,1,1,1],[0,0,0,0,0]],147:[[0,0,1,0,0],[0,1,0,1,0],
[0,0,0,0,0],[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0],[0,0,0,0,0]],148:[[0,0,0,0,0],[0,1,0,1,0],[0,0,0,0,0],[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0],[0,0,0,0,0]],149:[[0,1,0,0,0],[0,0,1,0,0],[0,0,0,0,0],[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0],[0,0,0,0,0]],150:[[0,0,1,0,0],[0,1,0,1,0],[0,0,0,0,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,1,1],[0,1,1,0,1],[0,0,0,0,0]],151:[[0,1,0,0,0],[0,0,1,0,0],[0,0,0,0,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,1,1],[0,1,1,0,1],[0,0,0,0,0]],152:[[0,1,0,1,0],[0,
0,0,0,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,1],[0,0,0,0,1],[0,1,1,1,0],[0,0,0,0,0]],153:[[1,0,0,0,1],[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0],[0,0,0,0,0]],154:[[0,1,0,1,0],[0,0,0,0,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0],[0,0,0,0,0]],155:[[0,1,1,0,1],[1,0,0,1,0],[0,0,0,0,0],[1,0,1,1,0],[1,1,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,0,0,0,0]],156:[[0,1,1,0,1],[1,0,0,1,0],[0,0,0,0,0],[1,1,0,0,1],[1,0,1,0,1],[1,0,0,1,1],[1,0,0,0,1],[0,0,0,0,0]],157:[[0,1,1,
1,0],[0,0,0,0,1],[0,1,1,1,1],[1,0,0,0,1],[0,1,1,1,1],[0,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0]],158:[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0],[0,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0]],159:[[0,0,1,0,0],[0,0,0,0,0],[0,0,1,0,0],[0,1,0,0,0],[1,0,0,0,0],[1,0,0,0,1],[0,1,1,1,0],[0,0,0,0,0]],160:[[0,0,0,1,0],[0,0,1,0,0],[0,1,1,1,0],[0,0,0,0,1],[0,1,1,1,1],[1,0,0,0,1],[0,1,1,1,1],[0,0,0,0,0]],161:[[0,0,0,1,0],[0,0,1,0,0],[0,0,0,0,0],[0,1,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,1,1,1,0],[0,0,0,0,0]],162:[[0,
0,0,1,0],[0,0,1,0,0],[0,0,0,0,0],[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0],[0,0,0,0,0]],163:[[0,0,0,1,0],[0,0,1,0,0],[0,0,0,0,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,1,1],[0,1,1,0,1],[0,0,0,0,0]],164:[[0,0,1,0,0],[0,1,1,1,1],[1,0,1,0,0],[1,0,1,0,0],[1,0,1,0,0],[0,1,1,1,1],[0,0,1,0,0],[0,0,0,0,0]],165:[[0,0,1,1,0],[0,1,0,0,1],[0,1,0,0,0],[1,1,1,1,0],[0,1,0,0,0],[0,1,0,0,0],[1,1,1,1,1],[0,0,0,0,0]],166:[[1,0,0,0,1],[0,1,0,1,0],[1,1,1,1,1],[0,0,1,0,0],[1,1,1,1,1],[0,0,1,0,0],[0,0,1,0,0],[0,0,0,0,0]],
167:[[1,1,1,0,0],[1,0,0,1,0],[1,1,1,0,0],[1,0,0,1,0],[1,0,1,1,1],[1,0,0,1,0],[1,0,0,1,1],[0,0,0,0,0]],168:[[0,0,0,1,0],[0,0,1,0,1],[0,0,1,0,0],[0,1,1,1,0],[0,0,1,0,0],[1,0,1,0,0],[0,1,0,0,0],[0,0,0,0,0]],169:[[0,0,1,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,0,0,0]],170:[[0,1,1,0,1],[1,0,0,1,0],[0,0,0,0,0],[0,1,1,1,0],[1,0,0,0,1],[1,1,1,1,1],[1,0,0,0,1],[0,0,0,0,0]],171:[[0,1,1,0,1],[1,0,0,1,0],[0,0,1,1,0],[0,0,0,0,1],[0,1,1,1,1],[1,0,0,0,1],[0,1,1,1,1],[0,0,
0,0,0]],172:[[0,1,1,0,1],[1,0,0,1,0],[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0],[0,0,0,0,0]],173:[[0,1,1,0,1],[1,0,0,1,0],[0,0,0,0,0],[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0],[0,0,0,0,0]],174:[[0,0,0,0,1],[0,1,1,1,0],[1,0,0,1,1],[1,0,1,0,1],[1,1,0,0,1],[0,1,1,1,0],[1,0,0,0,0],[0,0,0,0,0]],175:[[0,0,0,0,0],[0,0,0,1,0],[0,1,1,1,0],[1,0,1,0,1],[1,0,1,0,1],[0,1,1,1,0],[0,1,0,0,0],[0,0,0,0,0]],176:[[0,0,1,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,
0],[0,0,0,0,0]],177:[[0,1,0,1,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],178:[[0,0,1,0,0],[0,1,0,1,0],[0,0,1,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],179:[[0,1,0,0,0],[0,0,1,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],180:[[0,0,0,1,0],[0,0,1,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],181:[[1,0,0,0,0],[1,0,0,0,0],[1,0,0,1,0],[1,0,1,0,1],[0,0,0,0,1],[0,0,0,1,0],
[0,0,1,1,1],[0,0,0,0,0]],182:[[1,0,0,0,0],[1,0,0,0,0],[1,0,1,0,0],[1,0,1,0,1],[0,0,1,0,1],[0,0,1,1,1],[0,0,0,0,1],[0,0,0,0,0]],183:[[0,0,0,0,0],[1,0,0,0,1],[0,1,0,1,0],[0,0,1,0,0],[0,1,0,1,0],[1,0,0,0,1],[0,0,0,0,0],[0,0,0,0,0]],184:[[0,0,0,0,0],[0,0,1,0,0],[0,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0],[0,0,1,0,0],[0,0,0,0,0],[0,0,0,0,0]],185:[[0,0,0,1,0],[0,0,1,0,0],[0,1,0,0,0],[0,0,1,0,0],[0,0,0,1,0],[0,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0]],186:[[0,1,0,0,0],[0,0,1,0,0],[0,0,0,1,0],[0,0,1,0,0],[0,1,0,0,0],[0,
0,0,0,0],[1,1,1,1,1],[0,0,0,0,0]],187:[[0,0,0,0,0],[0,0,1,0,1],[0,1,0,1,0],[1,0,1,0,0],[0,1,0,1,0],[0,0,1,0,1],[0,0,0,0,0],[0,0,0,0,0]],188:[[0,0,0,0,0],[1,0,1,0,0],[0,1,0,1,0],[0,0,1,0,1],[0,1,0,1,0],[1,0,1,0,0],[0,0,0,0,0],[0,0,0,0,0]],189:[[0,0,0,1,0],[0,0,0,1,0],[1,1,1,1,1],[0,0,1,0,0],[1,1,1,1,1],[0,1,0,0,0],[0,1,0,0,0],[0,0,0,0,0]],190:[[0,0,1,1,1],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[1,0,1,0,0],[0,1,1,0,0],[0,0,1,0,0],[0,0,0,0,0]],191:[[1,1,1,1,1],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,
0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],192:[[0,0,0,1,0],[0,0,1,0,1],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,0,0,0]],193:[[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[1,0,1,0,0],[0,1,0,0,0],[0,0,0,0,0]],194:[[0,0,0,0,0],[0,0,0,0,0],[0,1,0,1,0],[1,0,1,0,1],[1,0,1,0,1],[0,1,0,1,0],[0,0,0,0,0],[0,0,0,0,0]],195:[[1,1,1,1,1],[1,0,0,0,1],[1,0,0,1,0],[1,0,1,0,0],[1,1,0,0,0],[1,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],196:[[0,0,0,0,1],[0,0,0,0,1],[0,0,1,0,1],[0,1,0,0,1],
[1,1,1,1,1],[0,1,0,0,0],[0,0,1,0,0],[0,0,0,0,0]],197:[[0,0,1,0,0],[0,1,1,1,0],[1,0,1,0,1],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,0,0,0]],198:[[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[1,0,1,0,1],[0,1,1,1,0],[0,0,1,0,0],[0,0,0,0,0]],199:[[0,0,0,0,0],[0,0,1,0,0],[0,0,0,1,0],[1,1,1,1,1],[0,0,0,1,0],[0,0,1,0,0],[0,0,0,0,0],[0,0,0,0,0]],200:[[0,0,0,0,0],[0,0,1,0,0],[0,1,0,0,0],[1,1,1,1,1],[0,1,0,0,0],[0,0,1,0,0],[0,0,0,0,0],[0,0,0,0,0]],201:[[1,1,1,1,1],[1,0,0,0,0],[1,0,0,0,0],[1,
0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[0,0,0,0,0]],202:[[1,1,1,1,1],[0,0,0,0,1],[0,0,0,0,1],[0,0,0,0,1],[0,0,0,0,1],[0,0,0,0,1],[0,0,0,0,1],[0,0,0,0,0]],203:[[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,1,1,1,1],[0,0,0,0,0]],204:[[0,0,0,0,1],[0,0,0,0,1],[0,0,0,0,1],[0,0,0,0,1],[0,0,0,0,1],[0,0,0,0,1],[1,1,1,1,1],[0,0,0,0,0]],205:[[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,1,1,0,0],[0,1,1,0,0],[0,0,0,0,0],[0,0,0,0,0]],206:[[0,1,1,1,0],[1,0,0,1,1],[1,0,1,
0,1],[1,0,0,1,1],[1,0,1,0,1],[1,0,1,0,1],[0,1,1,1,0],[0,0,0,0,0]],207:[[0,1,1,1,0],[1,1,0,1,1],[1,0,1,0,1],[1,0,1,1,1],[1,0,1,0,1],[1,1,0,1,1],[0,1,1,1,0],[0,0,0,0,0]],208:[[1,1,1,1,1],[0,0,1,0,0],[0,0,1,0,0],[1,0,0,0,1],[1,1,0,1,1],[1,0,1,0,1],[1,0,0,0,1],[0,0,0,0,0]],209:[[0,0,1,0,0],[0,0,1,0,0],[1,1,1,1,1],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,0,0,0]],210:[[0,1,1,1,0],[1,0,0,0,0],[0,1,1,1,0],[1,0,0,0,1],[0,1,1,1,0],[0,0,0,0,1],[0,1,1,1,0],[0,0,0,0,0]],211:[[0,1,1,1,1],[1,1,1,0,1],
[1,1,1,0,1],[0,1,1,0,1],[0,0,1,0,1],[0,0,1,0,1],[0,0,1,0,1],[0,0,0,0,0]],212:[[1,1,1,1,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[0,0,0,0,0]],213:[[0,0,0,0,0],[0,0,0,0,1],[0,0,0,1,1],[0,0,1,0,1],[0,1,0,0,1],[1,0,0,0,1],[1,1,1,1,1],[0,0,0,0,0]],214:[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0],[0,0,0,0,0]],215:[[0,0,1,0,0],[0,0,1,0,0],[0,1,0,1,0],[0,1,0,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,0,0,0,0]],216:[[1,1,1,1,1],[1,
0,0,0,1],[0,0,0,0,0],[0,1,1,1,0],[0,0,0,0,0],[1,0,0,0,1],[1,1,1,1,1],[0,0,0,0,0]],217:[[1,1,1,1,1],[0,1,0,1,0],[0,1,0,1,0],[0,1,0,1,0],[0,1,0,1,0],[0,1,0,1,0],[0,1,0,1,0],[0,0,0,0,0]],218:[[1,1,1,1,1],[0,1,0,0,0],[0,0,1,0,0],[0,0,0,1,0],[0,0,1,0,0],[0,1,0,0,0],[1,1,1,1,1],[0,0,0,0,0]],219:[[0,1,0,1,0],[1,0,1,0,1],[1,0,1,0,1],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,0,0,0]],220:[[0,1,1,1,0],[0,0,1,0,0],[0,1,1,1,0],[1,0,1,0,1],[1,0,1,0,1],[0,1,1,1,0],[0,0,1,0,0],[0,1,1,1,0]],221:[[1,0,1,
0,1],[1,0,1,0,1],[1,0,1,0,1],[1,0,1,0,1],[0,1,1,1,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,0,0,0]],222:[[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[0,1,0,1,0],[0,1,0,1,0],[1,1,0,1,1],[0,0,0,0,0]],223:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,0,1],[1,0,0,1,0],[1,0,0,1,0],[1,0,0,1,0],[0,1,1,0,1],[0,0,0,0,0]],224:[[0,1,1,0,0],[1,0,0,1,0],[1,0,0,1,0],[1,0,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,1,1,0],[1,0,0,0,0]],225:[[0,0,0,0,0],[0,0,0,0,0],[1,0,0,0,1],[0,1,0,1,0],[0,1,0,1,0],[0,0,1,0,0],[0,0,1,0,0],[0,1,0,0,0]],226:[[0,
0,1,1,0],[0,1,0,0,1],[0,0,1,0,0],[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[0,1,1,1,0],[0,0,0,0,0]],227:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,1],[1,0,0,0,0],[1,1,1,1,0],[1,0,0,0,0],[0,1,1,1,1],[0,0,0,0,0]],228:[[1,1,1,1,1],[0,0,0,1,0],[0,0,1,0,0],[0,1,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[0,1,1,1,0],[0,0,0,0,1]],229:[[0,0,0,0,0],[0,0,0,0,0],[1,0,1,1,0],[0,1,0,0,1],[0,1,0,0,1],[0,1,0,0,1],[0,1,0,0,1],[0,0,0,0,1]],230:[[0,1,1,0,0],[1,0,0,1,0],[1,0,0,1,0],[1,1,1,1,0],[1,0,0,1,0],[1,0,0,1,0],[0,1,1,0,0],[0,0,0,0,0]],
231:[[0,0,0,0,0],[0,0,0,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,0,1,1],[0,0,0,0,0]],232:[[0,0,0,0,0],[0,0,0,0,0],[0,1,0,0,1],[0,1,0,1,0],[0,1,1,0,0],[0,1,0,1,0],[0,1,0,0,1],[0,0,0,0,0]],233:[[0,1,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,0],[0,1,0,1,0],[0,1,0,1,0],[1,0,0,0,1],[0,0,0,0,0]],234:[[0,0,0,0,0],[0,0,0,0,0],[1,0,0,1,0],[1,0,0,1,0],[1,0,0,1,0],[1,0,0,1,0],[1,1,1,0,1],[1,0,0,0,0]],235:[[0,0,0,0,0],[0,0,0,0,0],[1,0,0,1,1],[1,0,0,0,1],[1,0,0,1,0],[1,0,1,0,0],[0,1,0,0,0],[0,0,
0,0,0]],236:[[1,1,1,1,1],[0,0,1,0,0],[0,1,0,0,0],[0,0,1,1,1],[0,1,0,0,0],[1,0,0,0,0],[1,0,0,0,0],[0,1,1,1,0]],237:[[0,0,0,0,0],[0,0,0,0,0],[1,1,1,1,1],[0,1,0,1,0],[0,1,0,1,0],[0,1,0,1,0],[1,0,0,1,1],[0,0,0,0,0]],238:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,0],[1,0,0,0,0]],239:[[0,0,0,0,0],[0,0,0,0,0],[0,1,1,1,1],[1,0,0,1,0],[1,0,0,1,0],[1,0,0,1,0],[0,1,1,0,0],[0,0,0,0,0]],240:[[0,0,0,0,0],[0,0,0,0,0],[1,1,1,1,1],[0,0,1,0,0],[0,0,1,0,0],[0,0,1,0,1],[0,0,0,1,
0],[0,0,0,0,0]],241:[[0,0,0,0,0],[0,0,0,0,0],[1,0,0,1,0],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,1,0],[0,1,1,0,0],[0,0,0,0,0]],242:[[0,0,0,0,0],[0,0,0,0,0],[1,1,0,0,1],[0,0,1,0,1],[0,0,1,1,0],[0,0,1,1,0],[0,1,1,0,0],[0,1,1,0,0]],243:[[0,0,0,0,0],[0,0,0,0,0],[0,0,1,0,0],[1,0,1,0,1],[1,0,1,0,1],[1,0,1,0,1],[0,1,1,1,0],[0,0,1,0,0]],244:[[0,0,0,0,0],[0,0,0,0,0],[0,1,0,1,0],[1,0,0,0,1],[1,0,1,0,1],[1,0,1,0,1],[0,1,0,1,0],[0,0,0,0,0]],245:[[0,0,0,0,0],[1,1,1,1,1],[1,1,1,1,1],[0,1,1,1,0],[0,1,1,1,0],[0,0,1,0,0],
[0,0,1,0,0],[0,0,0,0,0]],246:[[0,0,0,0,0],[1,0,0,0,0],[1,1,1,0,0],[1,1,1,1,1],[1,1,1,0,0],[1,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],247:[[0,0,0,0,0],[0,0,0,0,1],[0,0,1,1,1],[1,1,1,1,1],[0,0,1,1,1],[0,0,0,0,1],[0,0,0,0,0],[0,0,0,0,0]],248:[[1,1,1,1,0],[1,1,1,1,1],[1,1,0,1,1],[1,1,1,1,1],[1,1,1,1,0],[1,1,0,1,1],[1,1,0,1,1],[0,0,0,0,0]],249:[[0,0,0,0,1],[0,0,1,0,1],[0,1,0,0,1],[1,1,1,1,1],[0,1,0,0,1],[0,0,1,0,1],[0,0,0,0,1],[0,0,0,0,0]],250:[[1,1,1,1,1],[1,1,1,1,1],[1,1,0,0,0],[1,1,1,1,0],[1,1,1,1,0],[1,
1,0,0,0],[1,1,0,0,0],[0,0,0,0,0]],251:[[0,0,0,0,1],[0,0,1,0,1],[0,0,0,1,1],[1,1,1,1,1],[0,0,0,1,1],[0,0,1,0,1],[0,0,0,0,1],[0,0,0,0,0]],252:[[1,1,1,1,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,1],[0,0,0,0,0]],253:[[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[1,1,1,1,1],[1,1,1,1,1],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],254:[[1,1,1,1,1],[1,1,0,0,1],[1,0,1,1,1],[1,0,0,0,1],[1,1,1,0,1],[1,0,0,1,1],[1,1,1,1,1],[0,0,0,0,0]],255:[[1,1,1,1,1],[1,0,0,0,1],[1,0,1,0,1],[1,0,0,0,1],[1,0,1,
1,1],[1,0,1,1,1],[1,1,1,1,1],[0,0,0,0,0]],_EMPTY:[[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],_UNKNOWN:[[1,1,1,1,1],[1,0,0,0,1],[1,0,0,0,1],[1,0,1,0,1],[1,0,0,0,1],[1,0,0,0,1],[1,1,1,1,1],[0,0,0,0,0]]}}})(window.cGraphics=window.cGraphics||{});(function(a){a.O6={id:"",x:0,y:0,rotation:0,debug:0};a.VY={id:"",x:0,y:0,rotation:0,debug:0,hitareas:{select:{active:!1,classname:null,svg:""},interaction:{active:!0,classname:null,svg:""}}};a.y6=function(a,c,d,e,k,l,n,q,r,t){t.terminals="undefined"==typeof t.terminals?{}:t.terminals;for(var v=0;v<c.length;v++)t.terminals[c[v]]={x:l[0]+v*q[0],y:l[1]+v*q[1],direction:{x:n[0],y:n[1]},type:k,terminalname:d[v],group:a,label:{text:e[v],x:r.x,y:r.y,rotation:r.rotation,style:r.style}};return t};a.z6=function(a,
c,d,e,k,l,n,q,r){r.terminals="undefined"==typeof r.terminals?{}:r.terminals;for(var t=0;t<a.length;t++)r.terminals[a[t]]={x:k[0]+t*n[0],y:k[1]+t*n[1],direction:{x:l[0],y:l[1]},type:e,terminalname:c[t],label:{text:d[t],x:q.x,y:q.y,rotation:q.rotation,style:q.style}};return r};a.x6=function(a,c,d,e,k,l){l.Ja="undefined"==typeof l.Ja?{}:l.Ja;l.Ja[a]={x:c[0],y:c[1],direction:{x:d[0],y:d[1]},type:e,label:k};return l};a.w6=function(a,c,d,e,k,l){l.GH="undefined"==typeof l.GH?{}:l.GH;l.GH[a]={x:c[0],y:c[1],
direction:{x:d[0],y:d[1]},type:e,terminals:k};return l};a.A6=function(a,c,d){d.throughholes="undefined"==typeof d.throughHoles?{}:d.throughholes;for(var e=0;e<a.length;e++)d.wy[a[e][0]]={type:c,x:a[e][1],y:a[e][2],r:a[e][3]};return d};a.R7=function(a){return a.replace(/[^a-z0-9]/gi,"-").toLowerCase()};a.Z6=function(){};a.Z_=function(a){for(var c=a[0],d=1;d<a.length;d++)c=merge(c,a[d]);return c};merge=function(a,c){var d=Array.isArray(c),e=d&&[]||{};d?(a=a||[],e=e.concat(a),c.forEach(function(c,d){"undefined"===
typeof a[d]?e[d]=c:"object"===typeof c?e[d]=merge(a[d],c):-1===a.indexOf(c)&&e.push(c)})):(a&&"object"===typeof a&&Object.keys(a).forEach(function(c){e[c]=a[c]}),Object.keys(c).forEach(function(d){e[d]="object"===typeof c[d]&&c[d]?a[d]?merge(a[d],c[d]):c[d]:c[d]}));return e}})(window.cGraphics=window.cGraphics||{});(function(a){a.lf=function(b){var c=JSON.parse(JSON.stringify(a.VY));c.type="eg-label";c.text="";c.x=0;c.y=0;c.style={size:5,align:"middle",color:"#E3E3E3"};c.debug=0;b="undefined"!==typeof b?a.Z_([c,b]):c;"1"==b.debug&&console.log(b);c=a.bS(b);c.text=b.text;c.size=' font-size="'+b.style.size+'"';c.Mn="";if(""!==b.text){textarray=b.text.split("");"1"==b.debug&&console.log(textarray);for(var d=0,e="0";e<textarray.length;e++){var k=textarray[e],l=!1;k!=k.toUpperCase()&&(k=k.toUpperCase(),l=!0);if(k=
a.lf.WY[k])k.svg&&(c.Mn=l?c.Mn+('<g class="'+k.className+'" transform="translate('+d+',2.15) scale(1,.75)">'):c.Mn+('<g class="'+k.className+'" transform="translate('+d+',0)">'),c.Mn+=k.svg,c.Mn+="</g>"),d+=k.width}c.transform=' transform="rotate('+b.rotation+", "+b.x+","+b.y+')"';svg="<g "+c.transform+a.rq("labelfont")+' stroke="'+b.style.color+'">';tf_width=textarray.length*b.style.size*1;tf_height=b.style.size;"middle"==b.style.align&&(tf_preserveaspectratio="xMidYMid meet",svg+='<svg xmlns="http://www.w3.org/2000/svg" x="'+
(b.x-tf_width/2)+'" y="'+(b.y-tf_height/2)+'" width="'+tf_width+'" height="'+tf_height+'"  viewBox="0 0 '+d+' 10" preserveAspectRatio="'+tf_preserveaspectratio+'" >');"left"==b.style.align&&(tf_preserveaspectratio="xMinYMid meet",svg+='<svg xmlns="http://www.w3.org/2000/svg" x="'+b.x+'" y="'+(b.y-tf_height/2)+'" width="'+tf_width+'" height="'+tf_height+'"  viewBox="0 0 '+d+' 10" preserveAspectRatio="'+tf_preserveaspectratio+'" >');"right"==b.style.align&&(tf_preserveaspectratio="xMaxYMid meet",svg+=
'<svg xmlns="http://www.w3.org/2000/svg" x="'+(b.x-tf_width)+'" y="'+(b.y-tf_height/2)+'" width="'+tf_width+'" height="'+tf_height+'"  viewBox="0 0 '+d+' 10" preserveAspectRatio="'+tf_preserveaspectratio+'" >');svg+=c.Mn;svg+="</svg>";svg+="</g>"}return{svg:svg,model:b}};a.lf.WY={A:{className:"A",svg:'<polyline points="0.56,7.69 2.78,1.56 4.94,7.69"/><line x1="1.29" y1="5.81" x2="4.27" y2="5.81"/>',width:6},B:{className:"B",svg:'<path d="M0.75,4.63c0,0,1.33,0,1.68,0c0.68,0,1.06-0.55,1.06-1.69c0-1.33-1.27-1.27-1.27-1.27H0.56v5.93h1.87c0,0,1.34,0,1.34-1.35c0-1.47-1.34-1.62-1.34-1.62H0.75z"/>',
width:5.5},C:{className:"C",svg:'<path d="M4.02,2.02c0.09-0.13-2.1-0.78-2.85,0.52c-0.52,0.9-0.56,3.44-0.28,4.19c0.69,1.83,3.14,0.85,3.14,0.85"/>',width:6},D:{className:"D",svg:'<path d="M1.09,1.95L1.06,7.74c0,0,2.68,0.45,3.31-0.71c0.5-0.92,0.55-3.88-0.2-4.62S1.09,1.95,1.09,1.95z"/>',width:6.5},E:{className:"E",svg:'<polyline points="3.62,7.93 0.69,7.93 0.69,1.88 3.62,1.88"/><line x1="3.22" y1="4.9" x2="0.77" y2="4.9"/>',width:6},F:{className:"F",svg:'<polyline points="0.71,7.93 0.71,1.88 3.63,1.88"/><line x1="2.95" y1="4.67" x2="0.78" y2="4.67"/>',
width:6},G:{className:"G",svg:'<path d="M4.24,2.11c0,0-1.54-0.76-2.65,0.1s-0.7,2.17-0.7,4.15c0,1.05,1.24,1.53,2.25,1.5c0.89-0.03,1.56-0.54,1.56-0.54V4.87H2.95"/>',width:7},H:{className:"H",svg:'<line x1="0.95" y1="1.84" x2="0.95" y2="7.94"/><line x1="0.95" y1="4.69" x2="4.48" y2="4.69"/><line x1="4.6" y1="1.84" x2="4.6" y2="7.94"/>',width:7},I:{className:"I",svg:'<line x1="1.06" y1="1.84" x2="1.06" y2="7.94"/>',width:3.5},J:{className:"J",svg:'<path d="M2.56,1.86v4.49c0,0,0.17,1.59-2,1.59"/>',width:5},
K:{className:"K",svg:'<line x1="1.24" y1="1.84" x2="1.24" y2="7.94"/><polyline points="4.13,1.86 1.58,4.69 4.26,7.94"/>',width:6},L:{className:"L",svg:'<polyline points="1.56,1.84 1.56,7.94 4.6,7.94"/>',width:7},M:{className:"M",svg:'<polyline points="0.56,7.94 0.56,1.84 3.06,6.17 5.56,1.84 5.56,7.94"/>',width:8},N:{className:"N",svg:'<polyline points="0.56,7.94 0.56,1.84 4.27,7.94 4.27,1.78"/>',width:6.5},O:{className:"O",svg:'<path d="M2.72,7.94H2.32c-0.97,0-1.76-0.79-1.76-1.76V3.54c0-0.97,0.79-1.76,1.76-1.76h0.41c0.97,0,1.76,0.79,1.76,1.76v2.65C4.48,7.15,3.69,7.94,2.72,7.94z"/>',
width:6.5},P:{className:"P",svg:'<path d="M0.84,7.93V1.88h1.92c0,0,1.45-0.1,1.45,1.47c0,1.31-0.23,1.83-1.56,1.83"/><line x1="2.58" y1="5.17" x2="0.91" y2="5.17"/>',width:6},Q:{className:"Q",svg:'<path d="M2.56,7.94H2.16c-0.97,0-1.76-0.79-1.76-1.76V3.54c0-0.97,0.79-1.76,1.76-1.76h0.41c0.97,0,1.76,0.79,1.76,1.76v2.65C4.32,7.15,3.53,7.94,2.56,7.94z"/><line x1="5.15" y1="8.84" x2="1.52" y2="7.82"/>',width:6},R:{className:"R",svg:'<path d="M0.74,7.93V1.88h1.92c0,0,1.45-0.02,1.45,1.2c0,1.31-0.58,1.7-1.56,1.7H1.07"/><line x1="4.24" y1="7.93" x2="2.43" y2="4.78"/>',
width:6},S:{className:"S",svg:'<path d="M4.09,2.08c0,0-2.12-1.02-2.9,0.27s0.45,2.2,1.13,2.42s1.76,0.4,1.76,1.67c0,1.14-0.92,1.63-1.7,1.56C1.61,7.92,0.56,7.46,0.56,7.46"/>',width:6},T:{className:"T",svg:'<line x1="2.34" y1="1.84" x2="2.34" y2="7.94"/><line x1="0.56" y1="1.84" x2="4.12" y2="1.84"/>',width:6},U:{className:"U",svg:'<path d="M4.73,1.82v4.36c0,0.97-0.79,1.76-1.76,1.76H2.57c-0.97,0-1.76-0.79-1.76-1.76V1.82"/>',width:7.5},V:{className:"V",svg:'<polyline points="4.72,1.84 2.74,7.69 0.78,1.84"/>',
width:6.5},W:{className:"W",svg:'<polyline points="3.51,1.84 2.03,7.69 0.56,1.84"/><polyline points="6.54,1.84 5.05,7.69 3.59,1.84"/>',width:9},X:{className:"X",svg:'<line x1="4.75" y1="7.69" x2="0.56" y2="1.84"/><line x1="0.56" y1="7.69" x2="4.75" y2="1.84"/>',width:6},Y:{className:"Y",svg:'<line x1="2.78" y1="5.08" x2="0.74" y2="1.84"/><polyline points="4.76,1.84 2.78,5.08 2.78,7.95"/>',width:6},Z:{className:"Z",svg:'<polyline points="3.62,7.93 0.69,7.93 3.62,1.88 0.69,1.88"/>',width:6},0:{className:"num0",
svg:'<path d="M2.4,8.07H2.29c-0.95,0-1.71-0.77-1.71-1.71V3.41c0-0.94,0.77-1.71,1.71-1.71H2.4c0.95,0,1.71,0.77,1.71,1.71v2.95C4.11,7.3,3.35,8.07,2.4,8.07z"/><line x1="1.26" y1="7.49" x2="3.35" y2="1.98"/>',width:6},1:{className:"num1",svg:'<polyline points="0.64,2.72 2.35,1.73 2.35,7.92"/>',width:5},2:{className:"num2",svg:'<path d="M0.87,2.08c0,0,1.86-1.08,2.88,0.18c0.82,1.01-0.12,2.21-0.99,3.31C1.85,6.71,0.62,7.93,0.62,7.92h3.45"/>',width:6},3:{className:"num3",svg:'<path d="M0.7,1.97c0,0,2.92-0.84,2.92,1.07c0,1.74-1.9,1.74-1.9,1.74s2.01-0.23,2.01,1.65c0,2.06-3.24,1.12-3.24,1.12"/>',
width:6},4:{className:"num4",svg:'<polyline points="2.28,1.73 0.65,6.43 4.42,6.43"/><line x1="3.11" y1="4.98" x2="3.11" y2="7.89"/>',width:6},5:{className:"num5",svg:'<path d="M3.44,1.88H0.83v2.8c0,0,1.79-0.92,2.64,0.47c0.67,1.1,0.22,2.08-0.38,2.5C2.13,8.32,0.61,7.5,0.61,7.5"/>',width:6},6:{className:"num6",svg:'<path d="M3.27,1.73c0,0-1.09-0.27-1.83,0.36S0.57,4,0.57,5.62s0.5,2.41,1.48,2.41s1.61-0.77,1.61-2s-0.8-1.7-1.54-1.7C1.12,4.32,0.6,4.69,0.57,5.39"/>',width:6},7:{className:"num7",svg:'<polyline points="0.59,1.88 4.05,1.88 1.57,7.89 "/>',
width:6},8:{className:"num8",svg:'<circle cx="2.19" cy="3.18" r="1.49"/><circle cx="2.2" cy="6.43" r="1.73"/>',width:6},9:{className:"num9",svg:'<path d="M3.92,3.47c0,1.07-0.75,1.93-1.67,1.93S0.58,4.53,0.58,3.47S1.33,1.7,2.25,1.7S3.92,2.4,3.92,3.47z"/><path d="M3.92,3.63c0,0,0,1,0,1.84s-0.21,2.1-1.53,2.44C1.44,8.15,0.86,7.89,0.86,7.89"/>',width:6},"+":{className:"plus",svg:'<line x1=".7" y1="5.4" x2="3.7" y2="5.4"/><line x1="2.2" y1="3.9" x2="2.2" y2="6.9"/>',width:6},"-":{className:"minus",svg:'<line x1=".7" y1="5.4" x2="3.7" y2="5.4"/>',
width:6},".":{className:"point",svg:'<line x1=".25" y1="7.5" x2=".25" y2="7.51"/>',width:2},"(":{className:"left-paren",svg:'<path d="M0,0a7,7 0,0,0 0,10"/>',width:3},")":{className:"right-paren",svg:'<path d="M0,0a7,7 0,0,1 0,10"/>',width:3}," ":{className:"space",svg:null,width:3}}})(window.cGraphics=window.cGraphics||{});var V={};"undefined"!==typeof window&&(window.Simulator=V);V.HC={ZU:0,DM:1,hW:2};V.x3=function(){};V.Gh=function(){this.fb=!1;this.reset();this.fb&&(window.circuitsSimulator=this)};V.Simulator=V.Gh;V.Gh.prototype.reset=function(){this.time=new V.Mc(0,0);this.queue=new hb;this.queue.pA=function(a,b){return this.vb[a].Cl.ZP(this.vb[b].Cl)};this.$q=new hb;this.KI=new w;this.Jh={};this.fb&&(this.Jh.N1=0,this.Jh.qY=0,this.Jh.LX=0)};V.Gh.prototype.reset=V.Gh.prototype.reset;
function Rk(a,b,c){a.KI.remove(b);a.KI.put(b,c)}function Sk(a){var b=0;a.KI.forEach(function(a,d){d>b&&(b=d)});return b}
V.Gh.prototype.WJ=function(a,b){var c=this,d;a||(a=c.N0);c.N0=a;c.fb&&(5<c.time.time?(c.fb=!1,console.log("Debug analytics stopped")):c.Jh.O7=c.time.time);void 0!==b?(d=Date.now()+b,c.WQ=d):d=c.WQ?c.WQ:Date.now()+200;for(;!c.queue.isEmpty()&&c.queue.top().time.du(a)&&(c.$q.isEmpty()||c.queue.top().time.du(c.$q.top()));){c.time=c.queue.top().time;for(var e=new y;c.queue.top()&&c.time.kB(c.queue.top().time);){var k=c.queue.pop();k.ay?c.fb&&c.Jh.qY++:(k.zd(),e.add(k.yi),c.fb&&c.Jh.N1++)}var l=new y;
e.forEach(function(a){l.ib(a.Ok)});l.forEach(function(a){a[1].apply(a[0],a[2]);c.fb&&c.Jh.LX++});if(Date.now()>d)return V.HC.hW}if(!c.$q.isEmpty()&&c.$q.top().du(a))return c.time=c.$q.pop(),V.HC.DM;c.time=a;return V.HC.ZU};V.Gh.prototype.run_until=V.Gh.prototype.WJ;V.Gh.prototype.getTime=function(){return this.time.time};V.Gh.prototype.getTime=V.Gh.prototype.getTime;V.Uc={IDLE:0,jW:1,ps:2};V.Cz=function(a,b,c,d){this.Aa=a;this.dl=b||function(){};this.s3=c||function(){};this.r3=d||function(){};V.Gh.apply(this,arguments)};V.Cz.prototype=inherit(V.Gh.prototype);f=V.Cz.prototype;f.constructor=V.Cz;
f.reset=function(){V.Gh.prototype.reset.apply(this);this.time=new V.Mc(0,0);this.sr=this.$O=1;this.$q=new hb;this.elements=new w;this.ia=new AnalogCircuit(this);this.hd={};this.Na=new V.ta(this,"update_ui");this.lB={rM:new V.ta(this,"Infrared 38 kHz signal",0),nT:new w};this.dl(V.Uc.IDLE)};f.start=function(){this.ej(100)};f.stop=function(){this.VI&&clearInterval(this.VI);this.elements.forEach(function(a,b){a.tb()&&b.na.$0()});this.dl(V.Uc.IDLE)};
function Wh(a){a.reset();var b=new V.$G("eb:f5:9b:36:a6","Simulator Wifi","","OPEN",1,"192.168.0.1","255.255.255.0","192.168.0.2","192.168.0.254",new V.tM("/proxy?url="));a.lB.nT.put("Simulator Wifi",b);a.Aa.Bb.forEach(function(b){if(1==b.qd.size()){var d=b.Sa(),d=new d.qg.da(a,b,d.na);a.elements.put(b,d)}});a.hd=new V.Wu(a,a.ia)}
f.ej=function(a){var b=this;this.IR=Date.now();this.dl(V.Uc.jW);b.VI=setInterval(function(){try{var c=Date.now(),d=c-b.IR;b.IR=c;d>1.1*a?10>b.sr&&(b.sr*=1.2):1<b.sr&&(b.sr/=1.2);var e=b.time,k=b.time.add(a/b.$O/b.sr/1E3),l=b.WJ(k,a),n=b.time.sub(e),c=a/1E3/n;l==V.HC.DM&&(clearInterval(b.VI),b.dl(V.Uc.ps),c=b.$O,n=0);b.Na.setValue(-1,n);b.WJ(b.time);b.s3(b.time.time);b.r3(c);b.hd.Tw(b.time.time,Sk(b))}catch(q){throw console.log(q.message),console.log(q.stack),q;}},a)};
V.xy=function(a){this.message=a};V.za=new w;V.Cg=new w;V.Model={};V.Model.da={ha:function(a){a=this.la.iP(a);return null!==a&&null!==a.Ra()?a.Ra():a},Ia:function(a,b){var c,d,e=Math.abs(a);1E-9>e?(c=1,d=""):1E-6>e?(c=1E9,d="n"):.001>e?(c=1E6,d="\u00b5"):1>e?(c=1E3,d="m"):1E3>e?(c=1,d=""):1E6>e?(c=.001,d="k"):1E9>e?(c=1E-6,d="M"):(c=1E-9,d="G");return(a*c).toFixed(99.95<=e*c?0:9.995<e*c?1:2)+" "+d+b}};
V.Model.fa={Ob:function(a,b,c){var d=this;a=$(a,d.Da.group);0<a.length&&(a=SvgHelpers.eO(d.Da.aa.svg,d.Da.Dd,a),a.attr("display","inline"),a.bind("mousedown",function(a){a=Fb((new G(H.Mg)).data("statemachine",b),a).element(d.la.Sa()).data("subelement",c).data("mouseCoord",d.Da.aa.pa.zh);d.Da.aa.Ea.handle(a);return!0}))},Lb:function(){var a=this;a.na.ua.ka("view",function(b,c,d){d.ua?($(".breakdown,.cgfx__breakdown",a.Da.group).attr("display","inline"),d.reason!=c.reason&&($(a.Da.Pa).attr("title",
d.reason),$(a.Da.Pa).tipsy({gravity:"n",offset:3,zoom_stuff:a.Da.aa.el}))):($(".breakdown,.cgfx__breakdown",a.Da.group).attr("display","none"),$(a.Da.Pa).removeTipsy())},10)}};V.Event=function(a,b,c){this.time=a;this.yi=b;this.value=c;this.ay=!1};V.Event.prototype.zd=function(){this.yi.zd(this)};V.Event.prototype.cancel=function(){this.ay=!0};V.Mc=function(a,b){this.time=a;this.Wi=b};V.Time=V.Mc;V.Mc.prototype.du=function(a){if(this.time<a.time)return!0;if(this.time>a.time)return!1;if(this.Wi<a.Wi)return!0;if(this.Wi>=a.Wi)return!1};V.Mc.prototype.less=V.Mc.prototype.du;V.Mc.prototype.ZP=function(a){if(this.time>a.time)return!0;if(this.time<a.time)return!1;if(this.Wi>a.Wi)return!0;if(this.Wi<=a.Wi)return!1};V.Mc.prototype.more=V.Mc.prototype.ZP;V.Mc.prototype.kB=function(a){return this.time===a.time&&this.Wi===a.Wi};
V.Mc.prototype.equal=V.Mc.prototype.kB;V.Mc.prototype.add=function(a){return 0>a?new V.Mc(this.time,this.Wi-1):0==a?new V.Mc(this.time,this.Wi+1):new V.Mc(this.time+a,0)};V.Mc.prototype.add=V.Mc.prototype.add;V.Mc.prototype.sub=function(a){return this.time-a.time};V.ta=function(a,b,c,d){this.ca=a;this.name=b;this.debug=d;this.KJ=null;this.At=c;this.WA=0;this.Ok=new y;this.sg=[]};V.Signal=V.ta;V.ta.prototype.Ka=function(a){this.Ok.add(a)};V.ta.prototype.add_process=V.ta.prototype.Ka;V.ta.prototype.value=function(){return this.At};V.ta.prototype.value=V.ta.prototype.value;V.ta.prototype.setValue=function(a,b){var c=this.ca.time.add(a),d=new V.Event(c,this,b);Tk(this,c);this.sg.push(d);this.ca.queue.push(d,d.time);return d};V.ta.prototype.setValue=V.ta.prototype.setValue;
function Tk(a,b){for(var c=[],d=0;d<a.sg.length;d++){var e=a.sg[d];e.time.du(a.ca.time)||(e.time.du(b)?c.push(e):e.ay=!0)}a.sg=c}V.ta.prototype.jg=function(a,b){var c=new V.Event(a,this,b);Tk(this,a);this.sg.push(c);this.ca.queue.push(c,c.time);return c};V.ta.prototype.setValueAbsolute=V.ta.prototype.jg;V.ta.prototype.zd=function(a){this.KJ=this.At;this.At=a.value;this.WA=a.time;this.debug&&console.log(a.time.time,this.name,this.At)};V.ta.prototype.mc=function(){return this.KJ&&!this.At&&this.WA.kB(this.ca.time)};
V.ta.prototype.falling_edge=V.ta.prototype.mc;V.ta.prototype.yc=function(){return!this.KJ&&this.At&&this.WA.kB(this.ca.time)};V.ta.prototype.rising_edge=V.ta.prototype.yc;V.mh=function(a,b,c,d){this.ca=a;this.Sx=c;this.Uq=b;this.HQ=new V.ta(this.ca,b.name+"_period",0);this.II=new V.ta(this.ca,b.name+"_high_time",0);this.XC=new V.ta(this.ca,b.name+"_start",0);this.Sx.Ka([this,this.FN,[this]]);this.Uq.Ka([this,this.FN,[this]]);this.Pg=d};
V.mh.prototype.start=function(a,b,c,d){this.Sx.jg(new V.Mc(a,0),1);this.HQ.jg(new V.Mc(a,0),b);this.II.jg(new V.Mc(a,0),c);this.Uq.jg(new V.Mc(a+b-d,0),1);this.XC.jg(new V.Mc(a+b-d,0),1)};V.mh.prototype.stop=function(a){this.Sx.jg(new V.Mc(a,0),0);this.Uq.jg(new V.Mc(a,0),0);this.XC.jg(new V.Mc(a,0),0)};
V.mh.prototype.FN=function(a){a.Sx.value()&&a.XC.value()&&a.Uq.yc()?(a.Uq.setValue(a.II.value(),0),a.Pg&&a.Pg()):a.Sx.value()&&a.XC.value()&&a.Uq.mc()&&(a.Uq.setValue(a.HQ.value()-a.II.value(),1),a.Pg&&a.Pg())};V.Za=function(a,b){this.sK=[];for(var c=0;c<arguments.length-1;c++)this.sK.push(arguments[c]);this.Fl=arguments[arguments.length-1]};V.Za.prototype.value=function(){var a=[];this.sK.forEach(function(b){a.push(b.value())});return this.Fl.apply(null,a)};V.Za.prototype.Ka=function(a){this.sK.forEach(function(b){b.Ok.add(a)})};AnalogCircuit=function(a,b){this.ca=a;b?(this.parent=b,this.parent.ZC.add(this)):this.parent=null;this.ZC=new y;this.Qg=new y;this.ed=new y;this.Vx=new w;this.kD=new y};function Uk(a){var b=new AnalogCircuit(a.ca,a);a.ZC.add(b);return b}AnalogCircuit.prototype.oe=function(a){this.Qg.add(a);this.parent&&a.vr.add(this);a.type===AnalogCircuit.Bc.trigger&&this.kD.add(a)};AnalogCircuit.prototype.pk=function(a){var b=this;b.ed.add(a);a.Wx.forEach(function(c){b.Vx.put(c,a)});b.parent&&a.vr.add(b)};
AnalogCircuit.prototype.Zx=function(a){var b=this;a.Wx.forEach(function(a){b.Vx.remove(a)});this.ed.remove(a)};AnalogCircuit.prototype.kd=function(a,b){var c=this,d=W(this,a),e=W(this,b);d!=e&&(e.Ja.Eb().forEach(function(a){a.Xa(d)}),e.Wx.forEach(function(a){d.Wx.add(a);c.Vx.put(a,d)}),this.ed.remove(e))};AnalogCircuit.ov=function(a){this.Wx=new y;a&&this.Wx.add(a);this.Ja=new y;this.vr=new y};AnalogCircuit.ov.prototype.Dk=function(){return 1<this.vr.size()};
AnalogCircuit.prototype.Gn=function(){var a=0;this.Qg.forEach(function(b){a+=b.Gn()});return a};function W(a,b){var c;b&&b.constructor!=AnalogCircuit.ov?b.constructor==AnalogCircuit.dA?c=b.Ra:(c=a.Vx.get(b),null==c&&(c=new AnalogCircuit.ov(b),a.ed.add(c),a.Vx.put(b,c))):c=b;return c}AnalogCircuit.dA=function(a,b,c){this.iO=a;this.name=b;this.Ra=c};AnalogCircuit.dA.prototype.Xa=function(a){this.Ra&&this.Ra.Ja.remove(this);this.Ra=a;this.Ra.Ja.add(this)};
AnalogCircuit.dA.prototype.disconnect=function(){this.Ra&&this.Ra.Ja.remove(this);this.Ra=null};AnalogCircuit.Bc={Rc:0,current:1,mR:2,qw:3,hx:4,HO:5,nQ:6,LQ:7,lQ:8,KQ:9,hT:10,jT:11,UN:12,WN:13,rQ:14,trigger:15};f=AnalogCircuit.prototype;f.dc=function(a,b,c){for(var d=arguments[0],e=arguments[arguments.length-1],k=[],l=1;l<arguments.length-1;l++){var n=W(this,arguments[l]);k.push(n)}d=new AnalogCircuit.lk(this,e,d,k,!0);this.oe(d);this.kD.add(d)};
f.OX=function(a,b,c,d){for(var e=arguments[0],k=arguments[1],l=arguments[arguments.length-1],n=[],q=2;q<arguments.length-1;q++){var r=W(this,arguments[q]);n.push(r)}e=new AnalogCircuit.lk(this,l,e,n,!1,k);this.oe(e);this.kD.add(e)};f.Pd=function(a,b,c,d,e){a=new AnalogCircuit.Em(this,W(this,a),W(this,b),c,d,Infinity,e);this.oe(a);return a};function Vk(a,b,c,d,e,k){b=new AnalogCircuit.Em(a,W(a,b),W(a,c),d,e,k,!1);a.oe(b);return b}
f.Kp=function(a,b,c){a=new AnalogCircuit.Xr(this,W(this,a),W(this,b),c);this.oe(a);return a};f.Xv=function(a,b,c,d,e){a=new AnalogCircuit.nA(this,W(this,a),W(this,b),W(this,c),W(this,d),e);this.oe(a);return a};f.tN=function(a,b,c,d,e,k){a=new AnalogCircuit.Ts(this,W(this,a),W(this,b),W(this,c),W(this,d),e,k);this.oe(a);return a};f.fH=function(a,b,c,d,e,k){a=new AnalogCircuit.Xu(this,W(this,a),W(this,b),W(this,c),W(this,d),e,k);this.oe(a);return a};
f.Ri=function(a,b,c,d,e,k,l){a=new AnalogCircuit.Wr(this,W(this,a),W(this,b),W(this,c),W(this,d),e,k,l);this.oe(a);return a};f.vA=function(a,b,c,d,e,k,l,n){a=new AnalogCircuit.Qq(this,W(this,a),W(this,b),W(this,c),W(this,d),W(this,e),k,l,n);this.oe(a);return a};f.qa=function(a,b,c){a=new AnalogCircuit.Fh(this,W(this,a),W(this,b),c);this.oe(a);return a};f.ul=function(a,b,c){a=new AnalogCircuit.ai(this,W(this,a),W(this,b),c);this.oe(a);return a};
f.gH=function(a,b,c){a=new AnalogCircuit.Hi(this,W(this,a),W(this,b),c);this.oe(a);return a};f.Cc=function(a,b,c,d){a=new AnalogCircuit.bi(this,W(this,a),W(this,b),c,d);this.oe(a);return a};f.pj=function(a,b,c){a=new AnalogCircuit.Kz(this,W(this,a),W(this,b),W(this,c));this.oe(a);return a};f.hH=function(a,b,c){a=new AnalogCircuit.Qz(this,W(this,a),W(this,b),W(this,c));this.oe(a);return a};f.Vv=function(a,b,c,d,e){a=new AnalogCircuit.Jz(this,W(this,a),W(this,b),W(this,c),d,e);this.oe(a);return a};
f.wA=function(a,b,c,d,e){a=new AnalogCircuit.Pz(this,W(this,a),W(this,b),W(this,c),d,e);this.oe(a);return a};
f.split=function(){var a=this,b=0;this.Qg.forEach(function(c){if(c.type==AnalogCircuit.Bc.Rc&&c.S1){var e=c.Ha("pos"),k=c.Ha("neg");if(k!=e){c.$C=new y;var l=!1;e.Ja.forEach(function(e){if(e.iO!=c&&l++){var q=W(a,"_voltageSourceSplit_newVccNet_idx_"+b++),r=a.Pd(q,k,c.uD,c.dh);c.$C.add(r);r.zK=c;e.Xa(q)}})}}});var c=new Pa;this.ed.forEach(function(a){Ta(c,a)});this.Qg.forEach(function(a){a.Ja.bn(function(b,k,l,n){Za(c,k.Ra,n.Ra,null,a)})});fb(c).forEach(function(b){var c=Uk(a);b.Sg.forEach(function(a){c.oe(a.data)});
b.lj.forEach(function(a){c.pk(a)});Wk(c)})};function Wk(a){var b=new w;a.Qg.forEach(function(a){if(a.type==AnalogCircuit.Bc.Rc&&a.zK){var d=b.get(a.zK);d?d.push(a):b.put(a.zK,[a])}});b.forEach(function(b,d){var e=b;a.Qg.contains(b)||(e=d.pop());var k=e.Ha("pos");d.forEach(function(d){var e=d.Ha("pos").Ja.se(1);e.iO==d&&(e=d.Ha("pos").Ja.se(0));e.Xa(k);d.Ja.get("neg").disconnect();a.Zx(d.Ha("pos"));b.$C.remove(d);a.Qg.remove(d)})})};AnalogCircuit.cd=function(a){this.Aa=a;this.type=null;this.Ja=new w;this.IH=new y;this.vr=new y};AnalogCircuit.cd.prototype.Ha=function(a){return this.Ja.get(a).Ra};function Xk(a,b){b.Ka&&a.IH.add(b)}AnalogCircuit.cd.prototype.Pb=function(a,b){var c=new AnalogCircuit.dA(this,a,b);this.Ja.put(a,c);return c};AnalogCircuit.cd.prototype.Gn=function(){return 0};function Yk(a){var b=[];a.IH.forEach(function(a){b.push(a.value())});return b};AnalogCircuit.lk=function(a,b,c,d,e,k){AnalogCircuit.cd.call(this,a);this.type=AnalogCircuit.Bc.trigger;this.yS=c;this.UO=k;this.vH=!0;void 0!==e&&(this.vH=e);for(a=0;a<d.length;a++)c=d[a],this.Pb("term_"+a).Xa(c);this.Fl=b};AnalogCircuit.lk.prototype=inherit(AnalogCircuit.cd.prototype);AnalogCircuit.lk.prototype.constructor=AnalogCircuit.lk;AnalogCircuit.ai=function(a,b,c,d){AnalogCircuit.cd.call(this,a);this.type=AnalogCircuit.Bc.qw;this.yr=this.Pb("term1");this.yr.Xa(b);this.zr=this.Pb("term2");this.zr.Xa(c);this.xH=d;Xk(this,d)};AnalogCircuit.ai.prototype=inherit(AnalogCircuit.cd.prototype);AnalogCircuit.ai.prototype.constructor=AnalogCircuit.ai;function Zk(a){return a.xH.value?a.xH.value():a.xH}AnalogCircuit.ai.prototype.Gn=function(){return 2};
AnalogCircuit.ai.prototype.Yd=function(a){var b=this.Aa.ca.time.time;return 0==a?this.Aa.ca.hd.ue(b,this.yr,this.zr):this.Aa.ca.hd.Si(b,this.yr,this.zr,.01)};AnalogCircuit.bi=function(a,b,c,d,e){AnalogCircuit.cd.call(this,a);this.type=AnalogCircuit.Bc.HO;this.cw=this.Pb("anode");this.cw.Xa(b);this.rw=this.Pb("cathode");this.rw.Xa(c);this.fk=d;a=.0258*e;b=Math.log((1E4+d)/d)*a;c=Math.exp(b/a);e=d*c/a;this.Us=a;this.pN=b;this.hJ={Wb:d*(c-1)-e*b,ob:e}};AnalogCircuit.bi.prototype=inherit(AnalogCircuit.cd.prototype);AnalogCircuit.bi.prototype.constructor=AnalogCircuit.bi;
AnalogCircuit.bi.prototype.Yd=function(a){var b=this.Aa.ca.time.time;return 0==a?this.Aa.ca.hd.ue(b,this.cw,this.rw):this.Aa.ca.hd.Si(b,this.cw,this.rw,.03)};AnalogCircuit.bi.prototype.uc=function(a){function b(a){return a<c.pN?c.fk*(Math.exp(a/c.Us)-1):c.hJ.Wb+c.hJ.ob*a}var c=this,d=this.Aa.ca.time.time;return 0==a?b(this.Aa.ca.hd.ue(d,this.cw,this.rw)):this.Aa.ca.hd.Si(d,this.cw,this.rw,.03,b)};AnalogCircuit.Hi=function(a,b,c,d){AnalogCircuit.cd.call(this,a);this.type=AnalogCircuit.Bc.hx;this.Pb("term1").Xa(b);this.Pb("term2").Xa(c);this.NI=d;Xk(this,d)};AnalogCircuit.Hi.prototype=inherit(AnalogCircuit.cd.prototype);AnalogCircuit.Hi.prototype.constructor=AnalogCircuit.Hi;function $k(a){return a.NI.value?a.NI.value():a.NI}AnalogCircuit.Hi.prototype.Gn=function(){return 2};AnalogCircuit.Kz=function(a,b,c,d){AnalogCircuit.cd.call(this,a);this.type=AnalogCircuit.Bc.nQ;this.Pb("base").Xa(b);this.Pb("emitter").Xa(c);this.Pb("collector").Xa(d)};AnalogCircuit.Kz.prototype=inherit(AnalogCircuit.cd.prototype);AnalogCircuit.Kz.prototype.constructor=AnalogCircuit.Kz;AnalogCircuit.Qz=function(a,b,c,d){AnalogCircuit.cd.call(this,a);this.type=AnalogCircuit.Bc.LQ;this.Pb("base").Xa(b);this.Pb("emitter").Xa(c);this.Pb("collector").Xa(d)};AnalogCircuit.Qz.prototype=inherit(AnalogCircuit.cd.prototype);AnalogCircuit.Qz.prototype.constructor=AnalogCircuit.Qz;AnalogCircuit.Jz=function(a,b,c,d,e,k){AnalogCircuit.cd.call(this,a);this.type=AnalogCircuit.Bc.lQ;this.Pb("gate").Xa(b);this.Pb("source").Xa(c);this.Pb("drain").Xa(d);this.beta=k;this.Us=e};AnalogCircuit.Jz.prototype=inherit(AnalogCircuit.cd.prototype);AnalogCircuit.Jz.prototype.constructor=AnalogCircuit.Jz;AnalogCircuit.Pz=function(a,b,c,d,e,k){AnalogCircuit.cd.call(this,a);this.type=AnalogCircuit.Bc.KQ;this.Pb("gate").Xa(b);this.Pb("source").Xa(c);this.Pb("drain").Xa(d);this.beta=k;this.Us=e};AnalogCircuit.Pz.prototype=inherit(AnalogCircuit.cd.prototype);AnalogCircuit.Pz.prototype.constructor=AnalogCircuit.Pz;AnalogCircuit.Fh=function(a,b,c,d){AnalogCircuit.cd.call(this,a);this.type=AnalogCircuit.Bc.mR;this.yr=this.Pb("term1");this.yr.Xa(b);this.zr=this.Pb("term2");this.zr.Xa(c);this.Kj=d;Xk(this,d)};AnalogCircuit.Fh.prototype=inherit(AnalogCircuit.cd.prototype);AnalogCircuit.Fh.prototype.constructor=AnalogCircuit.Fh;function al(a){return a.Kj.value?a.Kj.value():a.Kj}
AnalogCircuit.Fh.prototype.Yd=function(a){var b=this.Aa.ca.time.time;return 0==a?this.Aa.ca.hd.ue(b,this.yr,this.zr):this.Aa.ca.hd.Si(b,this.yr,this.zr,.01)};AnalogCircuit.Fh.prototype.uc=function(a){return this.Yd(a)/al(this)};AnalogCircuit.nA=function(a,b,c,d,e,k){AnalogCircuit.cd.call(this,a);this.type=AnalogCircuit.Bc.hT;this.Pb("sense_pos").Xa(b);this.Pb("sense_neg").Xa(c);this.Pb("pos").Xa(d);this.Pb("neg").Xa(e);this.Hf=k;Xk(this,k)};AnalogCircuit.nA.prototype=inherit(AnalogCircuit.cd.prototype);AnalogCircuit.nA.prototype.constructor=AnalogCircuit.nA;function bl(a){return a.Hf.value?a.Hf.value():a.Hf};AnalogCircuit.Ts=function(a,b,c,d,e,k,l){AnalogCircuit.cd.call(this,a);this.type=AnalogCircuit.Bc.jT;this.Pb("sense_pos").Xa(b);this.Pb("sense_neg").Xa(c);this.Pb("pos").Xa(d);this.Pb("neg").Xa(e);this.Lj=k;this.ao=l;Xk(this,k);Xk(this,l)};AnalogCircuit.Ts.prototype=inherit(AnalogCircuit.cd.prototype);AnalogCircuit.Ts.prototype.constructor=AnalogCircuit.Ts;AnalogCircuit.Ts.prototype.Yw=function(){return this.Lj.value?this.Lj.value():this.Lj};
AnalogCircuit.Ts.prototype.tI=function(){return this.ao.value?this.ao.value():this.ao};AnalogCircuit.Xu=function(a,b,c,d,e,k,l){AnalogCircuit.cd.call(this,a);this.type=AnalogCircuit.Bc.UN;this.Pb("sense_pos").Xa(b);this.Pb("sense_neg").Xa(c);this.Pb("pos").Xa(d);this.Pb("neg").Xa(e);this.dh=k;this.HD=l;Xk(this,k);Xk(this,l)};AnalogCircuit.Xu.prototype=inherit(AnalogCircuit.cd.prototype);AnalogCircuit.Xu.prototype.constructor=AnalogCircuit.Xu;function cl(a){return a.HD.value?a.HD.value():a.HD}AnalogCircuit.Xu.prototype.dn=function(){return this.dh.value?this.dh.value():this.dh};AnalogCircuit.Wr=function(a,b,c,d,e,k,l,n){AnalogCircuit.cd.call(this,a);this.type=AnalogCircuit.Bc.WN;this.Pb("sense_pos").Xa(b);this.Pb("sense_neg").Xa(c);this.Pb("pos").Xa(d);this.Pb("neg").Xa(e);this.dh=k;this.Lj=l;this.ID=n;Xk(this,k);Xk(this,l);Xk(this,n)};AnalogCircuit.Wr.prototype=inherit(AnalogCircuit.cd.prototype);AnalogCircuit.Wr.prototype.constructor=AnalogCircuit.Wr;AnalogCircuit.Wr.prototype.dn=function(){return this.dh.value?this.dh.value():this.dh};
AnalogCircuit.Wr.prototype.Yw=function(){return this.Lj.value?this.Lj.value():this.Lj};function dl(a){return a.ID.value?a.ID.value():a.ID};AnalogCircuit.Em=function(a,b,c,d,e,k,l){AnalogCircuit.cd.call(this,a);this.type=AnalogCircuit.Bc.Rc;this.Br=this.Pb("pos");this.Br.Xa(b);this.Ar=this.Pb("neg");this.Ar.Xa(c);this.uD=d;this.dh=e;this.YI=k;Xk(this,d);Xk(this,e);Xk(this,k);this.S1=l};AnalogCircuit.Em.prototype=inherit(AnalogCircuit.cd.prototype);AnalogCircuit.Em.prototype.constructor=AnalogCircuit.Em;AnalogCircuit.Em.prototype.dn=function(){return this.dh.value?this.dh.value():this.dh};
function el(a){return a.uD.value?a.uD.value():a.uD}function fl(a){return a.YI.value?a.YI.value():a.YI}AnalogCircuit.Em.prototype.Yd=function(a){var b=this.Aa.ca.time.time;return 0==a?this.Aa.ca.hd.ue(b,this.Br,this.Ar):this.Aa.ca.hd.Si(b,this.Br,this.Ar,.03)};AnalogCircuit.Em.prototype.uc=function(a){var b=this.dn(),c=el(this),d=fl(this),e=this.Yd(a),k=e<c-d*b?d:(c-e)/b;this.$C&&this.$C.forEach(function(d){d=d.Yd(a);k+=(c-d)/b});return k};AnalogCircuit.Xr=function(a,b,c,d){AnalogCircuit.cd.call(this,a);this.type=AnalogCircuit.Bc.current;this.Br=this.Pb("pos");this.Br.Xa(b);this.Ar=this.Pb("neg");this.Ar.Xa(c);this.current=d;Xk(this,d)};AnalogCircuit.Xr.prototype=inherit(AnalogCircuit.cd.prototype);AnalogCircuit.Xr.prototype.constructor=AnalogCircuit.Xr;AnalogCircuit.Xr.prototype.uc=function(){return this.current.value?this.current.value():this.current};
AnalogCircuit.Xr.prototype.Yd=function(a){var b=this.Aa.ca.time.time;return 0==a?this.Aa.ca.hd.ue(b,this.Br,this.Ar):this.Aa.ca.hd.Si(b,this.Br,this.Ar,.01)};AnalogCircuit.Qq=function(a,b,c,d,e,k,l,n,q){AnalogCircuit.cd.call(this,a);this.type=AnalogCircuit.Bc.rQ;this.Pb("supply_pos").Xa(d);this.Pb("supply_neg").Xa(e);this.Pb("sense_pos").Xa(b);this.Pb("sense_neg").Xa(c);this.Pb("out").Xa(k);this.Lj=n;this.ao=q;this.dh=l;Xk(this,l);Xk(this,n);Xk(this,q)};AnalogCircuit.Qq.prototype=inherit(AnalogCircuit.cd.prototype);AnalogCircuit.Qq.prototype.constructor=AnalogCircuit.Qq;AnalogCircuit.Qq.prototype.Yw=function(){return this.Lj.value?this.Lj.value():this.Lj};
AnalogCircuit.Qq.prototype.dn=function(){return this.dh.value?this.dh.value():this.dh};AnalogCircuit.Qq.prototype.tI=function(){return this.ao.value?this.ao.value():this.ao};V.mm=function(a,b,c){var d=this;d.mb=a;d.Xe=b;d.accuracy=.1;d.QR=1E-15;d.WC=1E6*d.QR;d.vc=new w;d.xP=new w;d.$w=gl(this);d.vc.put(d.$w,0);d.xP.put(0,d.$w);var e=1;b.ed.forEach(function(a){a!=d.$w&&(d.vc.put(a,e),d.xP.put(e,a),e++)});d.Gn=this.Xe.Gn();d.OA=new w;var k=0;this.Xe.Qg.forEach(function(a){switch(a.type){case AnalogCircuit.Bc.qw:case AnalogCircuit.Bc.hx:d.OA.put(a,k),k+=2}});d.zf=new V.rd(this.Xe.ed.size(),d.Gn);d.kT=new V.rd.os(d.zf);d.ju=new w;d.wH=new y;d.hB=new y;this.Xe.kD.forEach(function(a){a.vH?
d.wH.add(new V.mm.lk(d,a)):d.hB.add(new V.mm.lk(d,a))});this.wS=new w;var l=[d,d.tR];this.Xe.Qg.forEach(function(a){a.IH.forEach(function(a){a.Ka(l)})});d.hB.forEach(function(a){var b=a.trigger.yS,c=a.trigger.UO;c.Ka([null,function(){if(c.yc()){var e=new y,k=hl(d.zf);e.ib(il(a,k.jm));e.forEach(function(a){var b=k.time+a.time;b>=c.WA.time&&a.trigger.fire(b,a.value)})}else c.mc()&&b.setValue(0,0)}])});c||d.tR()};
function gl(a){var b=new w;a.Xe.Qg.forEach(function(a){if(a.type==AnalogCircuit.Bc.Rc){a=a.Ha("neg");var c=b.get(a);c?c.xa++:(c={Ra:a,xa:1},a.Dk()&&c.xa++,b.put(a,c))}});var c=b.yI(function(a,b){return a.xa>b.xa});return c?c.Ra:a.Xe.ed.se(0)}V.mm.prototype.Tw=function(a,b){this.zf.Tw(a,b)};V.X1=function(a,b){var c=numeric.sub(a,b);return Math.sqrt(numeric.dot(c,c))};f=V.mm.prototype;
f.jm=function(a,b,c,d,e){a=this.vc.get(W(this.Xe,a));b=this.vc.get(W(this.Xe,b));for(var k=new V.rd.os(this.zf),l=[],n=c;n<d;n+=(d-c)/e)l.push({x:n,y:k.value(n,a,b)});return l};f.nJ=function(a,b,c,d,e){c=this.vc.get(W(this.Xe,c));d=this.vc.get(W(this.Xe,d));var k="minmax_"+c+"_"+d+"_"+b,l=this.ju.get(k);l||(l=new V.rd.AM(this.zf,c,d,e),this.ju.put(k,l));return l.value(a,b)};
f.Si=function(a,b,c,d,e){b=this.vc.get(W(this.Xe,b));c=this.vc.get(W(this.Xe,c));var k="average_"+b+"_"+c+"_"+d,l=this.ju.get(k);l||(l=new V.rd.JD(this.zf,b,c,d,e),this.ju.put(k,l));return l.value(a)};f.ue=function(a,b,c){b=this.vc.get(W(this.Xe,b));c=this.vc.get(W(this.Xe,c));var d="measure_"+b+"_"+c,e=this.ju.get(d);e||(e=new V.rd.os(this.zf),this.ju.put(d,e));return e.value(a,b,c)};f.size=function(){return this.Xe.ed.size()};
function jl(a,b){var c=[],d=[];a.Xe.Qg.forEach(function(a){c.push.apply(c,Yk(a))});a.Xe.Qg.forEach(function(c){switch(c.type){case AnalogCircuit.Bc.qw:case AnalogCircuit.Bc.hx:c=a.OA.get(c),d.push(b[c])}});0==c.length&&c.push(0);0==d.length&&d.push(0);return{z0:c,CK:d}}function kl(a,b,c){var d=new y;a.forEach?a.forEach(function(a){a.isEnabled()&&(a=ll(a,0,b,0,c),null!==a&&d.add(a))}):a.isEnabled()&&(a=ll(a,0,b,0,c),null!==a&&d.add(a));return d}
function il(a,b){for(var c=new y,d=0;d<b.xa.length-1;d++){var e=b.xa[d],k=b.xa[d+1];if(a.forEach)a.forEach(function(a){a.isEnabled()&&(a=ll(a,e.time,e.Rc,k.time,k.Rc),null!==a&&c.add(a))});else{var l=a;l.isEnabled()&&(l=ll(l,e.time,e.Rc,k.time,k.Rc),null!==l&&c.add(l))}}return c}
f.tR=function(){var a=this.mb.time.time,b=this.kT.CK(a),c=ml(this.kT,a),d=jl(this,b),e=d.z0,d=d.CK,k=this.wS.get(e.toString());if(!k){for(var k=[],l=0;l<this.Xe.Gn();l++)k.push(l);k=new kdTree([],V.X1,k);this.wS.put(e.toString(),k)}(e=k.nearest(d,1))&&.001>e[0][1]?e=e[0][0].result:(e={},e.jm=nl(this,b,c),e.K2=il(this.wH,e.jm),d.result=e,k.insert(d));b=e.jm.Yb(0).Rc;d=new y;d.ib(e.K2);d.ib(kl(this.wH,c,b));d.ib(kl(this.hB,c,b));d.ib(il(this.hB,e.jm));var n=[];d.forEach(function(b){b=b.trigger.fire(a+
b.time,b.value);n.push(b)});this.zf.Wv(a,e.jm,n)};
function nl(a,b,c){var d=0,e=0,k=null,l=b,l=ol(a,a.WC,c,b,1,50);a.zP=l.$t;e+=numeric.sum(l.$t);l.RA||(l=ol(a,a.WC,c,b,10,1E3),a.zP=a.zP.concat(l.$t),e+=numeric.sum(l.$t));if(!l.RA)throw console.log("Initial DC analysis did not converge"),new V.xy("Initial DC analysis did not converge");c=[0,null,null];var n=[l.Rc,null,null];b=pl(a,a.WC,b,n[0]);var q=new V.Vs;q.Le(c[0],n[0],b);for(var r=a.WC,t=1;;){if(r<a.QR)throw console.log("Trouble in the transient analysis loop, aborting. Step size became very small."),new V.xy("Trouble in the transient analysis loop, aborting. Step size became very small.");
l=ol(a,r,n[0],b,t,500);e+=numeric.sum(l.$t);if(1E4<e)throw new V.xy("Trouble in the transient analysis loop, aborting, too many iterations needed.");if(l.RA){t=1;if(3>d)k=0;else var v=-1/12,k=numeric.mul(numeric.sub(l.Rc,n[0]),1/r),x=numeric.mul(numeric.sub(n[0],n[1]),1/(c[0]-c[1])),B=numeric.mul(numeric.sub(n[1],n[2]),1/(c[1]-c[2])),v=6*v*r*r*r/(c[0]+r-c[2]),k=numeric.sub(numeric.mul(numeric.sub(k,x),v/(c[0]+r-c[1])),numeric.mul(numeric.sub(x,B),v/(c[0]-c[2]))),k=Math.sqrt(numeric.dot(k,k));if(isNaN(k))throw console.log("Trouble in the transient analysis loop, aborting. PLTE was NaN."),
new V.xy("Trouble in the transient analysis loop, aborting. PLTE was NaN.");if(1E-4>k){n.unshift(l.Rc);n.pop();c.unshift(c[0]+r);c.pop();l=b;b=pl(a,r,b,n[0]);l=numeric.sub(b,l);if(1E-6>(0==l.length?0:Math.sqrt(numeric.dot(l,l)))/r)return q;q.Le(c[0],n[0],b);d+=1}1E-4<k?r/=1.5:1E-5>k&&(r*=1.5)}else r/=1.5,t+=1}}
function ol(a,b,c,d,e,k){for(var l=[],n=0;n<a.size();n++)l[n]=c[n];c=[];for(e=10-(10>=e?e:10);10>e;e++){for(var q=Math.pow(10,e),r=Number.POSITIVE_INFINITY,t=0,v=Number.POSITIVE_INFINITY,x,B=1,E,z=!1,I=!1,N=0,K=[],O=0;O<a.size()-1;O++)K[O]=1;for(;1E-6<r&&t<k;){for(var L=[],n=0;n<a.size();n++){L[n]=[];for(var A=0;A<a.size();A++)L[n][A]=0}for(var Y=[],n=0;n<a.size();n++)Y[n]=0;a.Xe.Qg.forEach(function(c){a.oe(b,"notused",L,Y,c,l,d)});9>e&&a.Xe.ed.forEach(function(c){c!==a.$w&&a.qa(b,"notused",L,Y,null,
l,d,c,a.$w,q)});O=[];for(n=1;n<a.size();n++)O[n-1]=L[n].slice(1);var na=Y.slice(1),n=l.slice(1),A=numeric.norm2(na);if(z&&A>v&&100>N){for(O=0;O<K.length;O++)K[O]=1;E=numeric.mul(E,.5);O=numeric.sub(x,E);O.unshift(0);l=O;N++}else{E=numeric.LU(O);E=numeric.LUsolve(E,na);if(I){x=numeric.div(E,B);B=E;for(O=0;O<x.length;O++)0<x[O]&&.5>Math.abs(Math.log(x[O]))?K[O]=Math.min(1.2*K[O],10):K[O]=1;E=numeric.mul(K,E)}r=numeric.norm2(E);O=numeric.sub(n,E);O.unshift(0);l=O;v=A;x=n;25<t&&(z=!0);3<t&&(I=!0);N=0;
t++}}c.push(t);if(t>=k||isNaN(r))return{Rc:l,RA:!1,$t:c}}return{Rc:l,RA:!0,$t:c}}f.hk=1E5;
function pl(a,b,c,d){var e=[],k=0;a.Xe.Qg.forEach(function(l){switch(l.type){case AnalogCircuit.Bc.qw:var n=c[k++],q=c[k++],r=2*Zk(l)/b;r>a.hk&&(r=a.hk);n=q+r*n;q=a.vc.get(l.Ha("term1"));l=a.vc.get(l.Ha("term2"));l=d[q]-d[l];r=l*r-n;e.push(l);e.push(r);break;case AnalogCircuit.Bc.hx:q=c[k++],n=c[k++],r=$k(l),r=b/(2*r),r>a.hk&&(r=a.hk),n=q+r*n,q=a.vc.get(l.Ha("term1")),l=a.vc.get(l.Ha("term2")),l=d[q]-d[l],e.push(l*r+n),e.push(l)}});return e}
f.oe=function(a,b,c,d,e,k,l){switch(e.type){case AnalogCircuit.Bc.Rc:this.Pd(a,b,c,d,e,k,l,e.Ha("pos"),e.Ha("neg"),el(e),e.dn(),fl(e));break;case AnalogCircuit.Bc.current:this.Kp(a,b,c,d,e,k,l,e.Ha("pos"),e.Ha("neg"),e.uc());break;case AnalogCircuit.Bc.mR:this.qa(a,b,c,d,e,k,l,e.Ha("term1"),e.Ha("term2"),al(e));break;case AnalogCircuit.Bc.qw:this.ul(a,b,c,d,e,k,l,e.Ha("term1"),e.Ha("term2"),Zk(e));break;case AnalogCircuit.Bc.hx:this.gH(a,b,c,d,e,k,l,e.Ha("term1"),e.Ha("term2"),$k(e));break;case AnalogCircuit.Bc.HO:this.Cc(a,
b,c,d,e,k,l,e.Ha("anode"),e.Ha("cathode"),e.fk,e.Us,e.pN,e.hJ);break;case AnalogCircuit.Bc.nQ:this.pj(a,b,c,d,e,k,l,e.Ha("base"),e.Ha("emitter"),e.Ha("collector"));break;case AnalogCircuit.Bc.LQ:this.hH(a,b,c,d,e,k,l,e.Ha("base"),e.Ha("emitter"),e.Ha("collector"));break;case AnalogCircuit.Bc.lQ:this.Vv(a,b,c,d,e,k,l,e.Ha("gate"),e.Ha("source"),e.Ha("drain"),e.Us,e.beta);break;case AnalogCircuit.Bc.KQ:this.wA(a,b,c,d,e,k,l,e.Ha("gate"),e.Ha("source"),e.Ha("drain"),e.Us,e.beta);break;case AnalogCircuit.Bc.hT:this.Xv(a,
b,c,d,e,k,l,e.Ha("sense_pos"),e.Ha("sense_neg"),e.Ha("pos"),e.Ha("neg"),bl(e));break;case AnalogCircuit.Bc.jT:this.tN(a,b,c,d,e,k,l,e.Ha("sense_pos"),e.Ha("sense_neg"),e.Ha("pos"),e.Ha("neg"),e.Yw(),e.tI());break;case AnalogCircuit.Bc.UN:this.fH(a,b,c,d,e,k,l,e.Ha("sense_pos"),e.Ha("sense_neg"),e.Ha("pos"),e.Ha("neg"),e.dn(),cl(e));break;case AnalogCircuit.Bc.WN:this.Ri(a,b,c,d,e,k,l,e.Ha("sense_pos"),e.Ha("sense_neg"),e.Ha("pos"),e.Ha("neg"),e.dn(),e.Yw(),dl(e));break;case AnalogCircuit.Bc.rQ:this.vA(a,
b,c,d,e,k,l,e.Ha("sense_pos"),e.Ha("sense_neg"),e.Ha("supply_pos"),e.Ha("supply_neg"),e.Ha("out"),e.dn(),e.Yw(),e.tI())}};f.qa=function(a,b,c,d,e,k,l,n,q,r){a=this.vc.get(n);q=this.vc.get(q);r=1/r;r>this.hk&&(r=this.hk);c[a][a]+=r;c[q][q]+=r;c[a][q]+=-r;c[q][a]+=-r;d[a]+=+r*(k[a]-k[q]);d[q]+=-r*(k[a]-k[q])};f.ul=function(a,b,c,d,e,k,l,n,q,r){var t=this.OA.get(e),v=l[t],t=l[t+1];r=2*r/a;r>this.hk&&(r=this.hk);this.Kp(a,b,c,d,e,k,l,n,q,t+r*v);this.qa(a,b,c,d,e,k,l,n,q,1/r)};
f.gH=function(a,b,c,d,e,k,l,n,q,r){var t=this.OA.get(e),v=l[t],t=l[t+1];r=a/(2*r);r>this.hk&&(r=this.hk);this.Kp(a,b,c,d,e,k,l,q,n,v+r*t);this.qa(a,b,c,d,e,k,l,n,q,1/r)};f.Pd=function(a,b,c,d,e,k,l,n,q,r,t,v){a=this.vc.get(n);q=this.vc.get(q);b=k[a]-k[q];k=(e=b<r-v*t)?0:1/t;r=e?v:(r-b)/t;c[a][a]+=k;c[q][q]+=k;c[a][q]+=-k;c[q][a]+=-k;d[a]+=-r;d[q]+=+r};f.Kp=function(a,b,c,d,e,k,l,n,q,r){a=this.vc.get(n);q=this.vc.get(q);d[a]+=-r;d[q]+=+r};
f.Xv=function(a,b,c,d,e,k,l,n,q,r,t,v){a=this.vc.get(r);t=this.vc.get(t);n=this.vc.get(n);q=this.vc.get(q);c[a][n]+=-v;c[a][q]+=+v;c[t][n]+=+v;c[t][q]+=-v;d[a]+=-v*(k[n]-k[q]);d[t]+=+v*(k[n]-k[q])};f.tN=function(a,b,c,d,e,k,l,n,q,r,t,v,x){this.Xv(a,b,c,d,e,k,l,n,q,r,t,x/v);this.qa(a,b,c,d,e,k,l,r,t,v)};f.fH=function(a,b,c,d,e,k,l,n,q,r,t,v,x){x/=v;this.qa(a,b,c,d,e,k,l,n,q,v);this.Xv(a,b,c,d,e,k,l,n,q,r,t,x)};
f.Ri=function(a,b,c,d,e,k,l,n,q,r,t,v,x,B){B=B/v/x;this.qa(a,b,c,d,e,k,l,n,q,v);this.Xv(a,b,c,d,e,k,l,n,q,r,t,B);this.qa(a,b,c,d,e,k,l,r,t,x)};
f.vA=function(a,b,c,d,e,k,l,n,q,r,t,v,x,B,E){var z=this.vc.get(v);r=this.vc.get(r);var I=this.vc.get(t),N=this.vc.get(n),K=this.vc.get(q),O=k[I],L=k[r]-O,O=k[z]-O,A=k[N]-k[K];if(0<L){var Y=2*E*A/L;if(10<Y)var na=1;else-10>Y?na=-1:(Y=Math.exp(2*Y),na=(Y-1)/(Y+1));Y=-(na+1)*L/(2*B);E=-(1-na*na)*E/B;L=(-E*A+Y)/L}else L=E=Y=0;c[z][N]+=+E;c[z][K]+=-E;c[r][N]+=-E;c[r][K]+=+E;c[z][r]+=+L;c[z][I]+=-L;c[r][r]+=-L;c[r][I]+=+L;c[r][z]+=-1/B;c[I][z]+=1/B;d[z]+=Y;d[r]+=-Y-O/B;d[I]+=O/B;this.qa(a,b,c,d,e,k,l,v,
t,B);this.qa(a,b,c,d,e,k,l,n,q,x);this.qa(a,b,c,d,e,k,l,q,t,1E10)};f.Cc=function(a,b,c,d,e,k,l,n,q,r,t,v,x){var B=this.vc.get(n),E=this.vc.get(q),z=k[B]-k[E];this.qa(a,b,c,d,e,k,l,n,q,1E10);z<v?(x=Math.exp(z/t),a=r*(x-1),r=r/t*x):(a=x.Wb+x.ob*z,r=x.ob);c[B][B]+=r;c[B][E]+=-r;c[E][B]+=-r;c[E][E]+=r;d[B]+=a;d[E]+=-a};
f.Vv=function(a,b,c,d,e,k,l,n,q,r,t,v){var x=this.vc.get(n),B=this.vc.get(q),E=this.vc.get(r),z=k[B],I=k[x]-z,z=k[E]-z,N=0,K=0,O=0;I>t&&z<I-t?(N=v*(I-t-z)*(1+.01*z)+v*((I-t)*z-Math.pow(z,2)/2)*.01,K=v*z*(1+.01*z),O=v*((I-t)*z-Math.pow(z,2)/2)*(1+.01*z)):I>t&&z>=I-t&&(N=v/2*.01*Math.pow(I-t,2),K=v*(I-t)*(1+.01*z),O=v/2*Math.pow(I-t,2)*(1+.01*z));c[E][E]+=N;c[E][B]+=-(N+K);c[E][x]+=K;c[B][E]+=-N;c[B][B]+=N+K;c[B][x]+=-K;d[E]+=O;d[B]+=-O;this.Cc(a,b,c,d,e,k,l,q,r,1E-12,.0258,.9505071264,{Wb:-358413.6156,
ob:387596.9});this.qa(a,b,c,d,e,k,l,n,q,1E12)};
f.wA=function(a,b,c,d,e,k,l,n,q,r,t,v){var x=this.vc.get(n),B=this.vc.get(q),E=this.vc.get(r),z=k[B],I=k[x]-z,z=k[E]-z,N=0,K=0,O=0;I<t&&z>I-t?(N=-v*(I-t-z)*(1-.01*z)+v*((I-t)*z-Math.pow(z,2)/2)*.01,K=-v*z*(1-.01*z),O=-v*((I-t)*z-Math.pow(z,2)/2)*(1-.01*z)):I<t&&z<=I-t&&(N=v/2*.01*Math.pow(I-t,2),K=-v*(I-t)*(1-.01*z),O=-v/2*Math.pow(I-t,2)*(1-.01*z));c[E][E]+=N;c[E][B]+=-(N+K);c[E][x]+=K;c[B][E]+=-N;c[B][B]+=N+K;c[B][x]+=-K;d[E]+=O;d[B]+=-O;this.Cc(a,b,c,d,e,k,l,r,q,1E-12,.0258,.9505071264,{Wb:-358413.6156,
ob:387596.9});this.qa(a,b,c,d,e,k,l,n,q,1E12)};
f.pj=function(a,b,c,d,e,k,l,n,q,r){a=this.vc.get(q);n=this.vc.get(n);r=this.vc.get(r);b=k[n];e=b-k[a];b-=k[r];1.046841148>e?(l=Math.exp(e/.0258),k=2.39E-14*(l-1),e=2.39E-14/.0258*l):(k=-395752.3758+387596.8922*e,e=387596.8922);if(1.043599242>b){l=Math.exp(b/.0258);b=2.71E-14*(l-1);var t=2.71E-14/.0258*l}else b=-394495.8228+387596.8919*b,t=387596.8919;l=e;q=.88*t;e*=.9966;c[n][n]+=t+l-e-q;c[n][a]+=e-l;c[n][r]+=q-t;c[a][n]+=q-l;c[a][a]+=l;c[a][r]+=-q;c[r][n]+=e-t;c[r][a]+=-e;c[r][r]+=t;d[n]+=(1-.9966)*
k+.12*b;d[a]+=-k+.88*b;d[r]+=.9966*k-b};
f.hH=function(a,b,c,d,e,k,l,n,q,r){a=this.vc.get(q);n=this.vc.get(n);r=this.vc.get(r);b=k[n];e=k[a]-b;b=k[r]-b;1.03460733>e?(l=Math.exp(e/.0258),k=3.84E-14*(l-1),e=3.84E-14/.0258*l):(k=-391010.5902+387596.8964*e,e=387596.8964);if(1.032989521>b){l=Math.exp(b/.0258);b=4.0885E-14*(l-1);var t=4.0885E-14/.0258*l}else b=-390383.5394+387596.9033*b,t=387596.9033;l=e;q=.9369*t;e*=.997;c[n][n]+=t+l-e-q;c[n][a]+=e-l;c[n][r]+=q-t;c[a][n]+=q-l;c[a][a]+=l;c[a][r]+=-q;c[r][n]+=e-t;c[r][a]+=-e;c[r][r]+=t;d[n]+=-(1-
.997)*k-(1-.9369)*b;d[a]+=k-.9369*b;d[r]+=-.997*k+b};V.bk=function(a){this.ca=a;try{window.AudioContext=window.AudioContext||window.webkitAudioContext,window.AudioContext&&(V.bk.ht=V.bk.ht||new window.AudioContext)}catch(b){V.bk.ht=void 0}this.XJ=44100;this.su=.1;this.bJ=0;this.volume=.25;this.It=[];for(a=0;15>a;++a)this.It.push(.54+.46*Math.cos(2*Math.PI*a/28))};
V.bk.prototype.play=function(a,b,c){var d=this,e=0;if(V.bk.ht){var k=d.ca.time.time,l=d.XJ*(k-d.bJ);if(l>=d.XJ/50){d.bQ=V.bk.ht.createBuffer(1,l,d.XJ);var n=d.bQ.getChannelData(0),e=ql(d.ca.hd,a,b,this.bJ,k,l,n,c);0<d.It.length&&[].forEach.call(n,function(a,b,c){b<d.It.length?c[b]*=d.It[b]:(a=c.length-1-b,a<d.It.length&&(c[b]*=d.It[a]))});a=d.source;d.source=V.bk.ht.createBufferSource();d.source.buffer=d.bQ;d.source.connect(V.bk.ht.destination);d.source.volume=d.volume;d.source.loop=!0;d.source.start(0);
a&&a.stop(.25*d.su);this.bJ=k}}return e};V.bk.prototype.stop=function(){this.source&&(this.source.stop(),this.source=void 0)};V.Wu=function(a,b){var c=this;c.mb=a;c.ia=b;c.ia.split();c.T0=rl(c);c.xA=new w;c.ia.ZC.forEach(function(a){var b=new V.mm(c.mb,a);c.xA.put(a,b)});c.Fk=new w};V.Wu.prototype.Tw=function(a,b){this.xA.forEach(function(c,d){d.Tw(a,b)})};function rl(a){var b=new Pa;a.ia.ZC.forEach(function(a){Ta(b,a)});a.ia.ed.forEach(function(a){a.Dk()&&(Ta(b,a),a.vr.forEach(function(d){Za(b,a,d)}))});return b}
function sl(a,b,c){var d,e=[];if(b==c)return e;d=b.Dk()?b:b.vr.se(0);var k;k=c.Dk()?c:c.vr.se(0);d=db(a.T0,k,d);for(k=0;k+1<d.length;){var l={};d[k].element.constructor===AnalogCircuit.ov?(l.aw=a.xA.get(d[k+1].element),l.ux=d[k].element,void 0!==d[k+2]?(l.tu=d[k+2].element,k+=2):(l.tu=b,k+=1)):d[k].element.constructor===AnalogCircuit&&(l.aw=a.xA.get(d[k].element),l.ux=c,l.tu=d[k+1].element.constructor!==AnalogCircuit.ov?b:d[k+1].element,k+=1);e.push(l)}return e}
function tl(a,b,c,d){for(var e=[],k=0;k<a.length;k++)for(var l=a[k],l=l.aw.jm(l.tu,l.ux,b,c,d),n=0;n<l.length;n++)e[n]={x:l[n].x,y:(isNaN(l[n].y)?0:l[n].y)+(e[n]?e[n].y:0)};return e}function ql(a,b,c,d,e,k,l,n){b=W(a.ia,b);c=W(a.ia,c);var q=Ia(b)+"_"+Ia(c),r=a.Fk.get(q);r||(r=sl(a,b,c),a.Fk.put(q,r));a=tl(r,d,e,k);for(k=e=d=0;k<a.length;k++)b=a[k].y*n,b=-1>b?-1:1<b?1:b,b>d?d=b:b<e&&(e=b),l[k]=b;return 1<d-e?1:d-e}
V.Wu.prototype.ue=function(a,b,c){b=W(this.ia,b);c=W(this.ia,c);var d="measure_"+Ia(b)+"_"+Ia(c),e=this.Fk.get(d);e||(e=sl(this,b,c),this.Fk.put(d,e));b=e;for(d=c=0;d<b.length;d++)e=b[d],c+=e.aw.ue(a,e.tu,e.ux);return c};V.Wu.prototype.Si=function(a,b,c,d,e){b=W(this.ia,b);c=W(this.ia,c);var k="average_"+Ia(b)+"_"+Ia(c);Rk(this.mb,k,3*d);var l=this.Fk.get(k);l||(l=sl(this,b,c),this.Fk.put(k,l));b=l;for(k=c=0;k<b.length;k++)l=b[k],c+=l.aw.Si(a,l.tu,l.ux,d,e);return c};
V.Wu.prototype.nJ=function(a,b,c,d,e){c=W(this.ia,c);d=W(this.ia,d);var k="minmax_"+Ia(c)+"_"+Ia(d),l=this.Fk.get(k);l||(l=sl(this,c,d),this.Fk.put(k,l));c=l;d={min:0,max:0};for(k=0;k<c.length;k++)l=c[k],l=l.aw.nJ(a,b,l.tu,l.ux,e),d.min+=l.min,d.max+=l.max;return d};V.mm.lk=function(a,b){this.Ee=a;this.trigger=b};V.mm.lk.prototype.fire=function(a,b){return this.trigger.yS.jg(new V.Mc(a,0),b)};function ul(a,b){var c=[];a.trigger.Ja.forEach(function(d,e){c.push(b[a.Ee.vc.get(e.Ra)])});return a.trigger.Fl.apply(null,c)}V.mm.lk.prototype.isEnabled=function(){return this.trigger.vH?!0:this.trigger.UO.value()};
function ll(a,b,c,d,e){var k=ul(a,c),l=ul(a,e);if(k!==l){for(;1E-9<d-b;){var n=(b+d)/2,q=numeric.mul(numeric.add(c,e),.5),r=ul(a,q);k!==r?(d=n,e=q,l=r):l!==r?(b=n,c=q,k=r):Console.log("Trouble")}return{time:d,value:l,trigger:a}}return null};V.rd=function(a,b){this.jb=[];this.WB=new y;for(var c=new V.Vs,d=[];d.length<a;)d.push(0);for(var e=[];e.length<b;)e.push(0);c.Le(0,d,e);this.Wv(Number.NEGATIVE_INFINITY,c,new y)};
V.rd.prototype.Wv=function(a,b,c){var d=hl(this);void 0!==d&&vl(d,a);var e=new V.rd.WM(a,b,c);this.jb.push(e);this.WB.forEach(function(a){if(e==a.zf.Lt(a.fj+1)&&e.time<a.time())if(e.time>=a.Wh.Gc(1)){a.fj++;a.cj=0;var b=a.Wh.Gc(1),c=a.time(),d=a.$h.Gc(1),r=a.Rc(),d=V.rd.Xt(e.time,b,d,c,r),r=a.hj.Gc(1),t=a.state(),b=V.rd.Xt(e.time,b,r,c,t);a.$h.write(0,d);a.Hm=e.Yb(a.cj).Rc;a.hj.write(0,b);a.Ys=e.Yb(a.cj).state;a.Wh.write(0,e.time);a.Zs=e.time}else console.log("Trouble!")})};
V.rd.prototype.TJ=function(){this.jb.shift();this.WB.forEach(function(a){a.fj--;a.Bu--;0>a.fj&&(a.fj=0,a.cj=0);0>a.Bu&&(a.Bu=0)})};V.rd.prototype.Lt=function(a){return this.jb[a]};function hl(a){return a.jb[a.jb.length-1]}V.rd.WM=function(a,b,c){this.time=a;this.jm=b;this.J2=c};V.rd.WM.prototype.Yb=function(a){return this.jm.Yb(a)};function vl(a,b){a.J2.forEach(function(a){a.time.time>b&&(a.ay=!0)})}
V.rd.Xt=function(a,b,c,d,e){if(a<=b)return c;if(a==d||d==Number.POSITIVE_INFINITY)return e;if(b==Number.NEGATIVE_INFINITY)return c;a=(a-b)/(d-b);return numeric.add(c,numeric.mul(numeric.sub(e,c),a))};V.rd.prototype.Tw=function(a,b){for(var c=a-b;2<this.jb.length&&this.jb[1].time<c;)this.TJ();this.WB.bh(function(a){return a.FO})};V.Vs=function(){this.xa=[]};V.Vs.prototype.Le=function(a,b,c){this.xa.push(new V.Vs.FX(a,b,c))};V.Vs.prototype.Yb=function(a){return this.xa[a]};V.Vs.FX=function(a,b,c){this.time=a;this.Rc=b;this.state=c};V.rd.AG=function(a){this.FO=!1;this.zf=a;this.zf.WB.add(this);this.cj=this.Bu=this.fj=0;this.Qw=!1;a=this.zf.Lt(this.fj);var b=a.Yb(this.cj);this.$h=new Na(3,b.Rc);this.Hm=null;this.hj=new Na(3,b.state);this.Ys=null;this.Wh=new Na(3,b.time+a.time);this.Zs=null;this.Qw=this.step()};f=V.rd.AG.prototype;f.EO=function(){this.FO=!0};f.Lt=function(){return this.zf.Lt(this.fj)};
f.step=function(){this.Qw=!1;if(null!==this.Hm)return Oa(this.$h,this.Hm),this.Hm=null,Oa(this.hj,this.Ys),this.Ys=null,Oa(this.Wh,this.Zs),this.Zs=null,this.Qw;var a=this.Lt(),b=this.zf.Lt(this.fj+1),c=Number.POSITIVE_INFINITY;b&&(c=b.time);a.Yb(this.cj);var d=a.Yb(this.cj+1);if(d&&d.time+a.time<c)this.Bu=this.fj,this.cj++,Oa(this.$h,d.Rc),this.Hm=null,Oa(this.hj,d.state),this.Ys=null,Oa(this.Wh,d.time+a.time),this.Zs=null;else if(b){this.Bu=this.fj;this.fj++;this.cj=0;if(d){var c=c-a.time,e=this.$h.Gc(0),
k=this.Wh.Gc(0)-a.time,l=d.time,k=V.rd.Xt(c,k,e,l,d.Rc);Oa(this.$h,k);this.Hm=b.Yb(this.cj).Rc;e=this.hj.Gc(0);k=this.Wh.Gc(0)-a.time;a=d.state;l=d.time;d=V.rd.Xt(c,k,e,l,a);Oa(this.hj,d)}else Oa(this.$h,this.$h.Gc(0)),this.Hm=b.Yb(this.cj).Rc,Oa(this.hj,this.hj.Gc(0));this.Ys=b.Yb(this.cj).state;Oa(this.Wh,b.time);this.Zs=b.time}else this.Bu=this.fj,Oa(this.$h,this.$h.Gc(0)),this.Hm=null,Oa(this.hj,this.hj.Gc(0)),this.Ys=null,Oa(this.Wh,Number.POSITIVE_INFINITY),this.Zs=null,this.Qw=!0;return this.Qw};
f.time=function(){return this.Wh.Gc(0)};f.Rc=function(){return this.$h.Gc(0)};f.state=function(){return this.hj.Gc(0)};V.rd.os=function(a,b){this.zf=a;this.iterator=new V.rd.AG(this.zf);this.Fl=b?b:function(a){return a}};function ml(a,b){for(var c=!1;!c&&a.iterator.time()<=b;)c=a.iterator.step();var c=a.iterator.$h.Gc(1),d=a.iterator.Wh.Gc(1),e=a.iterator.Rc(),k=a.iterator.time();return V.rd.Xt(b,d,c,k,e)}V.rd.os.prototype.value=function(a,b,c){a=ml(this,a);return this.Fl(a[b]-a[c])};
V.rd.os.prototype.CK=function(a){for(var b=!1;!b&&this.iterator.time()<=a;)b=this.iterator.step();var b=this.iterator.hj.Gc(1),c=this.iterator.Wh.Gc(1),d=this.iterator.state(),e=this.iterator.time();return V.rd.Xt(a,c,b,e,d)};V.rd.JD=function(a,b,c,d,e){this.zf=a;this.JK=d;this.vn=b;this.mn=c;this.iterator=new V.rd.AG(this.zf);this.Fl=e?e:function(a){return a};this.Si=0};
V.rd.JD.prototype.value=function(a){for(var b=!1;!b&&this.iterator.time()<=a;){var b=this.iterator.$h.Gc(1),c=this.iterator.Rc(),b=b[this.vn]-b[this.mn],c=c[this.vn]-c[this.mn],d=this.iterator.Wh.Gc(1),e=this.iterator.time();this.Si=this.advance(this.Si,b,d,c,e,e);b=this.iterator.step()}b=this.iterator.$h.Gc(1);c=this.iterator.Rc();b=b[this.vn]-b[this.mn];c=c[this.vn]-c[this.mn];d=this.iterator.Wh.Gc(1);e=this.iterator.time();return this.advance(this.Si,b,d,c,e,a)};
V.rd.JD.prototype.advance=function(a,b,c,d,e,k){b=this.Fl(b);d=this.Fl(d);k-=c;c=(d-b)/(e-c);if(0==k)return a;e=Math.exp(-k/this.JK);return e*(a+c*this.JK)+(1-e)*b+(k==Number.POSITIVE_INFINITY&&0==c?0:c*k)-c*this.JK};V.rd.AM=function(a,b,c,d){this.zf=a;this.vn=b;this.mn=c;this.Fl=d?d:function(a){return a}};V.rd.AM.prototype.value=function(a,b){var c,d=a-b,e=new V.rd.os(this.zf),k=e.iterator,l=d=e.value(d,this.vn,this.mn);for(c=!1;!c&&k.time()<=a;)c=k.Rc(),c=c[this.vn]-c[this.mn],d=d<c?d:c,l=l>c?l:c,c=k.step();c=e.value(a,this.vn,this.mn);return{min:d<c?d:c,max:l>c?l:c}};V.rA=function(a,b,c,d){var e=this;this.Gb=a;this.mb=a.ca;this.bg=b;this.nc={Ce:null,Jb:null,reset:null};this.Ua=new w;this.Ua.put("PUD",new V.ta(this.mb,"Arduino_PUD",0));wl(this,c);d.forEach(function(b){var d=a.ha(b.sb);1!=b.required&&d.constructor!=jf||xl(e,b.port,d,b.ub,b.Ma,!c.or)})};
function wl(a,b){for(var c=a.Gb.ha(b.je[0]),d=1;d<b.je.length;d++){var e=a.Gb.ha(b.je[d]);a.Gb.ca.ia.kd(c,e)}if(b.wn&&0<b.wn.length){for(var k=a.Gb.ha(b.wn[0]),d=1;d<b.wn.length;d++)e=a.Gb.ha(b.wn[d]),a.Gb.ca.ia.kd(k,e);b.or&&a.Gb.ca.ia.Pd(k,c,5,1E-4,!0)}if(b.er&&0<b.er.length){for(var l=a.Gb.ha(b.er[0]),d=1;d<b.er.length;d++)e=a.Gb.ha(b.er[d]),a.Gb.ca.ia.kd(l,e);b.or&&a.Gb.ca.ia.Pd(l,c,3.3,1E-4,!0)}a.nc.Ce=c;a.nc.Jb=5==a.bg.Rc?k:l;b.or||a.Ua.put("VCC",{ca:a.mb,name:"Vcc signal",value:function(){return a.mb.hd.ue(a.mb.getTime(),
a.nc.Jb,a.nc.Ce)}});c=new V.ta(a.mb,"Arduino_reset",!1);a.Ua.put("RESET",c);if(b.reset&&0<b.reset.length){a.nc.reset=a.Gb.ha(b.reset[0]);for(d=1;d<b.reset.length;d++)k=a.Gb.ha(b.reset[d]),a.Gb.ca.ia.kd(a.nc.reset,k);a.Gb.ca.ia.qa(a.nc.Jb,a.nc.reset,1E4);a.Gb.ca.ia.dc(c,a.nc.reset,a.nc.Ce,function(b,c){return b-c<.2*a.bg.Rc})}a.Ua.put("AVCC",new V.ta(a.mb,"Analog reference voltage",a.bg.Rc));if(b.zA){var n=a.Gb.ha(b.zA);a.Gb.ca.ia.qa(n,a.nc.Ce,1E12);a.Ua.put("AREF",{ca:a.mb,name:"Arduino AREF signal",
value:function(){return a.mb.hd.ue(a.mb.getTime(),n,a.nc.Ce)}})}}
function xl(a,b,c,d,e,k){if(null==a.Ua.get("PORT"+b)){var l=new V.ta(a.mb,"Arduino_"+b+"_out",0);a.Ua.put("PORT"+b,l);var n=new V.ta(a.mb,"Arduino_"+b+"_timer",0),q=new V.ta(a.mb,"Arduino_"+b+"_timerctl",0);e&&(a.Ua.put("TIMER_"+e,n),a.Ua.put("TIMERCTL_"+e,q));e=new V.ta(a.mb,"Arduino_"+b+"_mode",0);a.Ua.put("DDR"+b,e);k?(k=new V.Za(e,l,a.Ua.get("PUD"),n,q,function(a,b,c,d,e){return 1==a?e?d?50:1E12:b?50:1E12:0==b?1E12:0==c?5E4:1E12}),a.Gb.ca.ia.qa(c,a.nc.Jb,k),l=new V.Za(e,l,n,q,function(a,b,c,d){return 1==
a?d?c?1E12:50:b?1E12:50:1E12}),a.Gb.ca.ia.qa(c,a.nc.Ce,l)):(n=new V.Za(l,n,q,function(b,c,d){return d?c*a.bg.Rc:b*a.bg.Rc}),l=new V.Za(e,l,a.Ua.get("PUD"),function(a,b,c){return 1==a?50:0==b?1E12:0==c?5E4:1E12}),a.Gb.ca.ia.Pd(c,a.nc.Ce,n,l,!1));l=new V.ta(a.mb,"Arduino_"+b+"_in",0);a.Ua.put("PIN"+b,l);a.Gb.ca.ia.dc(l,c,a.nc.Jb,a.nc.Ce,function(a,b,c){return a-c>.45*(b-c)?1:0});d&&a.Ua.put("PORT"+b+"_A",{ca:a.mb,name:"Arduino_analogInput_"+b,value:function(){return a.mb.hd.ue(a.mb.getTime(),c,a.nc.Ce)}})}}
function yl(a,b,c){var d=a.Gb.ha(b.sb);xl(a,b.port,d,b.ub,b.Ma);b={};var e=a.Gb.ca.ia.Cc(d,b,1E-18,1.8,3.3,2);a.Gb.ca.ia.qa(b,a.nc.Ce,500);a.mb.Na.Ka([a,function(a){a=a.value();a=e.uc(a);c(a/.007)},[a.mb.Na]])}function zl(a,b){var c=new V.ta(a.mb,"switchSignal",1E10);a.Gb.ca.ia.qa(a.nc.reset,a.nc.Ce,c);b.ka("simulator",function(a,b,k){c.setValue(0,k?.001:1E10)},10)}
function Al(a,b,c,d,e){function k(){return 1/9600}var l=a.Gb.ha(b.sb);xl(a,b.port,l,b.ub,b.Ma);b=a.Gb.ha(c.sb);xl(a,c.port,b,c.ub,c.Ma);c=new V.ta(a.mb,"Arduino onboard UART transmitter",1);var n=new V.Za(c,function(b){return b*a.bg.Rc});a.Gb.ca.ia.Pd(l,a.nc.Ce,n,1E3,!1);l=new V.ta(a.mb,"Arduino onboard UART receiver",0);a.Gb.ca.ia.qa(b,a.nc.Ce,1E12);a.Gb.ca.ia.dc(l,b,a.nc.Jb,a.nc.Ce,function(a,b,c){return a-c>.45*(b-c)?1:0});b={uB:function(){return{dq:8,Kk:V.Qi.nv,ry:1}},YA:function(){a.fy()},XA:function(a){e.push(String.fromCharCode(a))}};
var q=new V.Es(a.mb,c,k,b),r=[];a.fy=function(){if(0<r.length){var a=(new G("sendData")).data("dataByte",r.pop());q.handle(a)}};d.ka("arduino",function(b,c,d){for(b=0;b<d.length;b++)r.unshift(d.charCodeAt(b));"idle"==q.state()&&a.fy()},10);var t=new V.Ds(a.mb,l,k,b);l.Ka([null,function(){t.handle("portAcitivity")}])}
function Bl(a,b,c){var d=1/57600*8,e=new V.ta(a.mb,"Arduino direct transmitter signal",0);a.Ua.put("directTX",e);var k=[];e.Ka([null,function(){0<k.length&&e.setValue(d,k.pop())}]);b.ka("arduino",function(a,b,c){for(a=0;a<c.length;a++)k.unshift(c.charCodeAt(a));k.length==c.length&&0<k.length&&e.setValue(d,k.pop())},10);var l=new V.ta(a.mb,"Arduino direct receiver signal",0);a.Ua.put("directRX",l);l.Ka([null,function(){c.push(String.fromCharCode(l.value()))}])};V.ea=function(a,b,c,d,e){var k=this;k.fb=!1;k.mb=a;k.ma=b;k.Ua=c;k.re=d||16E6;k.An=new V.ta(k.mb,"proceed");k.An.Ok.add([k,k.ej]);k.Ua.put("proceed",k.An);k.Bn=k.ma.Bn;k.bR=new ArrayBuffer(2*k.Bn);k.wC=new Uint8Array(k.bR);k.NJ=new Uint16Array(k.bR);k.Qx=Array(k.Bn);k.fq=k.ma.fq;k.xO=new ArrayBuffer(k.fq);k.Ca=new Uint8Array(k.xO);k.Ne=new DataView(k.xO);k.Ga=0;k.$b=0;k.qu=k.ma.qu;k.GX=k.ma.sf;k.HX=k.ma.We;k.IX=k.ma.Wc;k.qW=k.ma.kp;k.sW=k.ma.ys;k.Ng=V.ja.TA(k.Ne,k.qW);k.ei=V.ja.$a(k.Ca,k.sW);k.sf=
V.ja.TA(k.Ne,k.GX);k.We=V.ja.TA(k.Ne,k.HX);k.Wc=V.ja.TA(k.Ne,k.IX);k.status={nM:V.ja.oa(k.ei,7),aN:V.ja.oa(k.ei,6),Fi:V.ja.oa(k.ei,5),Sd:V.ja.oa(k.ei,4),cc:V.ja.oa(k.ei,3),Sb:V.ja.oa(k.ei,2),gd:V.ja.oa(k.ei,1),Oc:V.ja.oa(k.ei,0)};k.pe={};k.CB=new y;k.qP=new w;k.Qd=new V.Or(k);k.ie=new V.gb(k);Cl(k,e);a=k.Ua.get("RESET");new V.be(k,"MCUSR",k.ma.Ez);b=V.ja.$a(k.Ca,k.ma.Ez);var l=V.ja.oa(b,0),n=V.ja.oa(b,1);a&&a.value()||(k.BK=this.mb.getTime()+0,k.An.setValue(0,!0),l(1));a&&a.Ok.add([this,function(a){a.yc()?
(Tk(k.An,k.mb.time),k.reset()):a.mc()&&(k.BK=k.mb.getTime()+0,k.An.setValue(0,!0),l(1),n(1))},[a]]);k.fb&&(k.An.debug=!0);k.mb.fb&&(k.Jh=k.mb.Jh[k.constructor==V.Lm?"Uno1":"Micro2"]={wO:0,aR:0,aY:0})};function Dl(a,b){return Math.round((b-a.BK)*a.re)}function El(a,b){return a.BK+b/a.re}function X(a){return El(a,a.Ga)}f=V.ea.prototype;
f.ej=function(){this.abort&&(this.UQ&&this.UQ(Dl(this,this.mb.getTime())),this.$b=this.$b+1&this.qu,this.Ga+=1,this.abort=!1,this.rJ=null);for(var a=Dl(this,this.mb.getTime())+1E3;this.Ga<a&&!this.abort;){if(this.YR)this.YR=!1;else if(-1<this.ie.Me.indexOf(this.$b)){this.YR=!0;a=new V.Mc(X(this),1);this.mb.$q.push(a,a.time);break}this.Qd.ej();var b=this.Qx[this.$b],c=this.QB[b.vJ];c?c(this,b):console.log("Unknown instruction: ",this.Ga,"0x"+this.$b.toString(16),this.NJ[this.$b],b.vJ,b.arguments);
this.abort||(this.$b=this.$b+1&this.qu,this.Ga+=1)}this.An.jg(new V.Mc(El(this,this.rJ||this.Ga),1),!0);this.fb&&console.log(this.mb.getTime(),"arduino stopped at ",El(this,this.Ga)," = ",this.Ga-Dl(this,this.mb.getTime())," cycles");this.mb.fb&&(this.Jh.wO=this.Ga,this.Jh.aR++,this.Jh.aY=this.Jh.wO/this.Jh.aR)};function Fl(a,b,c){a.abort=!0;a.rJ=b;a.UQ=c}f.Gc=function(a,b){return this.Ca[b]};f.write=function(a,b,c){this.Ca[b]=c};
function Gl(a,b,c,d){if(b<=a.ma.Az&&32<=b){var e=a.pe[b];void 0==e?(a.Ca[b]=c,d&&d()):e.z2?Fl(a,null,function(){e.oc.write(a.Ga,b,c);d&&d()}):(e.oc.write(a.Ga,b,c),d&&d())}else a.Ca[b]=c,d&&d()}function Hl(a,b,c){if(b<=a.ma.Az&&32<=b){var d=a.pe[b];void 0==d?c(a.Ca[b]):d.w2?Fl(a,null,function(){c(d.oc.Gc(a.Ga,b))}):c(d.oc.Gc(a.Ga,b))}else c(a.Ca[b])}
f.reset=function(){var a=this;a.fb&&console.log(X(this),"receiving external RESET");a.Ga=Dl(a,a.mb.getTime());for(var b=0;32>b;b++)a.write(a.Ga,b,0);a.CB.forEach(function(b){b.reset(a.Ga)});a.Qd.reset();a.Ga=0;a.$b=0;a.ei(0);a.abort=!1;a.rJ=null};function Il(a,b){var c=null;a.CB.forEach(function(a){a.Yx[b]&&(c=a.Yx[b])});return c}f.profile={};
function Cl(a,b){for(var c=b.hex.split("\n"),d=0;d<c.length;d++){var e=c[d],k=parseInt("0x"+e.substring(1,3)),l=parseInt("0x"+e.substring(3,7)),n=parseInt("0x"+e.substring(7,9));if(":"==e.substring(0,1))switch(n){case 0:for(n=0;n<k;n++)a.wC[l+n]=parseInt("0x"+e.substring(9+2*n,2*n+11))}}for(c=0;c<a.Bn;c++){var k=a.NJ[c],l=c+1<a.Bn?a.NJ[c+1]:0,d={},q=n=null,r=null,e=void 0;for(e in V.ea.Qa){var t=V.ea.Qa[e];if(!(k&t.t2^t.s2)){r=t;n=r.Ta;q=V.ea.sM.get(n);break}}if(null!==n){d.Ta=n;d.vJ=q;n=r.pattern;
16==n.length?(l=V.ea.pH(k),d.l0=16):(l=V.ea.pH(k)+V.ea.pH(l),d.l0=32);d.arguments={};k=[];for(e=0;e<n.length;e++)q=n[e],r=l[e],"0"!==q&&"1"!==q&&(void 0==d.arguments[q]&&(k.push(q),d.arguments[q]=""),d.arguments[q]+=r);for(e=0;e<k.length;e++)l=k[e],n=d.arguments[l],d.arguments[k[e]]="t"==l?V.ea.e2(n):parseInt(n,2)}else d.Ta=-1;a.Qx[c]=d}c=a.ie;d=b.dwarf;c.info=new V.gb.ZL(d.info);c.$B=new w;for(var v in d.line)for(var x in d.line[v])e=d.line[v][x],0==e.End&&0<e.Address&&"sketch.ino"==e.File&&(k=c.$B.get(e.File),
k||(k=[],c.$B.put(e.File,k)),l=k[e.Line],l||(l=new w,k[e.Line]=l),l.put(e.Address/2,e),c.FQ.put(e.Address/2,e),c.uN.push(e.Address/2));c.O_=d.loc;c.O0=d.ranges}f.Gx=function(a,b){var c="0000000000000000"+a;return c.substr(c.length-b)};V.ea.pH=function(a){for(a=a.toString(2);16>a.length;)a="0"+a;return a=a.substring(a.length-16,a.length)};V.ea.e2=function(a){var b,c="1"==a[0];b=parseInt(a.substring(1,a.length),2);c&&(b-=Math.pow(2,a.length-1));return b};
function Jl(a){var b=[],c;for(c in a.profile)b.push([c,a.profile[c]]);b.sort(function(a,b){a=a[1];b=b[1];return a<b?-1:a>b?1:0});for(var d=0;d<b.length;d++)c=b[d][0],console.log(c,b[d][1]);a.profile={}};V.Lm=function(a,b,c,d,e){var k=this;V.ea.call(this,a,V.Lm.mv,b,c,d);k.Dl=e;k.OQ=new V.lh(k,k.ma.uv,k.ma.Zu,k.ma.vv,"B");k.D0=new V.lh(k,k.ma.GF,k.ma.dE,k.ma.KF,"C");k.E0=new V.lh(k,k.ma.HF,k.ma.eE,k.ma.LF,"D");k.sS=new V.nm(k,k.ma.Gv,k.ma.Hv,k.ma.Iv,k.ma.pv,k.ma.qv,k.ma.IG,k.ma.GG,k.ma.Ov,k.ma.Mv,k.ma.Nv,0);k.A2=new V.Qr(k,k.ma.BG,k.ma.CG,k.ma.DG,k.ma.EG,k.ma.EE,k.ma.sF,k.ma.tF,k.ma.JG,k.ma.HG,k.ma.gA,k.ma.eA,k.ma.fA,k.ma.QG,1);k.f8=new V.nm(k,k.ma.tW,k.ma.uW,k.ma.EW,k.ma.xV,k.ma.yV,k.ma.KW,k.ma.HW,
k.ma.WW,k.ma.UW,k.ma.VW,2);k.F8=new V.$n(k,k.ma.kX,k.ma.lX,k.ma.mX,k.ma.hX,k.ma.gX,k.ma.vX,k.ma.RG,k.ma.TG,k.ma.SG);k.MX=new V.Pr(k,k.ma.Dh,k.ma.Df,k.ma.lm,k.ma.km,k.ma.kh,k.ma.Bo,k.ma.fl);k.DZ=new V.Zn(k,k.ma.jv,k.ma.il,k.ma.sv,k.ma.nl);k.M2=new V.Yn(k,k.ma.qp,k.ma.ii,k.ma.Cm,k.ma.kk,k.ma.Bs,k.ma.Kv,k.ma.LG);k.PU=new V.Su(k,k.ma.oE,k.ma.mE,k.ma.lE,k.ma.Do,k.ma.dk,k.ma.pE);new V.be(k,"MCUCR",k.ma.tm,{write:function(a,b,c){a=c>>4&1;var d=this.Ua.get("PUD");d&&d.jg(new V.Mc(X(k),1),a);this.memory[b]=
c}});new V.be(k,"SREG",k.ma.ys);new V.be(k,"SPH",k.ma.Ev);new V.be(k,"SPL",k.ma.kp);new V.be(k,"GPIOR2",k.ma.hv);new V.be(k,"GPIOR1",k.ma.gv);new V.be(k,"GPIOR0",k.ma.fv)};V.Lm.prototype=inherit(V.ea.prototype);V.Lm.prototype.constructor=V.Lm;
V.Lm.mv={Bn:16384,fq:2304,oE:1024,qu:16383,Az:255,sf:26,We:28,Wc:30,kp:93,Ev:94,ys:95,Ez:84,tm:85,fv:62,gv:74,hv:75,uv:35,Zu:36,vv:37,GF:38,dE:39,KF:40,HF:41,eE:42,LF:43,Gv:68,Hv:69,Iv:70,pv:71,qv:72,IG:110,GG:53,BG:128,CG:129,DG:130,EG:132,EE:134,sF:136,tF:138,JG:111,HG:54,tW:176,uW:177,EW:178,xV:179,yV:180,KW:112,HW:55,kX:192,lX:193,mX:194,hX:196,gX:197,vX:198,lm:120,km:121,Df:122,kh:123,Dh:124,Bo:126,lE:66,mE:65,Do:64,dk:63,vm:59,ek:60,gl:61,rm:105,Uo:104,Mi:107,Ni:108,di:109,qp:184,Cm:185,Bs:186,
kk:187,ii:188,Kv:189,Ov:32,Mv:28,Nv:30,gA:26,eA:22,fA:24,QG:20,WW:18,UW:14,VW:16,RG:36,TG:38,SG:40,fl:42,pE:44,LG:48,jv:{0:2,1:4},il:{0:"D_2",1:"D_3"},sv:{0:6,1:8,2:10},nl:{0:"B_0",1:"B_1",2:"B_2",3:"B_3",4:"B_4",5:"B_5",6:"B_6",7:"B_7",8:"C_0",9:"C_1",10:"C_2",11:"C_3",12:"C_4",13:"C_5",14:"C_6",16:"D_0",17:"D_1",18:"D_2",19:"D_3",20:"D_4",21:"D_5",22:"D_6",23:"D_7"},qL:1.1,Uy:[2,2,4,8,16,32,64,128],zD:{0:"C_0",1:"C_1",2:"C_2",3:"C_3",4:"C_4",5:"C_5",6:"ADC_6",7:"ADC_7",8:"_temp",14:"_1V1",15:"_gnd"},
MG:{hc:"C_4",nb:"C_5"},YG:{ki:"D_1",Pi:"D_0"}};V.gt=function(a,b,c,d,e){var k=this;V.ea.call(this,a,V.gt.mv,b,c,d);k.Dl=e;k.OQ=new V.lh(k,k.ma.uv,k.ma.Zu,k.ma.vv,"B");k.D0=new V.lh(k,k.ma.GF,k.ma.dE,k.ma.KF,"C");k.E0=new V.lh(k,k.ma.HF,k.ma.eE,k.ma.LF,"D");k.B7=new V.lh(k,k.ma.$V,k.ma.wT,k.ma.bW,"E");k.C7=new V.lh(k,k.ma.aW,k.ma.xT,k.ma.cW,"F");k.sS=new V.nm(k,k.ma.Gv,k.ma.Hv,k.ma.Iv,k.ma.pv,k.ma.qv,k.ma.IG,k.ma.GG,k.ma.Ov,k.ma.Mv,k.ma.Nv,0);k.A2=new V.Qr(k,k.ma.BG,k.ma.CG,k.ma.DG,k.ma.EG,k.ma.EE,k.ma.sF,k.ma.tF,k.ma.JG,k.ma.HG,k.ma.gA,k.ma.eA,
k.ma.fA,k.ma.QG,1);k.g8=new V.Qr(k,k.ma.vW,k.ma.wW,k.ma.xW,k.ma.FW,k.ma.bV,k.ma.zV,k.ma.AV,k.ma.LW,k.ma.IW,k.ma.$W,k.ma.YW,k.ma.ZW,k.ma.XW,3);k.h8=new V.Zy(k,k.ma.yW,k.ma.zW,k.ma.AW,k.ma.BW,k.ma.DW,k.ma.GW,0,k.ma.BV,k.ma.CV,k.ma.DV,k.ma.EV,k.ma.MW,k.ma.JW,k.ma.BT,k.ma.aX,k.ma.bX,k.ma.cX,k.ma.eX,k.ma.dX,4);k.G8=new V.$n(k,k.ma.nX,k.ma.oX,k.ma.pX,k.ma.jX,k.ma.iX,k.ma.wX,k.ma.RG,k.ma.TG,k.ma.SG);k.MX=new V.Pr(k,k.ma.Dh,k.ma.Df,k.ma.lm,k.ma.km,k.ma.kh,k.ma.Bo,k.ma.fl);k.H8=new V.ak(k,k.ma.EX,k.ma.DX);
k.DZ=new V.Zn(k,k.ma.jv,k.ma.il,k.ma.sv,k.ma.nl);k.M2=new V.Yn(k,k.ma.qp,k.ma.ii,k.ma.Cm,k.ma.kk,k.ma.Bs,k.ma.Kv,k.ma.LG);k.PU=new V.Su(k,k.ma.oE,k.ma.mE,k.ma.lE,k.ma.Do,k.ma.dk,k.ma.pE);new V.be(k,"MCUCR",k.ma.tm,{write:function(a,b,c){a=c>>4&1;var d=this.Ua.get("PUD");d&&d.jg(new V.Mc(X(k),1),a);this.memory[b]=c}});new V.be(k,"PLLCSR",k.ma.IF,{write:function(a,b,c){c&2&&(c|=1);this.memory[b]=c}});new V.be(k,"SREG",k.ma.ys);new V.be(k,"SPH",k.ma.Ev);new V.be(k,"SPL",k.ma.kp);new V.be(k,"GPIOR2",
k.ma.hv);new V.be(k,"GPIOR1",k.ma.gv);new V.be(k,"GPIOR0",k.ma.fv)};V.gt.prototype=inherit(V.ea.prototype);V.gt.prototype.constructor=V.gt;
V.gt.mv={Bn:16384,fq:2816,oE:1024,qu:65535,Az:255,sf:26,We:28,Wc:30,kp:93,Ev:94,ys:95,Ez:84,tm:85,fv:62,gv:74,hv:75,uv:35,Zu:36,vv:37,GF:38,dE:39,KF:40,HF:41,eE:42,LF:43,$V:44,wT:45,bW:46,aW:47,xT:48,cW:49,Gv:68,Hv:69,Iv:70,pv:71,qv:72,IG:110,GG:53,BG:128,CG:129,DG:130,EG:132,EE:134,sF:136,tF:138,v5:140,JG:111,HG:54,vW:144,wW:145,xW:146,FW:148,bV:150,zV:152,AV:154,w5:156,LW:113,IW:56,yW:192,zW:193,AW:194,BW:195,DW:196,GW:190,S5:191,BV:207,CV:208,DV:209,EV:210,MW:114,JW:57,BT:212,nX:200,oX:201,pX:202,
jX:204,iX:205,wX:206,lm:120,km:121,Df:122,kh:123,Dh:124,Bo:126,n4:127,o4:125,lE:66,mE:65,Do:64,dk:63,vm:59,ek:60,gl:61,Uo:104,rm:105,bs:106,Mi:107,IF:73,kA:215,rl:216,Rv:217,mA:218,ql:224,nh:225,VG:226,rX:227,tX:228,sX:229,uX:230,Ms:232,ok:233,Qv:234,Js:235,Gs:236,Is:237,Ns:238,Os:239,Ls:240,Ks:241,Fs:242,Pv:243,Hh:244,qp:184,Cm:185,Bs:186,kk:187,ii:188,Kv:189,Ov:46,Mv:42,Nv:44,gA:40,eA:34,fA:36,a6:38,QG:32,$W:70,YW:64,ZW:66,b6:68,XW:62,aX:76,bX:78,cX:80,eX:82,dX:84,RG:50,TG:52,SG:54,fl:58,pE:60,
LG:72,EX:20,DX:22,jv:{0:2,1:4,2:6,3:8,6:14},il:{0:"D_0",1:"D_1",2:"D_2",3:"D_3",6:"E_6"},sv:{0:18},nl:{0:"B_0",1:"B_1",2:"B_2",3:"B_3",4:"B_4",5:"B_5",6:"B_6",7:"B_7"},qL:2.56,Uy:[2,2,4,8,16,32,64,128],zD:{0:"F_0",1:"F_1",4:"F_4",5:"F_5",6:"F_6",7:"F_7",30:"_1V1",31:"_gnd",32:"D_4",33:"D_6",34:"D_7",35:"B_4",36:"B_5",37:"B_6",39:"_temp"},MG:{hc:"D_1",nb:"D_0"},YG:{ki:"D_3",Pi:"D_2"}};V.Or=function(a){this.Fa=a;this.kP=a.status.nM;this.un=[];this.queue=new hb;this.u_=new w};V.Or.prototype.reset=function(){for(;!this.queue.isEmpty();)this.queue.pop().tK.cancel();this.un=[]};
V.Or.prototype.ej=function(){for(;!this.queue.isEmpty()&&this.queue.top().OH<=this.Fa.Ga;){var a=this.queue.pop();a.tK.ay||(a.tK.cancel(),-1==this.un.indexOf(a.Yt)&&(a.Yt.RB(1),this.un.push(a.Yt),this.un.sort(function(a,b){return a.xb-b.xb})),0<a.Yt.su&&Kl(a.Yt,a.OH+a.Yt.su))}for(a=0;a<this.un.length;a++){var b=this.un[a];if(b.RB()){if(this.kP()&&b.TO()){var c=this.Fa.Ng();this.Fa.Ca[c]=this.Fa.$b&255;this.Fa.Ca[c-1]=this.Fa.$b>>8&255;this.Fa.Ng(c-2);this.Fa.Ga+=2;this.Fa.$b=b.xb;this.kP(0);b.DY&&
(b.RB(0),this.un.splice(a,1));break}}else this.un.splice(a,1),a--}};function Ll(a,b,c,d,e){if(!d){var k=0;d=function(a){if(void 0!==a)k=a;else return k}}c=new V.Or.uM(a,b,c,d,!e);a.u_.put(b,c);return c}V.Or.uM=function(a,b,c,d,e){var k=this;this.XZ=a;this.Fa=a.Fa;this.xb=b;this.TO=c;this.RB=d;this.DY=e;this.su=-1;this.yi=new V.ta(this.Fa.mb,"Interrupt_"+b);this.yi.Ok.add([this,function(){k.Fa.An.setValue(0,!0)}]);this.Fa.fb&&(this.yi.debug=!0)};function Ml(a,b,c){a.su=c||-1;Kl(a,a.Fa.Ga+b)}
function Nl(a){a.su=-1;var b=Math.max(Dl(a.Fa,a.Fa.mb.time.add(0).time),a.Fa.Ga);Kl(a,b)}function Kl(a,b){var c=a.yi.jg(new V.Mc(El(a.Fa,b),0),!0);a.XZ.queue.push({tK:c,OH:b,Yt:a},b)}V.Or.uM.prototype.cancel=function(){Tk(this.yi,new V.Mc(X(this.Fa),0))};V.ea.prototype.QB={qF:function(){},qE:function(a,b){var c=a.Ca[b.arguments.d]^a.Ca[b.arguments.r];a.Ca[b.arguments.d]=c;a.status.gd(0==c);a.status.Sb(0!=(c&128));a.status.cc(0);a.status.Sd(a.status.Sb()^a.status.cc())},ZD:function(a,b){var c=a.Ca[b.arguments.d],d=a.Ca[b.arguments.r],e=c-d;a.status.gd(0==e);a.status.Sb(0!=(e&128));a.status.cc(0!=((c^d)&(c^e)&128));a.status.Sd(a.status.Sb()^a.status.cc());a.status.Oc(d>c);a.status.Fi((~c&d|d&e|e&~c)&1)},aE:function(a,b){var c=a.Ca[b.arguments.d+16],
d=b.arguments.k,e=c-d;a.status.gd(0==e);a.status.Sb(0!=(e&128));a.status.cc(0!=((c^d)&(c^e)&128));a.status.Sd(a.status.Sb()^a.status.cc());a.status.Oc(d>c);a.status.Fi((~c&d|d&e|e&~c)&1)},$D:function(a,b){var c=a.Ca[b.arguments.d],d=a.Ca[b.arguments.r],e=c-d-a.status.Oc();a.status.gd(0==e&a.status.gd());a.status.Sb(0!=(e&128));a.status.cc(0!=((c^d)&(c^e)&128));a.status.Sd(a.status.Sb()^a.status.cc());a.status.Oc(d+a.status.Oc()>c);a.status.Fi((~c&d|d&e|e&~c)&1)},GE:function(a,b){var c=a.Ca[b.arguments.d],
d=c+1&255;a.Ca[b.arguments.d]=d;a.status.gd(0==d);a.status.Sb(0!=(d&128));a.status.cc(127==c);a.status.Sd(a.status.Sb()^a.status.cc())},hE:function(a,b){var c=a.Ca[b.arguments.d],d=c-1;a.Ca[b.arguments.d]=d;a.status.gd(0==d);a.status.Sb(0!=(d&128));a.status.cc(128==c);a.status.Sd(a.status.Sb()^a.status.cc())},AD:function(a,b){var c=a.Ca[b.arguments.d],d=a.Ca[b.arguments.r],e=c+d&255;a.Ca[b.arguments.d]=e;a.status.gd(0==e);a.status.Sb(0!=(e&128));a.status.cc(0!=((e^d)&(e^c)&128));a.status.Sd(a.status.Sb()^
a.status.cc());a.status.Oc(0!=(c+d&256));a.status.Fi((c&d|d&~e|~e&c)&1)},fl:function(a,b){var c=a.Ca[b.arguments.d],d=a.Ca[b.arguments.r],e=c+d+a.status.Oc()&255;a.Ca[b.arguments.d]=e;a.status.gd(0==e);a.status.Sb(0!=(e&128));a.status.cc(0!=((e^d)&(c^e)&128));a.status.Sd(a.status.Sb()^a.status.cc());a.status.Oc(0!=(c+d+a.status.Oc()&256));a.status.Fi((c&d|d&~e|~e&c)&1)},XF:function(a,b){var c=a.Ca[b.arguments.d],d=a.Ca[b.arguments.r],e=c-d-a.status.Oc();a.Ca[b.arguments.d]=e;a.status.gd(0==e&a.status.gd());
a.status.Sb(0!=(e&128));a.status.cc(0!=((c^d)&(c^e)&128));a.status.Sd(a.status.Sb()^a.status.cc());a.status.Oc(d+a.status.Oc()>c);a.status.Fi((~c&d|d&e|e&~c)&1)},YF:function(a,b){var c=a.Ca[b.arguments.d+16],d=b.arguments.k,e=c-d-a.status.Oc();a.Ca[b.arguments.d+16]=e;a.status.gd(0==e&a.status.gd());a.status.Sb(0!=(e&128));a.status.cc(0!=((c^d)&(c^e)&128));a.status.Sd(a.status.Sb()^a.status.cc());a.status.Oc(d+a.status.Oc()>c);a.status.Fi((~c&d|d&e|e&~c)&1)},xG:function(a,b){var c=a.Ca[b.arguments.d],
d=a.Ca[b.arguments.r],e=c-d;a.Ca[b.arguments.d]=e;a.status.gd(0==e);a.status.Sb(0!=(e&128));a.status.cc(0!=((c^d)&(c^e)&128));a.status.Sd(a.status.Sb()^a.status.cc());a.status.Oc(d>c);a.status.Fi((~c&d|d&e|e&~c)&1)},yG:function(a,b){var c=a.Ca[b.arguments.d+16],d=b.arguments.k,e=c-d;a.Ca[b.arguments.d+16]=e;a.status.gd(0==e);a.status.Sb(0!=(e&128));a.status.cc(0!=((c^d)&(c^e)&128));a.status.Sd(a.status.Sb()^a.status.cc());a.status.Oc(d>c);a.status.Fi((~c&d|d&e|e&~c)&1)},bG:function(a,b){var c=[24,
26,28,30][b.arguments.d],d=a.Ne.getUint16(c,!0),e=b.arguments.k;if(1==e&&a.Qx[a.$b+1].vJ==V.ea.CP.get(V.ea.prototype.QB.cz)&&-2==a.Qx[a.$b+1].arguments.t&&1==a.Qx[a.$b+1].arguments.s)Fl(a,a.Ga+4*d,function(b){b=Math.round((b-a.Ga)/2);var e=Math.round(b/2),k=d-e;a.Ne.setUint16(c,k,!0);a.status.gd(0==k);a.status.Sb(0!=(k&32768));a.status.cc(0!=(d&~k&32768));a.status.Sd(a.status.Sb()^a.status.cc());a.status.Oc(e>d);a.status.Fi((~d&e|e&k|k&~d)&1);a.Ga+=2*b-1;0==b%2&&(0<k?--a.$b:a.$b+=1)});else{var k=
d-e;a.Ne.setUint16(c,k,!0);a.status.gd(0==k);a.status.Sb(0!=(k&32768));a.status.cc(0!=(d&~k&32768));a.status.Sd(a.status.Sb()^a.status.cc());a.status.Oc(e>d);a.status.Fi((~d&e|e&k|k&~d)&1);a.Ga+=1}},ZF:function(a,b){Hl(a,b.arguments.a+32,function(c){c|=1<<b.arguments.b;Gl(a,b.arguments.a+32,c,function(){a.Ga+=1})})},WD:function(a,b){var c=255-a.Ca[b.arguments.d];a.Ca[b.arguments.d]=c;a.status.gd(0==c);a.status.Sb(0!=(c&128));a.status.cc(0);a.status.Sd(a.status.Sb()^a.status.cc());a.status.Oc(1)},
ED:function(a,b){var c=a.Ca[b.arguments.d]&a.Ca[b.arguments.r];a.Ca[b.arguments.d]=c;a.status.gd(0==c);a.status.Sb(0!=(c&128));a.status.cc(0);a.status.Sd(a.status.Sb()^a.status.cc())},FD:function(a,b){var c=a.Ca[b.arguments.d+16]&b.arguments.k;a.Ca[b.arguments.d+16]=c;a.status.gd(0==c);a.status.Sb(0!=(c&128));a.status.cc(0);a.status.Sd(a.status.Sb()^a.status.cc())},wF:function(a,b){var c=a.Ca[b.arguments.d]|a.Ca[b.arguments.r];a.Ca[b.arguments.d]=c;a.status.gd(0==c);a.status.Sb(0!=(c&128));a.status.cc(0);
a.status.Sd(a.status.Sb()^a.status.cc())},xF:function(a,b){var c=a.Ca[b.arguments.d+16]|b.arguments.k;a.Ca[b.arguments.d+16]=c;a.status.gd(0==c);a.status.Sb(0!=(c&128));a.status.cc(0);a.status.Sd(a.status.Sb()^a.status.cc())},SF:function(a,b){a.$b+=b.arguments.t;a.Ga+=1},NE:function(a,b){a.$b=b.arguments.k-1;a.Ga+=2},RE:function(a,b){a.Ca[b.arguments.d+16]=b.arguments.k},ns:function(a,b){Gl(a,b.arguments.A+32,a.Ca[b.arguments.r])},iv:function(a,b){Hl(a,b.arguments.A+32,function(c){a.Ca[b.arguments.d]=
c})},aG:function(a,b){Hl(a,b.arguments.a+32,function(c){0!=(c&1<<b.arguments.b)&&(a.$b+=1,a.Ga+=1)})},$F:function(a,b){Hl(a,b.arguments.a+32,function(c){0==(c&1<<b.arguments.b)&&(a.$b+=1,a.Ga+=1)})},eG:function(a,b){0!=(a.Ca[b.arguments.r]&1<<b.arguments.b)&&(a.$b+=1,a.Ga+=1)},dG:function(a,b){0==(a.Ca[b.arguments.r]&1<<b.arguments.b)&&(a.$b+=1,a.Ga+=1)},cz:function(a,b){V.ja.cR(a.ei,b.arguments.s)||(a.$b+=b.arguments.t,a.Ga+=1)},OD:function(a,b){V.ja.cR(a.ei,b.arguments.s)&&(a.$b+=b.arguments.t,
a.Ga+=1)},PD:function(a,b){V.ja.oT(a.ei,b.arguments.s,1)},KD:function(a,b){V.ja.oT(a.ei,b.arguments.s,0)},SE:function(a,b){Hl(a,b.arguments.k,function(c){a.Ca[b.arguments.d]=c;a.$b+=1;a.Ga+=1})},rV:function(a,b){Hl(a,b.arguments.k&15|(b.arguments.k&224)>>>1|(b.arguments.k&16)<<2|(~b.arguments.k&16)<<3,function(c){a.Ca[b.arguments.d+16]=c})},iF:function(a,b){a.Ca[b.arguments.d]=a.Ca[b.arguments.r]},jF:function(a,b){a.Ca[2*b.arguments.d]=a.Ca[2*b.arguments.r];a.Ca[2*b.arguments.d+1]=a.Ca[2*b.arguments.r+
1]},dF:function(a){var b=a.Wc();a.Ca[0]=a.wC[b];a.Ga+=2},eF:function(a,b){var c=a.Wc();a.Ca[b.arguments.d]=a.wC[c];a.Ga+=2},fF:function(a,b){var c=a.Wc();a.Ca[b.arguments.d]=a.wC[c];a.Wc(c+1);a.Ga+=2},MF:function(a,b){var c=a.Ng();a.Ca[c]=a.Ca[b.arguments.d];a.Ng(c-1);a.Ga+=1},JF:function(a,b){var c=a.Ng()+1;a.Ng(c);a.Ca[b.arguments.d]=a.Ca[c];a.Ga+=1},QF:function(a){var b=a.Ng()+2;a.Ng(b);a.$b=(a.Ca[b-1]<<8)+a.Ca[b]-1;a.Ga+=4},RD:function(a,b){var c=b.arguments.k,d=a.$b+2,e=a.Ng();a.Ca[e]=d&255;
a.Ca[e-1]=d>>8&255;a.Ng(e-2);a.$b=c-1;a.Ga+=4},TE:function(a,b){Hl(a,a.sf(),function(c){a.Ca[b.arguments.d]=c})},UE:function(a,b){Hl(a,a.sf(),function(c){a.Ca[b.arguments.d]=c;a.sf(a.sf()+1);a.Ga+=1})},VE:function(a,b){a.sf(a.sf()-1);Hl(a,a.sf(),function(c){a.Ca[b.arguments.d]=c;a.sf(a.sf()+1);a.Ga+=2})},WE:function(a,b){Hl(a,a.We(),function(c){a.Ca[b.arguments.d]=c})},XE:function(a,b){Hl(a,a.We(),function(c){a.Ca[b.arguments.d]=c;a.We(a.We()+1);a.Ga+=1})},YE:function(a,b){a.We(a.We()-1);Hl(a,a.We(),
function(c){a.Ca[b.arguments.d]=c;a.We(a.We()+1);a.Ga+=2})},ZE:function(a,b){var c=b.arguments.q;Hl(a,a.We()+c,function(c){a.Ca[b.arguments.d]=c;a.Ga+=2})},$E:function(a,b){Hl(a,a.Wc(),function(c){a.Ca[b.arguments.d]=c})},aF:function(a,b){Hl(a,a.Wc(),function(c){a.Ca[b.arguments.d]=c;a.Wc(a.Wc()+1);a.Ga+=1})},bF:function(a,b){a.Wc(a.Wc()-1);Hl(a,a.Wc(),function(c){a.Ca[b.arguments.d]=c;a.Wc(a.Wc()+1);a.Ga+=2})},cF:function(a,b){var c=b.arguments.q;Hl(a,a.Wc()+c,function(c){a.Ca[b.arguments.d]=c;a.Ga+=
2})},mG:function(a,b){var c=a.Ca[b.arguments.r];Gl(a,a.sf(),c)},nG:function(a,b){var c=a.Ca[b.arguments.r];Gl(a,a.sf(),c,function(){a.sf(a.sf()+1)})},oG:function(a,b){var c=a.Ca[b.arguments.r];a.sf(a.sf()-1);Gl(a,a.sf(),c,function(){a.Ga+=1})},pG:function(a,b){var c=a.Ca[b.arguments.r];Gl(a,a.We(),c)},qG:function(a,b){var c=a.Ca[b.arguments.r];Gl(a,a.We(),c,function(){a.We(a.We()+1)})},rG:function(a,b){var c=a.Ca[b.arguments.r];a.We(a.We()-1);Gl(a,a.We(),c,function(){a.Ga+=1})},sG:function(a,b){var c=
a.Ca[b.arguments.r],d=b.arguments.q;Gl(a,a.We()+d,c,function(){a.Ga+=1})},tG:function(a,b){var c=a.Ca[b.arguments.r];Gl(a,a.Wc(),c)},uG:function(a,b){var c=a.Ca[b.arguments.r];Gl(a,a.Wc(),c,function(){a.Wc(a.Wc()+1)})},vG:function(a,b){var c=a.Ca[b.arguments.r];a.Wc(a.Wc()-1);Gl(a,a.Wc(),c,function(){a.Ga+=1})},wG:function(a,b){var c=a.Ca[b.arguments.r],d=b.arguments.q;Gl(a,a.Wc()+d,c,function(){a.Ga+=1})},lG:function(a,b){Gl(a,b.arguments.k,a.Ca[b.arguments.d],function(){a.$b+=1;a.Ga+=1})},rW:function(a,
b){Gl(a,b.arguments.k&15|(b.arguments.k&224)>>>1|(b.arguments.k&16)<<2|(~b.arguments.k&16)<<3,a.Ca[b.arguments.d+16])},kF:function(a,b){var c=a.Ca[b.arguments.d]*a.Ca[b.arguments.r];a.Ne.setUint16(0,c,!0);a.status.gd(0==(c&65535));a.status.Oc(0!=(c&32768));a.Ga+=1},lF:function(a,b){var c=a.Ne.getInt8(b.arguments.d+16),d=a.Ne.getInt8(b.arguments.r+16),c=c*d;a.Ne.setInt16(0,c,!0);a.status.gd(0==(c&65535));a.status.Oc(0!=(c&32768));a.Ga+=1},mF:function(a,b){var c=a.Ne.getInt8(b.arguments.d+16),d=a.Ne.getUint8(b.arguments.r+
16),c=c*d;a.Ne.setInt16(0,c,!0);a.status.gd(0==(c&65535));a.status.Oc(0!=(c&32768));a.Ga+=1},sE:function(a,b){var c=a.Ca[b.arguments.d+16],d=a.Ca[b.arguments.r+16],e=c*d<<1;a.Ne.setUint16(0,e,!0);a.status.gd(0==(e&65535));a.status.Oc(0!=(c*d&32768));a.Ga+=1},tE:function(a,b){var c=a.Ne.getInt8(b.arguments.d+16),d=a.Ne.getInt8(b.arguments.r+16),e=c*d<<1;a.Ne.setInt16(0,e,!0);a.status.gd(0==(e&65535));a.status.Oc(0!=(c*d&32768));a.Ga+=1},uE:function(a,b){var c=a.Ne.getInt8(b.arguments.d+16),d=a.Ne.getUint8(b.arguments.r+
16),e=c*d<<1;a.Ne.setInt16(0,e,!0);a.status.gd(0==(e&65535));a.status.Oc(0!=(c*d&32768));a.Ga+=1},nF:function(a,b){var c=a.Ca[b.arguments.d],d=0-c;a.Ca[b.arguments.d]=d;a.status.gd(0==d);a.status.Sb(0!=(d&128));a.status.cc(128==d);a.status.Sd(a.status.Sb()^a.status.cc());a.status.Oc(0!=d);a.status.Fi((d|c)&1)},zG:function(a,b){var c=a.Ca[b.arguments.d];a.Ca[b.arguments.d]=(c&15)<<4|(c&240)>>>4},aH:function(a,b){var c=a.Ca[b.arguments.d],d=a.Ca[a.Wc()];a.Ca[a.Wc()]=c;a.Ca[b.arguments.d]=d},cG:function(a,
b){var c=a.Ca[b.arguments.d+16]|b.arguments.k;a.Ca[b.arguments.d+16]=c;a.status.gd(0==c);a.status.Sb(0!=(c&128));a.status.cc(0);a.status.Sd(a.status.Sb()^a.status.cc())},OF:function(a,b){var c=b.arguments.t,d=a.$b+1,e=a.Ng();a.Ca[e]=d&255;a.Ca[e-1]=d>>8&255;a.Ng(e-2);a.$b+=c;a.Ga+=3},CE:function(a){var b=a.$b+1,c=a.Ng();a.Ca[c]=b&255;a.Ca[c-1]=b>>8&255;a.Ng(c-2);a.$b=a.Wc()-1;a.Ga+=3},FE:function(a){a.$b=a.Wc()-1;a.Ga+=1},CD:function(a,b){var c=[24,26,28,30][b.arguments.d],d=a.Ne.getUint16(c,!0),
e=d+b.arguments.k&65535;a.Ne.setUint16(c,e,!0);a.status.gd(0==e);a.status.Sb(0!=(e&32768));a.status.cc(0!=(~d&e&32768));a.status.Sd(a.status.Sb()^a.status.cc());a.status.Oc(0!=(~e&d&32768));a.Ga+=1},RF:function(a){var b=a.Ng()+2;a.Ng(b);a.$b=(a.Ca[b-1]<<8)+a.Ca[b]-1;a.Ga+=4;a.status.nM(1)},QD:function(a,b){a.status.aN(a.Ca[b.arguments.d]>>b.arguments.b&1)},MD:function(a,b){var c=b.arguments.b;a.Ca[b.arguments.d]=~(1<<c)&a.Ca[b.arguments.d]|a.status.aN()<<c},SD:function(a,b){Hl(a,b.arguments.A+32,
function(c){Gl(a,b.arguments.A+32,c&~(1<<b.arguments.b))})},bE:function(a,b){a.Ca[b.arguments.d]==a.Ca[b.arguments.r]&&(a.$b+=1,a.Ga+=1)},OE:function(a,b){Hl(a,a.Wc(),function(c){var d=a.Ca[b.arguments.r];Gl(a,a.Wc(),d&255-c)})},PE:function(a,b){Hl(a,a.Wc(),function(c){var d=a.Ca[b.arguments.r];Gl(a,a.Wc(),d|c,function(){a.Ca[b.arguments.r]=c})})},QE:function(a,b){Hl(a,a.Wc(),function(c){var d=a.Ca[b.arguments.r];Gl(a,a.Wc(),d^c,function(){a.Ca[b.arguments.r]=c})})},GD:function(a,b){var c=a.Ca[b.arguments.d],
d=c>>>1|c&128;a.Ca[b.arguments.d]=d;a.status.gd(0==d);a.status.Sb(0!=(d&128));a.status.Oc(c&1);a.status.cc(a.status.Sb()^a.status.Oc());a.status.Sd(a.status.Sb()^a.status.cc())},gF:function(a,b){var c=a.Ca[b.arguments.d],d=c>>>1;a.Ca[b.arguments.d]=d;a.status.gd(0==d);a.status.Sb(0);a.status.Oc(c&1);a.status.cc(a.status.Sb()^a.status.Oc());a.status.Sd(a.status.Sb()^a.status.cc())},TF:function(a,b){var c=a.Ca[b.arguments.d],d=c>>>1|a.status.Oc()<<7;a.Ca[b.arguments.d]=d;a.status.gd(0==d);a.status.Sb(0!=
(d&128));a.status.Oc(c&1);a.status.cc(a.status.Sb()^a.status.Oc());a.status.Sd(a.status.Sb()^a.status.cc())},ZG:function(){},iG:function(a){Jl(a);debugger}};V.ea.CP=new w;for(var kc in V.ea.prototype.QB)V.ea.CP.put(V.ea.prototype.QB[kc],kc);V.ea.Ba=0;
V.ea.ra={fl:V.ea.Ba++,AD:V.ea.Ba++,CD:V.ea.Ba++,ED:V.ea.Ba++,FD:V.ea.Ba++,GD:V.ea.Ba++,KD:V.ea.Ba++,MD:V.ea.Ba++,cz:V.ea.Ba++,OD:V.ea.Ba++,B3:V.ea.Ba++,C3:V.ea.Ba++,D3:V.ea.Ba++,E3:V.ea.Ba++,F3:V.ea.Ba++,G3:V.ea.Ba++,H3:V.ea.Ba++,I3:V.ea.Ba++,J3:V.ea.Ba++,K3:V.ea.Ba++,L3:V.ea.Ba++,M3:V.ea.Ba++,N3:V.ea.Ba++,O3:V.ea.Ba++,P3:V.ea.Ba++,Q3:V.ea.Ba++,R3:V.ea.Ba++,S3:V.ea.Ba++,T3:V.ea.Ba++,PD:V.ea.Ba++,QD:V.ea.Ba++,RD:V.ea.Ba++,U3:V.ea.Ba++,SD:V.ea.Ba++,W3:V.ea.Ba++,X3:V.ea.Ba++,Y3:V.ea.Ba++,Z3:V.ea.Ba++,
a4:V.ea.Ba++,b4:V.ea.Ba++,c4:V.ea.Ba++,d4:V.ea.Ba++,e4:V.ea.Ba++,f4:V.ea.Ba++,WD:V.ea.Ba++,ZD:V.ea.Ba++,$D:V.ea.Ba++,aE:V.ea.Ba++,bE:V.ea.Ba++,hE:V.ea.Ba++,m4:V.ea.Ba++,M4:V.ea.Ba++,N4:V.ea.Ba++,Q4:V.ea.Ba++,R4:V.ea.Ba++,S4:V.ea.Ba++,qE:V.ea.Ba++,sE:V.ea.Ba++,tE:V.ea.Ba++,uE:V.ea.Ba++,CE:V.ea.Ba++,FE:V.ea.Ba++,iv:V.ea.Ba++,GE:V.ea.Ba++,NE:V.ea.Ba++,OE:V.ea.Ba++,PE:V.ea.Ba++,QE:V.ea.Ba++,RE:V.ea.Ba++,SE:V.ea.Ba++,rV:V.ea.Ba++,TE:V.ea.Ba++,UE:V.ea.Ba++,VE:V.ea.Ba++,WE:V.ea.Ba++,XE:V.ea.Ba++,YE:V.ea.Ba++,
ZE:V.ea.Ba++,$E:V.ea.Ba++,aF:V.ea.Ba++,bF:V.ea.Ba++,cF:V.ea.Ba++,dF:V.ea.Ba++,eF:V.ea.Ba++,fF:V.ea.Ba++,k5:V.ea.Ba++,gF:V.ea.Ba++,iF:V.ea.Ba++,jF:V.ea.Ba++,kF:V.ea.Ba++,lF:V.ea.Ba++,mF:V.ea.Ba++,nF:V.ea.Ba++,qF:V.ea.Ba++,wF:V.ea.Ba++,xF:V.ea.Ba++,ns:V.ea.Ba++,JF:V.ea.Ba++,MF:V.ea.Ba++,OF:V.ea.Ba++,QF:V.ea.Ba++,RF:V.ea.Ba++,SF:V.ea.Ba++,F5:V.ea.Ba++,TF:V.ea.Ba++,XF:V.ea.Ba++,YF:V.ea.Ba++,ZF:V.ea.Ba++,$F:V.ea.Ba++,aG:V.ea.Ba++,bG:V.ea.Ba++,cG:V.ea.Ba++,dG:V.ea.Ba++,eG:V.ea.Ba++,H5:V.ea.Ba++,I5:V.ea.Ba++,
J5:V.ea.Ba++,K5:V.ea.Ba++,L5:V.ea.Ba++,M5:V.ea.Ba++,N5:V.ea.Ba++,O5:V.ea.Ba++,P5:V.ea.Ba++,iG:V.ea.Ba++,LM:V.ea.Ba++,MM:V.ea.Ba++,lG:V.ea.Ba++,rW:V.ea.Ba++,mG:V.ea.Ba++,nG:V.ea.Ba++,oG:V.ea.Ba++,pG:V.ea.Ba++,qG:V.ea.Ba++,rG:V.ea.Ba++,sG:V.ea.Ba++,tG:V.ea.Ba++,uG:V.ea.Ba++,vG:V.ea.Ba++,wG:V.ea.Ba++,xG:V.ea.Ba++,yG:V.ea.Ba++,zG:V.ea.Ba++,Y5:V.ea.Ba++,ZG:V.ea.Ba++,aH:V.ea.Ba++};V.ea.sM=new w;for(kc in V.ea.ra)V.ea.sM.put(V.ea.ra[kc],kc);V.ea.Qa={};V.ea.Qa[V.ea.ra.fl]={Ta:V.ea.ra.fl,pattern:"0001 11rd dddd rrrr"};
V.ea.Qa[V.ea.ra.AD]={Ta:V.ea.ra.AD,pattern:"0000 11rd dddd rrrr"};V.ea.Qa[V.ea.ra.CD]={Ta:V.ea.ra.CD,pattern:"1001 0110 kkdd kkkk"};V.ea.Qa[V.ea.ra.ED]={Ta:V.ea.ra.ED,pattern:"0010 00rd dddd rrrr"};V.ea.Qa[V.ea.ra.FD]={Ta:V.ea.ra.FD,pattern:"0111 kkkk dddd kkkk"};V.ea.Qa[V.ea.ra.GD]={Ta:V.ea.ra.GD,pattern:"1001 010d dddd 0101"};V.ea.Qa[V.ea.ra.KD]={Ta:V.ea.ra.KD,pattern:"1001 0100 1sss 1000"};V.ea.Qa[V.ea.ra.MD]={Ta:V.ea.ra.MD,pattern:"1111 100d dddd 0bbb"};V.ea.Qa[V.ea.ra.cz]={Ta:V.ea.ra.cz,pattern:"1111 01tt tttt tsss"};
V.ea.Qa[V.ea.ra.OD]={Ta:V.ea.ra.OD,pattern:"1111 00tt tttt tsss"};V.ea.Qa[V.ea.ra.PD]={Ta:V.ea.ra.PD,pattern:"1001 0100 0sss 1000"};V.ea.Qa[V.ea.ra.QD]={Ta:V.ea.ra.QD,pattern:"1111 101d dddd 0bbb"};V.ea.Qa[V.ea.ra.RD]={Ta:V.ea.ra.RD,pattern:"1001 010k kkkk 111k kkkk kkkk kkkk kkkk"};V.ea.Qa[V.ea.ra.SD]={Ta:V.ea.ra.SD,pattern:"1001 1000 AAAA Abbb"};V.ea.Qa[V.ea.ra.WD]={Ta:V.ea.ra.WD,pattern:"1001 010d dddd 0000"};V.ea.Qa[V.ea.ra.ZD]={Ta:V.ea.ra.ZD,pattern:"0001 01rd dddd rrrr"};
V.ea.Qa[V.ea.ra.$D]={Ta:V.ea.ra.$D,pattern:"0000 01rd dddd rrrr"};V.ea.Qa[V.ea.ra.aE]={Ta:V.ea.ra.aE,pattern:"0011 kkkk dddd kkkk"};V.ea.Qa[V.ea.ra.bE]={Ta:V.ea.ra.bE,pattern:"0001 00rd dddd rrrr"};V.ea.Qa[V.ea.ra.hE]={Ta:V.ea.ra.hE,pattern:"1001 010d dddd 1010"};V.ea.Qa[V.ea.ra.qE]={Ta:V.ea.ra.qE,pattern:"0010 01rd dddd rrrr"};V.ea.Qa[V.ea.ra.sE]={Ta:V.ea.ra.sE,pattern:"0000 0011 0ddd 1rrr"};V.ea.Qa[V.ea.ra.tE]={Ta:V.ea.ra.tE,pattern:"0000 0011 1ddd 0rrr"};V.ea.Qa[V.ea.ra.uE]={Ta:V.ea.ra.uE,pattern:"0000 0011 1ddd 1rrr"};
V.ea.Qa[V.ea.ra.CE]={Ta:V.ea.ra.CE,pattern:"1001 0101 0000 1001"};V.ea.Qa[V.ea.ra.FE]={Ta:V.ea.ra.FE,pattern:"1001 0100 0000 1001"};V.ea.Qa[V.ea.ra.iv]={Ta:V.ea.ra.iv,pattern:"1011 0AAd dddd AAAA"};V.ea.Qa[V.ea.ra.GE]={Ta:V.ea.ra.GE,pattern:"1001 010d dddd 0011"};V.ea.Qa[V.ea.ra.NE]={Ta:V.ea.ra.NE,pattern:"1001 010k kkkk 110k kkkk kkkk kkkk kkkk"};V.ea.Qa[V.ea.ra.OE]={Ta:V.ea.ra.OE,pattern:"1001 001r rrrr 0110"};V.ea.Qa[V.ea.ra.PE]={Ta:V.ea.ra.PE,pattern:"1001 001r rrrr 0101"};
V.ea.Qa[V.ea.ra.QE]={Ta:V.ea.ra.QE,pattern:"1001 001r rrrr 0111"};V.ea.Qa[V.ea.ra.RE]={Ta:V.ea.ra.RE,pattern:"1110 kkkk dddd kkkk"};V.ea.Qa[V.ea.ra.SE]={Ta:V.ea.ra.SE,pattern:"1001 000d dddd 0000 kkkk kkkk kkkk kkkk"};V.ea.Qa[V.ea.ra.TE]={Ta:V.ea.ra.TE,pattern:"1001 000d dddd 1100"};V.ea.Qa[V.ea.ra.UE]={Ta:V.ea.ra.UE,pattern:"1001 000d dddd 1101"};V.ea.Qa[V.ea.ra.VE]={Ta:V.ea.ra.VE,pattern:"1001 000d dddd 1110"};V.ea.Qa[V.ea.ra.WE]={Ta:V.ea.ra.WE,pattern:"1000 000d dddd 1000"};
V.ea.Qa[V.ea.ra.XE]={Ta:V.ea.ra.XE,pattern:"1001 000d dddd 1001"};V.ea.Qa[V.ea.ra.YE]={Ta:V.ea.ra.YE,pattern:"1001 000d dddd 1010"};V.ea.Qa[V.ea.ra.ZE]={Ta:V.ea.ra.ZE,pattern:"10q0 qq0d dddd 1qqq"};V.ea.Qa[V.ea.ra.$E]={Ta:V.ea.ra.$E,pattern:"1000 000d dddd 0000"};V.ea.Qa[V.ea.ra.aF]={Ta:V.ea.ra.aF,pattern:"1001 000d dddd 0001"};V.ea.Qa[V.ea.ra.bF]={Ta:V.ea.ra.bF,pattern:"1001 000d dddd 0010"};V.ea.Qa[V.ea.ra.cF]={Ta:V.ea.ra.cF,pattern:"10q0 qq0d dddd 0qqq"};V.ea.Qa[V.ea.ra.dF]={Ta:V.ea.ra.dF,pattern:"1001 0101 1100 1000"};
V.ea.Qa[V.ea.ra.eF]={Ta:V.ea.ra.eF,pattern:"1001 000d dddd 0100"};V.ea.Qa[V.ea.ra.fF]={Ta:V.ea.ra.fF,pattern:"1001 000d dddd 0101"};V.ea.Qa[V.ea.ra.gF]={Ta:V.ea.ra.gF,pattern:"1001 010d dddd 0110"};V.ea.Qa[V.ea.ra.iF]={Ta:V.ea.ra.iF,pattern:"0010 11rd dddd rrrr"};V.ea.Qa[V.ea.ra.jF]={Ta:V.ea.ra.jF,pattern:"0000 0001 dddd rrrr"};V.ea.Qa[V.ea.ra.kF]={Ta:V.ea.ra.kF,pattern:"1001 11rd dddd rrrr"};V.ea.Qa[V.ea.ra.lF]={Ta:V.ea.ra.lF,pattern:"0000 0010 dddd rrrr"};V.ea.Qa[V.ea.ra.mF]={Ta:V.ea.ra.mF,pattern:"0000 0011 0ddd 0rrr"};
V.ea.Qa[V.ea.ra.nF]={Ta:V.ea.ra.nF,pattern:"1001 010d dddd 0001"};V.ea.Qa[V.ea.ra.qF]={Ta:V.ea.ra.qF,pattern:"0000 0000 0000 0000"};V.ea.Qa[V.ea.ra.wF]={Ta:V.ea.ra.wF,pattern:"0010 10rd dddd rrrr"};V.ea.Qa[V.ea.ra.xF]={Ta:V.ea.ra.xF,pattern:"0110 kkkk dddd kkkk"};V.ea.Qa[V.ea.ra.ns]={Ta:V.ea.ra.ns,pattern:"1011 1AAr rrrr AAAA"};V.ea.Qa[V.ea.ra.JF]={Ta:V.ea.ra.JF,pattern:"1001 000d dddd 1111"};V.ea.Qa[V.ea.ra.MF]={Ta:V.ea.ra.MF,pattern:"1001 001d dddd 1111"};V.ea.Qa[V.ea.ra.OF]={Ta:V.ea.ra.OF,pattern:"1101 tttt tttt tttt"};
V.ea.Qa[V.ea.ra.QF]={Ta:V.ea.ra.QF,pattern:"1001 0101 0000 1000"};V.ea.Qa[V.ea.ra.RF]={Ta:V.ea.ra.RF,pattern:"1001 0101 0001 1000"};V.ea.Qa[V.ea.ra.SF]={Ta:V.ea.ra.SF,pattern:"1100 tttt tttt tttt"};V.ea.Qa[V.ea.ra.TF]={Ta:V.ea.ra.TF,pattern:"1001 010d dddd 0111"};V.ea.Qa[V.ea.ra.XF]={Ta:V.ea.ra.XF,pattern:"0000 10rd dddd rrrr"};V.ea.Qa[V.ea.ra.YF]={Ta:V.ea.ra.YF,pattern:"0100 kkkk dddd kkkk"};V.ea.Qa[V.ea.ra.ZF]={Ta:V.ea.ra.ZF,pattern:"1001 1010 aaaa abbb"};V.ea.Qa[V.ea.ra.$F]={Ta:V.ea.ra.$F,pattern:"1001 1001 aaaa abbb"};
V.ea.Qa[V.ea.ra.aG]={Ta:V.ea.ra.aG,pattern:"1001 1011 aaaa abbb"};V.ea.Qa[V.ea.ra.bG]={Ta:V.ea.ra.bG,pattern:"1001 0111 kkdd kkkk"};V.ea.Qa[V.ea.ra.cG]={Ta:V.ea.ra.cG,pattern:"0110 kkkk dddd kkkk"};V.ea.Qa[V.ea.ra.dG]={Ta:V.ea.ra.dG,pattern:"1111 110r rrrr 0bbb"};V.ea.Qa[V.ea.ra.eG]={Ta:V.ea.ra.eG,pattern:"1111 111r rrrr 0bbb"};V.ea.Qa[V.ea.ra.iG]={Ta:V.ea.ra.iG,pattern:"1001 0101 1000 1000"};V.ea.Qa[V.ea.ra.LM]={Ta:V.ea.ra.LM,pattern:"1001 0101 1110 1000"};V.ea.Qa[V.ea.ra.MM]={Ta:V.ea.ra.MM,pattern:"1001 0101 1111 1000"};
V.ea.Qa[V.ea.ra.lG]={Ta:V.ea.ra.lG,pattern:"1001 001d dddd 0000 kkkk kkkk kkkk kkkk"};V.ea.Qa[V.ea.ra.mG]={Ta:V.ea.ra.mG,pattern:"1001 001r rrrr 1100"};V.ea.Qa[V.ea.ra.nG]={Ta:V.ea.ra.nG,pattern:"1001 001r rrrr 1101"};V.ea.Qa[V.ea.ra.oG]={Ta:V.ea.ra.oG,pattern:"1001 001r rrrr 1110"};V.ea.Qa[V.ea.ra.pG]={Ta:V.ea.ra.pG,pattern:"1000 001r rrrr 1000"};V.ea.Qa[V.ea.ra.qG]={Ta:V.ea.ra.qG,pattern:"1001 001r rrrr 1001"};V.ea.Qa[V.ea.ra.rG]={Ta:V.ea.ra.rG,pattern:"1001 001r rrrr 1010"};
V.ea.Qa[V.ea.ra.sG]={Ta:V.ea.ra.sG,pattern:"10q0 qq1r rrrr 1qqq"};V.ea.Qa[V.ea.ra.tG]={Ta:V.ea.ra.tG,pattern:"1000 001r rrrr 0000"};V.ea.Qa[V.ea.ra.uG]={Ta:V.ea.ra.uG,pattern:"1001 001r rrrr 0001"};V.ea.Qa[V.ea.ra.vG]={Ta:V.ea.ra.vG,pattern:"1001 001r rrrr 0010"};V.ea.Qa[V.ea.ra.wG]={Ta:V.ea.ra.wG,pattern:"10q0 qq1r rrrr 0qqq"};V.ea.Qa[V.ea.ra.xG]={Ta:V.ea.ra.xG,pattern:"0001 10rd dddd rrrr"};V.ea.Qa[V.ea.ra.yG]={Ta:V.ea.ra.yG,pattern:"0101 kkkk dddd kkkk"};V.ea.Qa[V.ea.ra.zG]={Ta:V.ea.ra.zG,pattern:"1001 010d dddd 0010"};
V.ea.Qa[V.ea.ra.ZG]={Ta:V.ea.ra.ZG,pattern:"1001 0101 1010 1000"};V.ea.Qa[V.ea.ra.aH]={Ta:V.ea.ra.aH,pattern:"1001 001r rrrr 0100"};
V.ea.PZ=function(){for(var a in V.ea.Qa){var b=V.ea.Qa[a];b.pattern=b.pattern.replace(/\s+/g,"");var c=b.pattern.substring(0,16),d=parseInt(c.replace(/[01]/g,"1").replace(/[^1]/g,"0"),2),c=parseInt(c.replace(/[^01]/g,"0"),2);b.t2=d;b.s2=c;d=b.pattern.split("");b.arguments={};for(c=[];0!==d.length;){var e=d.shift();"0"!==e&&"1"!==e&&(void 0==b.arguments[e]&&(c.push(e),b.arguments[e]=0),b.arguments[e]+=1)}}};V.ea.PZ();V.ja={};V.ja.$a=function(a,b){function c(c){return void 0!==c?a[b]=c:a[b]}c.xb=b;return c};V.ja.yt=function(a,b,c){function d(d,k){void 0!==d&&(a[b]=k?a[b]&c|d&~c:d);return a[b]}d.xb=b;return d};V.ja.Ew=function(a,b,c){function d(c){return void 0!==c?a[b]=c:e}var e=0;d.xb=b;d.Jq=function(){e=a[b]+(a[c]<<8)};return d};V.ja.cq=function(a,b){function c(c){return void 0!==c?(a[b]=c&255,a[b+1]=c>>8&255,c):a[b]+(a[b+1]<<8)}c.xb=b;return c};
V.ja.TA=function(a,b){return function(c){return void 0!==c?(a.setUint16(b,c,!0),c):a.getUint16(b,!0)}};V.ja.cR=function(a,b){return a()>>b&1};V.ja.oT=function(a,b,c){var d=1<<b;a(~d&a()|d&c<<b)};V.ja.ic=function(a,b){return function(c){if(void 0!==c){for(var d=0,e=0,k=b.length-1;0<=k;k--)d|=(c&1)<<b[k],e|=1<<b[k],c>>=1;a(~e&a()|e&d)}else{d=a();for(k=c=0;k<b.length;k++)c<<=1,c|=(d&1<<b[k])>>b[k];return c}}};
V.ja.oa=function(a,b){return function(c){if(void 0!==c){c<<=b;var d=1<<b;a(~d&a()|d&c)}else return a()>>b&1}};V.tc=function(a){a.CB&&a.CB.add(this);this.Fa=a;this.mb=a.mb;this.pe=a.pe;this.memory=a.Ca;this.Ua=a.Ua;this.ma=a.ma;this.Yx={}};function Z(a,b,c,d,e,k){a.memory[c]=d||0;a.pe[c]={name:b,xb:c,oc:a,r_:d||0,w2:e||!1,z2:k||!1};a.Yx[b]=a.pe[c]}V.tc.prototype.Gc=function(a,b){return this.memory[b]};V.tc.prototype.write=function(a,b,c){this.memory[b]=c};V.tc.prototype.reset=function(a){for(name in this.Yx){var b=this.Yx[name];this.write(a,b.xb,b.r_)}};V.tc.cr={oM:0,CM:1,vF:2};
function Ol(a,b,c,d,e){a.Fa.qP.put(b,e);e={value:function(){return 1},setValue:function(){},mc:function(){},yc:function(){},init:function(){},reset:function(){}};var k=a.Ua.get("PIN"+b),l=a.Ua.get("DDR"+b),n=a.Ua.get("PORT"+b);if(k){a.fb&&(k.debug=!0);a.fb&&(n.debug=!0);var q=Il(a.Fa,"PORT"+b.split("_")[0]).xb,r=V.ja.oa(V.ja.$a(a.memory,q),b.split("_")[1]),q=Il(a.Fa,"DDR"+b.split("_")[0]).xb,t=V.ja.oa(V.ja.$a(a.memory,q),b.split("_")[1]);switch(c){case V.tc.cr.oM:e.init=function(a){l.setValue(a||
0,0)};break;case V.tc.cr.CM:e.setValue=function(a,b){n.setValue(a||0,b)};e.init=function(a){l.setValue(a||0,1)};break;case V.tc.cr.vF:e.setValue=function(b,c){1==c?(l.setValue(b||0,0),n.setValue(b||0,r())):(l.setValue(b||0,1),n.setValue(b||0,0));a.fb&&console.log(a.mb.time.time,n.name,c)},e.init=function(a){l.setValue(a||0,0);n.setValue(a||0,r())}}e.value=function(){return k.value()};e.mc=function(){return k.mc()};e.yc=function(){return k.yc()};e.reset=function(a){l.setValue(a||0,t());n.setValue(a||
0,r())};d&&k.Ka(d)}return e}V.be=function(a,b,c,d){V.tc.call(this,a);Z(this,b,c);d&&(d.Gc&&(this.Gc=d.Gc),d.write&&(this.write=d.write),d.reset&&(this.reset=d.reset))};V.be.prototype=inherit(V.tc.prototype);V.be.prototype.constructor=V.be;V.lh=function(a,b,c,d,e){this.fb=!1;V.tc.call(this,a);Z(this,"PIN"+e,b,0,!0,!0);Z(this,"DDR"+e,c,0,!0,!0);Z(this,"PORT"+e,d,0,!0,!0);this.tv=V.ja.$a(this.memory,b);this.PQ="PIN"+e;for(var k in[0,1,2,3,4,5,6,7])a=this.PQ+"_"+k,(b=this.Ua.get(a))&&b.Ok.add([this,this.QS,[a,b,k]])};V.lh.prototype=inherit(V.tc.prototype);V.lh.prototype.constructor=V.lh;
V.lh.prototype.write=function(a,b,c){a=this.memory[b]^c;this.fb&&console.log(X(this.Fa),"s PORT: ",this.pe[b].name,c);this.memory[b]=c;if(a&&b!=this.tv.xb)for(var d=0;0!=a;){if(0!=(a&1)){var e=this.Ua.get(this.pe[b].name+"_"+d),k=this.Fa.qP.get(this.pe[b].name.substr(-1)+"_"+d);!e||k&&k()||e.jg(new V.Mc(X(this.Fa),1),c&1)}a>>=1;c>>=1;d++}};
V.lh.prototype.QS=function(a,b,c){this.fb&&console.log(X(this.Fa),"receiving input, updating memory",a,b.value());.5<b.value()?this.tv(this.tv()|1<<c):this.tv(this.tv()&(255^1<<c))};V.lh.prototype.reset=function(a){V.tc.prototype.reset.apply(this,arguments);for(var b in[0,1,2,3,4,5,6,7]){var c=this.PQ+"_"+b,d=this.Ua.get(c);d&&this.QS(c,d,b)}};V.Zn=function(a,b,c,d,e){this.fb=!1;V.tc.call(this,a);Z(this,"EICRA",a.ma.rm);a.ma.bs&&Z(this,"EICRB",a.ma.bs);Z(this,"EIMSK",a.ma.gl);Z(this,"EIFR",a.ma.ek);Z(this,"PCICR",a.ma.Uo);Z(this,"PCIFR",a.ma.vm);a.ma.di&&Z(this,"PCMSK2",a.ma.di);a.ma.Ni&&Z(this,"PCMSK1",a.ma.Ni);Z(this,"PCMSK0",a.ma.Mi);this.rm=V.ja.$a(this.memory,a.ma.rm);this.oV=V.ja.ic(this.rm,[7,6]);this.nV=V.ja.ic(this.rm,[5,4]);this.mV=V.ja.ic(this.rm,[3,2]);this.ME=V.ja.ic(this.rm,[1,0]);this.LE=[this.ME,this.mV,this.nV,this.oV];
a.ma.bs&&(this.bs=V.ja.$a(this.memory,a.ma.bs),this.pV=V.ja.ic(this.bs,[5,4]),this.LE[6]=this.pV);this.gl=V.ja.$a(this.memory,a.ma.gl);this.fV=V.ja.oa(this.gl,6);this.eV=V.ja.oa(this.gl,3);this.dV=V.ja.oa(this.gl,2);this.cV=V.ja.oa(this.gl,1);this.HE=V.ja.oa(this.gl,0);this.INT=[this.HE,this.cV,this.dV,this.eV,null,null,this.fV];this.ek=V.ja.$a(this.memory,a.ma.ek);this.jV=V.ja.oa(this.ek,6);this.iV=V.ja.oa(this.ek,3);this.hV=V.ja.oa(this.ek,2);this.gV=V.ja.oa(this.ek,1);this.KE=V.ja.oa(this.ek,0);
this.pM=[this.KE,this.gV,this.hV,this.iV,null,null,this.jV];this.Uo=V.ja.$a(this.memory,a.ma.Uo);this.GV=V.ja.oa(this.Uo,2);this.FV=V.ja.oa(this.Uo,1);this.yF=V.ja.oa(this.Uo,0);this.EM=[this.yF,this.FV,this.GV];this.vm=V.ja.$a(this.memory,a.ma.vm);this.IV=V.ja.oa(this.vm,2);this.HV=V.ja.oa(this.vm,1);this.zF=V.ja.oa(this.vm,0);this.FM=[this.zF,this.HV,this.IV];this.Mi=V.ja.$a(this.memory,a.ma.Mi);this.XV=V.ja.oa(this.Mi,7);this.WV=V.ja.oa(this.Mi,6);this.FF=V.ja.oa(this.Mi,5);this.EF=V.ja.oa(this.Mi,
4);this.DF=V.ja.oa(this.Mi,3);this.CF=V.ja.oa(this.Mi,2);this.BF=V.ja.oa(this.Mi,1);this.AF=V.ja.oa(this.Mi,0);this.qs=[this.AF,this.BF,this.CF,this.DF,this.EF,this.FF,this.WV,this.XV];a.ma.Ni&&(this.Ni=V.ja.$a(this.memory,a.ma.Ni),this.NV=V.ja.oa(this.Ni,6),this.MV=V.ja.oa(this.Ni,5),this.LV=V.ja.oa(this.Ni,4),this.KV=V.ja.oa(this.Ni,3),this.JV=V.ja.oa(this.Ni,2),this.ZV=V.ja.oa(this.Ni,1),this.YV=V.ja.oa(this.Ni,0),this.qs=this.qs.concat([this.YV,this.ZV,this.JV,this.KV,this.LV,this.MV,this.NV,
null]));a.ma.di&&(this.di=V.ja.$a(this.memory,a.ma.di),this.VV=V.ja.oa(this.di,7),this.UV=V.ja.oa(this.di,6),this.TV=V.ja.oa(this.di,5),this.SV=V.ja.oa(this.di,4),this.RV=V.ja.oa(this.di,3),this.QV=V.ja.oa(this.di,2),this.PV=V.ja.oa(this.di,1),this.OV=V.ja.oa(this.di,0),this.qs=this.qs.concat([this.OV,this.PV,this.QV,this.RV,this.SV,this.TV,this.UV,this.VV]));this.il=c;this.nl=e;Pl(this,b,d)};V.Zn.prototype=inherit(V.tc.prototype);V.Zn.prototype.constructor=V.Zn;
V.Zn.prototype.write=function(a,b,c){this.memory[b]=b==this.ek.xb||b==this.vm.xb?this.memory[b]&~c:c};
function Pl(a,b,c){a.qM={};for(var d in b)a.qM[d]=Ll(a.Fa.Qd,b[d],a.INT[d],a.pM[d]);for(var e in a.il)b="PIN"+a.il[e],(b=a.Ua.get(b))&&b.Ka([a,function(b,c,d){a.fb&&console.log("getting external interrupt on pin ",b.name,d());switch(d()){case 1:(b.yc()||b.mc())&&Nl(c);break;case 2:b.mc()&&Nl(c);break;case 3:b.yc()&&Nl(c)}},[b,a.qM[e],a.LE[e]]]);a.GM={};for(d in c)a.GM[d]=Ll(a.Fa.Qd,c[d],a.EM[d],a.FM[d]);for(var k in a.nl)b="PIN"+a.nl[k],(b=a.Ua.get(b))&&b.Ok.add([a,function(a,b,c){b.TO()&&c()&&(a.yc()||
a.mc())&&Nl(b)},[b,a.GM[k>>3],a.qs[k]]])};V.Pr=function(a,b,c,d,e,k,l,n){var q=this;q.fb=!1;V.tc.call(this,a);Z(q,"ADMUX",b);Z(q,"ADCSRA",c,0,!0,!1);Z(q,"ADCL",d);Z(q,"ADCH",e);Z(q,"ADCSRB",k);Z(q,"DIDR0",l);q.oL=c;q.Dh=V.ja.$a(q.memory,b);q.PF=V.ja.ic(q.Dh,[7,6]);q.rL=V.ja.oa(q.Dh,5);q.yM=V.ja.ic(q.Dh,[4,3,2,1,0]);q.Df=V.ja.$a(q.memory,c);q.Vy=V.ja.oa(q.Df,7);q.Pu=V.ja.oa(q.Df,6);q.rT=V.ja.oa(q.Df,5);q.Wy=V.ja.oa(q.Df,4);q.BD=V.ja.oa(q.Df,3);q.DD=V.ja.ic(q.Df,[2,1,0]);q.lm=V.ja.$a(q.memory,d);q.km=V.ja.$a(q.memory,e);q.kh=V.ja.$a(q.memory,
k);q.w3=V.ja.oa(q.kh,7);q.qT=V.ja.oa(q.kh,6);q.zM=V.ja.oa(q.kh,5);q.sT=V.ja.ic(q.kh,[3,2,1,0]);q.Bo=V.ja.$a(q.memory,l);q.pL=Ll(a.Qd,n,q.BD,q.Wy);q.kb=function(){return a.ma.Uy[q.DD()]};q.yi=new V.ta(this.Fa.mb,"Atmega ADC");q.yi.Ok.add([this,this.MO])};V.Pr.prototype=inherit(V.tc.prototype);f=V.Pr.prototype;f.constructor=V.Pr;
f.MO=function(){var a=this.gP(),b=this.ma.zD[((this.zM&&this.zM())<<5)+this.yM()],c=this.Ua.get("PORT"+b+"_A"),d=0,d="_1V1"==b?1.1:"_gnd"==b?0:"_temp"==b?0:c?c.value():Math.random()*a,c=0,c=d>=a?1023:Math.round(d/a*1023);this.fb&&console.log(this.Fa.mb.getTime(),"reading ADC PORT"+b+"_A which returned "+c);this.rL()&&(c<<=6);this.lm(c&255);this.km(c>>8&255);this.Pu(0);Nl(this.pL)};
f.gP=function(){var a=0;switch(this.PF()){case 0:var b=this.Ua.get("AREF");b&&(a=b.value());break;case 1:(b=this.Ua.get("AVCC"))&&(a=b.value());break;case 3:a=this.ma.qL}return a};f.Gc=function(a,b){this.fb&&console.log(X(this.Fa),"s ADC READ: ",this.pe[b].name);return this.memory[b]};
f.write=function(a,b,c){this.fb&&console.log(X(this.Fa),"s write ADC: ",this.pe[b].name,c);a=this.Vy();var d=this.Pu();this.memory[b]=c;b==this.oL&&(this.Vy()?this.Pu()&&!d?(b=this.Fa.Ga+1.5*this.kb(),this.yi.jg(new V.Mc(El(this.Fa,b),1),!0)):this.Pu(d):!this.Vy()&&a&&Tk(this.yi,new V.Mc(El(this.Fa,this.Fa.Ga),0)),0!=(c&16)&&this.Wy(0))};V.nm=function(a,b,c,d,e,k,l,n,q,r,t,v){this.fb=!1;V.tc.call(this,a);Z(this,"TCCRA",b);Z(this,"TCCRB",c);Z(this,"TCNT",d);Z(this,"OCRA",e);Z(this,"OCRB",k);Z(this,"TIMSK",l);Z(this,"TIFR",n);this.Ef=V.ja.$a(this.memory,b);this.Wf=V.ja.ic(this.Ef,[7,6]);this.Gg=V.ja.ic(this.Ef,[5,4]);this.ne=V.ja.ic(this.Ef,[1,0]);this.pf=V.ja.$a(this.memory,c);this.cv=V.ja.oa(this.pf,7);this.dv=V.ja.oa(this.pf,6);this.Ke=V.ja.oa(this.pf,3);this.co=V.ja.ic(this.pf,[2,1,0]);this.qf=V.ja.$a(this.memory,d);this.Ie=V.ja.$a(this.memory,
e);this.Eh=V.ja.$a(this.memory,k);this.rf=V.ja.$a(this.memory,l);this.Li=V.ja.oa(this.rf,2);this.Ki=V.ja.oa(this.rf,1);this.nj=V.ja.oa(this.rf,0);this.Je=V.ja.$a(this.memory,n);this.To=V.ja.oa(this.Je,2);this.So=V.ja.oa(this.Je,1);this.pp=V.ja.oa(this.Je,0);this.Bm=Ll(a.Qd,q,this.nj,this.pp);this.ll=Ll(a.Qd,r,this.Ki,this.So);this.ml=Ll(a.Qd,t,this.Li,this.To);this.direction=1;this.kb=this.lg=0;this.id=v;this.Ua.get("TIMER_"+v+"A")&&(this.Qc=new V.mh(this.mb,this.Ua.get("TIMER_"+v+"A"),this.Ua.get("TIMERCTL_"+
v+"A")));this.Ua.get("TIMER_"+v+"B")&&(this.Ld=new V.mh(this.mb,this.Ua.get("TIMER_"+v+"B"),this.Ua.get("TIMERCTL_"+v+"B")))};V.nm.prototype=inherit(V.tc.prototype);f=V.nm.prototype;f.constructor=V.nm;
f.Vj=function(a){if(0<this.kb&&a-this.lg>this.kb){var b=Math.floor((a-this.lg)/this.kb);this.lg+=b*this.kb;0==this.ne()&&0==this.Ke()?this.qf(this.qf()+b&255):2==this.ne()&&0==this.Ke()?this.qf((this.qf()+b)%this.Ie()):3==this.ne()?(a=this.Ke()?this.Ie():256,this.qf((this.qf()+b)%a)):1==this.ne()&&(a=this.Ke()?2*this.Ie():510,b=(this.qf()+b)%a,b>a/2?(b=a-b,this.direction=-1):this.direction=1,this.qf(b))}this.cv(0);this.dv(0)};
f.Jy=function(){switch(this.co()){case 0:this.kb=0;break;case 1:this.kb=1;break;case 2:this.kb=8;break;case 3:this.kb=2==this.id?32:64;break;case 4:this.kb=2==this.id?64:256;break;case 5:this.kb=2==this.id?128:1024;break;case 6:this.kb=2==this.id?256:0;break;case 7:this.kb=2==this.id?1024:0}};
f.Px=function(){var a=this.qf();this.Jy();this.Bm.cancel();this.ll.cancel();this.ml.cancel();if(0==this.ne()&&0==this.Ke()||2==this.ne()&&0==this.Ke()){var b=0==this.ne()&&0==this.Ke()?256:this.Ie();this.nj()&&Ml(this.Bm,(b-1-a)*this.kb,b*this.kb);this.Ki()&&Ml(this.ll,(b+this.Ie()-1-a)%b*this.kb,b*this.kb);this.Li()&&Ml(this.ml,(b+this.Eh()-1-a)%b*this.kb,b*this.kb);var a=X(this.Fa),b=b*this.kb/this.Fa.re,c=0;1==this.Wf()&&this.Qc&&this.Qc.start(a,2*b,b,c);1==this.Gg()&&this.Ld&&this.Ld.start(a,
2*b,b,c)}else if(3==this.ne()){b=this.Ke()?this.Ie():256;this.nj()&&Ml(this.Bm,(b-1-a)*this.kb,b*this.kb);this.Ki()&&Ml(this.ll,(b+this.Ie()-1-a)%b*this.kb,b*this.kb);this.Li()&&Ml(this.ml,(b+this.Eh()-1-a)%b*this.kb,b*this.kb);var a=X(this.Fa),b=b*this.kb/this.Fa.re,d=this.Ie()*this.kb/this.Fa.re,c=0;1==this.Wf()&&this.Qc?0==this.Ke()?this.Qc.stop(X(this.Fa)):this.Qc.start(a,2*b,b,c):2==this.Wf()&&this.Qc?this.Qc.start(a,b,d,c):3==this.Wf()&&this.Qc&&this.Qc.start(a,b,b-d,c);d=this.Eh()*this.kb/
this.Fa.re;2==this.Gg()&&this.Ld?this.Ld.start(a,b,d,c):3==this.Gg()&&this.Ld&&this.Ld.start(a,b,b-d,c)}else 1==this.ne()&&(b=this.Ke()?2*this.Ie():510,a=-1==this.direction?b-a:a,this.nj()&&Ml(this.Bm,(b-1-a)*this.kb,b*this.kb),this.Ki()&&Ml(this.ll,(b+this.Ie()-1-a)%b*this.kb,b*this.kb),this.Ki()&&Ml(this.ll,(b+b-(this.Ie()-1)-a)%b*this.kb,b*this.kb),this.Li()&&Ml(this.ml,(b+this.Eh()-1-a)%b*this.kb,b*this.kb),this.Li()&&Ml(this.ml,(b+b-(this.Eh()-1)-a)%b*this.kb,b*this.kb),a=X(this.Fa),b=b*this.kb/
this.Fa.re,d=2*this.Ie()*this.kb/this.Fa.re,c=0,1==this.Wf()&&this.Qc?0==this.Ke()?this.Qc.stop(X(this.Fa)):this.Qc.start(a,b,d,c):2==this.Wf()&&this.Qc?this.Qc.start(a,b,d,c):3==this.Wf()&&this.Qc&&this.Qc.start(a,b,b-d,c),d=2*this.Eh()*this.kb/this.Fa.re,2==this.Gg()&&this.Ld?this.Ld.start(a,b,d,c):3==this.Gg()&&this.Ld&&this.Ld.start(a,b,b-d,c));0==this.Wf()&&this.Qc&&this.Qc.stop(X(this.Fa));0==this.Gg()&&this.Ld&&this.Ld.stop(X(this.Fa))};
f.Gc=function(a,b){this.Vj(a);this.fb&&console.log(X(this.Fa),"s TIMER "+this.id+" READ: ",this.pe[b].name,this.memory[b]);return this.memory[b]};f.write=function(a,b,c){this.fb&&console.log(X(this.Fa),"s TIMER  "+this.id+" WRITE: ",this.pe[b].name,c);this.Vj(a);this.memory[b]=b==this.Je.xb?this.memory[b]&~c:c;this.memory[b]=c;this.Px(a)};f.reset=function(a){V.tc.prototype.reset.apply(this,arguments);this.direction=1;this.kb=this.lg=0};V.Zy=function(a,b,c,d,e,k,l,n,q,r,t,v,x,B,E,z,I,N,K,O,L){var A=this;A.fb=!1;V.tc.call(this,a);Z(A,"TCCRA",b);Z(A,"TCCRB",c);Z(A,"TCCRC",d);Z(A,"TCCRD",e);Z(A,"TCCRE",k);Z(A,"TCNT",l);Z(A,"TCH",l+1);Z(A,"OCRA",q);Z(A,"OCRB",r);Z(A,"OCRC",t,255);Z(A,"OCRD",v);Z(A,"TIMSK",x);Z(A,"TIFR",B);Z(A,"DT",E);A.Ef=V.ja.$a(A.memory,b);A.Wf=V.ja.ic(A.Ef,[7,6]);A.Gg=V.ja.ic(A.Ef,[5,4]);A.cv=V.ja.oa(A.Ef,3);A.dv=V.ja.oa(A.Ef,2);A.dW=V.ja.oa(A.Ef,1);A.eW=V.ja.oa(A.Ef,0);A.pf=V.ja.$a(A.memory,c);A.C5=V.ja.oa(A.pf,
7);A.B5=V.ja.oa(A.pf,6);A.r4=V.ja.ic(A.pf,[5,4]);A.co=V.ja.ic(A.pf,[3,2,1,0]);A.pl=V.ja.$a(A.memory,d);A.g4=V.ja.ic(A.pl,[7,6]);A.h4=V.ja.ic(A.pl,[5,4]);A.XD=V.ja.ic(A.pl,[3,2]);A.X4=V.ja.oa(A.pl,1);A.fW=V.ja.oa(A.pl,0);A.zm=V.ja.$a(A.memory,e);A.XU=V.ja.oa(A.zm,7);A.Z4=V.ja.oa(A.zm,6);A.c5=V.ja.oa(A.zm,5);A.a5=V.ja.oa(A.zm,4);A.Y4=V.ja.oa(A.zm,3);A.WU=V.ja.oa(A.zm,2);A.ne=V.ja.ic(A.zm,[1,0]);A.bN=V.ja.$a(A.memory,k);A.X5=V.ja.oa(A.bN,7);A.T4=V.ja.oa(A.bN,6);A.r5=V.ja.ic(A.zm,[5,4,3,2,1,0]);A.qf=
V.ja.Ew(A.memory,l,l+1);A.U5=V.ja.$a(A.memory,l+1);A.Ie=V.ja.Ew(A.memory,q,l+1);A.Eh=V.ja.Ew(A.memory,r,l+1);A.ms=V.ja.Ew(A.memory,t,l+1);A.ms.Jq();A.uF=V.ja.Ew(A.memory,v,l+1);A.rf=V.ja.$a(A.memory,x);A.wV=V.ja.oa(A.rf,7);A.Ki=V.ja.oa(A.rf,6);A.Li=V.ja.oa(A.rf,5);A.nj=V.ja.oa(A.rf,2);A.Je=V.ja.$a(A.memory,B);A.vV=V.ja.oa(A.Je,7);A.So=V.ja.oa(A.Je,6);A.To=V.ja.oa(A.Je,5);A.pp=V.ja.oa(A.Je,2);A.RL=V.ja.$a(A.memory,E);A.p4=V.ja.ic(A.RL,[7,6,5,4]);A.q4=V.ja.ic(A.RL,[3,2,1,0]);A.j4=Ll(a.Qd,z,A.Ki,A.So);
A.k4=Ll(a.Qd,I,A.Li,A.To);A.l4=Ll(a.Qd,N,A.wV,A.vV);A.y5=Ll(a.Qd,K,A.nj,A.pp);A.b5=Ll(a.Qd,O,A.XU,A.WU);A.lg=0;A.kb=0;A.Jy=function(){0==A.co()?A.kb=0:A.kb=1<<A.co()-1};A.Ua.get("TIMER_"+L+"A")&&(this.Qc=new V.mh(this.mb,A.Ua.get("TIMER_"+L+"A"),A.Ua.get("TIMERCTL_"+L+"A")));A.Ua.get("TIMER_"+L+"B")&&(this.Ld=new V.mh(this.mb,A.Ua.get("TIMER_"+L+"B"),A.Ua.get("TIMERCTL_"+L+"B")));A.Ua.get("TIMER_"+L+"D")&&(this.ku=new V.mh(this.mb,A.Ua.get("TIMER_"+L+"D"),A.Ua.get("TIMERCTL_"+L+"D")));A.Ua.get("TIMER_"+
L+"AN")&&new V.mh(this.mb,A.Ua.get("TIMER_"+L+"AN"),A.Ua.get("TIMERCTL_"+L+"AN"));A.Ua.get("TIMER_"+L+"BN")&&new V.mh(this.mb,A.Ua.get("TIMER_"+L+"BN"),A.Ua.get("TIMERCTL_"+L+"BN"));A.Ua.get("TIMER_"+L+"DN")&&new V.mh(this.mb,A.Ua.get("TIMER_"+L+"DN"),A.Ua.get("TIMERCTL_"+L+"DN"))};V.Zy.prototype=inherit(V.tc.prototype);f=V.Zy.prototype;f.constructor=V.Zy;
f.Vj=function(a){if(0<this.kb&&a-this.lg>this.kb){var b=Math.floor((a-this.lg)/this.kb);this.lg+=b*this.kb;if(this.dW()||this.eW()||this.fW())a=2*this.ms(),b=this.qf()+b&a,b>a/2?(b=a-b,this.direction=-1):this.direction=1,this.qf(b)}};
f.Px=function(){this.qf();this.Jy();var a=2*this.ms(),b=X(this.Fa),c=a*this.kb/this.Fa.re,d=(2*this.Ie()&a)*this.kb/this.Fa.re;2==this.Wf()&&this.Qc?this.Qc.start(b,c,d,0):3==this.Wf()&&this.Qc&&this.Qc.start(b,c,c-d,0);d=(2*this.Eh()&a)*this.kb/this.Fa.re;2==this.Gg()&&this.Ld?this.Ld.start(b,c,d,0):3==this.Gg()&&this.Ld&&this.Ld.start(b,c,c-d,0);d=(2*this.uF()&a)*this.kb/this.Fa.re;2==this.XD()&&this.ku?this.ku.start(b,c,d,0):3==this.XD()&&this.ku&&this.ku.start(b,c,c-d,0);0==this.Wf()&&this.Qc&&
this.Qc.stop(X(this.Fa));0==this.Gg()&&this.Ld&&this.Ld.stop(X(this.Fa));0==this.XD()&&this.ku&&this.ku.stop(X(this.Fa))};f.Gc=function(a,b){this.Vj(a);this.fb&&console.log(X(this.Fa),"s TIMER4 READ: ",this.pe[b].name,this.memory[b]);return this.memory[b]};
f.write=function(a,b,c){this.fb&&console.log(X(this.Fa),"s TIMER4 WRITE: ",this.pe[b].name,c);this.Vj(a);b==this.qf.xb?(this.memory[b]=c,this.qf.Jq()):b==this.Ie.xb?(this.memory[b]=c,this.Ie.Jq()):b==this.Eh.xb?(this.memory[b]=c,this.Eh.Jq()):b==this.ms.xb?(this.memory[b]=c,this.ms.Jq()):b==this.uF.xb?(this.memory[b]=c,this.uF.Jq()):this.memory[b]=b==this.Je.xb?this.memory[b]&~c:c;this.Px(a)};f.reset=function(a){V.tc.prototype.reset.apply(this,arguments);this.ms.Jq();this.kb=this.lg=0};V.Qr=function(a,b,c,d,e,k,l,n,q,r,t,v,x,B,E){var z=this;z.fb=!1;V.tc.call(this,a);Z(z,"TCCRA",b);Z(z,"TCCRB",c);Z(z,"TCCRC",d);Z(z,"TCNTL",e);Z(z,"TCNTH",e+1);Z(z,"ICRL",k);Z(z,"ICRH",k+1);Z(z,"OCRAL",l);Z(z,"OCRAH",l+1);Z(z,"OCRBL",n);Z(z,"OCRBH",n+1);Z(z,"TIMSK",q);Z(z,"TIFR",r);z.Ef=V.ja.$a(z.memory,b);z.Wf=V.ja.ic(z.Ef,[7,6]);z.Gg=V.ja.ic(z.Ef,[5,4]);z.i4=V.ja.ic(z.Ef,[3,2]);z.ne=V.ja.ic(z.Ef,[1,0]);z.pf=V.ja.$a(z.memory,c);z.i5=V.ja.oa(z.pf,7);z.h5=V.ja.oa(z.pf,6);z.sl=V.ja.oa(z.pf,4);z.Ke=V.ja.oa(z.pf,
3);z.co=V.ja.ic(z.pf,[2,1,0]);z.pl=V.ja.$a(z.memory,d);z.cv=V.ja.oa(z.pl,7);z.dv=V.ja.oa(z.pl,6);z.W4=V.ja.oa(z.pl,6);z.qf=V.ja.cq(z.memory,e);z.DE=V.ja.cq(z.memory,k);z.Ie=V.ja.cq(z.memory,l);z.Eh=V.ja.cq(z.memory,n);z.rf=V.ja.$a(z.memory,q);z.aV=V.ja.oa(z.rf,5);z.q5=V.ja.oa(z.rf,3);z.Li=V.ja.oa(z.rf,2);z.Ki=V.ja.oa(z.rf,1);z.nj=V.ja.oa(z.rf,0);z.Je=V.ja.$a(z.memory,r);z.$U=V.ja.oa(z.Je,5);z.p5=V.ja.oa(z.Je,3);z.To=V.ja.oa(z.Je,2);z.So=V.ja.oa(z.Je,1);z.pp=V.ja.oa(z.Je,0);z.Bm=Ll(a.Qd,t,z.nj,z.pp);
z.ll=Ll(a.Qd,v,z.Ki,z.So);z.ml=Ll(a.Qd,x,z.Li,z.To);z.V3=Ll(a.Qd,B,z.aV,z.$U);z.direction=1;z.lg=0;z.kb=0;z.Jy=function(){switch(z.co()){case 0:z.kb=0;break;case 1:z.kb=1;break;case 2:z.kb=8;break;case 3:z.kb=64;break;case 4:z.kb=256;break;case 5:z.kb=1024;break;case 6:z.kb=0;break;case 7:z.kb=0}};z.id=E;z.Ua.get("TIMER_"+E+"A")&&(this.Qc=new V.mh(this.mb,z.Ua.get("TIMER_"+E+"A"),z.Ua.get("TIMERCTL_"+E+"A")));z.Ua.get("TIMER_"+E+"B")&&(this.Ld=new V.mh(this.mb,z.Ua.get("TIMER_"+E+"B"),z.Ua.get("TIMERCTL_"+
E+"B")))};V.Qr.prototype=inherit(V.tc.prototype);f=V.Qr.prototype;f.constructor=V.Qr;function Ql(a){if(0==a.ne()&&0==a.Ke()&&0==a.sl())return 65535;if(0==a.Ke())return a=a.sl()?a.ne()&1?a.Ie():a.DE():(1<<a.ne()+7)-1;if(0==a.ne()&&1==a.Ke())return a.sl()?a.DE():a.Ie();if(0!=a.ne()&&1==a.Ke())return a=a.sl()?a.ne()&1?a.Ie():a.DE():(1<<a.ne()+7)-1}
f.Vj=function(a){if(0<this.kb&&a-this.lg>this.kb){var b=Math.floor((a-this.lg)/this.kb);this.lg+=b*this.kb;a=2*Ql(this);b=(this.qf()+b)%a;0==this.Ke()&&(b>a/2?(b=a-b,this.direction=-1):this.direction=1);this.qf(b)}this.cv(0);this.dv(0)};
f.Px=function(){var a=this.qf();this.Jy();this.Bm.cancel();this.ll.cancel();this.ml.cancel();var b=0!=this.Ke()||0==this.ne()&&0==this.sl()?1:2,c=Ql(this)*b;this.nj()&&Ml(this.Bm,(c-1-a)*this.kb,c*this.kb);this.Ki()&&Ml(this.ll,(c+this.Ie()*b-1-a)%c*this.kb,c*this.kb);this.Li()&&Ml(this.ml,(c+this.Eh()*b-1-a)%c*this.kb,c*this.kb);var a=X(this.Fa),d=c*this.kb/this.Fa.re,e=(this.Ie()*b&c)*this.kb/this.Fa.re;1==this.Wf()&&this.Qc?0!=this.ne()||0==this.Ke()&&1==this.sl?1==this.sl()&&1==this.Ke()&&1<this.ne()?
this.Qc.start(a,2*d,d,0):1!=this.sl()||0!=this.Ke()||1!=this.ne()&&3!=this.ne()?this.Qc.stop(X(this.Fa)):this.Qc.start(a,d,e,0):this.Qc.start(a,2*d,d,0):2==this.Wf()&&this.Qc?(this.fb&&console.log(X(this.Fa),"OCA",d,e,0),this.Qc.start(a,d,e,0)):3==this.Wf()&&this.Qc&&(this.fb&&console.log(X(this.Fa),"OCA",d,d-e,0),this.Qc.start(a,d,d-e,0));e=(this.Eh()*b&c)*this.kb/this.Fa.re;1==this.Gg()&&this.Ld?0!=this.ne()||0==this.Ke()&&1==this.sl?this.Ld.stop(X(this.Fa)):this.Ld.start(a,2*d,d,0):2==this.Gg()&&
this.Ld?(this.fb&&console.log(X(this.Fa),"OCB",d,e,0),this.Ld.start(a,d,e,0)):3==this.Gg()&&this.Ld&&(this.fb&&console.log(X(this.Fa),"OCB",d,d-e,0),this.Ld.start(a,d,d-e,0));0==this.Wf()&&this.Qc&&this.Qc.stop(X(this.Fa));0==this.Gg()&&this.Ld&&this.Ld.stop(X(this.Fa))};f.Gc=function(a,b){this.Vj(a);this.fb&&console.log(X(this.Fa),"s TIMER  "+this.id+" READ: ",this.pe[b].name,this.memory[b]);return this.memory[b]};
f.write=function(a,b,c){this.fb&&console.log(X(this.Fa),"s TIMER "+this.id+" WRITE: ",this.pe[b].name,c);this.Vj(a);this.memory[b]=b==this.Je.xb?this.memory[b]&~c:c;this.Px(a)};V.nm.prototype.reset=function(a){V.tc.prototype.reset.apply(this,arguments);this.direction=1;this.kb=this.lg=0};V.$n=function(a,b,c,d,e,k,l,n,q,r){var t=this;t.fb=!1;V.tc.call(this,a);Z(t,"UCSRA",b,32,!0,!1);Z(t,"UCSRB",c,0,!0,!0);Z(t,"UCSRC",d,6);Z(t,"UBRRL",e);Z(t,"UBRRH",k);Z(t,"UDR",l,0,!0,!0);t.mk=V.ja.yt(t.memory,b,188);t.VF=V.ja.oa(t.mk,7);t.cA=V.ja.oa(t.mk,6);t.Dm=V.ja.oa(t.mk,5);t.vz=V.ja.oa(t.mk,4);t.iE=V.ja.oa(t.mk,3);t.lA=V.ja.oa(t.mk,2);t.fX=V.ja.oa(t.mk,1);t.m5=V.ja.oa(t.mk,0);t.nk=V.ja.yt(t.memory,c,2);t.kW=V.ja.oa(t.nk,7);t.PG=V.ja.oa(t.nk,6);t.WG=V.ja.oa(t.nk,5);t.Av=V.ja.oa(t.nk,4);t.Cs=V.ja.oa(t.nk,
3);t.hA=V.ja.oa(t.nk,2);t.Sz=V.ja.oa(t.nk,1);t.RW=V.ja.oa(t.nk,0);t.vp=V.ja.$a(t.memory,d);t.xX=V.ja.ic(t.vp,[7,6]);t.yX=V.ja.ic(t.vp,[5,4]);t.BX=V.ja.oa(t.vp,3);t.qX=V.ja.ic(t.vp,[2,1]);t.c6=V.ja.oa(t.vp,0);t.UG=V.ja.cq(t.memory,e);t.iA=V.ja.$a(t.memory,l);t.zX=Ll(a.Qd,n,t.kW,t.VF,!0);t.oN=Ll(a.Qd,q,t.WG,t.Dm,!0);t.nN=Ll(a.Qd,r,t.PG,t.cA,!1);this.CN=0;Rl(this);this.dP=function(){return t.CN};this.Pk=[];t.Ab=Sl(t);t.ki=Ol(t,a.ma.YG.ki,V.tc.cr.CM,null,t.Cs);t.rp=new V.Es(t.mb,t.ki,t.dP,t.Ab);t.Pi=
Ol(t,a.ma.YG.Pi,V.tc.cr.oM,[t,function(){t.Av()&&t.Tz.handle("portAcitivity")}],t.Av);t.Tz=new V.Ds(t.mb,t.Pi,t.dP,t.Ab)};V.$n.prototype=inherit(V.tc.prototype);V.$n.prototype.constructor=V.$n;function Rl(a){var b=1,b=0==a.xX()?0==a.fX()?16:8:2;a.CN=b*(a.UG()+1)/a.Fa.re}
V.$n.prototype.Gc=function(a,b){var c=null;b==this.iA.xb?(c=this.Pk.splice(0,1)[0],this.iE(0),0==this.Pk.length?(this.VF(0),this.vz(0),this.lA(0),this.Sz(0)):(this.vz(this.Pk[0].KZ?1:0),this.lA(this.Pk[0].A0?1:0),this.hA()&&this.Sz(this.Pk[0].data>>8)),c=c?c.data&255:0):c=this.memory[b];this.fb&&console.log(X(this.Fa),"s "+this.Fa.Dl+" USART read: ",this.pe[b].name,c);return c};
V.$n.prototype.write=function(a,b,c){this.fb&&console.log(X(this.Fa),"s "+this.Fa.Dl+" USART write: ",this.pe[b].name,c);switch(b){case this.mk.xb:this.mk(c,!0);c&64&&this.cA(0);Rl(this);break;case this.nk.xb:a=this.Cs();b=this.Av();this.nk(c,!0);this.Cs()&&!a?(this.ki.init(),this.ki.setValue(0,1)):!this.Cs()&&a&&1==this.Dm()&&"idle"==this.rp.state()&&(this.ki.reset(),this.rp.handle("reset"),this.Dm(1));this.Av()&&!b?this.Pi.init():!this.Av()&&b&&(this.Pi.reset(),this.Tz.handle("reset"),this.Pk=[],
this.VF(0),this.vz(0),this.iE(0),this.lA(0),this.Sz(0));this.WG()&&this.Dm()&&Ml(this.oN,0);this.PG()&&this.cA()&&Ml(this.nN,0);break;case this.vp.xb:this.vp(c);Rl(this);break;case this.UG.xb:case this.UG.xb+1:this.memory[b]=c;Rl(this);break;case this.iA.xb:this.Dm()&&(this.iA(c),this.Cs()&&("idle"==this.rp.state()?Tl(this):this.Dm(0)));break;default:this.memory[b]=c}};function Tl(a){var b=(new G("sendData")).data("dataByte",a.iA()|(a.hA()&a.RW())<<8);a.rp.handle(b);a.WG()?Nl(a.oN):a.Dm(1)}
function Sl(a){return{uB:function(){switch(a.yX()){case 0:var b=V.Qi.nv;break;case 2:b=V.Qi.eM;break;case 3:b=V.Qi.rv}return{dq:a.hA()?9:5+a.qX(),Kk:b,ry:a.BX()+1}},YA:function(){0==a.Dm()?Tl(a):(a.PG()?Nl(a.nN):a.cA(1),0==a.Cs()&&a.ki.reset())},TR:function(){3==a.Pk.length&&a.iE(1)},XA:function(b,c,d){Nl(a.zX);3>a.Pk.length&&a.Pk.push({data:b,A0:c,KZ:d});1==a.Pk.length&&(a.vz(d?1:0),a.lA(c?1:0),a.hA()&&a.Sz(b>>8))}}};V.Qs={fG:0,iv:1,ns:2};
V.ak=function(a,b,c){var d=this;d.fb=!1;V.tc.call(this,a);Z(d,"UHWCON",d.ma.kA);Z(d,"USBCON",d.ma.rl,32);Z(d,"USBSTA",d.ma.Rv,2);Z(d,"USBINT",d.ma.mA);Z(d,"UDCON",d.ma.ql,1);Z(d,"UDINT",d.ma.nh);Z(d,"UDIEN",d.ma.VG);Z(d,"UDADDR",d.ma.rX);Z(d,"UDFNUMH",d.ma.sX);Z(d,"UDFNUML",d.ma.tX);Z(d,"UDMFN",d.ma.uX);Z(d,"UENUM",d.ma.ok);Z(d,"UERST",d.ma.Qv);Z(d,"UECONX",d.ma.Js);Z(d,"UECFG0X",d.ma.Gs);Z(d,"UECFG1X",d.ma.Is);Z(d,"UESTA0X",d.ma.Ns);Z(d,"UESTA1X",d.ma.Os);Z(d,"UEINTX",d.ma.Ms);Z(d,"UEIENX",d.ma.Ls);
Z(d,"UEDATX",d.ma.Ks);Z(d,"UEBCHX",d.ma.Pv);Z(d,"UEBCLX",d.ma.Fs);Z(d,"UEINT",d.ma.Hh);d.kA=V.ja.$a(d.memory,d.ma.kA);d.m6=V.ja.oa(d.kA,0);d.rl=V.ja.$a(d.memory,d.ma.rl);d.AX=V.ja.oa(d.rl,7);d.YU=V.ja.oa(d.rl,5);d.x5=V.ja.oa(d.rl,4);d.o6=V.ja.oa(d.rl,0);d.Rv=V.ja.yt(d.memory,d.ma.Rv,255);d.yz=V.ja.oa(d.Rv,1);d.n6=V.ja.oa(d.Rv,0);d.mA=V.ja.$a(d.memory,d.ma.mA);d.p6=V.ja.oa(d.mA,0);d.ql=V.ja.$a(d.memory,d.ma.ql);d.G5=V.ja.oa(d.ql,3);d.l5=V.ja.oa(d.ql,2);d.E5=V.ja.oa(d.ql,1);d.yT=V.ja.oa(d.ql,0);d.nh=
V.ja.$a(d.memory,d.ma.nh);d.e6=V.ja.oa(d.nh,6);d.V4=V.ja.oa(d.nh,5);d.s6=V.ja.oa(d.nh,4);d.UU=V.ja.oa(d.nh,3);d.pW=V.ja.oa(d.nh,2);d.R5=V.ja.oa(d.nh,0);d.VG=V.ja.$a(d.memory,d.ma.VG);d.d6=V.ja.oa(d.nh,6);d.U4=V.ja.oa(d.nh,5);d.r6=V.ja.oa(d.nh,4);d.TU=V.ja.oa(d.nh,3);d.oW=V.ja.oa(d.nh,2);d.Q5=V.ja.oa(d.nh,0);d.ok=V.ja.$a(d.memory,d.ma.ok);d.Qv=V.ja.$a(d.memory,d.ma.Qv);d.Hh=V.ja.$a(d.memory,d.ma.Hh);d.Js=V.ja.$a(d.memory,d.ma.Js);d.Gs=V.ja.$a(d.memory,d.ma.Gs);d.Is=V.ja.$a(d.memory,d.ma.Is);d.Ns=V.ja.$a(d.memory,
d.ma.Ns);d.Os=V.ja.$a(d.memory,d.ma.Os);d.Ms=V.ja.$a(d.memory,d.ma.Ms);d.Ls=V.ja.$a(d.memory,d.ma.Ls);d.Ks=V.ja.$a(d.memory,d.ma.Ks);d.Fs=V.ja.$a(d.memory,d.ma.Fs);d.Pv=V.ja.$a(d.memory,d.ma.Pv);d.CX=Ll(a.Qd,b,d.TU,d.UU,!0);d.f6=Ll(a.Qd,b,d.oW,d.pW,!0);d.OI=!1;d.Rh=[];for(a=0;7>a;a++)d.Rh[a]=new V.ak.fM(this,a,c);d.WH=d.Ua.get("directTX");d.WH&&d.WH.Ka([d,function(){Ul(d.Rh[2],V.Qs.ns,[d.WH.value()])}]);d.IO=d.Ua.get("directRX");d.IO&&(d.Rh[3].pT=function(a){d.IO.jg(new V.Mc(X(d.Fa),0),a)})};
V.ak.prototype=inherit(V.tc.prototype);V.ak.prototype.constructor=V.ak;V.ak.prototype.Gc=function(a,b){switch(b){case this.Js.xb:case this.Gs.xb:case this.Is.xb:case this.Ns.xb:case this.Os.xb:case this.Ms.xb:case this.Ls.xb:case this.Ks.xb:case this.Fs.xb:case this.Pv.xb:this.memory[b]=this.Rh[this.ok()].Gc(a,b)}this.fb&&console.log(X(this.Fa),"s read USB PORT: ",this.pe[b].name,this.memory[b]);return this.memory[b]};
V.ak.prototype.write=function(a,b,c){this.fb&&console.log(X(this.Fa),"s write USB PORT: ",this.pe[b].name,c);switch(b){case this.rl.xb:this.rl(c);Vl(this);break;case this.ql.xb:this.ql(c);Vl(this);break;case this.ok.xb:c!=this.ok()&&(this.Rh[this.ok()].selected=!1,this.ok(c),this.Rh[this.ok()].select());break;case this.Qv.xb:this.Qv(c);for(a=0;7>a;a++)c&1<<a&&this.Rh[a].reset();break;case this.Js.xb:case this.Gs.xb:case this.Is.xb:case this.Ns.xb:case this.Os.xb:case this.Ms.xb:case this.Ls.xb:case this.Ks.xb:case this.Fs.xb:case this.Pv.xb:this.Rh[this.ok()].write(a,
b,c);break;default:this.memory[b]=c}};function Vl(a){!a.AX()||a.YU()||a.yT()?a.OI=!1:a.OI||(a.Rh[0].tz(1),a.Rh[0].select(),Ml(a.CX,0),a.OI=!0,Ul(a.Rh[0],V.Qs.fG,[0,9,1,0,0,0,0,0],0),Ul(a.Rh[0],V.Qs.fG,[33,34,1,0,0,0,0,0],1E3))}V.ak.prototype.reset=function(a){V.tc.prototype.reset.apply(this,arguments);for(var b=0;7>b;b++)this.Rh[b].init()};
V.ak.fM=function(a,b,c){this.Ci=a;this.id=b;this.selected=!1;this.hl=[];this.cs=0;this.wi=[];this.kN=V.ja.$a(this.wi,this.Ci.ma.Js);this.tz=V.ja.oa(this.kN,0);this.XG=V.ja.$a(this.wi,this.Ci.ma.Gs);this.dM=V.ja.ic(this.XG,[7,6]);this.cM=V.ja.oa(this.XG,0);this.Hs=V.ja.$a(this.wi,this.Ci.ma.Is);this.rE=V.ja.ic(this.Hs,[6,5,4]);this.bM=V.ja.ic(this.Hs,[3,2]);this.sL=V.ja.oa(this.Hs,1);this.jA=V.ja.$a(this.wi,this.Ci.ma.Ns);this.Uu=V.ja.oa(this.jA,7);this.mN=V.ja.$a(this.wi,this.Ci.ma.Os);this.Hh=V.ja.$a(this.wi,
this.Ci.ma.Ms);this.gM=V.ja.oa(this.Hh,7);this.UF=V.ja.oa(this.Hh,5);this.nW=V.ja.oa(this.Hh,3);this.lW=V.ja.oa(this.Hh,2);this.SW=V.ja.oa(this.Hh,0);this.lN=V.ja.$a(this.wi,this.Ci.ma.Ls);this.mW=V.ja.oa(this.lN,3);this.wp=V.ja.$a(this.wi,this.Ci.ma.Ks);this.jN=V.ja.cq(this.wi,this.Ci.ma.Fs);this.VU=Ll(this.Ci.Fa.Qd,c,this.mW,this.nW,!0);this.init()};f=V.ak.fM.prototype;
f.init=function(){this.hl=[];this.cs=0;this.kN(0);this.XG(0);this.Hs(0);this.jA(0);this.mN(0);this.Hh(0);this.lN(0);this.wp(0);this.jN(0);0==this.id&&(this.rE(3),this.cs=(8<<this.rE())*(1+this.bM()),this.sL(1),this.Uu(1))};f.reset=function(){this.hl=[];this.Hh(0);this.jA(this.jA()&128);this.mN(0);Wl(this)};f.select=function(){this.selected=!0;for(var a in this.wi)this.Ci.memory[a]=this.wi[a]};
f.Gc=function(a,b){b==this.wp.xb&&(this.tz()&&this.Uu()?1==this.cM()?this.wp(this.hl[0]):(this.wp(this.hl.pop()),Wl(this)):this.wp(0));return this.wi[b]};
f.write=function(a,b,c){switch(b){case this.Hs.xb:this.Hs(c);this.sL()?(this.cs=(8<<this.rE())*(1+this.bM()),a=this.Ci.Rh.reduce(function(a,b){return a+b.cs},0),this.Uu(832>=a?1:0)):(this.hl=[],this.cs=0);Wl(this);break;case this.Hh.xb:c&=this.Hh();this.Hh(c);break;case this.wp.xb:this.wp(c);this.tz()&&this.Uu()&&this.pT(c);break;default:this.wi[b]=c}this.selected&&(this.Ci.memory[b]=c)};
function Wl(a){0==a.dM()?a.UF(0):1==a.cM()?a.UF(a.hl.length<a.cs?1:0):a.UF(0<a.hl.length?1:0);a.jN(a.hl.length)}f.pT=function(){};function Ul(a,b,c,d){if(a.tz()&&a.Uu()){switch(b){case V.Qs.fG:if(0!=a.dM())return;Ml(a.VU,d);break;case V.Qs.ns:a.lW(1);a.gM(1);break;case V.Qs.iv:a.SW(1),a.gM(1)}for(var e in c)a.hl.unshift(c[e]);Wl(a)}};V.Tu=function(a){this.fb=!1;V.tc.call(this,a);Z(this,"",address)};V.Tu.prototype=inherit(V.tc.prototype);V.Tu.prototype.constructor=V.Tu;V.Tu.prototype.Gc=function(){};V.Tu.prototype.write=function(){};V.Yn=function(a,b,c,d,e,k,l,n){var q=this;q.fb=!1;V.tc.call(this,a);Z(q,"TWBR",b);Z(q,"TWCR",c,0,!0,!0);Z(q,"TWSR",d,248);Z(q,"TWDR",e,255);Z(q,"TWAR",k,254);Z(q,"TWAMR",l);q.qp=V.ja.$a(q.memory,b);q.ii=V.ja.yt(q.memory,c,10);q.NG=V.ja.oa(q.ii,7);q.KG=V.ja.oa(q.ii,6);q.hN=V.ja.oa(q.ii,5);q.OG=V.ja.oa(q.ii,4);q.iN=V.ja.oa(q.ii,3);q.Lv=V.ja.oa(q.ii,2);q.PW=V.ja.oa(q.ii,0);q.Cm=V.ja.yt(q.memory,d,251);q.Pc=V.ja.ic(q.Cm,[7,6,5,4,3]);q.QW=V.ja.ic(q.Cm,[1,0]);q.kk=V.ja.$a(q.memory,e);q.Bs=V.ja.$a(q.memory,
k);q.NW=V.ja.ic(q.Bs,[7,6,5,4,3,2,1]);q.OW=V.ja.oa(q.Bs,0);q.Kv=V.ja.yt(q.memory,l,1);q.fN=V.ja.ic(q.Kv,[7,6,5,4,3,2,1]);q.ji=Ll(a.Qd,n,q.PW,q.NG,!0);this.gN=0;Xl(this);this.SZ=function(){return q.gN};q.fb&&(q.name=q.Fa.Dl,window.Z5||(TWIwaveforms={}),TWIwaveforms[q.name+"_Obj"]=q,TWIwaveforms[q.name]="Time,SDA,SCL\n",q.iL="1,1\n");b=[q,function(){q.fb&&1E5>TWIwaveforms[q.name].length&&(TWIwaveforms[q.name]+=q.mb.time.time-1/q.Fa.re+","+q.iL,q.iL=q.hc.value()+","+q.nb.value()+"\n",TWIwaveforms[q.name]+=
q.mb.time.time+","+q.iL);q.Lv()&&q.dd.handle("portAcitivity")}];q.hc=Ol(q,a.ma.MG.hc,V.tc.cr.vF,b,q.Lv);q.nb=Ol(q,a.ma.MG.nb,V.tc.cr.vF,b,q.Lv);Yl(this);q.dd=new V.dd(q.mb,q.hc,q.nb,q.SZ,q.Ab)};V.Yn.prototype=inherit(V.tc.prototype);V.Yn.prototype.constructor=V.Yn;V.Yn.prototype.Gc=function(a,b){var c=this.memory[b];this.fb&&console.log(X(this.Fa),"s "+this.name+" TWI read: ",this.pe[b].name,c,"0b"+("00000000"+c.toString(2)).substr(-8),"0x"+c.toString(16).toUpperCase());return this.memory[b]};
V.Yn.prototype.write=function(a,b,c){this.fb&&console.log(X(this.Fa),"s "+this.name+" TWI write: ",this.pe[b].name,c,"0b"+("00000000"+c.toString(2)).substr(-8),"0x"+c.toString(16).toUpperCase());switch(b){case this.qp.xb:this.qp(c);Xl(this);break;case this.ii.xb:a=this.Lv();this.ii(c,!0);this.Lv()?(a||(this.hc.init(),this.nb.init(),this.dd.init()),c>>7&&(this.NG(0),this.c1())):(this.hc.reset(),this.nb.reset());break;case this.Cm.xb:this.Cm(c,!0);Xl(this);break;case this.kk.xb:this.NG()?(this.kk(c),
this.iN(0)):this.iN(1);break;default:this.memory[b]=c}};function Xl(a){var b=1;switch(a.QW()){case 0:b=1;break;case 1:b=4;break;case 2:b=16;break;case 3:b=64}a.gN=(16+2*a.qp()*b)/a.Fa.re}
function Yl(a){a.c1=function(){if(a.OG())1<=a.Pc()&&11>=a.Pc()?a.dd.handle("sendStopCondition"):(a.nb.setValue(0,1),a.hc.setValue(0,1),a.OG(0));else if(a.hN())a.dd.handle("sendStartCondition");else if(1<=a.Pc()&&11>=a.Pc()){var b=(new G("sendData")).data("dataByte",a.kk());a.dd.handle(b)}else 21==a.Pc()||23==a.Pc()||22==a.Pc()?(b=(new G("loadData")).data("dataByte",a.kk()),a.dd.handle(b),a.nb.setValue(1E-6,1)):a.nb.setValue(0,1);a.Pc(31)};a.Uj="NA";a.Ab={PN:function(){a.hN()&&a.dd.handle("sendStartCondition")},
F6:function(){a.Pc(0);Nl(a.ji)},UR:function(){a.nb.setValue(0,0);a.Pc(1);Nl(a.ji)},lR:function(){a.nb.setValue(0,0);a.Pc(2);Nl(a.ji)},XR:function(){a.Pc(31);a.OG(0)},$M:function(b,c){0==b?c?a.Pc(3):a.Pc(4):a.Pc(7);Nl(a.ji)},xM:function(b,c){0==b?c?a.Pc(5):a.Pc(6):a.Pc(7);Nl(a.ji)},YM:function(b,c){0==b?c?a.Pc(8):a.Pc(9):a.Pc(7);Nl(a.ji)},wM:function(b,c){a.nb.setValue(0,0);c?a.Pc(10):a.Pc(11);a.kk(b);Nl(a.ji)},p3:function(b){b>>=1;if(a.KG()){if(0==b&&a.OW())return a.Uj="GCALL",!0;if(0!=b&&(b|a.fN())==
(a.NW()|a.fN()))return a.Uj="OwnSLA",!0}a.Uj="NA";return!1},ZM:function(b){a.nb.setValue(0,0);0==b?"OwnSLA"==a.Uj?a.Pc(12):"GCALL"==a.Uj&&a.Pc(14):"OwnSLA"==a.Uj?a.Pc(13):"GCALL"==a.Uj&&a.Pc(15);Nl(a.ji)},eT:function(){return!!a.KG()},Wz:function(b,c){a.nb.setValue(0,0);c?"OwnSLA"==a.Uj?a.Pc(16):"GCALL"==a.Uj&&a.Pc(18):"OwnSLA"==a.Uj?a.Pc(17):"GCALL"==a.Uj&&a.Pc(19);a.kk(b);Nl(a.ji)},OM:function(){a.nb.setValue(0,0);a.Pc(20);Nl(a.ji)},NM:function(){a.nb.setValue(0,0);a.Pc(20);Nl(a.ji)},XM:function(b){a.nb.setValue(0,
0);0==b?a.Pc(21):a.Pc(22);Nl(a.ji)},Xz:function(b){a.nb.setValue(0,0);b?a.KG()?a.Pc(23):a.Pc(25):a.Pc(24);Nl(a.ji)}}};V.Su=function(a,b,c,d,e,k,l){this.fb=!1;V.tc.call(this,a);this.QU=new ArrayBuffer(b);this.rz=new Uint8Array(this.QU);Z(this,"EEARL",c);Z(this,"EEARH",d);Z(this,"EEDR",e);Z(this,"EECR",k);this.nz=V.ja.cq(this.memory,c);this.Do=V.ja.$a(this.memory,e);this.dk=V.ja.$a(this.memory,k);this.nE=V.ja.ic(this.dk,[5,4]);this.sz=V.ja.oa(this.dk,3);this.oz=V.ja.oa(this.dk,2);this.qm=V.ja.oa(this.dk,1);this.$L=V.ja.oa(this.dk,0);this.qz=Ll(a.Qd,l,this.sz,null,!0);this.as=this.pz=Infinity};V.Su.prototype=inherit(V.tc.prototype);
f=V.Su.prototype;f.constructor=V.Su;f.Vj=function(a){a>this.pz&&(this.oz(0),this.pz=Infinity);a>this.as&&(this.qm(0),this.as=Infinity)};f.Gc=function(a,b){this.Vj(a);this.fb&&console.log(X(this.Fa),"s EEPROM READ: ",this.pe[b].name,this.memory[b]);return this.memory[b]};
f.write=function(a,b,c){this.Vj(a);this.fb&&console.log(X(this.Fa),"s write EEPROM: ",this.pe[b].name,c);var d=this.nE(),e=this.oz(),k=this.qm();this.memory[b]=c;if(b==this.dk.xb){this.oz()&&(this.pz=a+4);if(!k&&this.qm())if(e&&this.oz()){this.qz.RB(0);switch(this.nE()){case 0:this.rz[this.nz()]=this.Do();this.as=a+.0034*this.Fa.re;this.sz()&&Ml(this.qz,.0034*this.Fa.re);break;case 1:this.rz[this.nz()]=0;this.as=a+.0018*this.Fa.re;this.sz()&&Ml(this.qz,.0018*this.Fa.re);break;case 2:this.rz[this.nz()]=
this.Do();this.as=a+.0018*this.Fa.re;this.sz()&&Ml(this.qz,.0018*this.Fa.re);break;case 3:this.qm(0)}this.Fa.Ga+=2}else this.qm(0);else this.qm(k);this.qm()&&this.nE(d);this.$L()&&(this.qm()||(this.Do(this.rz[this.nz()]),this.Fa.Ga+=4),this.$L(0))}};f.reset=function(a){V.tc.prototype.reset.apply(this,arguments);self.pz=Infinity;self.as=Infinity};V.mg=function(a,b,c,d,e){var k=this;V.ea.call(this,a,V.mg.mv,b,c,d);k.Dl=e;k.OQ=new V.lh(k,k.ma.uv,k.ma.Zu,k.ma.vv,"B");k.sS=new V.Xy(k,k.ma.Gv,k.ma.Hv,k.ma.Iv,k.ma.pv,k.ma.qv,k.ma.rf,k.ma.Je,k.ma.Ov,k.ma.Mv,k.ma.Nv,0);k.u6=new V.Qu(k,k.ma.Dh,k.ma.Df,k.ma.lm,k.ma.km,k.ma.kh,k.ma.Bo,k.ma.fl);k.m7=new V.Ru(k,k.ma.jv,k.ma.il,k.ma.sv,k.ma.nl);new V.be(k,"MCUCR",k.ma.tm,{write:function(a,b,c){a=c>>6&1;var d=this.Ua.get("PUD");d&&d.jg(new V.Mc(X(k),1),a);this.memory[b]=c}});new V.be(k,"PLLCSR",k.ma.IF,
{write:function(a,b,c){c&2&&(c|=1);this.memory[b]=c}});new V.be(k,"SREG",k.ma.ys);new V.be(k,"SPH",k.ma.Ev);new V.be(k,"SPL",k.ma.kp);new V.be(k,"GPIOR2",k.ma.hv);new V.be(k,"GPIOR1",k.ma.gv);new V.be(k,"GPIOR0",k.ma.fv)};V.mg.prototype=inherit(V.ea.prototype);V.mg.prototype.constructor=V.mg;
V.mg.mv={Bn:4096,fq:608,qu:4095,Az:95,sf:26,We:28,Wc:30,kp:93,Ev:94,ys:95,Ez:84,tm:85,fv:49,gv:50,hv:51,uv:54,Zu:55,vv:56,e5:76,rf:89,Je:88,IF:71,Gv:74,Hv:83,Iv:82,pv:73,qv:72,T5:80,V5:79,s5:78,t5:75,u5:77,h6:45,j6:46,i6:47,g6:48,lm:36,km:37,Df:38,kh:35,Dh:39,Bo:52,ev:91,ds:90,ol:53,Ov:5,Mv:10,Nv:11,gA:4,eA:3,fA:9,l6:13,k6:14,fl:8,jv:{0:1},il:{0:"B_2"},sv:{0:2},nl:{0:"B_0",1:"B_1",2:"B_2",3:"B_3",4:"B_4",5:"B_5"},Uy:[2,2,4,8,16,32,64,128],zD:{0:"B_5",1:"B_2",2:"B_4",3:"B_3",12:"_1V1",13:"_gnd",15:"_temp"}};V.Xy=function(a,b,c,d,e,k,l,n,q,r,t,v){this.fb=!1;V.tc.call(this,a);Z(this,"TCCRA",b);Z(this,"TCCRB",c);Z(this,"TCNT",d);Z(this,"OCRA",e);Z(this,"OCRB",k);Z(this,"TIMSK",l);Z(this,"TIFR",n);this.Ef=V.ja.$a(this.memory,b);this.Wf=V.ja.ic(this.Ef,[7,6]);this.Gg=V.ja.ic(this.Ef,[5,4]);this.ne=V.ja.ic(this.Ef,[1,0]);this.pf=V.ja.$a(this.memory,c);this.cv=V.ja.oa(this.pf,7);this.dv=V.ja.oa(this.pf,6);this.Ke=V.ja.oa(this.pf,3);this.co=V.ja.ic(this.pf,[2,1,0]);this.qf=V.ja.$a(this.memory,d);this.Ie=V.ja.$a(this.memory,
e);this.Eh=V.ja.$a(this.memory,k);this.rf=V.ja.$a(this.memory,l);this.Ki=V.ja.oa(this.rf,4);this.Li=V.ja.oa(this.rf,3);this.nj=V.ja.oa(this.rf,1);this.Je=V.ja.$a(this.memory,n);this.So=V.ja.oa(this.Je,4);this.To=V.ja.oa(this.Je,3);this.pp=V.ja.oa(this.Je,1);this.Bm=Ll(a.Qd,q,this.nj,this.pp);this.ll=Ll(a.Qd,r,this.Ki,this.So);this.ml=Ll(a.Qd,t,this.Li,this.To);this.direction=1;this.kb=this.lg=0;this.id=v;this.Ua.get("TIMER_"+v+"A")&&(this.Qc=new V.mh(this.mb,this.Ua.get("TIMER_"+v+"A"),this.Ua.get("TIMERCTL_"+
v+"A")));this.Ua.get("TIMER_"+v+"B")&&(this.Ld=new V.mh(this.mb,this.Ua.get("TIMER_"+v+"B"),this.Ua.get("TIMERCTL_"+v+"B")))};V.Xy.prototype=inherit(V.nm.prototype);V.Xy.prototype.constructor=V.Xy;V.Qu=function(a,b,c,d,e,k,l,n){var q=this;q.fb=!1;V.tc.call(this,a);Z(q,"ADMUX",b);Z(q,"ADCSRA",c,0,!0,!1);Z(q,"ADCL",d);Z(q,"ADCH",e);Z(q,"ADCSRB",k);Z(q,"DIDR0",l);q.oL=c;q.Dh=V.ja.$a(q.memory,b);q.PF=V.ja.ic(q.Dh,[7,6]);q.rL=V.ja.oa(q.Dh,5);q.IM=V.ja.oa(q.Dh,4);q.yM=V.ja.ic(q.Dh,[3,2,1,0]);q.Df=V.ja.$a(q.memory,c);q.Vy=V.ja.oa(q.Df,7);q.Pu=V.ja.oa(q.Df,6);q.rT=V.ja.oa(q.Df,5);q.Wy=V.ja.oa(q.Df,4);q.BD=V.ja.oa(q.Df,3);q.DD=V.ja.ic(q.Df,[2,1,0]);q.lm=V.ja.$a(q.memory,d);q.km=V.ja.$a(q.memory,e);
q.kh=V.ja.$a(q.memory,k);q.A3=V.ja.oa(q.kh,7);q.qT=V.ja.oa(q.kh,6);q.j5=V.ja.oa(q.kh,5);q.sT=V.ja.ic(q.kh,[3,2,1,0]);q.Bo=V.ja.$a(q.memory,l);q.pL=Ll(a.Qd,n,q.BD,q.Wy);q.kb=function(){return a.ma.Uy[q.DD()]};q.yi=new V.ta(this.Fa.mb,"Atmega ADC");q.yi.Ok.add([this,this.MO])};V.Qu.prototype=inherit(V.Pr.prototype);V.Qu.prototype.constructor=V.Qu;
V.Qu.prototype.gP=function(){var a=0;switch(this.PF()){case 0:var b=this.Ua.get("VCC");b&&(a=b.value());break;case 1:(b=this.Ua.get("PORTB_0_A"))&&(a=b.value());break;case 2:a=this.IM()?2.56:1.1;break;case 3:this.IM()&&(a=2.56)}return a};V.Ru=function(a,b,c,d,e){this.fb=!1;V.tc.call(this,a);Z(this,"GIMSK",a.ma.ev);Z(this,"GIFR",a.ma.ds);Z(this,"PCMSK",a.ma.ol);this.tm=V.ja.$a(this.memory,a.ma.tm);this.ME=V.ja.ic(this.tm,[1,0]);this.LE=[this.ME];this.ev=V.ja.$a(this.memory,a.ma.ev);this.HE=V.ja.oa(this.ev,6);this.yF=V.ja.oa(this.ev,5);this.INT=[this.HE];this.EM=[this.yF];this.ds=V.ja.$a(this.memory,a.ma.ds);this.KE=V.ja.oa(this.ds,6);this.zF=V.ja.oa(this.ds,5);this.pM=[this.KE];this.FM=[this.zF];this.ol=V.ja.$a(this.memory,a.ma.ol);
this.FF=V.ja.oa(this.ol,5);this.EF=V.ja.oa(this.ol,4);this.DF=V.ja.oa(this.ol,3);this.CF=V.ja.oa(this.ol,2);this.BF=V.ja.oa(this.ol,1);this.AF=V.ja.oa(this.ol,0);this.qs=[this.AF,this.BF,this.CF,this.DF,this.EF,this.FF];this.il=c;this.nl=e;Pl(this,b,d)};V.Ru.prototype=inherit(V.Zn.prototype);V.Ru.prototype.constructor=V.Ru;V.Ru.prototype.write=function(a,b,c){this.memory[b]=b==this.ds.xb?this.memory[b]&~c:c};V.gb=function(a){this.Fa=a;this.FQ=new w;this.uN=[];this.Me=this.Ky=[]};function Zh(a,b,c){b=a.$B.get(b);if(!b)return-1;for(c;c<b.length;c++)if(b[c])return b[c].forEach(function(b){a.Ky.push(b)}),c;return-1}function Zl(a,b){b.Eb().forEach(function(c){var d=c.split(":"),e=Zh(a,d[0],parseInt(d[1])),d=d[0]+":"+e;d!=c&&(b.remove(c),-1<e&&!b.contains(d)&&b.add(d))})}function Yh(a,b,c){(b=a.$B.get(b))&&b[c]&&b[c].forEach(function(b){a.Ky.splice(a.Ky.indexOf(b),1)})}
V.gb.prototype.play=function(){this.Me=this.Ky};V.gb.prototype.step=function(){this.Me=this.uN};
function sj(a){var b=new w,c;a:{for(c in a.info.Ze){var d=a.info.Ze[c],e;for(e in d.children){var k=d.children[e];if(("DW_TAG_subprogram"==k.tag||"DW_TAG_inlined_subroutine"==k.tag)&&$l(a,k)){c=k;break a}}}c=void 0}if(c&&(Ka(b,am(a,c.Ze)),d=bm(a,c.Ze,c.getAttribute("DW_AT_frame_base")),Ka(b,am(a,c,d)),void 0!=c.getAttribute("DW_AT_object_pointer")&&(a=cm(a,c.getAttribute("DW_AT_object_pointer"),d),null!=a))){b.put(a.name,a);a=qj(a)&&qj(a).getValue(!0);for(var l in a)b.put(a[l].name,a[l])}return b}
function $l(a,b){var c=2*a.Fa.$b;if(void 0!=b.attributes.DW_AT_high_pc)return b.attributes.DW_AT_low_pc<=c&&c<b.attributes.DW_AT_high_pc;if(void 0!=b.attributes.DW_AT_low_pc)return b.attributes.DW_AT_low_pc==c;if(void 0!=b.attributes.DW_AT_ranges){var d=b.Ze.attributes.DW_AT_low_pc,e=a.O0[b.attributes.DW_AT_ranges],k;for(k in e)if(d+e[k].begin<=c&&c<d+e[k].end)return!0}return!1}
function am(a,b,c){var d=new w,e=null,k;for(k in b.children){var l=b.children[k];"DW_TAG_variable"==l.tag||"DW_TAG_formal_parameter"==l.tag?l.getAttribute("DW_AT_artificial")||l.getAttribute("DW_AT_specification")&&"DW_TAG_member"==l.getAttribute("DW_AT_specification").tag||(l=cm(a,l,c),null!=l&&d.put(l.name,l)):"DW_TAG_lexical_block"==l.tag&&$l(a,l)&&(e=am(a,l,c))}e&&Ka(d,e);return d}
function bm(a,b,c,d){var e;if(c.constructor==Array)e=dm(a,b,c,d);else{c=a.O_[c];var k=2*a.Fa.$b,l=b.attributes.DW_AT_low_pc,n;for(n in c)if(l+c[n].begin<=k&&k<l+c[n].end){e=dm(a,b,c[n].expr,d);break}}return e}function dm(a,b,c,d){a=new V.gb.aA(a,b,d);a.zd(c);return em(a)}
function cm(a,b,c){var d=null,e=null;if(void 0!=b.getAttribute("DW_AT_location")){d=a.Fa.Ca;e=bm(a,b.Ze,b.getAttribute("DW_AT_location"),c);if(null==e||0==e||e>a.Fa.fq)return null;e&&e.constructor==V.gb.Hd&&(d=e,e=0)}else if(void 0!=b.getAttribute("DW_AT_const_value"))d=b.getAttribute("DW_AT_const_value"),e=0;else if(b.getAttribute("DW_AT_declaration"))return null;c=b.getAttribute("DW_AT_type");c.attributes.DW_AT_declaration&&(c=a.info.lP.get(c.tag+c.attributes.DW_AT_name));return null==c?null:new V.gb.Ss(a,
b.getAttribute("DW_AT_name"),d,e,c)}function fm(a,b){var c=null;switch(b){case 32:c=a.Fa.ma.kp;break;default:31>b&&(c=b)}console.assert(null!=c,"Atmega debugger: Unknown register name");return c}function gm(a,b,c,d){return(new V.gb.Hd(a.Fa.Ca,c,d,b)).getValue()};V.gb.ZL=function(a){this.Ze=[];this.Um=[];this.lP=new w;var b=null,c=[],d;for(d in a)"_CUHeader"==a[d].tag?b=a[d]:b?(this.Um[d]=new V.gb.cE(this,b,a[d].tag,a[d].attr),this.Ze.push(this.Um[d]),c=[this.Um[d]],b=null):null!=a[d].tag?(this.Um[d]=new V.gb.mz(c[0],c[c.length-1],a[d].tag,a[d].attr),a[d].hasChild&&c.push(this.Um[d])):c.pop();a=["DW_AT_type","DW_AT_abstract_origin","DW_AT_object_pointer"];for(d in this.Um)if(b=this.Um[d],b.constructor==V.gb.mz){for(var e in a)void 0!=b.attributes[a[e]]&&(b.attributes[a[e]]=
b.Ze.Dj(b.attributes[a[e]]));void 0!=b.attributes.DW_AT_specification&&(c=b.Ze.Dj(b.attributes.DW_AT_specification),b.attributes.DW_AT_specification=c,c.RR=b);b.parent.constructor==V.gb.cE&&-1<["DW_TAG_enumeration_type","DW_TAG_structure_type","DW_TAG_union_type","DW_TAG_class_type"].indexOf(b.tag)&&void 0==b.attributes.DW_AT_declaration&&b.attributes.DW_AT_name&&this.lP.put(b.tag+b.attributes.DW_AT_name)}};V.gb.ZL.prototype.Dj=function(a){return this.Um[a]};
V.gb.cE=function(a,b,c,d){this.lZ=a;this.tag=c;this.PY=b.offset;this.attributes=ea(d);this.children=[]};V.gb.cE.prototype.Dj=function(a){return this.lZ.Dj(this.PY+a)};V.gb.mz=function(a,b,c,d){this.Ze=a;this.parent=b;b.children.push(this);this.children=[];this.tag=c;this.attributes=ea(d)};
V.gb.mz.prototype.getAttribute=function(a){if(void 0!=this.attributes[a])return this.attributes[a];if(void 0!=this.attributes.DW_AT_abstract_origin||void 0!=this.attributes.DW_AT_specification)return(this.attributes.DW_AT_abstract_origin||this.attributes.DW_AT_specification).getAttribute(a)};V.gb.$r={Ei:1,SL:2,s4:3,TL:4,jE:5,av:6,kE:7,lz:8,JT:3,$T:6,ST:8,RT:9,UT:10,TT:11,WT:12,VT:13,D4:14,C4:15,ZT:16,YT:17,eU:18,dU:19,xU:20,yU:21,NU:22,GU:23,I4:24,IT:25,KT:26,cU:27,pU:28,qU:29,rU:30,tU:31,vU:32,wU:33,AU:34,BU:35,HU:36,IU:37,JU:38,OU:39,MT:40,gU:41,iU:42,jU:43,mU:44,oU:45,sU:46,KU:47,XL:48,nU:79,YL:80,CU:111,VL:112,NT:143,EU:144,hU:145,OT:146,zU:147,aU:148,J4:149,uU:150,H4:151,PT:152,QT:153,B4:154,F4:155,A4:156,LT:157,lU:158,MU:159,kU:160,z4:161,E4:162,fU:163,XT:164,DU:165,bU:166,K4:167,
WL:168,FU:169,x4:224,G4:224,y4:240,v4:241,FT:242,ET:243,CT:244,GT:245,DT:246,UL:247,HT:249,w4:250,t4:251,u4:252};V.gb.aA=function(a,b,c){this.qe=a;this.Ze=b;this.qI=c;this.stack=[];this.nC=[];this.Ll=null;this.error=!1};
V.gb.aA.prototype.zd=function(a){for(var b=V.gb.$r,c=new DataView((new Uint8Array(a)).buffer),d=0;d<a.length;){var e=a[d++];switch(e){case b.JT:this.stack.push(c.getUint16(d,!0));d+=4;break;case b.ST:this.stack.push(c.getUint8(d,!0));d+=1;break;case b.RT:this.stack.push(c.getInt8(d,!0));d+=1;break;case b.UT:this.stack.push(c.getUint16(d,!0));d+=2;break;case b.TT:this.stack.push(c.getInt16(d,!0));d+=2;break;case b.WT:this.stack.push(c.getUint32(d,!0));d+=4;break;case b.VT:this.stack.push(c.getInt32(d,
!0));d+=4;break;case b.ZT:var k=V.gb.Pf(!1,a,d);this.stack.push(k.value);d+=k.Dc;break;case b.YT:k=V.gb.Pf(!0,a,d);this.stack.push(k.value);d+=k.Dc;break;case b.hU:k=V.gb.Pf(!0,a,d);this.stack.push(this.qI+k.value);d+=k.Dc;break;case b.OT:k=V.gb.Pf(!1,a,d);d+=k.Dc;e=fm(this.qe,k.value);e=gm(this.qe,e,b.Ei);k=V.gb.Pf(!0,a,d);this.stack.push(e+k.value);d+=k.Dc;break;case b.EU:k=V.gb.Pf(!1,description,1);d+=k.Dc;e=fm(this.qe,k.value);this.stack.push(e);break;case b.eU:this.stack.push(this.stack[this.stack.length-
1]);break;case b.dU:this.stack.pop();break;case b.yU:this.stack.push(this.stack[this.stack.length-1-a[d++]]);break;case b.xU:this.stack.push(this.stack[this.stack.length-2]);break;case b.NU:e=this.stack.pop();k=this.stack.pop();this.stack.push(e);this.stack.push(k);break;case b.GU:var l=this.stack.pop();this.stack.splice(this.stack.length-2,0,l);break;case b.$T:var e=this.stack.pop(),n=gm(this.qe,e,b.Ei);this.stack.push(n);break;case b.aU:l=a[d++];e=this.stack.pop();n=gm(this.qe,e,b.kE,l);this.stack.push(n);
break;case b.IT:l=this.stack.pop();isNaN(l)?this.stack.push(l.abs()):this.stack.push(Math.abs(l));break;case b.KT:e=this.stack.pop();k=this.stack.pop();isNaN(k)?this.stack.push(k.yA(e)):this.stack.push((k&e)>>>0);break;case b.cU:e=this.stack.pop();k=this.stack.pop();isNaN(k)?this.stack.push(k.div(e)):this.stack.push(Math.floor(k/e)>>>0);break;case b.pU:e=this.stack.pop();k=this.stack.pop();isNaN(k)?this.stack.push(hm(k,e)):this.stack.push(k-e>>>0);break;case b.qU:e=this.stack.pop();k=this.stack.pop();
isNaN(k)?this.stack.push(im(k,e)):this.stack.push(k%e>>>0);break;case b.rU:e=this.stack.pop();k=this.stack.pop();isNaN(k)?this.stack.push(k.mul(e)):this.stack.push(k*e>>>0);break;case b.tU:l=this.stack.pop();isNaN(l)?this.stack.push(jm(l)):this.stack.push(-l>>>0);break;case b.vU:l=this.stack.pop();isNaN(l)?this.stack.push(l.not()):this.stack.push(~l>>>0);break;case b.wU:e=this.stack.pop();k=this.stack.pop();isNaN(k)?this.stack.push(k.hC(e)):this.stack.push((k|e)>>>0);break;case b.AU:e=this.stack.pop();
k=this.stack.pop();isNaN(k)?this.stack.push(km(k,e)):this.stack.push(k+e>>>0);break;case b.BU:l=this.stack.pop();k=V.gb.Pf(!1,a,d);isNaN(l)?this.stack.push(km(l,k.value)):this.stack.push(l+k.value>>>0);d+=k.Dc;break;case b.HU:e=this.stack.pop();k=this.stack.pop();isNaN(k)?this.stack.push(lm(k,e)):this.stack.push(k<<e>>>0);break;case b.IU:e=this.stack.pop();k=this.stack.pop();isNaN(k)?this.stack.push(mm(k,e)):this.stack.push(k>>e>>>0);break;case b.JU:e=this.stack.pop();k=this.stack.pop();isNaN(k)?
this.stack.push(nm(k,e)):this.stack.push(k>>>e>>>0);break;case b.OU:e=this.stack.pop();k=this.stack.pop();isNaN(k)?this.stack.push(k.wD(e)):this.stack.push((k^e)>>>0);break;case b.mU:e=this.stack.pop();k=this.stack.pop();isNaN(k)?this.stack.push(om(k,e)?1:0):this.stack.push(k<=e?1:0);break;case b.iU:e=this.stack.pop();k=this.stack.pop();isNaN(k)?this.stack.push(pm(k,e)?1:0):this.stack.push(k>=e?1:0);break;case b.gU:e=this.stack.pop();k=this.stack.pop();isNaN(k)?this.stack.push(k.eq(e)?1:0):this.stack.push(k==
e?1:0);break;case b.oU:e=this.stack.pop();k=this.stack.pop();isNaN(k)?this.stack.push(qm(k,e)?1:0):this.stack.push(k<e?1:0);break;case b.jU:e=this.stack.pop();k=this.stack.pop();isNaN(k)?this.stack.push(rm(k,e)?1:0):this.stack.push(k>e?1:0);break;case b.sU:e=this.stack.pop();k=this.stack.pop();isNaN(k)?this.stack.push(sm(k,e)?1:0):this.stack.push(k!=e?1:0);break;case b.KU:k=c.getInt16(d,!0);d+=2+k;break;case b.MT:k=c.getInt16(d,!0);d+=2;e=this.stack.pop();0!=e&&(d+=k);break;case b.PT:k=c.getUint16(d,
!0);d+=2;(k=this.Ze.Dj(k.value).attributes.DW_AT_location)&&this.zd(k);break;case b.QT:k=c.getUint32(d,!0);d+=4;(k=this.Ze.Dj(k.value).attributes.DW_AT_location)&&this.zd(k);break;case b.uU:break;case b.zU:k=V.gb.Pf(!1,a,d);l=k.value;d+=k.Dc;if(this.Ll)for(k=0;k<l;k++)this.nC.push(this.Ll.nw[k]);else if(e=this.stack.pop(),void 0!=e)for(k=0;k<l;k++)this.nC.push(this.qe.Fa.Ca[e+k]);else this.error=!0,console.error("Atmega debugger: not able to handle composite location expressions with unavailable parts");
this.stack=[];this.Ll=null;break;case b.LT:k=V.gb.Pf(!1,a,d);d+=k.Dc;k=V.gb.Pf(!1,a,d);d+=k.Dc;this.error=!0;console.error("Atmega debugger: not able to handle composite location expressions with bit offsets");this.stack=[];this.Ll=null;break;case b.lU:k=V.gb.Pf(!1,a,d);l=k.value;d+=k.Dc;this.Ll=new V.gb.Hd(a.slice(d,d+l),b.Ei);d+=l;break;case b.MU:l=this.stack[this.stack.length-1];this.Ll=l.constructor==V.gb.Hd?l:new V.gb.Hd(l,b.Ei);break;case b.kU:case b.FT:e=c.getUint32(d,!0);d+=4;k=V.gb.Pf(!0,
a,d);d+=k.Dc;k=this.Ze.Dj(e);void 0!=k&&(n=cm(this.qe,k,this.qI).getValue(!0),this.Ll=new V.gb.Hd(n,b.Ei));console.warn("Atmega debugger: found DW_OP_implicit_pointer in location expression, current implementation can contain errors");this.error=!0;break;case b.fU:case b.ET:k=V.gb.Pf(!1,a,d);d+=k.Dc;k=k.value;e=a.slice(d,d+k);d+=k;bm(this.qe,this.Ze,e,this.qI);this.stack.push(n);console.warn("Atmega debugger: found DW_OP_entry_value in location expression, current implementation will contain errors");
this.error=!0;break;case b.XT:case b.CT:k=V.gb.Pf(!1,a,d);d+=k.Dc;k=this.Ze.Dj(k.value);l=a[d++];k=new V.gb.Hd(a.slice(d,d+l),k.attributes.DW_AT_encoding,k.attributes.DW_AT_byte_size);this.stack.push(k);d+=l;break;case b.DU:case b.GT:k=V.gb.Pf(!1,a,d);d+=k.Dc;e=fm(this.qe,k.value);k=V.gb.Pf(!1,a,d);d+=k.Dc;k=this.Ze.Dj(k.value);k=new V.gb.Hd(this.qe.Fa.Ca,k.attributes.DW_AT_encoding,k.attributes.DW_AT_byte_size,e);this.stack.push(k);break;case b.bU:case b.DT:e=this.stack.pop();d++;k=V.gb.Pf(!1,a,
d);d+=k.Dc;k=this.Ze.Dj(k.value);k=new V.gb.Hd(this.qe.Fa.Ca,k.attributes.DW_AT_encoding,k.attributes.DW_AT_byte_size,e);this.stack.push(k);break;case b.WL:case b.UL:case b.FU:case b.HT:l=this.stack.pop();k=V.gb.Pf(!1,a,d);d+=k.Dc;if((k=this.Ze.Dj(k.value))&&"DW_TAG_base_type"==k.tag)if(l.constructor==V.gb.Hd)if(e==b.WL||b.UL){var e=l,l=k.attributes.DW_AT_encoding,k=k.attributes.DW_AT_byte_size,q=e.getValue();e.encoding=l;e.Dc=k;k=e.setValue(q)}else e=l,l=k.attributes.DW_AT_byte_size,e.encoding=k.attributes.DW_AT_encoding,
e.Dc=l,k=e;else k=new V.gb.Hd(l,k.attributes.DW_AT_encoding,k.attributes.DW_AT_byte_size);else k=l;this.stack.push(k);break;default:if(e<=b.nU&&e>=b.XL)this.stack.push(e-b.XL);else if(e<=b.NT&&e>=b.VL)e=fm(this.qe,e-b.VL),e=gm(this.qe,e,b.Ei),k=V.gb.Pf(!0,a,d),this.stack.push(e+k.value),d+=k.Dc;else if(e<=b.CU&&e>=b.YL)e=fm(this.qe,e-b.YL),this.stack.push(e);else{this.error=!0;console.assert(!1,"Atmega debugger: location expression not recognized");return}}}};
function em(a){return a.error?null:a.Ll?a.Ll:0<a.nC.length?new V.gb.Hd(a.nC):a.stack[a.stack.length-1]}V.gb.Pf=function(a,b,c){c=c||0;for(var d=0,e=0;d+c<b.length;)if(e|=(b[d+c]&127)<<7*d,b[d+c]&128)d++;else break;d++;a&&b[d-1+c]&64&&(e|=-(1<<7*d));return{value:e,Dc:d}};
V.gb.u2=function(){var a=new V.gb.aA;a.zd([3,170,187]);a.zd([8,170]);a.zd([9,170]);a.zd([10,170,187]);a.zd([11,170,187]);a.zd([12,170,187,204,221]);a.zd([13,170,187,204,221]);a.zd([16,229,142,38]);a.zd([17,155,241,89]);a.zd([58]);a.zd([18]);a.zd([21,9]);a.zd([20]);a.zd([79]);a.zd([22]);a.zd([23]);a.zd([19]);a.zd([54]);a.zd([31]);a.zd([25]);a.zd([32]);em(a)};V.gb.Hd=function(a,b,c,d){var e=V.gb.$r;this.encoding=b||e.Ei;this.Dc=c||2;this.buffer=new ArrayBuffer(8);this.nw=new Uint8Array(this.buffer);this.ce=new DataView(this.buffer);if(void 0!=a)if(a.constructor==V.gb.Hd)void 0==b&&(this.encoding=a.encoding),void 0==c&&(this.Dc=a.Dc),this.nw.set(a.nw);else if(ArrayBuffer.isView(a))if(d&&void 0!=d.DA){c=Math.ceil((d.DA+d.gw)/8);for(var k=0,l=0;l<c;l++)k|=a[d.QN+l]<<8*l;k=k>>d.DA&(1<<d.gw)-1;(b==e.jE||b==e.av)&&k&1<<d.gw-1&&(k|=-(1<<d.gw));this.ce.setInt32(0,
k,!0)}else d=d||0,this.nw.set(a.subarray(d,d+this.Dc));else a.constructor==Array?this.nw.set(a):isNaN(a)||(a==a>>0?this.ce.setInt32(0,a,!0):this.ce.setFloat32(0,a,!0))};f=V.gb.Hd.prototype;f.clone=function(){return new V.gb.Hd(this)};
f.getValue=function(a,b){a=a||this.encoding;b=b||this.Dc;var c=null,d=V.gb.$r;switch(a){case d.Ei:c=this.ce.getUint16(0,!0);break;case d.SL:c=0!=this.ce.getUint8(0,!0);break;case d.kE:switch(b){case 1:c=this.ce.getUint8(0,!0);break;case 2:c=this.ce.getUint16(0,!0);break;case 4:c=this.ce.getUint32(0,!0)}break;case d.jE:switch(b){case 1:c=this.ce.getInt8(0,!0);break;case 2:c=this.ce.getInt16(0,!0);break;case 4:c=this.ce.getInt32(0,!0)}break;case d.TL:switch(b){case 4:c=this.ce.getFloat32(0,!0);break;
case 8:c=this.ce.getFloat64(0,!0)}break;case d.lz:c=this.ce.getUint8(0,!0);break;case d.av:c=this.ce.getInt8(0,!0);break;default:console.error("Atmega debugger: Unknown variable type")}return c};
f.setValue=function(a,b,c){b=b||this.encoding;c=c||this.Dc;var d=V.gb.$r;switch(b){case d.Ei:this.ce.setUint16(0,a,!0);break;case d.SL:this.ce.setUint8(0,a?1:0,!0);break;case d.kE:switch(c){case 1:this.ce.setUint8(0,a,!0);break;case 2:this.ce.setUint16(0,a,!0);break;case 4:this.ce.setUint32(0,a,!0)}break;case d.jE:switch(c){case 1:this.ce.setInt8(0,a,!0);break;case 2:this.ce.setInt16(0,a,!0);break;case 4:this.ce.setInt32(0,a,!0)}break;case d.TL:switch(c){case 4:this.ce.setFloat32(0,a,!0);break;case 8:this.ce.setFloat64(0,
a,!0)}break;case d.lz:this.ce.setUint8(0,a,!0);break;case d.av:this.ce.setInt8(0,a,!0);break;default:console.error("Atmega debugger: Unknown variable type")}return this};function km(a,b){return(new V.gb.Hd(null,a.encoding,a.Dc)).setValue(a.getValue()+(b.getValue?b.getValue():b))}function hm(a,b){return(new V.gb.Hd(null,a.encoding,a.Dc)).setValue(a.getValue()-(b.getValue?b.getValue():b))}
f.mul=function(a){return(new V.gb.Hd(null,this.encoding,this.Dc)).setValue(this.getValue()*(a.getValue?a.getValue():a))};f.div=function(a){return(new V.gb.Hd(null,this.encoding,this.Dc)).setValue(this.getValue()/(a.getValue?a.getValue():a))};function im(a,b){return(new V.gb.Hd(null,a.encoding,a.Dc)).setValue(a.getValue()%(b.getValue?b.getValue():b))}f.abs=function(){return(new V.gb.Hd(null,this.encoding,this.Dc)).setValue(Math.abs(this.getValue()))};
function jm(a){return(new V.gb.Hd(null,a.encoding,a.Dc)).setValue(Math.abs(-a.getValue()))}f.yA=function(a){return(new V.gb.Hd(null,this.encoding,this.Dc)).setValue(this.getValue()&(a.getValue?a.getValue():a))};f.hC=function(a){return(new V.gb.Hd(null,this.encoding,this.Dc)).setValue(this.getValue()|(a.getValue?a.getValue():a))};f.wD=function(a){return(new V.gb.Hd(null,this.encoding,this.Dc)).setValue(this.getValue()^(a.getValue?a.getValue():a))};
function lm(a,b){return(new V.gb.Hd(null,a.encoding,a.Dc)).setValue(a.getValue()<<(b.getValue?b.getValue():b))}function mm(a,b){return(new V.gb.Hd(null,a.encoding,a.Dc)).setValue(a.getValue()>>(b.getValue?b.getValue():b))}function nm(a,b){return(new V.gb.Hd(null,a.encoding,a.Dc)).setValue(a.getValue()>>>(b.getValue?b.getValue():b))}f.not=function(){return(new V.gb.Hd(null,this.encoding,this.Dc)).setValue(Math.abs(~this.getValue()))};
function qm(a,b){return a.getValue()<(b.getValue?b.getValue():b)}function rm(a,b){return a.getValue()>(b.getValue?b.getValue():b)}function om(a,b){return a.getValue()<=(b.getValue?b.getValue():b)}function pm(a,b){return a.getValue()>=(b.getValue?b.getValue():b)}f.eq=function(a){return this.getValue()==(a.getValue?a.getValue():a)};function sm(a,b){return a.getValue()!=(b.getValue?b.getValue():b)};V.gb.Ss=function(a,b,c,d,e){this.qe=a;this.name=void 0!=b?b:"";this.data=c;this.xb=d;this.value=null;e&&e.constructor!=V.gb.mz?(this.$k=e.$k,this.Vc=e):(this.$k=e,this.Vc=null)};f=V.gb.Ss.prototype;f.getName=function(){return this.name};
f.getValue=function(a){var b=V.gb.$r;tm(this);var c=this.value;a||null==c||(rj(this)||this.Zb()?c="0x"+("0000"+this.value.toString(16).toUpperCase()).substr(-4):this.Vc.gI?c+=" ("+this.Vc.gI[this.value]+")":this.Vc.encoding==b.lz||this.Vc.encoding==b.av?c+=" ('"+String.fromCharCode(this.value)+"')":!this.isArray()||this.Vc.Ym.encoding!=b.lz&&this.Vc.Ym.encoding!=b.av||(a=this.value.map(function(a){return a.getValue(!0)}),b=a.indexOf(0),0<b&&(c=String.fromCharCode.apply(null,a.slice(0,b)))));return c};
f.AB=function(){this.Vc||(this.Vc=um(this,this.$k));return this.Vc.typeName};f.isArray=function(){this.Vc||(this.Vc=um(this,this.$k));return void 0!=this.Vc.Km};f.isObject=function(){this.Vc||(this.Vc=um(this,this.$k));return void 0!=this.Vc.isObject};function rj(a){a.Vc||(a.Vc=um(a,a.$k));return void 0!=a.Vc.pointerType}f.Zb=function(){this.Vc||(this.Vc=um(this,this.$k));return void 0!=this.Vc.QJ};
function qj(a){return(rj(a)||a.Zb())&&a.getValue(!0)?(a.MQ||(a.MQ=new V.gb.Ss(a.qe,"",a.qe.Fa.Ca,a.value,a.Vc.pointerType||a.Vc.QJ)),a.MQ):null}
function um(a,b){var c=V.gb.$r,d={$k:b};switch(b.tag){case "DW_TAG_base_type":d.encoding=b.attributes.DW_AT_encoding;d.pi=b.attributes.DW_AT_byte_size;d.typeName=b.attributes.DW_AT_name;break;case "DW_TAG_const_type":d=um(a,b.attributes.DW_AT_type);"const"!=d.typeName.substr(0,5)&&(d.typeName="const "+d.typeName);break;case "DW_TAG_volatile_type":d=um(a,b.attributes.DW_AT_type);d.typeName="volatile "+d.typeName;break;case "DW_TAG_typedef":d=um(a,b.attributes.DW_AT_type);break;case "DW_TAG_enumeration_type":d.encoding=
b.attributes.DW_AT_encoding||c.Ei;d.pi=b.attributes.DW_AT_byte_size||2;d.typeName=b.attributes.DW_AT_name||"anonymous enum";d.gI=[];for(var e in b.children)c=b.children[e],"DW_TAG_enumerator"==c.tag&&(d.gI[c.attributes.DW_AT_const_value]=c.attributes.DW_AT_name);break;case "DW_TAG_pointer_type":d.pointerType=um(a,b.attributes.DW_AT_type);d.encoding=c.Ei;d.pi=b.attributes.DW_AT_byte_size||2;d.typeName=d.pointerType.typeName+"*";break;case "DW_TAG_reference_type":d.QJ=um(a,b.attributes.DW_AT_type);
d.encoding=c.Ei;d.pi=b.attributes.DW_AT_byte_size||2;d.typeName=d.QJ.typeName+"&";break;case "DW_TAG_array_type":d.Ym=um(a,b.attributes.DW_AT_type);d.iB=1;d.Km=[];for(e in b.children)if(c=b.children[e],"DW_TAG_subrange_type"==c.tag||"DW_TAG_enumeration_type"==c.tag){var k=c.attributes.DW_AT_upper_bound;isNaN(k)&&(k=dm(a.qe,c.Ze,k));var l=c.attributes.DW_AT_lower_bound||0;isNaN(l)&&(l=dm(a.qe,c.Ze,l));d.Km.push(k-l+1);d.iB*=k-l+1}d.typeName=d.Ym.typeName+"["+d.Km.join("][")+"]";d.pi=d.Ym.pi*d.iB;break;
case "DW_TAG_structure_type":d.isObject=!0;d.typeName="struct "+b.attributes.DW_AT_name;d.pi=b.attributes.DW_AT_byte_size||1;break;case "DW_TAG_union_type":d.isObject=!0;d.typeName="union "+b.attributes.DW_AT_name;d.pi=b.attributes.DW_AT_byte_size||1;break;case "DW_TAG_class_type":d.isObject=!0;d.typeName=b.attributes.DW_AT_name;d.pi=b.attributes.DW_AT_byte_size||1;break;default:d.typeName="error",console.assert(!1,"Atmega debugger: Unknown variable type: ",b.tag)}return d}
function tm(a){if(null==a.value)if(null==a.data)a.value=null;else if(a.isArray()){a.value=[];for(var b=a.Vc.Ym,c=0;c<a.Vc.iB&&!(a.xb+c*b.pi>a.qe.fq);c++)a.value.push(new V.gb.Ss(a.qe,c,a.data,a.xb+c*b.pi,b));for(c=a.Vc.Km.length-1;0<c;c--){for(var b=a.Vc.Km[c],d=[],e={Ym:a.Vc.Ym,Km:a.Vc.Km.slice(c),typeName:a.Vc.Ym.typeName+"["+a.Vc.Km.slice(c).join("][")+"]"},k=0;k<a.value.length;k+=b){var l=new V.gb.Ss(a.qe,k/b);l.value=a.value.slice(k,k+b);l.Vc=e;d.push(l)}a.value=d}}else if(a.isObject())for(c in a.value=
{},b=0,a.Vc.$k.children){if(d=a.Vc.$k.children[c],"DW_TAG_member"==d.tag){e=d.attributes.DW_AT_name||"<m"+b++ +">";if(void 0!=d.attributes.DW_AT_data_member_location){if(k=d.attributes.DW_AT_data_member_location,isNaN(k)?(l=new V.gb.aA(a.qe,d.Ze),l.stack.push(a.xb),l.zd(k),k=em(l)):k=address+k,void 0!=d.attributes.DW_AT_bit_offset)var l=d.attributes.DW_AT_byte_size||um(a,d.attributes.DW_AT_type).pi,n=d.attributes.DW_AT_bit_size,k={QN:k,DA:8*l-d.attributes.DW_AT_bit_offset-n,gw:n}}else if(void 0!=
d.attributes.DW_AT_data_bit_offset)k={QN:a.xb,DA:d.attributes.DW_AT_data_bit_offset,gw:d.attributes.DW_AT_bit_size||8*d.attributes.DW_AT_byte_size||8*um(a,d.attributes.DW_AT_type).pi};else if(void 0!=d.attributes.DW_AT_declaration){d.RR?a.value[e]=cm(a.qe,d.RR):console.assert(!1,"Atmega debugger: specification for static member was not found in dwarf info ",e);continue}else k=a.xb;a.value[e]=new V.gb.Ss(a.qe,e,a.data,k,d.attributes.DW_AT_type)}}else a.value=(new V.gb.Hd(a.data,a.Vc.encoding,a.Vc.pi,
a.xb)).getValue()};V.Model.iz=function(a,b,c){this.ba=b;D.call(this);F(this,"idle","idle",function(a){return a.type()===H.Mg&&a.data("statemachine")==c},function(a){var b=a.element().na;a=b.Sf?b.Sf.get(a.data("subelement")):b;a.position(!a.position())})};V.Model.iz.prototype=inherit(D.prototype);V.Model.iz.prototype.constructor=V.Model.iz;V.Cg.put("click",V.Model.iz);V.Model.ky=function(a,b,c){var d=this;this.ba=b;D.call(this);F(this,"idle","sliding",function(a){return a.type()===H.Mg&&a.data("statemachine")==c},function(a){var b=a.element(),c=a.element().na,c=c.Sf?c.Sf.get(a.data("subelement")):c;d.ad={position:c.position,Tb:b.eb().add(c.dm.rotate(b.Oa())),end:b.eb().add(c.em.rotate(b.Oa()))};a=d.uj(a.data("mouseCoord"),d.ad);d.ad.position(a)});F(this,"sliding","sliding",function(a){return a.type()===H.Od},function(a){a=d.uj(a.data("mouseCoord"),d.ad);d.ad.position(a)});
F(this,"sliding","idle",function(a){return a.type()===H.He},function(){d.ad=null})};V.Model.ky.prototype=inherit(D.prototype);V.Model.ky.prototype.constructor=V.Model.ky;V.Cg.put("slider",V.Model.ky);V.Model.ky.prototype.uj=function(a,b){var c=Q(this.ba,a).sub(b.Tb),d=b.end.sub(b.Tb),c=c.dot(d)/d.dot(d);return 0>c?0:1<c?1:c};V.Model.Rz=function(a,b,c){var d=this;d.ba=b;D.call(this);F(this,"idle","rotating",function(a){return a.type()===H.Mg&&a.data("statemachine")==c},function(a){var b=a.element(),c=a.element().na,c=c.Sf?c.Sf.get(a.data("subelement")):c;d.ad={position:c.position,qb:c.Pl.rotate(b.Oa()).add(b.eb()),XY:b.Oa()+c.Ol};a=vm(d,a.data("mouseCoord"),d.ad);b=270*d.ad.position()+45;45<a&&315>a?(b=(a-45)/270,d.Fq="middle"):180>b?(b=0,d.Fq="begin"):(b=1,d.Fq="end");d.ad.position(b);d.VQ=a});F(this,"rotating","rotating",
function(a){return a.type()===H.Od},function(a){a=vm(d,a.data("mouseCoord"),d.ad);var b=wm(a,d.VQ);switch(d.Fq){case "begin":b.tO&&(d.Fq="middle");break;case "middle":b.sO?(b=0,d.Fq="begin"):b.rO?(b=1,d.Fq="end"):b=(a-45)/270;d.ad.position(b);break;case "end":b.qO&&(d.Fq="middle")}d.VQ=a});F(this,"rotating","idle",function(a){return a.type()===H.He},function(){d.ad=null})};V.Model.Rz.prototype=inherit(D.prototype);V.Model.Rz.prototype.constructor=V.Model.Rz;V.Cg.put("potentiometer",V.Model.Rz);
function vm(a,b,c){return(Pb(Q(a.ba,b).sub(c.qb))-c.XY+720)%360}function wm(a,b){function c(a,b){var c=a-b;return 180>c&&-180<c?c:-c}var d={tO:!1,sO:!1,rO:!1,qO:!1};0<c(a,b)?(0<c(45,b)&&0<c(a,45)&&(d.tO=!0),0<c(315,b)&&0<c(a,315)&&(d.rO=!0)):(0>c(45,b)&&0>c(a,45)&&(d.sO=!0),0>c(315,b)&&0>c(a,315)&&(d.qO=!0));return d};V.Model.dz=function(a,b,c){this.ba=b;D.call(this);var d=null;F(this,"idle","idle",function(a){return a.type()===H.Mg&&a.data("statemachine")==c&&a.data("shiftKey")},function(a){var b=a.element().na;d=b.Sf?b.Sf.get(a.data("subelement")):b;d.cf(!0)});F(this,"idle","mouse_down",function(a){return a.type()===H.Mg&&a.data("statemachine")==c&&!a.data("shiftKey")},function(a){var b=a.element().na;d=b.Sf?b.Sf.get(a.data("subelement")):b;d.cf(!0)});F(this,"mouse_down","idle",function(a){return a.type()===
H.He},function(){d.cf(!1)})};V.Model.dz.prototype=inherit(D.prototype);V.Model.dz.prototype.constructor=V.Model.dz;V.Cg.put("button",V.Model.dz);V.Model.Yy=function(a,b){this.ba=b;D.call(this);F(this,"idle","idle",function(a){return a.type()===H.HM},function(a){a.element().na.Fu(a.data("msg"))})};V.Model.Yy.prototype=inherit(D.prototype);V.Model.Yy.prototype.constructor=V.Model.Yy;V.Cg.put("arduino",V.Model.Yy);V.dd=function(a,b,c,d,e){var k=this;D.call(this);k.fb=!1;k.mb=a;k.hc=b;k.nb=c;k.Xc=d;k.Ab=e;k.Ma=new V.ta(a,"I2C_timing_signal",0);k.Ma.Ka([k,k.handle,["I2Ctimer"]]);k.jf=!1;k.ew=!1;k.data=0;this.init();F(k,"idle","Slave",function(){return k.hc.mc()&&k.nb.value()},null);F(k,"idle","busBusyClock",function(){return k.nb.mc()},null);F(k,"busBusyClock","idleBuffer",function(a){return"portAcitivity"==a.type()&&k.hc.value()&&k.nb.value()},function(){k.Ma.setValue(4.7E-6,!0)});F(k,"idleBuffer","idle",function(a){return"I2Ctimer"==
a.type()},function(){k.Ab.PN&&k.Ab.PN()});F(k,"idleBuffer","Slave",function(){return k.hc.mc()&&k.nb.value()},function(){Tk(k.Ma,k.mb.time)});F(k,"idleBuffer","busBusyClock",function(){return k.nb.mc()},function(){Tk(k.Ma,k.mb.time)});F(k,"idle","sendStart",function(a){return"sendStartCondition"==a.type()},function(){k.hc.setValue(0,0);k.Ma.setValue(4E-6,!0)});F(k,"sendStart","Master",function(a){return"I2Ctimer"==a.type()},function(){k.Ab.UR&&k.Ab.UR()});a=new V.dd.Fv(k);k.append("SendSLA",a,"Master",
null,"Master",null);a.$m.remove();F(k,a.$i,"MasterTransmitter",function(){return k.nb.mc()&&0==(k.data&1)},function(){k.Ab.$M&&k.Ab.$M(k.ew,k.jf)});b=new V.dd.Fv(k);k.append("MT",b,"MasterTransmitter",null,"MasterTransmitter",function(){k.Ab.xM&&k.Ab.xM(k.ew,k.jf)});F(k,a.$i,"MasterReceiver",function(){return k.nb.mc()&&1==(k.data&1)},function(){k.Ab.YM&&k.Ab.YM(k.ew,k.jf)});a=new V.dd.xz(k,k.Ab.eT||function(){return!1});k.append("MR",a,"MasterReceiver",null,"MasterReceiver",function(){k.Ab.wM&&k.Ab.wM(k.data,
k.jf)});["Master","MasterTransmitter","MasterReceiver"].forEach(function(a){F(k,a,"sendRepeatedStart_step1",function(a){return"sendStartCondition"==a.type()},function(){k.nb.setValue(k.Xc()/2,1)});F(k,a,"sendStop_step1",function(a){return"sendStopCondition"==a.type()},function(){k.hc.setValue(k.Xc()/4,0);k.nb.setValue(k.Xc()/2,1)})});F(k,"sendRepeatedStart_step1","sendRepeatedStart_step2",function(){return k.nb.yc()},function(){k.hc.setValue(1E-6,0);k.Ma.setValue(5E-6,!0)});F(k,"sendRepeatedStart_step2",
"Master",function(a){return"I2Ctimer"==a.type()},function(){k.Ab.lR&&k.Ab.lR()});F(k,"sendStop_step1","sendStop_step2",function(){return k.nb.yc()},function(){k.hc.setValue(4E-6,1)});F(k,"sendStop_step2","idleBuffer",function(){return k.hc.yc()&&k.nb.value()},function(){k.Ab.XR&&k.Ab.XR();k.Ma.setValue(4.7E-6,!0)});a=new V.dd.Bv(k,k.Ab.p3||function(){return!1});k.append("ReceiveSLA",a,"Slave",null,"Slave",null);a.$m.remove();F(k,a.$i,"busBusyTransmission",function(){return k.nb.mc()&&!k.jf},function(){k.hc.setValue(0,
1)});F(k,"busBusyTransmission","Slave",function(){return k.hc.mc()&&k.nb.value()},null);F(k,"busBusyTransmission","idleBuffer",function(){return k.hc.yc()&&k.nb.value()},function(){k.Ma.setValue(4.7E-6,!0)});F(k,a.$i,"SlaveReceiver",function(){return k.nb.mc()&&k.jf&&0==(k.data&1)},function(){k.hc.setValue(0,1);k.Ab.ZM&&k.Ab.ZM(k.ew)});b=new V.dd.Bv(k,k.Ab.eT||function(){return!1});k.append("SR",b,"SlaveReceiver",null,"SlaveReceiver",null);b.$m.remove();F(k,b.$i,"SlaveReceiver",function(){return k.nb.mc()&&
k.jf},function(){k.hc.setValue(0,1);k.Ab.Wz&&k.Ab.Wz(k.data,k.jf)});F(k,b.$i,"busBusyTransmission",function(){return k.nb.mc()&&!k.jf},function(){k.hc.setValue(0,1);k.Ab.Wz&&k.Ab.Wz(k.data,k.jf)});F(k,b.WO,"idleBuffer",function(){return k.hc.yc()&&k.nb.value()},function(){k.Ab.OM&&k.Ab.OM();k.Ma.setValue(4.7E-6,!0)});F(k,b.WO,"SlaveBuffer",function(){return k.hc.mc()&&k.nb.value()},function(){k.Ma.setValue(4E-6,!0)});F(k,"SlaveBuffer","Slave",function(a){return"I2Ctimer"==a.type()},function(){k.Ab.NM&&
k.Ab.NM()});F(k,a.$i,"SlaveTransmitter",function(){return k.nb.mc()&&k.jf&&1==(k.data&1)},function(){k.hc.setValue(0,1);k.Ab.XM&&k.Ab.XM(k.ew)});a=new V.dd.$z(k);k.append("ST",a,"SlaveTransmitter",null,"SlaveTransmitter",null);a.$m.remove();F(k,a.$i,"SlaveTransmitter",function(){return k.nb.mc()&&k.jf},function(){k.Ab.Xz&&k.Ab.Xz(k.jf)});F(k,a.$i,"busBusyTransmission",function(){return k.nb.mc()&&!k.jf},function(){k.Ab.Xz&&k.Ab.Xz(k.jf)});F(k,"SlaveTransmitter","busBusyTransmission",function(){return k.nb.yc()},
null)};V.dd.prototype=inherit(D.prototype);V.dd.prototype.constructor=V.dd;V.dd.prototype.init=function(){this.hc.value()&&this.nb.value()?this.bm("idle"):this.bm("busBusyClock")};
V.dd.Fv=function(a){var b=this;D.call(this);b.fb=a.fb;b.hc=a.hc;b.nb=a.nb;b.Xc=a.Xc;F(b,"idle","sendBit_7",function(a){return"sendData"==a.type()},function(c){a.data=c.data("dataByte");b.nb.setValue(0,0);b.hc.setValue(0,a.data>>7&1,b.Xc()/4);b.nb.setValue(b.Xc()/2,1)});[6,5,4,3,2,1,0,-1].forEach(function(c){F(b,"sendBit_"+(c+1),"sendBit_"+c,function(){return b.nb.yc()},function(){b.nb.setValue(b.Xc()/2,0);var d=0<=c?a.data>>c&1:1;b.hc.setValue(3*b.Xc()/4,d);b.nb.setValue(b.Xc(),1)})});F(b,"sendBit_-1",
"getAckNack",function(){return b.nb.yc()},function(){a.jf=0==b.hc.value();b.nb.setValue(b.Xc()/2,0)});b.$i=nb(b,"getAckNack");b.$m=F(b,"getAckNack","idle",function(){return b.nb.mc()},null)};V.dd.Fv.prototype=inherit(D.prototype);V.dd.Fv.prototype.constructor=V.dd.Fv;
V.dd.Bv=function(a,b){var c=this;D.call(this);c.fb=a.fb;c.hc=a.hc;c.nb=a.nb;F(c,"idle","receiveBit_7",function(){return c.nb.yc()},function(){a.data=c.hc.value()<<7});c.WO=nb(c,"receiveBit_7");[6,5,4,3,2,1,0].forEach(function(b){F(c,"receiveBit_"+(b+1),"receiveBit_"+b,function(){return c.nb.yc()},function(){a.data|=c.hc.value()<<b})});F(c,"receiveBit_0","sendAckNack",function(){return c.nb.mc()},function(){a.jf=b(a.data);a.jf&&c.hc.setValue(1E-6,0)});c.$i=nb(c,"sendAckNack");c.$m=c.$m=F(c,"sendAckNack",
"idle",function(){return c.nb.mc()},function(){c.hc.setValue(0,1)})};V.dd.Bv.prototype=inherit(D.prototype);V.dd.Bv.prototype.constructor=V.dd.Bv;
V.dd.xz=function(a,b){var c=this;D.call(this);c.fb=a.fb;c.hc=a.hc;c.nb=a.nb;c.Xc=a.Xc;F(c,"idle","getBit_8",function(a){return"sendData"==a.type()},function(){a.data=0;c.nb.setValue(0,0);c.hc.setValue(0,1);c.nb.setValue(c.Xc()/2,1)});[7,6,5,4,3,2,1].forEach(function(b){F(c,"getBit_"+(b+1),"getBit_"+b,function(){return c.nb.yc()},function(){a.data|=c.hc.value()<<b;c.nb.setValue(c.Xc()/2,0);c.nb.setValue(c.Xc(),1)})});F(c,"getBit_1","getBit_0",function(){return c.nb.yc()},function(){a.data|=c.hc.value();
c.nb.setValue(c.Xc()/2,0);a.jf=b(a.data);a.jf&&c.hc.setValue(3*c.Xc()/4,0);c.nb.setValue(c.Xc(),1)});F(c,"getBit_0","sendAckNack",function(){return c.nb.yc()},function(){c.nb.setValue(c.Xc()/2,0)});c.$i=nb(c,"sendAckNack");c.$m=F(c,"sendAckNack","idle",function(){return c.nb.mc()},null)};V.dd.xz.prototype=inherit(D.prototype);V.dd.xz.prototype.constructor=V.dd.xz;
V.dd.$z=function(a){var b=this;D.call(this);b.fb=a.fb;b.hc=a.hc;b.nb=a.nb;b.Xc=a.Xc;F(b,"idle","setBit_7",function(a){return"loadData"==a.type()},function(c){a.data=c.data("dataByte");b.hc.setValue(0,a.data>>7&1);b.nb.setValue(1E-6,1)});[6,5,4,3,2,1,0,-1].forEach(function(c){F(b,"setBit_"+(c+1),"setBit_"+c,function(){return b.nb.mc()},function(){b.hc.setValue(1E-6,0<=c?a.data>>c&1:1)})});F(b,"setBit_-1","getAckNack",function(){return b.nb.yc()},function(){a.jf=0==b.hc.value()});b.$i=nb(b,"getAckNack");
b.$m=F(b,"getAckNack","idle",function(){return b.nb.mc()},null)};V.dd.$z.prototype=inherit(D.prototype);V.dd.$z.prototype.constructor=V.dd.$z;V.Qi={nv:0,eM:1,rv:2};
V.Es=function(a,b,c,d){var e=this;D.call(this);e.fb=!1;e.mb=a;e.ki=b;e.Xc=c;e.Ab=d;e.Ma=new V.ta(a,"UART_TX_timing_signal",0);e.Ma.Ka([e,e.handle,["uartTXtimer"]]);e.data=0;F(e,"idle","sendingData",function(a){return"sendData"==a.type()},function(a){e.data=a.data("dataByte");a=e.Ab.uB();var b=0;e.ki.setValue(0,0);for(var c=1,d=0;d<a.dq;d++){var r=e.data>>d&1,b=b^r;e.ki.setValue(e.Xc()*c,r);c++}0<a.Kk&&(a.Kk==V.Qi.rv&&(b^=1),e.ki.setValue(e.Xc()*c,b),c++);e.ki.setValue(e.Xc()*c,1);c+=a.ry;e.Ma.setValue(e.Xc()*
c,!0)});F(e,"sendingData","idle",function(a){return"uartTXtimer"==a.type()},function(){e.Ab.YA&&e.Ab.YA(e.data)});F(e,/.*/,"idle",function(a){return"reset"==a.type()},null)};V.Es.prototype=inherit(D.prototype);V.Es.prototype.constructor=V.Es;
V.Ds=function(a,b,c,d){var e=this;D.call(this);e.fb=!1;e.mb=a;e.Pi=b;e.Xc=c;e.Ab=d;e.Ma=new V.ta(a,"UART_RX_timing_signal",0);e.Ma.Ka([e,e.handle,["uartRXtimer"]]);e.ah=[];e.tg=null;F(e,"idle","startBit",function(){return e.Pi.mc()},function(){e.Ma.setValue(.5*e.Xc(),!0)});F(e,"startBit","idle",function(a){return"UARTtimer"==a.type()&&1==e.Pi.value()},null);F(e,"startBit","receiveBits",function(a){return"uartRXtimer"==a.type()&&0==e.Pi.value()},function(){e.tg=e.Ab.uB();e.ah=[];e.oQ=e.tg.dq+(0<e.tg.Kk?
1:0);e.Ab.TR&&e.Ab.TR();e.Ma.setValue(e.Xc(),!0)});F(e,"receiveBits","receiveBits",function(a){return"uartRXtimer"==a.type()&&e.ah.length<e.oQ},function(){e.ah.push(e.Pi.value());e.Ma.setValue(e.Xc(),!0)});F(e,"receiveBits","idle",function(a){return"uartRXtimer"==a.type()&&e.ah.length==e.oQ},function(){for(var a=e.Pi.value(),b=0,c=0,d=0;d<e.tg.dq;d++)b|=e.ah[d]<<d,c^=e.ah[d];var r=!1;0<e.tg.Kk&&(e.tg.Kk==V.Qi.rv&&(c^=1),c!=e.ah[d]&&(r=!0));e.Ab.XA&&e.Ab.XA(b,r,1!=a)});F(e,/.*/,"idle",function(a){return"reset"==
a.type()},function(){e.ah=[];e.tg=null})};V.Ds.prototype=inherit(D.prototype);V.Ds.prototype.constructor=V.Ds;V.Mz=function(a,b,c,d){var e=this;D.call(this);e.ca=a;e.mj=b;e.Xc=c;e.i_=.2*c;e.j_=.7*c;e.Ab=d;e.Ma=new V.ta(a,"neopixel_transmit_timing_signal",0);e.Ma.Ka([e,e.handle,["neopixelTxTimer"]]);F(e,"idle","sendingData",function(a){return"sendData"==a.type()},function(a){a=a.data("data");var b=0,c,d,r=0,t=0;if(a.length){for(var v=0;v<a.length;++v)if(c=a[v],0>c)t=5E-5;else if(256>c)for(var x=0;8>x;++x,++b)r=e.Xc*b,d=c&128?1:0,e.mj.setValue(r,1),e.mj.setValue(r+(d?e.j_:e.i_),0),c<<=1;e.Ma.setValue(e.Xc*
a.length*8+t,!0)}});F(e,"sendingData","idle",function(a){return"neopixelTxTimer"==a.type()},function(){e.Ab.QY&&e.Ab.QY()})};V.Mz.prototype=inherit(D.prototype);V.Mz.prototype.constructor=V.Mz;
V.Lz=function(a,b,c,d,e,k){var l=this;D.call(this);l.ca=a;l.$u=b;l.mj=c;l.yg=e;l.Xc=d;l.Ab=k;l.aJ=0;l.br=0;l.ah=[];l.Ma=new V.ta(a,"neopixel_receive_timing_signal",0);l.Ma.Ka([l,l.handle,["neopixelRxTimer"]]);var n=3E-7*e;l.dR=function(a){if(l.br<l.yg&&(l.ah.push(a),24===l.ah.length)){if(l.Ab.pR){for(var b=a=0,c=0,d=0;8>d;++d)b<<=1,b|=l.ah[d],a<<=1,a|=l.ah[d+8],c<<=1,c|=l.ah[d+16];l.Ab.pR(l.br,a,b,c)}++l.br;l.ah=[]}};F(l,"idle","sample",function(){return l.$u.yc()},function(){5E-5<l.ca.time.time-
l.aJ?(l.aJ=l.ca.time.time,l.ah=[],l.br=0,l.mj&&l.mj.setValue(n,0),l.Ab.reset&&l.Ab.reset()):l.br>=l.yg&&l.mj&&l.mj.setValue(n,1);l.Ma.setValue(.5*l.Xc,!0)});F(l,"sample","sample",function(){return l.$u.mc()},function(){l.aJ=l.ca.time.time;l.br>=l.yg&&l.mj&&l.mj.setValue(n,0)});F(l,"sample","idle",function(a){return"neopixelRxTimer"==a.type()&&!l.$u.value()},function(){l.dR(0)});F(l,"sample","waitForLow",function(a){return"neopixelRxTimer"==a.type()&&l.$u.value()},function(){l.dR(1)});F(l,"waitForLow",
"idle",function(){return l.$u.mc()},function(){l.br>=l.yg&&l.mj&&l.mj.setValue(n,0)})};V.Lz.prototype=inherit(D.prototype);V.Lz.prototype.constructor=V.Lz;V.Yz=function(a,b,c,d){var e=this;D.call(this);e.ca=a;e.rK=b;e.HR=c;e.Ab=d;e.SK=0;e.Ma=new V.ta(a,"ping_timing_signal",0);e.Ma.Ka([e,e.handle,["pingTimer"]]);F(e,"idle","trigger",function(){return e.rK.yc()},function(){e.SK=e.ca.time.time});F(e,"trigger","idle",function(){return e.rK.mc()&&2E-6>e.ca.time.time-e.SK},function(){});F(e,"trigger","transmit",function(){return e.rK.mc()&&2E-6<=e.ca.time.time-e.SK},function(){e.i8=!1;e.Ab.rN(1);var a=e.Ab.mZ();e.HR.setValue(7.5E-4,1);e.HR.setValue(7.5E-4+
a,0);e.Ma.setValue(7.5E-4+a,!0);e.Ma.setValue(.15,!1)});F(e,"transmit","idle",function(a){return"pingTimer"==a.type()&&1==e.Ma.value()},function(){});["idle","trigger","transmit"].forEach(function(a){F(e,a,a,function(a){return"pingTimer"==a.type()&&0==e.Ma.value()},function(){e.Ab.rN(0)})})};V.Yz.prototype=inherit(D.prototype);V.Yz.prototype.constructor=V.Yz;V.Model.Zr={};V.za.put("Default",V.Model.Zr);V.Model.Zr.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;c.mP(!0)};V.Model.Zr.fa=function(a,b,c){c.mP.ka("view",function(b,c,k){k?($(a.Pa).tipsy({gravity:"n",offset:3,text:"There is no simulation model available for this component"}),$(a.Kn).css({stroke:"red","stroke-width":"2","stroke-dasharray":"3",opacity:"0.5"})):($(a.Pa).removeTipsy(),$(a.Kn).css({stroke:"","stroke-width":"","stroke-dasharray":"",opacity:""}))},10)};
V.Model.Zr.Model=function(a){this.va(a);this.mP=this.value("grayout",!1,!1,!0)};extend(V.Model.Zr.Model,C);V.Model.Fh={};V.za.put("resistor",V.Model.Fh);V.Model.Fh.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;(c=b.getPropertyValue("resistance"))||(c=0);var d=new V.ta(this.ca,"resistor_control",c);c=this.ha("1");var e=this.ha("2");a.ia.qa(c,e,d);b.Cb.we("simulator",function(){var a=b.getPropertyValue("resistance");a||(a=0);d.setValue(0,a)},10)};extend(V.Model.Fh.da,V.Model.da);
V.Model.Fh.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;b.Cb.we("view",function(){cGraphics.US(a.group,{Kj:b.getPropertyValue("resistance")})},10);cGraphics.US(a.group,{Kj:b.getPropertyValue("resistance")})};extend(V.Model.Fh.fa,V.Model.fa);V.Model.Fh.Model=function(a){this.va(a)};extend(V.Model.Fh.Model,C);V.Model.Zj={};V.za.put("arduinoUno",V.Model.Zj);V.Model.Zj.Vl=!0;V.Model.Zj.en={jJ:"atmega328p",nq:16E6,variant:"uno",Rc:5};
V.Model.Zj.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;var d=[{sb:"D0",port:"D_0",ub:!1,Ma:!1},{sb:"D1",port:"D_1",ub:!1,Ma:!1},{sb:"D2",port:"D_2",ub:!1,Ma:!1},{sb:"D3",port:"D_3",ub:!1,Ma:"2B"},{sb:"D4",port:"D_4",ub:!1,Ma:!1},{sb:"D5",port:"D_5",ub:!1,Ma:"0B"},{sb:"D6",port:"D_6",ub:!1,Ma:"0A"},{sb:"D7",port:"D_7",ub:!1,Ma:!1},{sb:"D8",port:"B_0",ub:!1,Ma:!1},{sb:"D9",port:"B_1",ub:!1,Ma:"1A"},{sb:"D10",port:"B_2",ub:!1,Ma:"1B"},{sb:"D11",port:"B_3",ub:!1,Ma:"2A"},{sb:"D12",port:"B_4",ub:!1,
Ma:!1},{sb:"D13",port:"B_5",ub:!1,Ma:!1},{sb:"A0",port:"C_0",ub:!0,Ma:!1},{sb:"A1",port:"C_1",ub:!0,Ma:!1},{sb:"A2",port:"C_2",ub:!0,Ma:!1},{sb:"A3",port:"C_3",ub:!0,Ma:!1},{sb:"A4",port:"C_4",ub:!0,Ma:!1},{sb:"A5",port:"C_5",ub:!0,Ma:!1}];this.bg=V.Model.Zj.en;this.Ih=new V.rA(this,this.bg,{je:["GND","GND1","GND2"],wn:["5V"],er:["3V"],or:!0,reset:["/RESET"],zA:"AREF"},d);yl(this.Ih,d[13],c.om);zl(this.Ih,c.cf);Al(this.Ih,d[0],d[1],c.Fu,c.Yk);this.Fa=new V.Lm(a,this.Ih.Ua.Eb(),this.bg.nq,b.yw,b.name());
c.ie=this.Fa.ie;Zl(this.Fa.ie,c.Me);c.Jb(!0)};extend(V.Model.Zj.da,V.Model.da);
V.Model.Zj.fa=function(a,b,c,d){this.Da=a;this.la=b;this.na=c;this.Ob(".cgfx__hitarea-interaction.cgfx__resetbutton","button");d.xd.ka(this,function(b,c,d){cGraphics.Yh(a.group,{La:d==V.Uc.IDLE})});cGraphics.Yh(a.group,{La:!0});c.Jb.ka("view",function(b,c,d){cGraphics.Yh(a.group,{eJ:d?1:0})},10);c.om.ka("view",function(b,c,d){cGraphics.Yh(a.group,{bu:Math.pow(.01>d?0:d,1/3)})},10);c.Nj.ka("view",function(b,c,d){cGraphics.Yh(a.group,{kn:Math.pow(.01>d?0:d,1/3)})},10);c.Cy.ka("view",function(b,c,d){cGraphics.Yh(a.group,
{jn:Math.pow(.01>d?0:d,1/3)})},10);c.cf.ka("view",function(b,c,d){cGraphics.Yh(a.group,{Zl:d})},10);c.Yk.kc("simulation",function(b){250<b.size()&&b.remove(0);a.aa.pa.rb.Xx()},10)};extend(V.Model.Zj.fa,V.Model.fa);
V.Model.Zj.Model=function(a){this.va(a);this.Jb=this.value("power",!1,!1,!0);this.Nj=this.value("rx",!1,!1,!0);this.Cy=this.value("tx",!1,!1,!0);this.om=this.value("D13_Led",0,!1,!0);this.cf=this.value("reset pushed",!1,!1,!0);this.Yk=this.list("stdout",!1,!0);this.Fu=this.value("stdin",!1,!1,!0);this.ie=null;this.Me=this.set("breakpoints",!1,!0)};extend(V.Model.Zj.Model,C);V.Model.$j={};V.za.put("arduinoUnoRev3",V.Model.$j);V.Model.$j.Vl=!0;V.Model.$j.en={jJ:"atmega328p",nq:16E6,variant:"uno",Rc:5};
V.Model.$j.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;var d=[{sb:"D0",port:"D_0",ub:!1,Ma:!1},{sb:"D1",port:"D_1",ub:!1,Ma:!1},{sb:"D2",port:"D_2",ub:!1,Ma:!1},{sb:"D3",port:"D_3",ub:!1,Ma:"2B"},{sb:"D4",port:"D_4",ub:!1,Ma:!1},{sb:"D5",port:"D_5",ub:!1,Ma:"0B"},{sb:"D6",port:"D_6",ub:!1,Ma:"0A"},{sb:"D7",port:"D_7",ub:!1,Ma:!1},{sb:"D8",port:"B_0",ub:!1,Ma:!1},{sb:"D9",port:"B_1",ub:!1,Ma:"1A"},{sb:"D10",port:"B_2",ub:!1,Ma:"1B"},{sb:"D11",port:"B_3",ub:!1,Ma:"2A"},{sb:"D12",port:"B_4",ub:!1,
Ma:!1},{sb:"D13",port:"B_5",ub:!1,Ma:!1},{sb:"A0",port:"C_0",ub:!0,Ma:!1},{sb:"A1",port:"C_1",ub:!0,Ma:!1},{sb:"A2",port:"C_2",ub:!0,Ma:!1},{sb:"A3",port:"C_3",ub:!0,Ma:!1},{sb:"A4",port:"C_4",ub:!0,Ma:!1,required:!0},{sb:"A5",port:"C_5",ub:!0,Ma:!1,required:!0}];this.bg=V.Model.$j.en;this.Ih=new V.rA(this,this.bg,{je:["GND1","GND2","GND3"],wn:["5V"],er:["3V3"],or:!0,reset:["RESET"],zA:"AREF"},d);yl(this.Ih,d[13],c.om);zl(this.Ih,c.cf);Al(this.Ih,d[0],d[1],c.Fu,c.Yk);a.ia.kd(this.ha("IOREF"),this.ha("5V"));
a.ia.kd(this.ha("SCL"),this.ha("A5"));a.ia.kd(this.ha("SDA"),this.ha("A4"));this.ha("VIN");this.Fa=new V.Lm(a,this.Ih.Ua.Eb(),this.bg.nq,b.yw,b.name());c.ie=this.Fa.ie;Zl(this.Fa.ie,c.Me);c.Jb(!0)};extend(V.Model.$j.da,V.Model.da);
V.Model.$j.fa=function(a,b,c,d){this.Da=a;this.la=b;this.na=c;this.Ob(".cgfx__hitarea-interaction.cgfx__resetbutton","button");d.xd.ka(this,function(b,c,d){cGraphics.Yh(a.group,{La:d==V.Uc.IDLE})});cGraphics.Yh(a.group,{La:!0});c.Jb.ka("view",function(b,c,d){cGraphics.Yh(a.group,{eJ:d?1:0})},10);c.om.ka("view",function(b,c,d){cGraphics.Yh(a.group,{bu:Math.pow(.01>d?0:d,1/3)})},10);c.Nj.ka("view",function(b,c,d){cGraphics.Yh(a.group,{kn:Math.pow(.01>d?0:d,1/3)})},10);c.Cy.ka("view",function(b,c,d){cGraphics.Yh(a.group,
{jn:Math.pow(.01>d?0:d,1/3)})},10);c.cf.ka("view",function(b,c,d){cGraphics.Yh(a.group,{Zl:d})},10);c.Yk.kc("simulation",function(b){250<b.size()&&b.remove(0);a.aa.pa.rb.Xx()},10)};extend(V.Model.$j.fa,V.Model.fa);
V.Model.$j.Model=function(a){this.va(a);this.Jb=this.value("power",!1,!1,!0);this.Nj=this.value("rx",!1,!1,!0);this.Cy=this.value("tx",!1,!1,!0);this.om=this.value("D13_Led",0,!1,!0);this.cf=this.value("reset pushed",!1,!1,!0);this.Yk=this.list("stdout",!1,!0);this.Fu=this.value("stdin",!1,!1,!0);this.ie=null;this.Me=this.set("breakpoints",!1,!0)};extend(V.Model.$j.Model,C);V.Model.Yj={};V.za.put("arduinoMicro",V.Model.Yj);V.Model.Yj.Vl=!0;V.Model.Yj.en={jJ:"atmega32u4",nq:16E6,variant:"micro",Rc:5};
V.Model.Yj.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;var d=[{sb:"D1 / TX",port:"D_3",ub:!1,Ma:!1},{sb:"D0 / RX",port:"D_2",ub:!1,Ma:!1},{sb:"D2 / SDA",port:"D_1",ub:!1,Ma:!1},{sb:"D3 / SCL",port:"D_0",ub:!1,Ma:"0B"},{sb:"D4 / A6",port:"D_4",ub:!0,Ma:!1},{sb:"D5",port:"C_6",ub:!1,Ma:"3A"},{sb:"D6 / A7",port:"D_7",ub:!0,Ma:"4D"},{sb:"D7",port:"E_6",ub:!1,Ma:!1},{sb:"D8 / A8",port:"B_4",ub:!0,Ma:!1},{sb:"D9 / A9",port:"B_5",ub:!0,Ma:"1A"},{sb:"D10 / A10",port:"B_6",ub:!0,Ma:"1B"},{sb:"D11",port:"B_7",
ub:!1,Ma:"0A"},{sb:"D12 / A11",port:"D_6",ub:!0,Ma:!1},{sb:"D13",port:"C_7",ub:!1,Ma:"4A"},{sb:"SS",port:"B_0",ub:!1,Ma:!1},{sb:"SCK",port:"B_1",ub:!1,Ma:!1},{sb:"MOSI",port:"B_2",ub:!1,Ma:!1},{sb:"MISO",port:"B_3",ub:!1,Ma:!1},{sb:"A0",port:"F_7",ub:!0,Ma:!1},{sb:"A1",port:"F_6",ub:!0,Ma:!1},{sb:"A2",port:"F_5",ub:!0,Ma:!1},{sb:"A3",port:"F_4",ub:!0,Ma:!1},{sb:"A4",port:"F_1",ub:!0,Ma:!1},{sb:"A5",port:"F_0",ub:!0,Ma:!1}];this.bg=V.Model.Yj.en;this.Ih=new V.rA(this,this.bg,{je:["GND","GND1"],wn:["5V"],
er:["3.3V"],or:!0,reset:["RESET","RESET1"],zA:"AREF"},d);yl(this.Ih,d[13],c.om);zl(this.Ih,c.cf);Bl(this.Ih,c.Fu,c.Yk);this.Fa=new V.gt(a,this.Ih.Ua.Eb(),this.bg.nq,b.yw,b.name());c.ie=this.Fa.ie;Zl(this.Fa.ie,c.Me);c.Jb(!0)};extend(V.Model.Yj.da,V.Model.da);
V.Model.Yj.fa=function(a,b,c,d){this.Da=a;this.la=b;this.na=c;this.Ob(".cgfx__hitarea-interaction","button");d.xd.ka(this,function(b,c,d){cGraphics.Ju(a.group,{La:d==V.Uc.IDLE})});cGraphics.Ju(a.group,{La:!0});c.om.ka("view",function(b,c,d){cGraphics.Ju(a.group,{bu:Math.pow(.01>d?0:d,1/3)})},10);c.Nj.ka("view",function(b,c,d){cGraphics.Ju(a.group,{kn:Math.pow(.01>d?0:d,1/3)})},10);c.Cy.ka("view",function(b,c,d){cGraphics.Ju(a.group,{jn:Math.pow(.01>d?0:d,1/3)})},10);c.cf.ka("view",function(b,c,d){cGraphics.Ju(a.group,
{Zl:d})},10);c.Yk.kc("simulation",function(b){250<b.size()&&b.remove(0);a.aa.pa.rb.Xx()},10)};extend(V.Model.Yj.fa,V.Model.fa);V.Model.Yj.Model=function(a){this.va(a);this.Nj=this.value("rx",!1,!1,!0);this.Cy=this.value("tx",!1,!1,!0);this.Jb=this.value("power",!1,!1,!0);this.om=this.value("D13_Led",0,!1,!0);this.cf=this.value("reset pushed",!1,!1,!0);this.Yk=this.list("stdout",!1,!0);this.Fu=this.value("stdin",!1,!1,!0);this.ie=null;this.Me=this.set("breakpoints",!1,!0)};
extend(V.Model.Yj.Model,C);V.Model.mg={};V.za.put("ATtiny",V.Model.mg);V.Model.mg.Vl=!0;V.Model.mg.en={jJ:"attiny85",nq:8E6,variant:"attiny.cpu.attiny85.clock.internal8",Rc:5};
V.Model.mg.da=function(a,b,c){var d=this;d.ca=a;d.la=b;d.na=c;this.bg=V.Model.mg.en;this.ft=new V.rA(this,this.bg,{je:["GND"],wn:["Vcc"],or:!1},[{sb:"PB0",port:"B_0",ub:!0,Ma:"0A"},{sb:"PB1",port:"B_1",ub:!1,Ma:"0B"},{sb:"PB2",port:"B_2",ub:!0,Ma:!1},{sb:"PB3",port:"B_3",ub:!0,Ma:!1},{sb:"PB4",port:"B_4",ub:!0,Ma:!1},{sb:"PB5",port:"B_5",ub:!0,Ma:!1}]);var e=a.ia.qa(this.ft.nc.Jb,this.ft.nc.Ce,625);a.ia.dc(this.ft.Ua.get("RESET"),this.ft.nc.Jb,this.ft.nc.Ce,function(a,b){return 2.7>a-b});a.Na.Ka([this,
function(a){a=a.value();a=e.Yd(a);6<a?(a="Voltage at Vcc pin is "+d.Ia(a,"V")+", while maximum is "+d.Ia(6,"V"),c.ua({ua:!0,reason:a})):c.ua({ua:!1,reason:""})},[a.Na]]);this.uL=new V.mg(a,this.ft.Ua.Eb(),this.bg.nq,b.yw,b.name());c.ie=this.uL.ie;Zl(this.uL.ie,c.Me)};extend(V.Model.mg.da,V.Model.da);V.Model.mg.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;this.Lb()};extend(V.Model.mg.fa,V.Model.fa);
V.Model.mg.Model=function(a){this.va(a);this.ua=this.value("breakdown",!1,!1,!0);this.ie=null;this.Me=this.set("breakpoints",!1,!0)};extend(V.Model.mg.Model,C);V.Model.xm={};V.za.put("servo",V.Model.xm);V.Model.Zz={};V.za.put("servo_v2",V.Model.Zz);
V.Model.xm.da=function(a,b,c){function d(){if(r.value()){var a=e.ca.time.time;t.yc()&&(v=a);t.mc()&&(a-=v,.002<a&&(a=.002),.001>a&&(a=.001),a=.5*((a-.001)/.001*180-x),3<a&&(a=3),-3>a&&(a=-3),x+=a,.1<Math.abs(a)&&(n.setValue(0,!0),n.setValue(.025,!1)))}}var e=this;e.ca=a;e.la=b;e.na=c;b=this.ha("terminal-ground");var k=this.ha("terminal-power"),l=this.ha("terminal-signal"),n=new V.ta(this.ca,"switchSignal",!1),q=new V.Za(n,function(a){return a?35:1E3});this.ca.ia.qa(k,b,q);this.ca.ia.qa(l,b,1E6);var r=
new V.ta(a,"servo logic power",!1);a.ia.dc(r,k,b,function(a,b){return 4.5<a-b});var t=new V.ta(e.ca,"signal",0);e.ca.ia.dc(t,l,b,function(a,b){return 2.5<a-b});var v=0,x=180;t.Ka([null,d]);r.Ka([null,d]);this.ca.Na.Ka([this,function(){c.position(x)},[a.Na]])};extend(V.Model.xm.da,V.Model.da);
V.Model.xm.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;var d=$("#animate-arm",a.group).attr("transform-origin");c.position.ka("view",function(b,c,l){b=l-180;$("#animate-arm",a.group).attr("transform","rotate("+b+","+d+")")},10)};V.Model.xm.Model=function(a){this.va(a);this.position=this.value("position",180,!1,!0)};extend(V.Model.xm.Model,C);V.Model.Zz.da=V.Model.xm.da;
V.Model.Zz.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;c.position.ka("view",function(b,c,k){cGraphics.d3(a.group,{rotation:k-180})},10)};V.Model.Zz.Model=V.Model.xm.Model;V.Model.Sr={};V.za.put("battery9V",V.Model.Sr);V.Model.Sr.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;b=this.ha("+");c=this.ha("-");a.ia.Pd(b,c,9,1.5)};extend(V.Model.Sr.da,V.Model.da);V.Model.Sr.fa=function(){};V.Model.Sr.Model=function(a){this.va(a)};extend(V.Model.Sr.Model,C);V.Model.fs={};V.za.put("led",V.Model.fs);V.Model.fs.da=function(a,b,c){var d=this;d.ca=a;d.la=b;d.na=c;b=this.ha("anode");var e=this.ha("cathode"),k={};a.ia.qa(b,k,3.3);var l=a.ia.Cc(k,e,1E-18,1.8);this.ca.Na.Ka([this,function(a){a=a.value();a=l.uc(a);.02>=a?(c.cb(a/.02),c.ua(!1)):(d.Ia(a,"A"),d.Ia(.02,"A"),c.cb(1),c.ua(!0))},[a.Na]])};extend(V.Model.fs.da,V.Model.da);
V.Model.fs.fa=function(a,b,c){var d=this;this.Da=a;this.la=b;this.na=c;xm(d);c.cb.ka("view",function(){xm(d)},10);c.ua.ka("view",function(a,b,c){c?$("#animate-breakdown",d.Da.group).attr("display","true"):$("#animate-breakdown",d.Da.group).attr("display","none")},10)};function xm(a){var b=a.la.getPropertyValue("color"),c=a.na.cb(),c=Math.round(75*c)+25,c=isNaN(c)?25:100<c?100:c,b="hsl("+12E8*(-b+6.5E-7)+","+c+"%,55%)";$("#animate-ledcolor",a.Da.group).attr("fill",b)}
V.Model.fs.Model=function(a){this.va(a);this.ua=this.value("breakdown",!1,!1,!0);this.cb=this.value("brightness",0,!1,!0)};extend(V.Model.fs.Model,C);V.Model.bo={};V.za.put("button",V.Model.bo);V.Model.bo.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;b=this.ha("1");var d=this.ha("2"),e=this.ha("3"),k=this.ha("4");a.ia.kd(b,d);a.ia.kd(e,k);var l=new V.ta(this.ca,"switchSignal",!1),d=new V.Za(l,function(a){return a?.001:1E10});a.ia.qa(b,e,d);c.cf.ka("simulator",function(a,b,c){l.setValue(0,c)},10)};extend(V.Model.bo.da,V.Model.da);
V.Model.bo.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;this.Ob(".cgfx__hitarea-interaction","button");c.cf.ka("view",function(b,c,k){cGraphics.m3(a.group,{Nl:k})},10)};extend(V.Model.bo.fa,V.Model.fa);V.Model.bo.Model=function(a){this.va(a);this.cf=this.value("pushed",!1,!1,!0)};extend(V.Model.bo.Model,C);V.Model.wm={};V.za.put("potentiometer",V.Model.wm);V.Model.us={};V.za.put("potentiometer_v2",V.Model.us);
V.Model.wm.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;var d=b.getPropertyValue("resistance");d||(d=1E4);var e=this.ha("term0");a=this.ha("term1");var k=this.ha("wiper"),l=b.getPropertyValue("Position")||0,n=new V.ta(this.ca,"potentiometer value",d),q=new V.ta(this.ca,"potentiometer position",l),r=new V.Za(n,q,function(a,b){return a*b+.5});this.ca.ia.qa(e,k,r);e=new V.Za(n,q,function(a,b){return a*(1-b)+.5});this.ca.ia.qa(a,k,e);b.Cb.we("simulator",function(){(d=b.getPropertyValue("resistance"))||
(d=500);n.setValue(0,d)},10);c.position.ka("simulator",function(a,b,c){q.setValue(0,Math.round(50*(0>c?0:c))/50)},10);c.position(l)};extend(V.Model.wm.da,V.Model.da);
V.Model.wm.fa=function(a,b,c){var d=this;this.Da=a;this.la=b;this.na=c;this.Ob('#knob_body circle[fill="#2C4656"]',"potentiometer");c.position.ka("view",function(b,c,l){b=!1;0>l?(l=0,b=!0):(c=270*l+45,$("#animate-knob",a.group).attr("transform","rotate("+c+")"));l=Math.round(50*l)/50;b||null===d.la.getPropertyValue("Position")||d.Da.aa.mode!=R||(d.la.root.Vb(),d.la.setProperty("Position",!1,l,""),d.la.root.Xb())},10);c.position(b.getPropertyValue("Position")||0)};extend(V.Model.wm.fa,V.Model.fa);
V.Model.wm.Model=function(a){this.va(a);this.position=this.value("position",-1,!1,!0);this.Pl=new J(0,0);this.Ol=90};extend(V.Model.wm.Model,C);V.Model.us.da=V.Model.wm.da;
V.Model.us.fa=function(a,b,c){var d=this;this.Da=a;this.la=b;this.na=c;this.Ob(".cgfx__hitarea-interaction","potentiometer");c.position.ka("view",function(b,c,l){b=!1;0>l?(l=0,b=!0):cGraphics.j3(a.group,{position:l});l=Math.round(50*l)/50;b||null===d.la.getPropertyValue("Position")||d.Da.aa.mode!=R||(d.la.root.Vb(),d.la.setProperty("Position",!1,l,""),d.la.root.Xb())},10);c.position(b.getPropertyValue("Position")||0)};extend(V.Model.us.fa,V.Model.fa);
V.Model.us.Model=function(a,b){this.va(a);this.position=this.value("position",-1,!1,!0);var c=b.wb().svg,d=$(".cgfx__hitarea-interaction",c),c=SvgHelpers.ug(d[0]),d=new J(parseFloat(d.attr("cx")),parseFloat(d.attr("cy"))),e=d.add(new J(0,1));this.Pl=d.bd(c);this.Ol=Pb(e.bd(c).sub(d.bd(c)))};extend(V.Model.us.Model,C);V.Model.Ji={};V.za.put("multimeter",V.Model.Ji);V.Model.bj={};V.za.put("multimeter_v2",V.Model.bj);
V.Model.Ji.da=function(a,b,c){function d(){r=b.getPropertyValue("Mode (0 = Amp, 1 = Volt)");k.setValue(0,1==r?1E8:1E-4)}var e=this;e.ca=a;e.la=b;e.na=c;var k=new V.ta(e.ca,"resistor_control",1E8),l=this.ha("terminal-pos"),n=this.ha("terminal-neg"),q=a.ia.qa(l,n,k),r;b.Cb.we("simulator",d,10);d();this.ca.Na.Ka([this,function(a){a=a.value();1==r?(a=q.Yd(a),.001>Math.abs(a)&&(a=0),a=e.Ia(a,"V")):(a=q.uc(a),1E-5>Math.abs(a)&&(a=0),a=e.Ia(a,"A"));c.text(a)},[a.Na]])};extend(V.Model.Ji.da,V.Model.da);
V.Model.Ji.fa=function(a,b,c){function d(){1==b.getPropertyValue("Mode (0 = Amp, 1 = Volt)")?($("#animate-voltmeter",a.group).attr("display","true"),$("#animate-amperemeter",a.group).attr("display","none")):($("#animate-amperemeter",a.group).attr("display","true"),$("#animate-voltmeter",a.group).attr("display","none"))}this.Da=a;this.la=b;this.na=c;this.Ob('#animate-voltmeter circle[fill="#F2AE16"]',"multimeter_v1",1);this.Ob('#animate-amperemeter circle[fill="#F2AE16"]',"multimeter_v1",0);c.text.ka("view",
function(b,c,d){$("#animate-metervalue",a.group).text(d)},10);$("#animate-metervalue",a.group).attr("text-anchor","end");$("#animate-metervalue",a.group).attr("transform","matrix(1 0 0 1 45 -7.4217)");b.Cb.we("view",d,10);d()};extend(V.Model.Ji.fa,V.Model.fa);V.Model.Ji.Db=function(a,b,c){D.call(this);F(this,"idle","idle",function(a){return a.type()===H.Mg&&a.data("statemachine")==c},function(a){var b=a.element().parent();a=a.data("subelement");b.setProperty("Mode (0 = Amp, 1 = Volt)",!1,a,"none")})};
V.Model.Ji.Db.prototype=inherit(D.prototype);V.Model.Ji.Db.prototype.constructor=V.Model.Ji.Db;V.Cg.put("multimeter_v1",V.Model.Ji.Db);V.Model.Ji.Model=function(a){this.va(a);this.text=this.value("text","0.0",!1,!0)};extend(V.Model.Ji.Model,C);
V.Model.bj.da=function(a,b,c){var d=this;d.ca=a;d.la=b;d.na=c;var e=parseInt(b.getPropertyValue("Mode")),k=new V.ta(d.ca,"multimeter signal",e),l=this.ha("terminal-pos"),n=this.ha("terminal-neg"),q=new V.Za(k,function(a){return 2==a?1:0}),r=new V.Za(k,function(a){return 1==a?1E8:1E-4}),t=a.ia.Pd(l,n,q,r,!1);b.Cb.we("simulator",function(){e=parseInt(b.getPropertyValue("Mode"));k.setValue(0,e)},10);this.ca.Na.Ka([this,function(a){a=a.value();switch(e){case 1:var b=t.Yd(a);.001>Math.abs(b)&&(b=0);b=
d.Ia(b,"V");break;case 0:b=-t.uc(a);1E-5>Math.abs(b)&&(b=0);b=d.Ia(b,"A");break;case 2:b=t.uc(a),5E-8>Math.abs(b)?b="M\u03a9":(b=1/b-1E-4,0>b?b="Error":(.99>b&&(b=0),b=d.Ia(b,"\u03a9")))}c.text(b)},[a.Na]])};extend(V.Model.bj.da,V.Model.da);
V.Model.bj.fa=function(a,b,c,d){function e(){var c={};switch(parseInt(b.getPropertyValue("Mode"))){case 1:c.u3=!0;break;case 0:c.VX=!0;break;case 2:c.Kj=!0}cGraphics.nD(a.group,c)}this.Da=a;this.la=b;this.na=c;this.Ob(".cgfx__hitarea-interaction.cgfx__button-ampere","multimeter_v2",0);this.Ob(".cgfx__hitarea-interaction.cgfx__button-volt","multimeter_v2",1);this.Ob(".cgfx__hitarea-interaction.cgfx__button-resistance","multimeter_v2",2);d.xd.ka(this,function(b,c,d){cGraphics.nD(a.group,{La:d==V.Uc.IDLE})});
cGraphics.nD(a.group,{La:!0});c.text.ka("view",function(b,c,d){cGraphics.nD(a.group,{text:d})},10);b.Cb.we("view",e,10);e()};extend(V.Model.bj.fa,V.Model.fa);V.Model.bj.Db=function(a,b,c){D.call(this);F(this,"idle","idle",function(a){return a.type()===H.Mg&&a.data("statemachine")==c},function(a){var b=a.element().parent();a=a.data("subelement");b.root.Vb();b.setProperty("Mode",!1,a,"none");b.root.Xb()})};V.Model.bj.Db.prototype=inherit(D.prototype);V.Model.bj.Db.prototype.constructor=V.Model.bj.Db;
V.Cg.put("multimeter_v2",V.Model.bj.Db);V.Model.bj.Model=function(a){this.va(a);this.text=this.value("text","",!1,!0)};extend(V.Model.bj.Model,C);V.Model.bi={};V.za.put("diode",V.Model.bi);V.Model.bi.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;this.la.getPropertyValue("forward voltage");a=this.ha("anode");b=this.ha("cathode");this.ca.ia.Cc(a,b,1E-12,1)};extend(V.Model.bi.da,V.Model.da);V.Model.bi.fa=function(){};V.Model.bi.Model=function(a){this.va(a)};extend(V.Model.bi.Model,C);V.Model.ai={};V.za.put("capacitor",V.Model.ai);V.Model.ai.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;(c=b.getPropertyValue("capacitance"))||(c=0);var d=new V.ta(this.ca,"capacitance_control",c),e=this.ha("1"),k=this.ha("2"),l={};a.ia.ul(e,l,c);a.ia.qa(l,k,.01);b.Cb.we("simulator",function(){var a=b.getPropertyValue("capacitance");a||(a=0);d.setValue(0,a)},10)};extend(V.Model.ai.da,V.Model.da);V.Model.ai.fa=function(){};
V.Model.ai.Model=function(a){this.va(a);this.ua=this.value("breakdown",!1,!1,!0)};extend(V.Model.ai.Model,C);V.Model.eo={};V.za.put("capacitor_polarized",V.Model.eo);
V.Model.eo.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;var d=b.getPropertyValue("capacitance");d||(d=0);var e=new V.ta(this.ca,"capacitance_control",d),k=this.ha("+"),l=this.ha("-"),n={},q=a.ia.ul(k,n,d);a.ia.qa(n,l,.01);var r=b.getPropertyValue("voltage rating");b.Cb.we("simulator",function(){var a=b.getPropertyValue("capacitance");a||(a=0);e.setValue(0,a)},10);a.Na.Ka([this,function(a){a=a.value();a=q.Yd(a);a>r?(a="Capacitor picked up "+this.Ia(a,"V")+", while maximum voltage rating is "+this.Ia(r,
"V"),c.ua({ua:!0,reason:a})):0>a?(a="Capacitor is inversely polarized with "+this.Ia(a,"V"),c.ua({ua:!0,reason:a})):c.ua({ua:!1,reason:""})},[a.Na]])};extend(V.Model.eo.da,V.Model.da);V.Model.eo.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;this.Lb()};extend(V.Model.eo.fa,V.Model.fa);V.Model.eo.Model=function(a){this.va(a);this.ua=this.value("breakdown",!1,!1,!0)};extend(V.Model.eo.Model,C);V.Model.Hi={};V.za.put("inductor",V.Model.Hi);V.Model.Hi.da=function(a,b,c){function d(){var a=e.la.getPropertyValue("inductance");a||(a=0);k.setValue(0,a)}var e=this;e.ca=a;e.la=b;e.na=c;var k=new V.ta(this.ca,"inductor_control",.01);a=this.ha("1");b=this.ha("2");this.ca.ia.gH(a,b,k);e.la.Cb.we("simulator",d,10);d()};extend(V.Model.Hi.da,V.Model.da);V.Model.Hi.fa=function(){};V.Model.Hi.Model=function(a){this.va(a)};extend(V.Model.Hi.Model,C);V.Model.Ko={};V.za.put("ldr",V.Model.Ko);V.Model.Hq={};V.za.put("ldr_v2",V.Model.Hq);V.Model.Ko.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;a=this.ha("terminal-1");b=this.ha("terminal-2");var d=new V.ta(this.ca,this.name,!1),e=new V.Za(d,function(a){a=a?100:1;return Math.exp(Math.log(5E5)-.85*(Math.log(a)-Math.log(.3)))});this.ca.ia.qa(a,b,e);this.na.position.ka("simulator",function(){var a=c.position();d.setValue(0,a)},10)};extend(V.Model.Ko.da,V.Model.da);
V.Model.Ko.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;this.Ob(".led","click");c.position.ka("view",function(b,c,k){k?$("#ldr ellipse[rx='10.366']",a.group).attr("fill","yellow"):$("#ldr ellipse[rx='10.366']",a.group).attr("fill","#DBDDAF")},10)};extend(V.Model.Ko.fa,V.Model.fa);V.Model.Ko.Model=function(a){this.va(a);this.position=this.value("position",!1,!1,!0)};extend(V.Model.Ko.Model,C);
V.Model.Hq.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;a=this.ha("terminal-1");b=this.ha("terminal-2");var d=new V.ta(this.ca,"lux signal",1);c=new V.Za(d,function(a){return Math.exp(Math.log(5E5)-.85*(Math.log(a)-Math.log(.3)))});this.ca.ia.qa(a,b,c);this.na.position.ka("simulator",function(a,b,c){d.setValue(0,Math.round(50*c)/50*999+1)},10)};extend(V.Model.Hq.da,V.Model.da);
V.Model.Hq.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;this.Ob(".cgfx__hitarea-interaction","slider");c.position.ka("view",function(b,c,k){cGraphics.k3({view:a.group,control:a.Dd},{Wg:k})},10)};extend(V.Model.Hq.fa,V.Model.fa);
V.Model.Hq.Model=function(a,b){this.va(a);this.position=this.value("position",0,!1,!0);var c=b.wb().svg,d=$(".cgfx__hitarea-interaction.cgfx__bounds",c),e=parseFloat(d.attr("width")),k=parseFloat(d.attr("height")),c=new J(parseFloat(d.attr("x"))+k/2,parseFloat(d.attr("y"))),e=c.add(new J(e-k,0)),d=SvgHelpers.ug(d[0]);this.dm=c.bd(d);this.em=e.bd(d)};extend(V.Model.Hq.Model,C);V.Model.Ig={};V.za.put("sparkfun_mma7361",V.Model.Ig);
V.Model.Ig.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;var d=this.ha("1"),e=this.ha("2"),k=this.ha("3"),l=this.ha("4"),n=this.ha("5"),q=this.ha("6"),r=this.ha("7");a=this.ha("8");b=this.ha("9");var t=new w,v=new V.ta(this.ca,"MMA7361_zgd",0);t.put("zgd",v);v=new V.Za(v,function(a){return 5*a});this.ca.ia.Pd(k,a,v,50);k=new V.ta(this.ca,"MMA7361_xout",0);t.put("xout",k);k=new V.Za(k,function(a){return a});this.ca.ia.Pd(n,a,k,32E3);n=new V.ta(this.ca,"MMA7361_yout",0);t.put("yout",n);n=new V.Za(n,
function(a){return a});this.ca.ia.Pd(q,a,n,32E3);q=new V.ta(this.ca,"MMA7361_zout",0);t.put("zout",q);q=new V.Za(q,function(a){return a});this.ca.ia.Pd(r,a,q,32E3);this.ca.ia.qa(d,a,1E7);r=new V.ta(this.ca,"MMA7361_st",0);this.ca.ia.dc(r,d,a,function(a,b){return 2.5<a-b?1:0});t.put("st",r);this.ca.ia.qa(e,a,1E7);d=new V.ta(this.ca,"MMA7361_gsel",0);this.ca.ia.dc(d,e,a,function(a,b){return 2.5<a-b?1:0});t.put("gsel",d);this.ca.ia.qa(l,a,1E7);e=new V.ta(this.ca,"MMA7361_slp",0);this.ca.ia.dc(e,l,a,
function(a,b){return 2.5<a-b?1:0});t.put("slp",e);this.ca.ia.qa(b,a,1E6);l=new V.ta(this.ca,"MMA7361_power",0);this.ca.ia.dc(l,b,a,function(a,b){var c=a-b;return 2.2<c&&3.6>c?1:0});t.put("power",l);var x=new V.ta(this.ca,"MMA7361_g",{x:0,y:0,z:1});t.put("g",x);c.TC.ka("simulator",function(){c.TC()&&(x.setValue(0,{x:1,y:0,z:1}),x.setValue(.3,{x:-1,y:0,z:1}),x.setValue(.6,{x:1,y:0,z:1}),x.setValue(.9,{x:-1,y:0,z:1}),x.setValue(1.2,{x:1,y:0,z:1}),x.setValue(1.5,{x:-1,y:0,z:1}),x.setValue(1.8,{x:0,y:0,
z:1}))},10);this.ca.Na.Ka([this,function(){c.Hf(x.value())}]);new V.Ig(this.ca,t)};extend(V.Model.Ig.da,V.Model.da);V.Model.Ig.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;this.Ob("#SP_MMA7361_breakout","mma7361");this.Ob(".cgfx__hitarea","mma7361");c.Hf.ka("view",function(b,c,k){b=10*k.x;k=10*k.y;$(a.group).attr({transform:"scale(1,1) translate("+b+","+k+")"})},10)};extend(V.Model.Ig.fa,V.Model.fa);
V.Model.Ig.Db=function(a,b,c){D.call(this);F(this,"idle","idle",function(a){return a.type()===H.Mg&&a.data("statemachine")==c},function(a){a=a.element().na;a.TC(!0);a.TC(!1)})};V.Model.Ig.Db.prototype=inherit(D.prototype);V.Model.Ig.Db.prototype.constructor=V.Model.Ig.Db;V.Cg.put("mma7361",V.Model.Ig.Db);V.Model.Ig.Model=function(a){this.va(a);this.Hf=this.value("g",new J(0,0),!1,!0);this.TC=this.value("shake",!1,!1,!0)};extend(V.Model.Ig.Model,C);
V.Ig=function(a,b){this.mb=a;this.Ua=b;var c=[this,this.ej];this.Jb=this.Ua.get("power");this.Jb.Ka(c);this.T1=this.Ua.get("st");this.T1.Ka(c);this.nP=this.Ua.get("gsel");this.nP.Ka(c);this.PR=this.Ua.get("slp");this.PR.Ka(c);this.Hf=this.Ua.get("g");this.Hf.Ka(c);this.xD=this.Ua.get("zgd");this.lL=this.Ua.get("xout");this.mL=this.Ua.get("yout");this.nL=this.Ua.get("zout")};
V.Ig.prototype.ej=function(){if(1==this.Jb.value())if(1==this.PR.value()){var a=1==this.nP.value()?.206:.8;this.lL.setValue(0,1.65+a*this.Hf.value().x);this.mL.setValue(0,1.65+a*this.Hf.value().y);this.nL.setValue(0,1.65+a*this.Hf.value().z);.1>Math.abs(this.Hf.value().x)&&.1>Math.abs(this.Hf.value().y)&&.1>Math.abs(this.Hf.value().z)?this.xD.setValue(0,1):this.xD.setValue(0,0)}else this.xD.setValue(0,0),this.lL.setValue(0,0),this.mL.setValue(0,0),this.nL.setValue(0,0);else this.xD.setValue(0,0),
this.lL.setValue(0,0),this.mL.setValue(0,0),this.nL.setValue(0,0)};V.Ig.u2=function(a){var b=new V.Gh,c=new w;b.ej(100,a);c.get("D_7_in").setValue(.5,5)};V.Model.um={};V.za.put("dc_motor",V.Model.um);V.Model.Gz={};V.za.put("dc_motor_v2",V.Model.Gz);
V.Model.um.da=function(a,b,c){function d(){var a=e.la.getPropertyValue("speed constant");if(isNaN(a)||0>a)a=0;var b=e.la.getPropertyValue("load")/100;1<b&&(b=1);if(isNaN(b)||0>b)b=0;var c=2.16/9*1E3,b=(b*(.432-l)+l)/(220/9.5493*(1-b))*1E3;n.setValue(0,8.6/(9*a/9.5493));q.setValue(0,c);r.setValue(0,b)}var e=this;e.ca=a;e.la=b;e.na=c;var k=2.16/9*1E3,l=k/1E3*.08,n=new V.ta(e.ca,"Motor speed constant signal",8.6/(220/9.5493)),q=new V.ta(e.ca,"Motor torque constant signal",k),r=new V.ta(e.ca,"Motor friction signal",
(0*(.432-l)+l)/(220/9.5493*1)*1E3);d();b.Cb.we("simulator",d,10);b=this.ha("terminal-1");var k=this.ha("terminal-2"),t={Ra:"Motor_net_between_sense-backEMF_"},v={Ra:"Motor_net_between_backEMF-Rs_"},x={Ra:"Motor_mechanical_net_between_sense-friction_"},B={Ra:"Motor_mechanical_net_between_friction-inertia_"};this.ca.ia.qa(k,v,5);this.ca.ia.Ri(x,b,v,t,1E-4,1E-4,n);this.ca.ia.Ri(t,b,B,b,1E-4,1E-4,q);var E=this.ca.ia.qa(B,x,r);this.ca.Na.Ka([this,function(a){a=a.value();a=9.5493*E.uc(a);c.oh(a)},[a.Na]]);
c.uh(!0)};extend(V.Model.um.da,V.Model.da);V.Model.um.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;c.Xd=0;c.uh.ka("view",function(b,e,k){k?c.qj=setInterval(function(){var b=c.oh();c.Xd=(c.Xd+b/60*50/1E3*360)%360;$("#animate-gear",a.group).attr("transform","rotate("+c.Xd+",0, 0)")},50):clearInterval(c.qj)},10)};V.Model.um.Model=function(a){this.va(a);this.oh=this.value("speed",0,!1,!0);this.uh=this.value("Enable animation",!1,!1,!0)};extend(V.Model.um.Model,C);V.Model.Gz.da=V.Model.um.da;
V.Model.Gz.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;c.Xd=0;c.uh.ka("view",function(b,e,k){k?c.qj=setInterval(function(){var b=c.oh();c.Xd=(c.Xd+b/60*50/1E3*360)%360;cGraphics.bl(a.group,{rotation:c.Xd})},50):clearInterval(c.qj)},10)};V.Model.Gz.Model=V.Model.um.Model;V.Model.ls={};V.za.put("npn",V.Model.ls);V.Model.ls.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;a=this.ha("emitter");b=this.ha("base");c=this.ha("collector");this.ca.ia.pj(b,a,c)};extend(V.Model.ls.da,V.Model.da);V.Model.ls.fa=function(){};V.Model.ls.Model=function(a){this.va(a)};extend(V.Model.ls.Model,C);V.Model.ts={};V.za.put("pnp",V.Model.ts);V.Model.ts.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;a=this.ha("emitter");b=this.ha("base");c=this.ha("collector");this.ca.ia.hH(b,a,c)};extend(V.Model.ts.da,V.Model.da);V.Model.ts.fa=function(){};V.Model.ts.Model=function(a){this.va(a)};extend(V.Model.ts.Model,C);V.Model.js={};V.za.put("nmos",V.Model.js);V.Model.js.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;a=this.ha("gate");b=this.ha("source");c=this.ha("drain");this.ca.ia.Vv(a,b,c,.7,.006)};extend(V.Model.js.da,V.Model.da);V.Model.js.fa=function(){};V.Model.js.Model=function(a){this.va(a)};extend(V.Model.js.Model,C);V.Model.ss={};V.za.put("pmos",V.Model.ss);V.Model.ss.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;a=this.ha("gate");b=this.ha("source");c=this.ha("drain");this.ca.ia.wA(a,b,c,-.7,.00192)};extend(V.Model.ss.da,V.Model.da);V.Model.ss.fa=function(){};V.Model.ss.Model=function(a){this.va(a)};extend(V.Model.ss.Model,C);V.Model.vs={};V.za.put("power_nmos",V.Model.vs);V.Model.vs.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;a=this.ha("gate");b=this.ha("source");c=this.ha("drain");this.ca.ia.Vv(a,b,c,2,1.1)};extend(V.Model.vs.da,V.Model.da);V.Model.vs.fa=function(){};V.Model.vs.Model=function(a){this.va(a)};extend(V.Model.vs.Model,C);V.Model.ws={};V.za.put("power_pmos",V.Model.ws);V.Model.ws.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;a=this.ha("gate");b=this.ha("source");c=this.ha("drain");this.ca.ia.wA(a,b,c,-2,1.1*.32)};extend(V.Model.ws.da,V.Model.da);V.Model.ws.fa=function(){};V.Model.ws.Model=function(a){this.va(a)};extend(V.Model.ws.Model,C);V.Model.lp={};V.za.put("sensor_tilt_sw200d",V.Model.lp);V.Model.lp.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;b=this.ha("1");c=this.ha("2");var d=new V.ta(this.ca,"tilt Signal",!1),e=new V.Za(d,function(a){return a?10:1E10});a.ia.qa(b,c,e);this.na.position.ka("simulator",function(a,b,c){d.setValue(0,.75<c)},10)};extend(V.Model.lp.da,V.Model.da);
V.Model.lp.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;this.Ob(".cgfx__hitarea-interaction","slider");c.position.ka("view",function(b,c,k){cGraphics.XS({view:a.group,control:a.Dd},{hD:k})},10)};extend(V.Model.lp.fa,V.Model.fa);
V.Model.lp.Model=function(a,b){this.va(a);this.position=this.value("position",0,!1,!0);var c=b.wb().svg,d=$(".cgfx__hitarea-interaction.cgfx__bounds",c),e=parseFloat(d.attr("width")),k=parseFloat(d.attr("height")),c=new J(parseFloat(d.attr("x"))+k/2,parseFloat(d.attr("y"))),e=c.add(new J(e-k,0)),d=SvgHelpers.ug(d[0]);this.dm=c.bd(d);this.em=e.bd(d)};extend(V.Model.lp.Model,C);V.Model.ik={};V.za.put("seven_segment_digit",V.Model.ik);V.Model.ik.jb="a b c d e f g dp".split(" ");
V.Model.ik.da=function(a,b,c){var d=this;d.ca=a;d.la=b;d.na=c;var e=this.ha("terminal-com1");b=this.ha("terminal-com2");this.ca.ia.kd(e,b);var k=new w;V.Model.ik.jb.forEach(function(a){var b=d.ha("terminal-"+a),b=d.ca.ia.Cc(b,e,1E-18,1.8);k.put(a,b)});this.ca.Na.Ka([this,function(a){var b=a.value(),e=!1,r=[],t="";V.Model.ik.jb.forEach(function(a){var c=k.get(a).uc(b);r.push(c/.02);.02<c&&(e=!0,t+="Current through led "+a+" is "+d.Ia(c,"A")+", ")});t+="while maximum is "+d.Ia(.02,"A");c.cb(r);c.ua({ua:e,
reason:t})},[a.Na]])};extend(V.Model.ik.da,V.Model.da);V.Model.ik.fa=function(a,b,c,d){this.Da=a;this.la=b;this.na=c;this.Lb();c.cb.ka("simulator",function(b,c,d){b=[];for(var n in d)b.push(Math.pow(.001>d[n]?0:1<d[n]?1:d[n],1/3));cGraphics.Ku(a.group,{Zd:b})},10);d.xd.ka(this,function(b,c,d){cGraphics.Ku(a.group,{La:d==V.Uc.IDLE})});cGraphics.Ku(a.group,{Zd:[0,0,0,0,0,0,0,0],La:!0})};extend(V.Model.ik.fa,V.Model.fa);
V.Model.ik.Model=function(a){this.va(a);this.ua=this.value("breakdown",!1,!1,!0);this.cb=this.value("brightness",[0,0,0,0,0,0,0,0],!1,!0)};extend(V.Model.ik.Model,C);V.Model.jk={};V.za.put("seven_segment_digit_5011bh",V.Model.jk);V.Model.jk.jb="a b c d e f g dp".split(" ");
V.Model.jk.da=function(a,b,c){var d=this;d.ca=a;d.la=b;d.na=c;var e=this.ha("com1");a=this.ha("com2");this.ca.ia.kd(e,a);var k=new w;V.Model.jk.jb.forEach(function(a){var b=d.ha(a),b=d.ca.ia.Cc(e,b,1E-18,1.8);k.put(a,b)});this.ca.Na.Ka([this,function(){var a=!1,b=[],e="";V.Model.jk.jb.forEach(function(c){var t=k.get(c).uc();b.push(t/.02);.02<t&&(a=!0,e+="Current through led "+c+" is "+d.Ia(t,"A")+", ")});e+="while maximum is "+d.Ia(.02,"A");c.cb(b);c.ua({ua:a,reason:e})}])};extend(V.Model.jk.da,V.Model.da);
V.Model.jk.fa=function(a,b,c,d){this.Da=a;this.la=b;this.na=c;this.Lb();c.cb.ka("simulator",function(b,c,d){b=[];for(var n in d)b.push(Math.pow(.001>d[n]?0:1<d[n]?1:d[n],1/3));cGraphics.Ku(a.group,{Zd:b})},10);d.xd.ka(this,function(b,c,d){cGraphics.Ku(a.group,{La:d==V.Uc.IDLE})});cGraphics.Ku(a.group,{Zd:[0,0,0,0,0,0,0,0],La:!0})};extend(V.Model.jk.fa,V.Model.fa);V.Model.jk.Model=function(a){this.va(a);this.ua=this.value("breakdown",!1,!1,!0);this.cb=this.value("brightness",[0,0,0,0,0,0,0,0],!1,!0)};
extend(V.Model.jk.Model,C);V.Model.ym={};V.za.put("slide_switch",V.Model.ym);V.Model.As={};V.za.put("slide_switch_v2",V.Model.As);V.Model.ym.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;var d=this.ha("1");a=this.ha("2");b=this.ha("3");var e=new V.ta(this.ca,this.name,!1),k=new V.Za(e,function(a){return a?1E10:1E-6});this.ca.ia.qa(d,b,k);d=new V.Za(e,function(a){return a?1E-6:1E10});this.ca.ia.qa(a,b,d);c.position.ka("simulator",function(a,b,c){e.setValue(0,c)},10);e.setValue(0,c.position())};extend(V.Model.ym.da,V.Model.da);
V.Model.ym.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;this.Ob("#slideswitch","click");c.position.ka("view",function(b,c,k){k?$("#animate-switch",a.group).attr("transform","translate(0,0)"):$("#animate-switch",a.group).attr("transform","translate(-10,0)")},10)};extend(V.Model.ym.fa,V.Model.fa);V.Model.ym.Model=function(a){this.va(a);this.position=this.value("position",!0,!1,!0)};extend(V.Model.ym.Model,C);V.Model.As.da=V.Model.ym.da;
V.Model.As.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;this.Ob(".cgfx__hitarea-interaction","click");c.position.ka("view",function(b,c,k){cGraphics.n3(a.group,{on:k})},10)};extend(V.Model.As.fa,V.Model.fa);V.Model.As.Model=function(a){this.va(a);this.position=this.value("position",!1,!1,!0)};extend(V.Model.As.Model,C);V.Model.up={};V.za.put("tip120",V.Model.up);
V.Model.up.da=function(a,b,c){var d=this;this.ca=a;this.la=b;this.na=c;var e=this.ha("emitter"),k=this.ha("base"),l=this.ha("collector");b={Ra:"TIP120_net_between_NPNs"};this.ca.ia.pj(k,b,l);this.ca.ia.pj(b,e,l);this.ca.ia.qa(k,b,8E3);this.ca.ia.qa(b,e,120);this.ca.ia.Cc(e,l,1E-12,1);this.ca.Na.Ka([this,function(){var a=!1,b="This device broke because of:",c=d.ca;collectorBaseVoltage=c.hd.ue(c.time.time,l,k);collectorEmitterVoltage=c.hd.ue(c.time.time,l,e);baseEmitterVoltage=c.hd.ue(c.time.time,k,
e);60<collectorBaseVoltage&&(b+=" Collector-base voltage is "+d.Ia(collectorBaseVoltage,"V")+" while permitted maximum is "+d.Ia(60,"V")+".",a=!0);60<collectorEmitterVoltage&&(b+=" Collector-emitter voltage is "+d.Ia(collectorEmitterVoltage,"V")+" while permitted maximum is "+d.Ia(60,"V")+".",a=!0);5<baseEmitterVoltage&&(b+=" Collector-emitter voltage is "+d.Ia(baseEmitterVoltage,"V")+" while permitted maximum is "+d.Ia(5,"V")+".",a=!0);d.na.ua({ua:a,reason:b})},[a.Na]])};extend(V.Model.up.da,V.Model.da);
V.Model.up.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;this.Lb()};extend(V.Model.up.fa,V.Model.fa);V.Model.up.Model=function(a){this.va(a);this.ua=this.value("breakdown",!1,!1,!0)};extend(V.Model.up.Model,C);V.Model.xp={};V.za.put("USBstandard",V.Model.xp);V.Model.xp.da=function(a,b,c){var d=this;d.ca=a;d.la=b;d.na=c;b=this.ha("5V");var e=this.ha("GND");this.ha("D+");this.ha("D-");var k=this.ca.ia.Pd(b,e,5,.001,!0);this.ca.Na.Ka([this,function(a){a=a.value();a=Math.abs(k.uc(a));.5>=a?c.ua({ua:!1,reason:""}):(a="Current sourced by USB port is "+d.Ia(a,"A")+", while maximum is "+d.Ia(.5,"A"),c.ua({ua:!0,reason:a}))},[a.Na]])};extend(V.Model.xp.da,V.Model.da);
V.Model.xp.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;this.Lb()};extend(V.Model.xp.fa,V.Model.fa);V.Model.xp.Model=function(a){this.va(a);this.ua=this.value("breakdown",!1,!1,!0)};extend(V.Model.xp.Model,C);V.Model.Ws={};V.za.put("zenerDiode",V.Model.Ws);V.Model.Ws.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;a=this.la.getPropertyValue("zener voltage")||5.1;var d=new V.ta(this.ca,"zener_control",a);b.Cb.we("simulator",function(){var a=b.getPropertyValue("zener voltage")||5.1;d.setValue(0,a)},10);a=this.ha("A");c=this.ha("C");this.ca.ia.Cc(a,c,1E-12,1);var e=new V.Za(d,function(a){return a-.48}),k={Ra:"reverse_inner_net_"};this.ca.ia.Pd(c,k,e,55);this.ca.ia.Cc(k,a,1E-12,1)};extend(V.Model.Ws.da,V.Model.da);
V.Model.Ws.fa=function(){};V.Model.Ws.Model=function(a){this.va(a)};extend(V.Model.Ws.Model,C);V.Model.Lo={};V.za.put("led2",V.Model.Lo);V.Model.Lo.da=function(a,b,c){var d=this;d.ca=a;d.la=b;d.na=c;b=this.ha("anode");var e=this.ha("cathode"),k={};a.ia.qa(b,k,6);var l=a.ia.Cc(k,e,1E-20,1.8);a.Na.Ka([this,function(a){a=a.value();a=l.uc(a);.02>=a?(c.cb(a/.02),c.ua({ua:!1,reason:""})):(a="Current through the led is "+d.Ia(a,"A")+", while maximum is "+d.Ia(.02,"A"),c.cb(1),c.ua({ua:!0,reason:a}))},[a.Na]])};extend(V.Model.Lo.da,V.Model.da);
V.Model.Lo.fa=function(a,b,c){function d(){var c=b.getPropertyValue("color");c&&"n"!=c||(c="red");cGraphics.Fr(a.group,{color:c})}this.Da=a;this.la=b;this.na=c;this.Lb();c.cb.ka("view",function(b,c,d){cGraphics.Fr(a.group,{cb:Math.pow(d,1/3)})},10);b.Cb.we("view",d,10);d()};extend(V.Model.Lo.fa,V.Model.fa);V.Model.Lo.Model=function(a){this.va(a);this.ua=this.value("breakdown",!1,!1,!0);this.cb=this.value("brightness",0,!1,!0)};extend(V.Model.Lo.Model,C);V.Model.gk={};V.za.put("ledRGB",V.Model.gk);V.Model.gk.cu=["red","green","blue"];
V.Model.gk.da=function(a,b,c){var d=this;d.ca=a;d.la=b;d.na=c;var e=new w,k=this.ha("terminal-cathode");V.Model.gk.cu.forEach(function(a){var b=d.ha("terminal-"+a),b=d.ca.ia.Cc(b,k,1E-18,1.8);e.put(a,b)});this.ca.Na.Ka([this,function(a){var b=a.value(),k=!1,r=[],t="LED broke because of:";V.Model.gk.cu.forEach(function(a){var c=e.get(a).uc(b);r.push(c/.02);.02<c&&(k=!0,t+=" Led "+a+" is driven by "+d.Ia(c,"A")+" while maximum current is "+d.Ia(.02,"A")+".")});c.ua({ua:k,reason:t});c.cb(r)},[a.Na]])};
extend(V.Model.gk.da,V.Model.da);V.Model.gk.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;this.Lb();c.cb.ka("view",function(b,c,k){b=[];for(var l in k)c=.001>k[l]?0:1<k[l]?1:k[l],c=Math.round(100*Math.pow(c,1/3))/100,b.push(c);cGraphics.Lu(a.group,{pd:b})},10);cGraphics.Lu(a.group,{pd:c.cb()})};extend(V.Model.gk.fa,V.Model.fa);V.Model.gk.Model=function(a){this.va(a);this.ua=this.value("breakdown",!1,!1,!0);this.cb=this.value("brightness",[0,0,0],!1,!0)};extend(V.Model.gk.Model,C);V.YY={HJ:2E-5,Mx:.05,rC:3E5,Ox:-.5,Nx:7,tC:2,sC:6,OB:5E6,QI:3.5E-12,NB:3.14/6,MB:2.26/6,Xq:45,Wq:1E8,Fx:.025,Ex:0};
V.uf=function(a,b,c,d){this.Gb=a;this.Ua=new w;this.VO=c;this.MJ=[this,this.VO,[this.Ua]];"object"!=typeof d&&(d={});d=$.extend({},V.YY,d);this.HJ=d.HJ;this.Mx=d.Mx;this.rC=d.rC;this.Ox=d.Ox;this.Nx=d.Nx;this.tC=d.tC;this.sC=d.sC;this.OB=d.OB;this.QI=d.QI;this.NB=d.NB;this.MB=d.MB;this.Xq=d.Xq;this.Wq=d.Wq;this.Fx=d.Fx;this.Ex=d.Ex;this.nc={Ce:null,Nu:null,wf:new w,bf:new w};ym(this,b.je,b.Jb);zm(this,b.wf,!1);zm(this,b.PM,!0);Am(this,b.bf);this.VO(this.Ua);this.Gb.ca.Na.Ka([this,this.Mu,[this.Gb.ca.Na]])};
function ym(a,b,c){b=a.Gb.ha(b[0]);c=a.Gb.ha(c[0]);b&&c&&(a.nc.Ce=b,a.nc.Nu=c,a.Gb.ca.ia.qa(c,b,a.rC),a.Mk=new V.ta(a.Gb.ca,"Digitaldevice power",0),a.Ua.put("power",a.Mk),a.Mk.Ka(a.MJ),a.Gb.ca.ia.dc(a.Mk,c,b,function(b,c){var k=b-c;return k>a.tC&&k<a.sC?1:0}))}
function zm(a,b,c){var d=a.nc.Ce,e=a.nc.Nu;a.Mk&&b&&b.forEach(function(b){var l=new V.ta(a.Gb.ca,"Digitaldevice input "+b,0);a.Ua.put(b,l);l.Ka(a.MJ);var n=a.Gb.ha(b);a.nc.wf.put(b,n);a.Gb.ca.ia.qa(n,a.nc.Ce,a.OB);if(c){var q=new V.ta(a.Gb.ca,"Digitaldevice input schmith trigger pos "+b,0);a.Gb.ca.ia.dc(q,n,e,d,function(b,c,d){return b-d>(c-d)*a.NB?1:0});q.Ka([null,function(){q.yc()&&l.setValue(0,1)}]);var r=new V.ta(a.Gb.ca,"Digitaldevice input schmith trigger neg "+b,0);a.Gb.ca.ia.dc(r,n,e,d,function(b,
c,d){return b-d<(c-d)*a.MB?1:0});r.Ka([null,function(){r.yc()&&l.setValue(0,0)}])}else a.Gb.ca.ia.dc(l,n,e,d,function(a,b,c){return a-c>(b-c)/2?1:0})})}
function Am(a,b){a.Mk&&b&&b.forEach(function(b){var d=new V.ta(a.Gb.ca,"DigitaldeviceModel output "+b,0);a.Ua.put(b,d);var e=a.Gb.ha(b);a.nc.bf.put(b,e);b=new V.Za(d,function(b){return 1==b?a.Xq:a.Wq});if(0==a.Ex)a.Gb.ca.ia.qa(e,a.nc.Nu,b);else{var k=[];a.Gb.ca.ia.Cc(a.nc.Nu,k,1E-23,a.Ex);a.Gb.ca.ia.qa(e,k,b)}d=new V.Za(d,function(b){return 0==b?a.Xq:a.Wq});a.Gb.ca.ia.qa(e,a.nc.Ce,d)})}
V.uf.prototype.Mu=function(a){var b=this,c=this.Gb.ca;a.value();var d=0,e=0,k=!1,l="This device broke because of:";this.nc.Nu&&(e=c.hd.ue(c.time.time,this.nc.Nu,this.nc.Ce),e>this.Nx||e<this.Ox)&&(l+=" Supply voltage is "+b.Gb.Ia(e,"V")+" while permitted range is between "+b.Gb.Ia(this.Ox,"V")+" and "+b.Gb.Ia(this.Nx,"V")+".",k=!0);this.nc.wf.forEach(function(a,d){var r=c.hd.ue(c.time.time,d,b.nc.Ce);r>e+.5&&(l+=" Voltage at pin "+a+" is "+b.Gb.Ia(r,"V")+" while max is Vcc = "+b.Gb.Ia(e,"V")+".",
k=!0)});this.nc.bf.forEach(function(a,q){var r=b.Ua.get(a).value(),t=0==r?b.Xq:b.Wq,r=1==r?b.Xq:b.Wq,v=c.hd.ue(c.time.time,q,b.nc.Ce),t=-v/t+(e-v)/r;t>b.Fx&&(l+=" Current through pin "+a+" is "+b.Gb.Ia(t,"A")+" while max is "+b.Gb.Ia(b.Fx,"A")+".",k=!0);d+=Math.abs(t)});d>this.Mx&&(l+=" Total current through powerpins is "+b.Gb.Ia(d,"A")+" while max is "+b.Gb.Ia(this.Mx,"A")+".",k=!0);this.Gb.na.ua({ua:k,reason:l})};V.Model.ho={};V.za.put("74HC00",V.Model.ho);V.Model.ho.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;b=new V.uf(this,{je:["GND"],Jb:["Vcc"],wf:"1A 1B 2A 2B 3A 3B 4A 4B".split(" "),bf:["1Y","2Y","3Y","4Y"]},function(a){for(var b=1;4>=b;b++){var c=a.get(b+"A").value()&&a.get(b+"B").value()?0:1;a.get(b+"Y").setValue(7E-9,c)}})};extend(V.Model.ho.da,V.Model.da);
V.Model.ho.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;0<$(".packagepin",a.group).length&&(b=cGraphics.lf({text:"74HC00",style:{align:"middle",size:10}}).svg,a.aa.svg.add(a.group,b));this.Lb()};extend(V.Model.ho.fa,V.Model.fa);V.Model.ho.Model=function(a){this.va(a);this.ua=this.value("breakdown",!1,!1,!0)};extend(V.Model.ho.Model,C);V.Model.io={};V.za.put("74HC02",V.Model.io);V.Model.io.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;b=new V.uf(this,{je:["GND"],Jb:["Vcc"],wf:"1A 1B 2A 2B 3A 3B 4A 4B".split(" "),bf:["1Y","2Y","3Y","4Y"]},function(a){for(var b=1;4>=b;b++){var c=a.get(b+"A").value()||a.get(b+"B").value()?0:1;a.get(b+"Y").setValue(7E-9,c)}})};extend(V.Model.io.da,V.Model.da);
V.Model.io.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;0<$(".packagepin",a.group).length&&(b=cGraphics.lf({text:"74HC02",style:{align:"middle",size:10}}).svg,a.aa.svg.add(a.group,b));this.Lb()};extend(V.Model.io.fa,V.Model.fa);V.Model.io.Model=function(a){this.va(a);this.ua=this.value("breakdown",!1,!1,!0)};extend(V.Model.io.Model,C);V.Model.jo={};V.za.put("74HC04",V.Model.jo);V.Model.jo.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;b=new V.uf(this,{je:["GND"],Jb:["Vcc"],wf:"1A 2A 3A 4A 5A 6A".split(" "),bf:"1Y 2Y 3Y 4Y 5Y 6Y".split(" ")},function(a){for(var b=1;6>=b;b++){var c=a.get(b+"A").value()?0:1;a.get(b+"Y").setValue(7E-9,c)}})};extend(V.Model.jo.da,V.Model.da);
V.Model.jo.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;0<$(".packagepin",a.group).length&&(b=cGraphics.lf({text:"74HC04",style:{align:"middle",size:10}}).svg,a.aa.svg.add(a.group,b));this.Lb()};extend(V.Model.jo.fa,V.Model.fa);V.Model.jo.Model=function(a){this.va(a);this.ua=this.value("breakdown",!1,!1,!0)};extend(V.Model.jo.Model,C);V.Model.ko={};V.za.put("74HC08",V.Model.ko);V.Model.ko.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;b=new V.uf(this,{je:["GND"],Jb:["Vcc"],wf:"1A 1B 2A 2B 3A 3B 4A 4B".split(" "),bf:["1Y","2Y","3Y","4Y"]},function(a){for(var b=1;4>=b;b++){var c=a.get(b+"A").value()&&a.get(b+"B").value()?1:0;a.get(b+"Y").setValue(7E-9,c)}})};extend(V.Model.ko.da,V.Model.da);
V.Model.ko.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;0<$(".packagepin",a.group).length&&(b=cGraphics.lf({text:"74HC08",style:{align:"middle",size:10}}).svg,a.aa.svg.add(a.group,b));this.Lb()};extend(V.Model.ko.fa,V.Model.fa);V.Model.ko.Model=function(a){this.va(a);this.ua=this.value("breakdown",!1,!1,!0)};extend(V.Model.ko.Model,C);V.Model.lo={};V.za.put("74HC10",V.Model.lo);V.Model.lo.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;b=new V.uf(this,{je:["GND"],Jb:["Vcc"],wf:"1A 1B 1C 2A 2B 2C 3A 3B 3C".split(" "),bf:["1Y","2Y","3Y"]},function(a){for(var b=1;3>=b;b++){var c=a.get(b+"A").value()&&a.get(b+"B").value()&&a.get(b+"C").value()?0:1;a.get(b+"Y").setValue(9E-9,c)}})};extend(V.Model.lo.da,V.Model.da);
V.Model.lo.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;0<$(".packagepin",a.group).length&&(b=cGraphics.lf({text:"74HC10",style:{align:"middle",size:10}}).svg,a.aa.svg.add(a.group,b));this.Lb()};extend(V.Model.lo.fa,V.Model.fa);V.Model.lo.Model=function(a){this.va(a);this.ua=this.value("breakdown",!1,!1,!0)};extend(V.Model.lo.Model,C);V.Model.mo={};V.za.put("74HC11",V.Model.mo);V.Model.mo.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;b=new V.uf(this,{je:["GND"],Jb:["Vcc"],wf:"1A 1B 1C 2A 2B 2C 3A 3B 3C".split(" "),bf:["1Y","2Y","3Y"]},function(a){for(var b=1;3>=b;b++){var c=a.get(b+"A").value()&&a.get(b+"B").value()&&a.get(b+"C").value()?1:0;a.get(b+"Y").setValue(9E-9,c)}})};extend(V.Model.mo.da,V.Model.da);
V.Model.mo.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;0<$(".packagepin",a.group).length&&(b=cGraphics.lf({text:"74HC11",style:{align:"middle",size:10}}).svg,a.aa.svg.add(a.group,b));this.Lb()};extend(V.Model.mo.fa,V.Model.fa);V.Model.mo.Model=function(a){this.va(a);this.ua=this.value("breakdown",!1,!1,!0)};extend(V.Model.mo.Model,C);V.Model.oo={};V.za.put("74HC14",V.Model.oo);V.Model.oo.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;b=new V.uf(this,{je:["GND"],Jb:["Vcc"],PM:"1A 2A 3A 4A 5A 6A".split(" "),bf:"1Y 2Y 3Y 4Y 5Y 6Y".split(" ")},function(a){for(var b=1;6>=b;b++){var c=a.get(b+"A").value()?0:1;a.get(b+"Y").setValue(7E-9,c)}})};extend(V.Model.oo.da,V.Model.da);
V.Model.oo.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;0<$(".packagepin",a.group).length&&(b=cGraphics.lf({text:"74HC14",style:{align:"middle",size:10}}).svg,a.aa.svg.add(a.group,b));this.Lb()};extend(V.Model.oo.fa,V.Model.fa);V.Model.oo.Model=function(a){this.va(a);this.ua=this.value("breakdown",!1,!1,!0)};extend(V.Model.oo.Model,C);V.Model.po={};V.za.put("74HC20",V.Model.po);V.Model.po.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;b=new V.uf(this,{je:["GND"],Jb:["Vcc"],wf:"1A 1B 1C 1D 2A 2B 2C 2D".split(" "),bf:["1Y","2Y"]},function(a){for(var b=1;2>=b;b++){var c=a.get(b+"A").value()&&a.get(b+"B").value()&&a.get(b+"C").value()&&a.get(b+"D").value()?0:1;a.get(b+"Y").setValue(9E-9,c)}})};extend(V.Model.po.da,V.Model.da);
V.Model.po.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;0<$(".packagepin",a.group).length&&(b=cGraphics.lf({text:"74HC20",style:{align:"middle",size:10}}).svg,a.aa.svg.add(a.group,b));this.Lb()};extend(V.Model.po.fa,V.Model.fa);V.Model.po.Model=function(a){this.va(a);this.ua=this.value("breakdown",!1,!1,!0)};extend(V.Model.po.Model,C);V.Model.qo={};V.za.put("74HC21",V.Model.qo);V.Model.qo.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;b=new V.uf(this,{je:["GND"],Jb:["Vcc"],wf:"1A 1B 1C 1D 2A 2B 2C 2D".split(" "),bf:["1Y","2Y"]},function(a){for(var b=1;2>=b;b++){var c=a.get(b+"A").value()&&a.get(b+"B").value()&&a.get(b+"C").value()&&a.get(b+"D").value()?1:0;a.get(b+"Y").setValue(9E-9,c)}})};extend(V.Model.qo.da,V.Model.da);
V.Model.qo.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;0<$(".packagepin",a.group).length&&(b=cGraphics.lf({text:"74HC21",style:{align:"middle",size:10}}).svg,a.aa.svg.add(a.group,b));this.Lb()};extend(V.Model.qo.fa,V.Model.fa);V.Model.qo.Model=function(a){this.va(a);this.ua=this.value("breakdown",!1,!1,!0)};extend(V.Model.qo.Model,C);V.Model.ro={};V.za.put("74HC27",V.Model.ro);V.Model.ro.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;b=new V.uf(this,{je:["GND"],Jb:["Vcc"],wf:"1A 1B 1C 2A 2B 2C 3A 3B 3C".split(" "),bf:["1Y","2Y","3Y"]},function(a){for(var b=1;3>=b;b++){var c=a.get(b+"A").value()||a.get(b+"B").value()||a.get(b+"C").value()?0:1;a.get(b+"Y").setValue(9E-9,c)}})};extend(V.Model.ro.da,V.Model.da);
V.Model.ro.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;0<$(".packagepin",a.group).length&&(b=cGraphics.lf({text:"74HC27",style:{align:"middle",size:10}}).svg,a.aa.svg.add(a.group,b));this.Lb()};extend(V.Model.ro.fa,V.Model.fa);V.Model.ro.Model=function(a){this.va(a);this.ua=this.value("breakdown",!1,!1,!0)};extend(V.Model.ro.Model,C);V.Model.so={};V.za.put("74HC32",V.Model.so);V.Model.so.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;b=new V.uf(this,{je:["GND"],Jb:["Vcc"],wf:"1A 1B 2A 2B 3A 3B 4A 4B".split(" "),bf:["1Y","2Y","3Y","4Y"]},function(a){for(var b=1;4>=b;b++){var c=a.get(b+"A").value()||a.get(b+"B").value()?1:0;a.get(b+"Y").setValue(7E-9,c)}})};extend(V.Model.so.da,V.Model.da);
V.Model.so.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;0<$(".packagepin",a.group).length&&(b=cGraphics.lf({text:"74HC32",style:{align:"middle",size:10}}).svg,a.aa.svg.add(a.group,b));this.Lb()};extend(V.Model.so.fa,V.Model.fa);V.Model.so.Model=function(a){this.va(a);this.ua=this.value("breakdown",!1,!1,!0)};extend(V.Model.so.Model,C);V.Model.yo={};V.za.put("74HC86",V.Model.yo);V.Model.yo.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;b=new V.uf(this,{je:["GND"],Jb:["Vcc"],wf:"1A 1B 2A 2B 3A 3B 4A 4B".split(" "),bf:["1Y","2Y","3Y","4Y"]},function(a){for(var b=1;4>=b;b++){var c=a.get(b+"A").value()==a.get(b+"B").value()?0:1;a.get(b+"Y").setValue(1.1E-8,c)}})};extend(V.Model.yo.da,V.Model.da);
V.Model.yo.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;0<$(".packagepin",a.group).length&&(b=cGraphics.lf({text:"74HC86",style:{align:"middle",size:10}}).svg,a.aa.svg.add(a.group,b));this.Lb()};extend(V.Model.yo.fa,V.Model.fa);V.Model.yo.Model=function(a){this.va(a);this.ua=this.value("breakdown",!1,!1,!0)};extend(V.Model.yo.Model,C);V.Model.no={};V.za.put("74HC132",V.Model.no);V.Model.no.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;b=new V.uf(this,{je:["GND"],Jb:["Vcc"],PM:"1A 1B 2A 2B 3A 3B 4A 4B".split(" "),bf:["1Y","2Y","3Y","4Y"]},function(a){for(var b=1;4>=b;b++){var c=a.get(b+"A").value()&&a.get(b+"B").value()?0:1;a.get(b+"Y").setValue(7E-9,c)}})};extend(V.Model.no.da,V.Model.da);
V.Model.no.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;0<$(".packagepin",a.group).length&&(b=cGraphics.lf({text:"74HC132",style:{align:"middle",size:10}}).svg,a.aa.svg.add(a.group,b));this.Lb()};extend(V.Model.no.fa,V.Model.fa);V.Model.no.Model=function(a){this.va(a);this.ua=this.value("breakdown",!1,!1,!0)};extend(V.Model.no.Model,C);V.Model.wo={};V.za.put("74HC73",V.Model.wo);
V.Model.wo.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;b=new V.uf(this,{je:["GND"],Jb:["Vcc"],wf:"1CP 1R 1K 1J 2CP 2R 2K 2J".split(" "),bf:["1Q","1NQ","2Q","2NQ"]},function(a){for(var b=1;2>=b;b++){var c=a.get(b+"R").value(),l=a.get(b+"J").value(),n=a.get(b+"K").value();0==c?(a.get(b+"Q").setValue(1.4E-8,0),a.get(b+"NQ").setValue(1.4E-8,1)):a.get(b+"CP").mc()&&(1==l&&1==n?(c=a.get(b+"NQ").value(),a.get(b+"Q").setValue(1.4E-8,c),a.get(b+"NQ").setValue(1.4E-8,c?0:1)):0==l&&1==n?(a.get(b+"Q").setValue(1.4E-8,
0),a.get(b+"NQ").setValue(1.4E-8,1)):1==l&&0==n&&(a.get(b+"Q").setValue(1.4E-8,1),a.get(b+"NQ").setValue(1.4E-8,0)))}})};extend(V.Model.wo.da,V.Model.da);V.Model.wo.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;0<$(".packagepin",a.group).length&&(b=cGraphics.lf({text:"74HC73",style:{align:"middle",size:10}}).svg,a.aa.svg.add(a.group,b));this.Lb()};extend(V.Model.wo.fa,V.Model.fa);V.Model.wo.Model=function(a){this.va(a);this.ua=this.value("breakdown",!1,!1,!0)};extend(V.Model.wo.Model,C);V.Model.xo={};V.za.put("74HC74",V.Model.xo);
V.Model.xo.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;b=new V.uf(this,{je:["GND"],Jb:["Vcc"],wf:"1RD 1D 1CP 1SD 2RD 2D 2CP 2SD".split(" "),bf:["1Q","1NQ","2Q","2NQ"]},function(a){for(var b=1;2>=b;b++){var c=a.get(b+"SD").value(),l=a.get(b+"RD").value(),n=a.get(b+"D").value();0==c&&1==l?(a.get(b+"Q").setValue(1.4E-8,1),a.get(b+"NQ").setValue(1.4E-8,0)):1==c&&0==l?(a.get(b+"Q").setValue(1.4E-8,0),a.get(b+"NQ").setValue(1.4E-8,1)):0==c&&0==l?(a.get(b+"Q").setValue(1.4E-8,1),a.get(b+"NQ").setValue(1.4E-8,
1)):a.get(b+"CP").yc()&&(a.get(b+"Q").setValue(1.4E-8,n),a.get(b+"NQ").setValue(1.4E-8,n?0:1))}})};extend(V.Model.xo.da,V.Model.da);V.Model.xo.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;0<$(".packagepin",a.group).length&&(b=cGraphics.lf({text:"74HC74",style:{align:"middle",size:10}}).svg,a.aa.svg.add(a.group,b));this.Lb()};extend(V.Model.xo.fa,V.Model.fa);V.Model.xo.Model=function(a){this.va(a);this.ua=this.value("breakdown",!1,!1,!0)};extend(V.Model.xo.Model,C);V.Model.zo={};V.za.put("74HC93",V.Model.zo);
V.Model.zo.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;var d=0,e=0;b=new V.uf(this,{je:["GND"],Jb:["Vcc"],wf:["CP0","CP1","MR1","MR2"],bf:["Q0","Q1","Q2","Q3"]},function(a){var b=a.get("MR1").value(),c=a.get("MR2").value();if(1==b&&1==c)for(b=e=d=0;4>b;b++)a.get("Q"+b).setValue(1.5E-8,0);else a.get("CP0").mc()&&(d=d?0:1,a.get("Q0").setValue(1.5E-8,d)),a.get("CP1").mc()&&(e++,7<e&&(e=0),a.get("Q1").setValue(1.5E-8,Math.floor(e%2)),a.get("Q2").setValue(1.5E-8,Math.floor(e/2%2)),a.get("Q3").setValue(1.5E-8,
Math.floor(e/4%2)))})};extend(V.Model.zo.da,V.Model.da);V.Model.zo.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;0<$(".packagepin",a.group).length&&(b=cGraphics.lf({text:"74HC93",style:{align:"middle",size:10}}).svg,a.aa.svg.add(a.group,b));this.Lb()};extend(V.Model.zo.fa,V.Model.fa);V.Model.zo.Model=function(a){this.va(a);this.ua=this.value("breakdown",!1,!1,!0)};extend(V.Model.zo.Model,C);V.Model.vo={};V.za.put("74HC595",V.Model.vo);
V.Model.vo.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;var d=[0,0,0,0,0,0,0,0],e=[0,0,0,0,0,0,0,0];b=new V.uf(this,{je:["GND"],Jb:["Vcc"],wf:["MR","SHCP","STCP","OE","DS"],bf:"Q0 Q1 Q2 Q3 Q4 Q5 Q6 Q7 Q7S".split(" ")},function(a){var b=a.get("MR").value();0==b&&(d=[0,0,0,0,0,0,0,0],a.get("Q7S").setValue(1.4E-8,0));if(a.get("STCP").yc()&&(e=d.slice(),0==a.get("OE").value()))for(var c=0;8>c;c++)a.get("Q"+c).setValue(1.4E-8,e[c]);1==b&&a.get("SHCP").yc()&&(d.unshift(a.get("DS").value()),d.pop(),
a.get("Q7S").setValue(1.4E-8,d[7]));if(a.get("OE").yc())for(c=0;8>c;c++)a.get("Q"+c).setValue(1.4E-8,2);else if(a.get("OE").mc())for(c=0;8>c;c++)a.get("Q"+c).setValue(1.4E-8,e[c])})};extend(V.Model.vo.da,V.Model.da);V.Model.vo.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;0<$(".packagepin",a.group).length&&(b=cGraphics.lf({text:"74HC595",style:{align:"middle",size:10}}).svg,a.aa.svg.add(a.group,b));this.Lb()};extend(V.Model.vo.fa,V.Model.fa);
V.Model.vo.Model=function(a){this.va(a);this.ua=this.value("breakdown",!1,!1,!0)};extend(V.Model.vo.Model,C);V.Model.uo={};V.za.put("74HC4017",V.Model.uo);V.Model.uo.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;var d=0;b=new V.uf(this,{je:["GND"],Jb:["Vcc"],wf:["MR","CP1n","CP0"],bf:"Q0 Q1 Q2 Q3 Q4 Q5 Q6 Q7 Q8 Q9 Q5-9n".split(" ")},function(a){if(1==a.get("MR").value())d=0;else if(a.get("CP0").yc()&&!a.get("CP1n").value()||a.get("CP1n").mc()&&a.get("CP0").value())d=9==d?0:d+1;for(var b=0;10>b;b++)a.get("Q"+b).setValue(2E-8,d==b?1:0);a.get("Q5-9n").setValue(2E-8,5>d?1:0)})};extend(V.Model.uo.da,V.Model.da);
V.Model.uo.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;0<$(".packagepin",a.group).length&&(b=cGraphics.lf({text:"74HC4017",style:{align:"middle",size:10}}).svg,a.aa.svg.add(a.group,b));this.Lb()};extend(V.Model.uo.fa,V.Model.fa);V.Model.uo.Model=function(a){this.va(a);this.ua=this.value("breakdown",!1,!1,!0)};extend(V.Model.uo.Model,C);V.Model.Ao={};V.za.put("CD4511",V.Model.Ao);
V.Model.Ao.da=function(a,b,c){var d=this;d.ca=a;d.la=b;d.na=c;d.V_=[[1,1,1,1,1,1,0],[0,1,1,0,0,0,0],[1,1,0,1,1,0,1],[1,1,1,1,0,0,1],[0,1,1,0,0,1,1],[1,0,1,1,0,1,1],[0,0,1,1,1,1,1],[1,1,1,0,0,0,0],[1,1,1,1,1,1,1],[1,1,1,0,0,1,1],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]];var e=[0,0,0,0,0,0,0,0];b=new V.uf(d,{je:["GND"],Jb:["Vcc"],wf:"AIN BIN CIN DIN LT BI LE".split(" "),bf:"ABCDEFG".split("")},function(a){var b=a.get("LT").value(),c=a.get("BI").value(),
q=a.get("LE").value(),r=(a.get("AIN").value()?1:0)|(a.get("BIN").value()?2:0)|(a.get("CIN").value()?4:0)|(a.get("DIN").value()?8:0);q||(e=d.V_[r]);for(q=0;7>q;++q)a.get("ABCDEFG".split("")[q]).setValue(7.2E-7,0==b?1:0==c?0:e[q])},{HJ:4E-8,Mx:.175,rC:8E6,Ox:-.5,Nx:18,tC:3,sC:15,OB:8E6,QI:5E-12,NB:.6,MB:.4,Xq:45,Wq:1E8,Fx:.025,Ex:.35})};extend(V.Model.Ao.da,V.Model.da);V.Model.Ao.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;this.Lb()};extend(V.Model.Ao.fa,V.Model.fa);
V.Model.Ao.Model=function(a){this.va(a);this.ua=this.value("breakdown",!1,!1,!0)};extend(V.Model.Ao.Model,C);V.Model.zs={};V.za.put("oscilloscope",V.Model.zs);
V.Model.zs.da=function(a,b,c){function d(){var a=b.getPropertyValue("Time per division"),c=b.getPropertyValue("Volt per division");t=10*a;v=c/2*10;q.setValue(.1,!0);r.setValue(0,!1)}var e=this;e.ca=a;e.la=b;e.na=c;var k=this.ha("pos"),l=this.ha("neg");this.ca.ia.qa(k,l,1E8);var n=new V.ta(e.ca,"Scope trigger",0),q=new V.ta(e.ca,"Scope trigger enable",!0),r=new V.ta(e.ca,"Scope draw",!1);n.setValue(0,1);e.ca.ia.OX(n,q,k,l,function(a,b){return a-b>E?1:0});var t,v;b.Cb.we("simulator",d,10);d();var x,
B;n.Ka([null,function(){n.yc()&&(x=Date.now(),B=e.ca.time.time,q.setValue(0,!1),r.setValue(t/2,!0))}]);r.Ka([null,function(){var a,b;if(r.yc()){if(c.BN()){var d=t;b=-1}else d=t,b=v;var x=e.ca.hd;a=B-d/2;var E=B+d/2,d=W(x.ia,k),L=W(x.ia,l),A=Ia(d)+"_"+Ia(L),Y=x.Fk.get(A);Y||(Y=sl(x,d,L),x.Fk.put(A,Y));d=tl(Y,a,E,1E3);x=E-a;if(!b||0>b){for(E=0;E<d.length;E++)L=d[E].y>-d[E].y?d[E].y:-d[E].y,b=b>L?b:L;b*=1.1;E=[1,2,5];L=1E-9;for(A=0;b>E[A]*L&&1E9>L;)A++,3==A&&(A=0,L*=10);b=E[A]*L}L=["M "+2*(d[0].x-a)/
x+" "+(-d[0].y/b).toFixed(3)];for(E=1;E<d.length;E++)L.push("L "+2*(d[E].x-a)/x+" "+(-d[E].y/b).toFixed(3));a=L.join(" ");c.data(a);c.Ry(x);c.Sy(b);n.setValue(0,0);q.setValue(0,!0);r.setValue(0,!1)}}]);Rk(e.ca,e.Da,5*t);var E=0;this.ca.Na.Ka([this,function(a){a.value();a=e.ca.hd.nJ(e.ca.time.time,2*t,k,l);E=(a.min+a.max)/2;Rk(e.ca,e.Da,2*t);3E3<Date.now()-x&&n.setValue(0,1)},[a.Na]])};extend(V.Model.zs.da,V.Model.da);
V.Model.zs.fa=function(a,b,c,d){this.Da=a;this.la=b;this.na=c;d.xd.ka(this,function(b,c,d){cGraphics.Gy(a.group,{La:d==V.Uc.IDLE})});cGraphics.Gy(a.group,{La:!0});c.data.ka("view",function(b,c,d){cGraphics.Gy(a.group,{DI:d})},10);c.Ry.ka("view",function(b,c,d){cGraphics.Gy(a.group,{Ry:V.Model.da.Ia(d,"s")})},10);c.Sy.ka("view",function(b,c,d){cGraphics.Gy(a.group,{Sy:V.Model.da.Ia(2*d,"V")})},10)};
V.Model.zs.Model=function(a){this.va(a);this.data=this.value("data","M 0 0",!1,!0);this.Ry=this.value("xscale",10,!1,!0);this.Sy=this.value("yscale",5,!1,!0);this.BN=this.value("autoscale",!0,!1,!0)};extend(V.Model.zs.Model,C);V.Model.sp={};V.za.put("Timer555",V.Model.sp);
V.Model.sp.da=function(a,b,c){function d(){var a=B.value();x.value()||v.value()?E.setValue(5E-7,0):a&&E.setValue(5E-7,1)}this.ca=a;this.la=b;this.na=c;a=this.ha("Vcc");b=this.ha("GND");var e=this.ha("CTRL"),k=this.ha("TRIG"),l=this.ha("THR"),n=this.ha("Reset");c=this.ha("DIS");var q=this.ha("OUT"),r={name:"Trigger_Compare_Net_"},t={name:"Discharge_NPN_base_Net_"};this.ca.ia.qa(a,e,5E3);this.ca.ia.qa(e,r,5E3);this.ca.ia.qa(r,b,5E3);this.ca.ia.qa(k,a,1E7);this.ca.ia.qa(l,b,5E7);this.ca.ia.qa(n,a,4E4);
var v=new V.ta(this.ca,"555 Timer reset signal",0);this.ca.ia.dc(v,n,b,function(a,b){return 1>a-b});var x=new V.ta(this.ca,"555 Timer Threshold signal",0);this.ca.ia.dc(x,l,e,function(a,b){return a>b});var B=new V.ta(this.ca,"555 Timer Trigger signal",0);this.ca.ia.dc(B,k,r,function(a,b){return b>a});var E=new V.ta(this.ca,"555 Timer FlipFlop output signal",1);x.Ka([this,d]);B.Ka([this,d]);v.Ka([this,d]);e=new V.Za(E,function(a){return 0==a?3E4:1E8});this.ca.ia.qa(a,t,e);e=new V.Za(E,function(a){return 1==
a?1:1E8});this.ca.ia.qa(t,b,e);this.ca.ia.pj(t,b,c);e=new V.Za(E,function(a){return 1==a?15:1E8});this.ca.ia.qa(a,q,e);e=new V.Za(E,function(a){return 0==a?15:1E8});this.ca.ia.qa(q,b,e)};extend(V.Model.sp.da,V.Model.da);V.Model.sp.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;this.Lb()};extend(V.Model.sp.fa,V.Model.fa);V.Model.sp.Model=function(a){this.va(a);this.ua=this.value("breakdown",!1,!1,!0)};extend(V.Model.sp.Model,C);V.Model.tp={};V.za.put("timer556",V.Model.tp);
V.Model.tp.da=function(a,b,c){function d(a,b,c,d,q,r,t,v,x,B){function E(){var a=O.value();K.value()||N.value()?L.setValue(5E-7,0):a&&L.setValue(5E-7,1)}var z={name:"Trigger_Compare_Net_"+b+"_"},I={name:"Discharge_NPN_base_Net_"+b+"_"};a.ca.ia.qa(c,q,5E3);a.ca.ia.qa(q,z,5E3);a.ca.ia.qa(z,d,5E3);a.ca.ia.qa(r,c,1E7);a.ca.ia.qa(t,d,5E7);a.ca.ia.qa(v,c,4E4);var N=new V.ta(a.ca,"556 Timer reset signal "+b,0);a.ca.ia.dc(N,v,d,function(a,b){return 1>a-b});var K=new V.ta(a.ca,"556 Timer Threshold signal "+
b,0);a.ca.ia.dc(K,t,q,function(a,b){return a>b});var O=new V.ta(a.ca,"556 Timer Trigger signal "+b,0);a.ca.ia.dc(O,r,z,function(a,b){return b>a});var L=new V.ta(a.ca,"556 Timer FlipFlop output signal "+b,1);K.Ka([a,E]);O.Ka([a,E]);N.Ka([a,E]);b=new V.Za(L,function(a){return 0==a?3E4:1E8});a.ca.ia.qa(c,I,b);b=new V.Za(L,function(a){return 1==a?1:1E8});a.ca.ia.qa(I,d,b);a.ca.ia.pj(I,d,x);b=new V.Za(L,function(a){return 1==a?15:1E8});a.ca.ia.qa(c,B,b);b=new V.Za(L,function(a){return 0==a?15:1E8});a.ca.ia.qa(B,
d,b)}this.ca=a;this.la=b;this.na=c;a=this.ha("vcc");b=this.ha("gnd");d(this,"A",a,b,this.ha("control_a"),this.ha("trigger_a"),this.ha("threshold_a"),this.ha("reset_a"),this.ha("discharge_a"),this.ha("output_a"));d(this,"B",a,b,this.ha("control_b"),this.ha("trigger_b"),this.ha("threshold_b"),this.ha("reset_b"),this.ha("discharge_b"),this.ha("output_b"))};extend(V.Model.tp.da,V.Model.da);V.Model.tp.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;this.Lb()};extend(V.Model.tp.fa,V.Model.fa);
V.Model.tp.Model=function(a){this.va(a);this.ua=this.value("breakdown",!1,!1,!0)};extend(V.Model.tp.Model,C);V.Model.Rq={};V.za.put("opAmp_UA741",V.Model.Rq);V.Model.Rq.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;a=this.ha("Vcc");b=this.ha("Gnd");c=this.ha("V+");var d=this.ha("V-");this.ha("Offset1");this.ha("Offset2");var e=this.ha("OUT");this.ha("Nc");var k=30/.0033;this.ca.ia.vA(c,d,a,b,e,2E6,75,2E5);this.ca.ia.qa(a,b,k)};extend(V.Model.Rq.da,V.Model.da);V.Model.Rq.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;this.Lb()};extend(V.Model.Rq.fa,V.Model.fa);
V.Model.Rq.Model=function(a){this.va(a);this.ua=this.value("breakdown",!1,!1,!0)};extend(V.Model.Rq.Model,C);V.Model.rs={};V.za.put("photodiode",V.Model.rs);V.Model.ar={};V.za.put("photodiode_v2",V.Model.ar);V.Model.rs.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;a=this.ha("terminal-1");b=this.ha("terminal-2");var d=new V.ta(this.ca,this.name,!1),e=new V.Za(d,function(a){a=a?100:1;return Math.exp(Math.log(5E5)-.85*(Math.log(a)-Math.log(.3)))});this.ca.ia.qa(a,b,e);c.position.ka("simulator",function(a,b,c){d.setValue(0,c)},10)};extend(V.Model.rs.da,V.Model.da);
V.Model.rs.fa=function(a,b,c){var d=this;this.Da=a;this.la=b;this.na=c;this.Ob(".led","click");c.position.ka("view",function(a,b,c){c?$("#PhotoDiode ellipse[rx='10.366']",d.parent.group).attr("fill","yellow"):$("#PhotoDiode ellipse[rx='10.366']",d.parent.group).attr("fill","#DBDDAF")},10)};V.Model.rs.Model=function(a){this.va(a);this.position=this.value("position",!1,!1,!0)};extend(V.Model.rs.Model,C);
V.Model.ar.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;b=this.ha("anode");var d=this.ha("cathode"),e=new V.ta(this.ca,"photodiode lux signal",0),k=new V.Za(e,function(a){return 1E-7*a*1E3});a.ia.Kp(b,d,k);a.ia.Cc(b,d,1E-11,1);a.ia.qa(b,d,1E6);c.position.ka("simulator",function(a,b,c){e.setValue(0,Math.round(50*c)/50)},10)};extend(V.Model.ar.da,V.Model.da);
V.Model.ar.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;this.Ob(".cgfx__hitarea-interaction","slider");c.position.ka("view",function(b,c,k){cGraphics.GS({view:a.group,control:a.Dd},{Wg:k})},10)};extend(V.Model.ar.fa,V.Model.fa);
V.Model.ar.Model=function(a,b){this.va(a);this.position=this.value("position",0,!1,!0);var c=b.wb().svg,d=$(".cgfx__hitarea-interaction.cgfx__bounds",c),e=parseFloat(d.attr("width")),k=parseFloat(d.attr("height")),c=new J(parseFloat(d.attr("x"))+k/2,parseFloat(d.attr("y"))),e=c.add(new J(e-k,0)),d=SvgHelpers.ug(d[0]);this.dm=c.bd(d);this.em=e.bd(d)};extend(V.Model.ar.Model,C);V.Model.Iq={};V.za.put("lightBulb",V.Model.Iq);V.Model.Iq.da=function(a,b,c){var d=this;d.ca=a;d.la=b;d.na=c;b=this.ha("1");var e=this.ha("2"),k=a.ia.qa(b,e,48);a.Na.Ka([this,function(a){a=a.value();a=Math.abs(k.uc(a));.25>=a?(c.cb(a/.25),c.ua({ua:!1,reason:""})):(a="Current through the light bulb is "+d.Ia(a,"A")+", while maximum is "+d.Ia(.25,"A"),c.cb(1),c.ua({ua:!0,reason:a}))},[a.Na]])};extend(V.Model.Iq.da,V.Model.da);
V.Model.Iq.fa=function(a,b,c,d){this.Da=a;this.la=b;this.na=c;this.Lb();c.cb.ka("view",function(b,c,d){b=Math.pow(.001>d?0:1<d?1:d,1/3);cGraphics.JS(a.group,{cb:b})},10);d.xd.ka(this,function(b,c,d){cGraphics.JS(a.group,{La:d==V.Uc.IDLE})})};extend(V.Model.Iq.fa,V.Model.fa);V.Model.Iq.Model=function(a){this.va(a);this.ua=this.value("breakdown",!1,!1,!0);this.cb=this.value("brightness",0,!1,!0)};extend(V.Model.Iq.Model,C);V.Model.Kr={};V.za.put("AABattery",V.Model.Kr);V.Model.Kr.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;b=this.ha("+");c=this.ha("-");a.ia.Pd(b,c,1.5,.5)};extend(V.Model.Kr.da,V.Model.da);V.Model.Kr.fa=function(){};V.Model.Kr.Model=function(a){this.va(a)};extend(V.Model.Kr.Model,C);V.Model.Lr={};V.za.put("AABattery2",V.Model.Lr);V.Model.Lr.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;b=this.ha("+");c=this.ha("-");a.ia.Pd(b,c,3,1)};extend(V.Model.Lr.da,V.Model.da);V.Model.Lr.fa=function(){};V.Model.Lr.Model=function(a){this.va(a)};extend(V.Model.Lr.Model,C);V.Model.Mr={};V.za.put("AABattery3",V.Model.Mr);V.Model.Mr.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;b=this.ha("+");c=this.ha("-");a.ia.Pd(b,c,4.5,1.5)};extend(V.Model.Mr.da,V.Model.da);V.Model.Mr.fa=function(){};V.Model.Mr.Model=function(a){this.va(a)};extend(V.Model.Mr.Model,C);V.Model.Nr={};V.za.put("AABattery4",V.Model.Nr);V.Model.Nr.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;b=this.ha("+");c=this.ha("-");a.ia.Pd(b,c,6,2)};extend(V.Model.Nr.da,V.Model.da);V.Model.Nr.fa=function(){};V.Model.Nr.Model=function(a){this.va(a)};extend(V.Model.Nr.Model,C);V.Model.tt={};V.za.put("coinCell",V.Model.tt);V.Model.tt.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;b=this.ha("+");c=this.ha("-");a.ia.Pd(b,c,3,10)};extend(V.Model.tt.da,V.Model.da);V.Model.tt.fa=function(){};V.Model.tt.Model=function(a){this.va(a)};extend(V.Model.tt.Model,C);V.Model.dr={};V.za.put("powerSupply",V.Model.dr);
V.Model.dr.da=function(a,b,c){var d=this;d.ca=a;d.la=b;d.na=c;var e=this.ha("Vcc"),k=this.ha("GND"),l=b.getPropertyValue("Voltage")||5;b=b.getPropertyValue("Current")||5;var n=new V.ta(a,"powerPosition",!1),q=new V.ta(a,"voltagePosition",l),r=new V.ta(a,"currentPosition",b),t=new V.Za(n,function(a){return a?1E-4:1E10}),v=new V.Za(n,q,function(a,b){return a?b*c.Un:0}),x=new V.Za(n,r,function(a,b){return a?b*c.vl:c.vl}),B=Vk(a.ia,e,k,v,t,x);c.Jb.ka("simulator",function(a,b,c){n.setValue(0,c)},10);c.Jb(!0);
c.Ou.ka("simulator",function(a,b,c){q.setValue(0,Math.round(150*(0>c?0:c))/150)},10);c.Ou(l/c.Un);c.dt.ka("simulator",function(a,b,c){r.setValue(0,Math.round(50*(0>c?0:c))/50)},10);c.dt(b/c.vl);this.ca.Na.Ka([this,function(a){a=a.value();if(c.Jb()){var b=B.Yd(a);.001>Math.abs(b)&&(b=0);c.fL(d.Ia(b,"V"));a=B.uc(a);1E-5>Math.abs(a)&&(a=0);c.lH(d.Ia(a,"A"));c.mode(a<x.value()?1:2)}else c.fL(""),c.lH(""),c.mode(0)},[a.Na]])};extend(V.Model.dr.da,V.Model.da);
V.Model.dr.fa=function(a,b,c,d){var e=this;this.Da=a;this.la=b;this.na=c;this.Ob(".cgfx__hitarea-interaction.cgfx__powerbtn","click","Power");this.Ob(".cgfx__hitarea-interaction.cgfx__potentiometer-voltage","potentiometer","Voltage");this.Ob(".cgfx__hitarea-interaction.cgfx__potentiometer-current","potentiometer","Current");d.xd.ka(e,function(b,c,d){cGraphics.Tn(a.group,{La:d==V.Uc.IDLE})});c.Jb.ka("view",function(b,c,d){cGraphics.Tn(a.group,{Hj:d});cGraphics.Tn(a.group,{La:!d})},10);c.Jb(!1);c.Ou.ka("view",
function(b,d,n){d=!1;0>n?(n=0,d=!0):cGraphics.Tn(a.group,{mT:n});b=Math.round(150*n)/150;d||(d=e.la.getPropertyValue("Voltage"),null!==d&&1E-6<Math.abs(d-n*c.Un)&&e.Da.aa.mode==R&&(e.la.root.Vb(),e.la.setProperty("Voltage",!1,b*c.Un,""),e.la.root.Xb()))},10);d=b.getPropertyValue("Voltage")||5;c.Ou(d/c.Un);c.fL.ka("view",function(b,c,d){cGraphics.Tn(a.group,{lT:d})},10);c.dt.ka("view",function(b,d,n){d=!1;0>n?(n=0,d=!0):cGraphics.Tn(a.group,{vO:n});b=Math.round(50*n)/50;d||(d=e.la.getPropertyValue("Current"),
null!==d&&Math.abs(d-n*c.vl)&&e.Da.aa.mode==R&&(e.la.root.Vb(),e.la.setProperty("Current",!1,b*c.vl,""),e.la.root.Xb()))},10);d=b.getPropertyValue("Current")||5;c.dt(d/c.vl);c.lH.ka("view",function(b,c,d){cGraphics.Tn(a.group,{uO:d})},10);c.mode.ka("view",function(b,c,d){cGraphics.Tn(a.group,{iT:1==d?1:0,VN:2==d?1:0})},10);b.Cb.we("view",function(){var a=b.getPropertyValue("Voltage");!a||0>a?a=0:a>c.Un&&(a=c.Un);var d=b.getPropertyValue("Current");!d||0>d?d=0:d>c.vl&&(d=c.vl);c.Ou(a/c.Un);c.dt(d/
c.vl)},10)};extend(V.Model.dr.fa,V.Model.fa);
V.Model.dr.Model=function(a,b){this.va(a);var c=b.wb().svg;this.Sf=new w;this.Jb=this.value("power",!1,!1,!0);this.Ou=this.value("voltPosition",-1,!1,!0);this.fL=this.value("voltText","",!1,!0);this.dt=this.value("ampPosition",-1,!1,!0);this.lH=this.value("ampText","",!1,!0);this.mode=this.value("mode",0,!1,!0);this.Un=30;this.vl=5;this.Sf.put("Power",{position:this.Jb});var d=$(".cgfx__hitarea-interaction.cgfx__potentiometer-voltage",c),e=SvgHelpers.ug(d[0]),d=new J(parseFloat(d.attr("cx")),parseFloat(d.attr("cy"))),
k=d.add(new J(0,1));this.Sf.put("Voltage",{position:this.Ou,Pl:d.bd(e),Ol:Pb(k.bd(e).sub(d.bd(e)))});d=$(".cgfx__hitarea-interaction.cgfx__potentiometer-current",c);e=SvgHelpers.ug(d[0]);d=new J(parseFloat(d.attr("cx")),parseFloat(d.attr("cy")));k=d.add(new J(0,1));this.Sf.put("Current",{position:this.dt,Pl:d.bd(e),Ol:Pb(k.bd(e).sub(d.bd(e)))})};extend(V.Model.dr.Model,C);V.Model.jl={};V.Model.jl.rr="L293D";V.za.put(V.Model.jl.rr,V.Model.jl);
V.Model.jl.da=function(a,b,c){var d=this;d.ca=a;d.la=b;d.na=c;var e=this.ha("Vss");b=this.ha("Vs");var k=this.ha("GND");a.ia.kd(k,this.ha("GND1"));a.ia.kd(k,this.ha("GND2"));a.ia.kd(k,this.ha("GND3"));var l=["Input1","Input2","Input3","Input4"],n=["Output1","Output2","Output3","Output4"],q=["Enable1",-1,"Enable2",-1],r=new w,t=new w,v=a.ia.qa(b,k,5E3),x=a.ia.qa(e,k,1250),B=new V.ta(a,"L293D logic power",!1);a.ia.dc(B,e,k,function(a,b){return 4.5<a-b});for(var E,e=0;e<l.length;e++){var z=this.ha(l[e]),
I=a.ia.qa(z,k,5E5),N=new V.ta(a,"L293D input "+e,!1);a.ia.dc(N,z,k,function(a,b){return 1.9<a-b});r.put(l[e],I);-1!=q[e]&&(z=this.ha(q[e]),I=a.ia.qa(z,k,5E5),E=new V.ta(a,"L293D enable "+e,!1),a.ia.dc(E,z,k,function(a,b){return 1.9<a-b}),r.put(q[e],I));I=this.ha(n[e]);z=new V.Za(B,N,E,function(a,b,c){return a&&c&&b?2:25E4});z=a.ia.qa(b,I,z);N=new V.Za(B,N,E,function(a,b,c){return a&&c&&!b?2:25E4});N=this.ca.ia.qa(I,k,N);t.put(n[e]+" sources",z);t.put(n[e]+" sinks",N);a.ia.Cc(k,I,1E-20,1);a.ia.Cc(I,
b,1E-20,1)}a.Na.Ka([this,function(a){var b=a.value(),e="";a=v.Yd(b);36<a&&(e+=" Voltage at Vs pin is "+d.Ia(a,"V")+", while maximum is "+d.Ia(36,"V")+".");var k=x.Yd(b);36<k&&(e+=" Voltage at Vcc pin is "+d.Ia(k,"V")+", while maximum is "+d.Ia(36,"V")+".");r.forEach(function(a,c){var l=c.Yd(b);.1<l-k&&(e+=" Voltage at pin "+a+" ("+d.Ia(l,"V")+") is higher than Voltage at Vcc ("+d.Ia(k,"V")+").")});c.ua({ua:""!=e,reason:e})},[a.Na]])};extend(V.Model.jl.da,V.Model.da);
V.Model.jl.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;this.Lb()};extend(V.Model.jl.fa,V.Model.fa);V.Model.jl.Model=function(a){this.va(a);this.ua=this.value("breakdown",!1,!1,!0)};extend(V.Model.jl.Model,C);V.Model.Gq={};V.za.put("LCD_HD44780",V.Model.Gq);
V.Model.Gq.da=function(a,b,c){var d=this;d.ca=a;d.la=b;d.na=c;d.fb=!1;b=this.ha("GND");var e=this.ha("VDD"),k=this.ha("VO"),l=this.ha("RS"),n=this.ha("RW"),q=this.ha("E"),r="DB0 DB1 DB2 DB3 DB4 DB5 DB6 DB7".split(" "),t=this.ha("LED+"),v=this.ha("LED-");a.ia.qa(e,b,4200);var x=new V.ta(a,"LCD power",0,d.fb);a.ia.dc(x,e,b,function(a,b){return 4.5<a-b?1:0});a.ia.qa(l,b,4E5);var B=new V.ta(a,"LCD RS",0,d.fb);a.ia.dc(B,l,b,function(a,b){return 2.5<a-b?1:0});a.ia.qa(n,b,4E5);l=new V.ta(a,"LCD RW",0,d.fb);
a.ia.dc(l,n,b,function(a,b){return 2.5<a-b?1:0});a.ia.qa(q,b,4E5);n=new V.ta(a,"LCD Enable",0,d.fb);a.ia.dc(n,q,b,function(a,b){return 2.5<a-b?1:0});var q=[],E;for(E in r){var z=this.ha(r[E]);a.ia.qa(z,b,4E5);var I=new V.ta(a,"LCD Data"+E,0,d.fb);q.push(I);a.ia.dc(I,z,b,function(a,b){return 2.5<a-b?1:0})}var N=new V.BE(a,x,B,l,n,q,cGraphics.nx.$H),K=a.ia.qa(e,k,12500),O=a.ia.Cc(t,v,1E-20,1.8);a.Na.Ka([this,function(a){var b=a.value();a="";N.$l&&c.content(Bm(N));var e=(K.Yd(b)-3.3)/(5-3.3);c.Sm(0>
e?0:1<e?1:e);b=O.uc(b);.02<b?(c.cb(1),a="Current through backlight led is "+d.Ia(b,"A")+", while maximum is "+d.Ia(.02,"A")):c.cb(b/.02);c.ua({ua:""!=a,reason:a})},[a.Na]])};extend(V.Model.Gq.da,V.Model.da);
V.Model.Gq.fa=function(a,b,c){var d=this;this.Da=a;this.la=b;this.na=c;this.Lb();this.Ee={aI:c.content(),cb:c.cb(),Sm:c.Sm()};c.content.ka("view",function(b,k,l){1==l.length&&(l[1]=c.content.ma()[1]);d.Ee.aI=l;cGraphics.lD(a.group,d.Ee)},10);c.cb.ka("view",function(b,c,l){b=Math.pow(l,1/3);.01<Math.abs(d.Ee.cb-b)&&(d.Ee.cb=b,cGraphics.lD(a.group,d.Ee))},10);c.Sm.ka("view",function(b,c,l){.01<Math.abs(d.Ee.Sm-l)&&(d.Ee.Sm=l,cGraphics.lD(a.group,d.Ee))},10);cGraphics.lD(a.group,this.Ee)};
extend(V.Model.Gq.fa,V.Model.fa);V.Model.Gq.Model=function(a){this.va(a);this.ua=this.value("breakdown",!1,!1,!0);this.content=this.value("content",cGraphics.nx.LZ([[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]]),!1,!0);this.cb=this.value("brightness",0,!1,!0);this.Sm=this.value("contrast",0,!1,!0)};extend(V.Model.Gq.Model,C);
V.BE=function(a,b,c,d,e,k,l){var n=this;this.fb=!1;this.mb=a;this.Jb=b;this.b1=c;this.d1=d;this.enable=e;this.data=k;b=[this,this.ej];this.Jb.Ka(b);this.enable.Ka(b);this.uH=new V.ta(a,"HD44780_busyTimer_signal",0,this.fb);this.uH.Ka([null,function(){n.Wd.LD=0}]);this.EA=new V.ta(a,"HD44780_blinkTimer_signal",0,this.fb);this.EA.Ka([null,function(){n.qH=!n.qH;n.$l=!0;n.Wd.$y&&n.EA.setValue(.4096,!0)}]);this.tT=l;this.wv=80;this.L_=24;this.kr()};
V.BE.prototype.kr=function(){this.Yu=new Uint8Array(this.wv);this.ez=new Uint8Array(255);for(var a=0;a<this.ez.length;a++)this.ez[a]=255;this.ae=0;this.Ve=[0,0,0,0,0,0,0,0];this.pm=0;this.Wd={LD:0,kz:1,Sb:0,uz:0,IL:0,Oc:0,$y:0,Sd:0,yz:1};this.Vm=this.nn=this.xv=0;this.qH=!1;this.$l=!0};
V.BE.prototype.ej=function(){if(this.Jb.yc())this.kr(),this.Wd.LD=1,this.uH.setValue(.01,!0);else if(this.Jb.value()&&this.enable.mc()){var a=this.b1.value(),b=this.d1.value();if(0==a)if(1==this.Wd.kz)for(var c=0;8>c;c++)this.Ve[c]=this.data[c].value();else for(this.nn=this.nn?0:1,c=0;4>c;c++)this.Ve[c+4*this.nn]=this.data[c+4].value();else if(1==this.Wd.kz)for(c=this.pm=0;8>c;c++)this.pm|=this.data[c].value()<<c;else{if(this.nn=this.nn?0:1)this.pm=0;for(c=0;4>c;c++)this.pm|=this.data[c+4].value()<<
c+4*this.nn}if(1==this.Wd.kz||0==this.nn){var d=0;if(0==a&&0==b)if(this.Ve[7]){for(c=this.ae=0;7>c;c++)this.ae|=this.Ve[c]<<c;this.Wd.Sb&&64<=this.ae&&(this.ae-=this.L_);this.xv=0;d=3.7E-5;this.$l=!0}else if(this.Ve[6]){for(c=this.ae=0;6>c;c++)this.ae|=this.Ve[c]<<c;this.xv=1;d=3.7E-5}else if(this.Ve[5])this.Wd.kz=this.Ve[4],this.Wd.Sb=this.Ve[3],this.Wd.uz=this.Ve[2],d=3.7E-5;else if(this.Ve[4])a=this.Ve[2]?1:-1,this.Ve[3]?this.Vm+=a:(this.ae+=a,0>this.ae&&(this.ae=this.wv-1),this.ae>this.wv-1&&
(this.ae=0)),d=3.7E-5,this.$l=!0;else if(this.Ve[3])this.Wd.IL=this.Ve[2],this.Wd.Oc=this.Ve[1],this.Wd.$y=this.Ve[0],this.Wd.$y?this.EA.setValue(0,!0):Tk(this.EA,this.mb.time),d=3.7E-5,this.$l=!0;else if(this.Ve[2])this.Wd.yz=this.Ve[1],this.Wd.Sd=this.Ve[0],d=3.7E-5;else if(this.Ve[1])this.Vm=this.ae=this.xv=0,d=.00152,this.$l=!0;else{if(this.Ve[0]){for(c=0;c<this.Yu.length;c++)this.Yu[c]=32;this.Vm=this.ae=this.xv=0;this.Wd.yz=1;this.$l=!0}}else 1==a&&0==b&&(a=this.Wd.yz?1:-1,0==this.xv?(this.Yu[this.ae]=
this.pm,this.Wd.Sd&&(this.Vm-=a),this.$l=!0):this.ez[this.ae]=this.pm,this.ae+=a,0>this.ae&&(this.ae=0),this.ae>this.wv-1&&(this.ae=this.wv-1),d=4.1E-5);d&&(this.Wd.LD=1,this.uH.setValue(d,!0))}}};
function Bm(a){var b=[],c=a.Wd.Sb?40:80;if(a.Wd.IL){b[0]=[];for(e=0;16>e;e++){var d=(e-a.Vm+c)%c;b[0][e]=Cm(a,a.Yu[d],d==a.ae)}if(a.Wd.Sb)for(b[1]=[],e=0;16>e;e++)d=40+(e-a.Vm+c)%c,b[1][e]=Cm(a,a.Yu[d],d==a.ae)}else for(c=a.Wd.uz?11:8,d=0;2>d;d++){b[d]=[];for(var e=0;16>e;e++){b[d][e]=[];for(var k=0;k<c;k++){b[d][e][k]=[];for(var l=0;5>l;l++)b[d][e][k][l]=0}}}a.$l=!1;return b}
function Cm(a,b,c){var d=[],e=a.Wd.uz?11:8;if(16>b){b=(b&(a.Wd.uz?6:7))<<3;for(var k=0;k<e;k++){d[k]=[];for(var l=a.ez[b+k],n=0;5>n;n++)d[k][4-n]=l&1<<n?1:0}}else d=a.tT[b];c&&a.Wd.Oc&&(d=d.slice(0),d[e-1]=[1,1,1,1,1]);if(c&&a.Wd.$y&&a.qH)for(d=[],k=0;k<e;k++)d[k]=[1,1,1,1,1];return d};V.Model.Io={};V.za.put("lm339",V.Model.Io);
V.Model.Io.da=function(a,b,c){function d(a,b,c,d,e,k,l){var n={Ra:"output net "+b};b=new V.ta(a.ca,"555 Timer Trigger signal "+b,0);a.ca.ia.dc(b,e,k,c,d,function(a,b,c,d){return a>b&&2<c-d});e=new V.Za(b,function(a){return a?1E10:1E-8});a.ca.ia.qa(d,n,e);d=new V.Za(b,function(a){return a?1E-8:1E10});a.ca.ia.qa(c,n,d);return a.ca.ia.qa(n,l,.001)}var e=this;e.ca=a;e.la=b;e.na=c;var k=this.ha("vcc"),l=this.ha("gnd"),n=a.ia.qa(k,l,6250);this.vQ=["1","2","3","4"];this.wQ={};this.vQ.forEach(function(a){e.wQ[a]=
d(e,a,k,l,e.ha("input"+a+"_pos"),e.ha("input"+a+"_neg"),e.ha("output"+a))});this.ca.Na.Ka([this,function(a){var b=a.value(),d=!1;a=n.Yd(b);var k="LM339 broke because of:";36<a&&(d=!0,k+=" Supply voltage of "+e.Ia(a,"V")+" exceeds maximum of "+e.Ia(36,"V")+".",d=!0);e.vQ.forEach(function(a){var c=e.wQ[a].uc(b);.02<c&&(k+=" Output "+a+" current of "+e.Ia(c,"A")+" exceeds maximum of "+e.Ia(.02,"A")+".",d=!0)});c.ua({ua:d,reason:k})},[a.Na]])};extend(V.Model.Io.da,V.Model.da);
V.Model.Io.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;this.Lb()};extend(V.Model.Io.fa,V.Model.fa);V.Model.Io.Model=function(a){this.va(a);this.ua=this.value("breakdown",!1,!1,!0)};extend(V.Model.Io.Model,C);V.Cv=function(a,b,c,d,e){var k=this;k.la=a;this.Hu=e.Hu||.003;a=e.MA||90;this.Om=e.Om||2.25;this.ww=e.ww||this.Om;this.Kq=e.Kq||9;this.gu=150;this.au=e.au||!1;this.LA=e.LA||!1;this.vj=b;this.wj=c;this.NQ=d;k.la.ca.ia.qa(this.vj,this.wj,a);k.la.na.Ai(2);k.m2=new V.ta(k.la.ca,"switch signal",0);k.GK=new V.ta(k.la.ca,"switch signal delayed",0);k.la.ca.ia.dc(k.m2,this.vj,this.wj,function(a,b){var c=b-a;!k.LA&&0>c&&(c=-c);c>k.Om?k.la.na.Ai(1):k.au?c<-k.Om&&k.la.na.Ai(2):c<k.ww&&k.la.na.Ai(2);return k.la.na.Ai()});
k.la.na.Ai.ka("simulator",function(a,b,c){k.GK.setValue(k.Hu,c)},10);b=d.length;for(c=0;c<b;++c)pole=d[c],pole[1][0]&&(e=new V.Za(k.GK,function(a){return 1==a?1E10:1E-6}),k.la.ca.ia.qa(pole[1][0],pole[0],e)),pole[1][1]&&(e=new V.Za(k.GK,function(a){return 1==a?1E-6:1E10}),k.la.ca.ia.qa(pole[1][1],pole[0],e))};
V.Cv.prototype.Mu=function(){function a(a,c,d){a=b.hd.ue(b.time.time,a,c);0>a&&(a=-a);return d>a?d:a}var b=this.la.ca,c=!1,d="",e=b.hd.ue(b.time.time,this.wj,this.vj);0>e&&(e=-e);e>this.Kq&&(d+=" Voltage across the switch coil "+this.la.Ia(e,"V")+" exceeds max of "+this.la.Ia(this.Kq,"V")+".",c=!0);for(var e=0,k=this.NQ.length,l=0;l<k;++l){var n=this.NQ[l];n[1][0]&&(e=a(n[0],n[1][0],e));n[1][1]&&(e=a(n[0],n[1][1],e))}e>this.gu&&(d+=" Voltage across the relay "+this.la.Ia(e,"V")+" exceeds max of "+
this.la.Ia(this.gu,"V")+".",c=!0);this.la.na.ua({ua:c,reason:d})};V.Model.bp={};V.za.put("relay_spdt",V.Model.bp);V.Model.bp.da=function(a,b,c){var d=this;d.ca=a;d.la=b;d.na=c;this.vj=this.ha("COIL1");this.wj=this.ha("COIL2");this.xw=this.ha("COM1");this.DH=this.ha("COM2");this.OJ=this.ha("R1");this.PJ=this.ha("R2");a.ia.kd(this.xw,this.DH);this.ir=new V.Cv(this,this.wj,this.vj,[[this.xw,[this.PJ,this.OJ]]],{Hu:.003,MA:125,ww:2.3,Om:2.9,Kq:24,gu:28,au:!1});this.ca.Na.Ka([this,function(){d.ir.Mu()}])};extend(V.Model.bp.da,V.Model.da);
V.Model.bp.fa=function(a,b,c,d){this.Da=a;this.la=b;this.na=c;this.Lb();this.na.Ai.ka("view",function(b,c,d){cGraphics.oD(a.group,{Ch:1==d?"6connected":"7connected"})},10);d.xd.ka(this,function(b,c,d){cGraphics.oD(a.group,{La:d==V.Uc.IDLE})})};extend(V.Model.bp.fa,V.Model.fa);V.Model.bp.Model=function(a){this.va(a);this.ua=this.value("breakdown",!1,!1,!0);this.Ai=this.value("switchState",1,!1,!0)};extend(V.Model.bp.Model,C);V.Model.$o={};V.za.put("relay_dpdt",V.Model.$o);V.Model.$o.da=function(a,b,c){var d=this;d.ca=a;d.la=b;d.na=c;this.vj=this.ha("COIL1");this.wj=this.ha("COIL2");this.EH=this.ha("COMA");this.cH=this.ha("A1");this.dH=this.ha("A2");this.FH=this.ha("COMB");this.nH=this.ha("B1");this.oH=this.ha("B2");this.ir=new V.Cv(this,this.wj,this.vj,[[this.EH,[this.cH,this.dH]],[this.FH,[this.nH,this.oH]]],{Hu:.003,MA:125,ww:1.5,Om:2.9,Kq:24,gu:28,au:!1,LA:!0});this.ca.Na.Ka([this,function(){d.ir.Mu()}])};
extend(V.Model.$o.da,V.Model.da);V.Model.$o.fa=function(a,b,c,d){this.Da=a;this.la=b;this.na=c;this.Lb();this.na.Ai.ka("view",function(b,c,d){cGraphics.TS(a.group,{Ch:1==d?"8and9connected":"6and11connected"})},10);d.xd.ka(this,function(b,c,d){cGraphics.TS(a.group,{La:d==V.Uc.IDLE})})};extend(V.Model.$o.fa,V.Model.fa);V.Model.$o.Model=function(a){this.va(a);this.ua=this.value("breakdown",!1,!1,!0);this.Ai=this.value("switchState",1,!1,!0)};extend(V.Model.$o.Model,C);V.Model.ap={};V.za.put("relay_dpdt_latching",V.Model.ap);V.Model.ap.da=function(a,b,c){var d=this;d.ca=a;d.la=b;d.na=c;this.vj=this.ha("COIL1");this.wj=this.ha("COIL2");this.EH=this.ha("COMA");this.cH=this.ha("A1");this.dH=this.ha("A2");this.FH=this.ha("COMB");this.nH=this.ha("B1");this.oH=this.ha("B2");this.ir=new V.Cv(this,this.vj,this.wj,[[this.EH,[this.cH,this.dH]],[this.FH,[this.nH,this.oH]]],{Hu:.003,MA:90,Om:2.25,Kq:9,gu:150,au:!0,LA:!0});this.ca.Na.Ka([this,function(){d.ir.Mu()}])};
extend(V.Model.ap.da,V.Model.da);V.Model.ap.fa=function(a,b,c,d){this.Da=a;this.la=b;this.na=c;this.Lb();this.na.Ai.ka("view",function(b,c,d){cGraphics.SS(a.group,{Ch:1==d?"8and9connected":"6and11connected"})},10);d.xd.ka(this,function(b,c,d){cGraphics.SS(a.group,{La:d==V.Uc.IDLE})})};extend(V.Model.ap.fa,V.Model.fa);V.Model.ap.Model=function(a){this.va(a);this.ua=this.value("breakdown",!1,!1,!0);this.Ai=this.value("switchState",1,!1,!0)};extend(V.Model.ap.Model,C);V.Model.cp={};V.za.put("relay_spdt_hrs1h",V.Model.cp);V.Model.cp.da=function(a,b,c){var d=this;d.ca=a;d.la=b;d.na=c;this.vj=this.ha("COIL1");this.wj=this.ha("COIL2");this.xw=this.ha("COM1");this.DH=this.ha("COM2");this.OJ=this.ha("R1");this.PJ=this.ha("R2");a.ia.kd(this.xw,this.DH);this.ir=new V.Cv(this,this.wj,this.vj,[[this.xw,[this.PJ,this.OJ]]],{Hu:.005,MA:125,ww:.9,Om:2.9,Kq:9,gu:30,au:!1});this.ca.Na.Ka([this,function(){d.ir.Mu()}])};extend(V.Model.cp.da,V.Model.da);
V.Model.cp.fa=function(a,b,c,d){this.Da=a;this.la=b;this.na=c;this.Lb();this.na.Ai.ka("view",function(b,c,d){cGraphics.oD(a.group,{Ch:1==d?"6connected":"7connected"})},10);d.xd.ka(this,function(b,c,d){cGraphics.oD(a.group,{La:d==V.Uc.IDLE})})};extend(V.Model.cp.fa,V.Model.fa);V.Model.cp.Model=function(a){this.va(a);this.ua=this.value("breakdown",!1,!1,!0);this.Ai=this.value("switchState",1,!1,!0)};extend(V.Model.cp.Model,C);V.Model.Co={};V.za.put("dip_switch_spdt",V.Model.Co);V.Model.Co.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;a=this.ha("1a");var d=this.ha("1b"),e=this.ha("2a"),k=this.ha("2b"),l=new V.ta(this.ca,this.name,!1),n=new V.Za(l,function(a){return a?1E-6:1E10});this.ca.ia.qa(a,d,n);this.ca.ia.qa(e,k,n);c.position.ka("simulator",function(a,b,c){null!==c&&l.setValue(0,c?!0:!1)});c.position(b.getPropertyValue("Switch")?!0:!1)};extend(V.Model.Co.da,V.Model.da);
V.Model.Co.fa=function(a,b,c){var d=this;this.Da=a;this.la=b;this.na=c;var e=b.getPropertyValue("Switch");e||(e=0);this.Ob(".cgfx__hitarea-interaction","click");c.position.ka("view",function(c,e,n){null!==n&&(cGraphics.ZS(a.group,{FK:{on:n}}),d.Da.aa.mode==R&&(b.root.Vb(),b.setProperty("Switch",!1,n?1:0,""),b.root.Xb()))},10);c.position(b.getPropertyValue("Switch")?!0:!1)};extend(V.Model.Co.fa,V.Model.fa);V.Model.Co.Model=function(a){this.va(a);this.position=this.value("Switch",null,!1,!0)};
extend(V.Model.Co.Model,C);V.Model.he={Zk:1};
V.Model.he.da=function(a,b,c,d){this.ca=b;this.la=c;this.na=d;var e=[];for(b=1;b<=a;++b){var k=this.ha(b.toString()+"a"),l=this.ha(b.toString()+"b"),n=new V.ta(this.ca,this.name+" switch"+b.toString(),d.wr[b-1]()),q=new V.Za(n,function(a){return a?1E-6:1E8});this.ca.ia.qa(k,l,q);n.setValue(0,c.getPropertyValue("Switch"+b.toString())?!0:!1);e.push(n);d.wr[b-1](c.getPropertyValue("Switch"+b.toString())?!0:!1)}for(b=1;b<=a;++b)(function(a){d.wr[a-1].ka("simulator",function(b,c,d){null!=d&&e[a-1].setValue(0,
d?!0:!1)},10)})(b)};extend(V.Model.he.da,V.Model.da);
V.Model.he.fa=function(a,b,c,d){var e=this;this.Da=b;this.la=c;this.na=d;for(var k=1;k<=a;++k){var l=c.getPropertyValue("Switch"+k.toString());l||(l=0);(function(a){d.wr[a-1].ka("view",function(d,k,l){if(null!==l){d={};switch(a){case 1:d.FK={on:l};break;case 2:d.fS={on:l};break;case 3:d.gS={on:l};break;case 4:d.hS={on:l};break;case 5:d.iS={on:l};break;case 6:d.jS={on:l};break;case 7:d.kS={on:l};break;case 8:d.lS={on:l};break;case 9:d.mS={on:l};break;case 10:d.cS={on:l};break;case 11:d.dS={on:l};break;
case 12:d.eS={on:l}}cGraphics.ZS(b.group,d);e.Da.aa.mode==R&&(c.root.Vb(),c.setProperty("Switch"+a.toString(),!1,l?1:0,""),c.root.Xb())}},10)})(k);d.wr[k-1](c.getPropertyValue("Switch"+k.toString())?!0:!1);this.Ob(".cgfx__hitarea-interaction.cgfx__switch"+k.toString(),"dip_switch_"+a.toString(),"Switch"+k.toString())}};extend(V.Model.he.fa,V.Model.fa);
V.Model.he.Db=function(a,b,c,d){D.call(this);var e=null;F(this,"idle","buttonPressed",function(a){return a.type()===H.Mg&&a.data("statemachine")==d},function(b){var c=b.element().na;(b=b.data("subelement"))&&"Switch"==b.substring(0,6)&&(b=parseInt(b.substring(6,20)),1<=b&&b<=a&&(e=c.wr[b-1],e(!e())))});F(this,"buttonPressed","idle",function(a){return a.type()===H.He},null)};V.Model.he.Db.prototype=inherit(D.prototype);V.Model.he.Db.prototype.constructor=V.Model.he.Db;
V.Model.he.Model=function(a,b){this.va(b);this.wr=[];for(var c=1;c<=a;++c)this.wr.push(this.value("Switch"+c.toString(),null,!1,!0))};extend(V.Model.he.Model,C);V.Model.Te={Zk:4};V.za.put("dip_switch_4",V.Model.Te);V.Model.Te.da=function(a,b,c){var d=Array.prototype.slice.call(arguments);d.unshift(V.Model.Te.Zk);V.Model.he.da.apply(this,d)};V.Model.Te.da.prototype=inherit(V.Model.he.da.prototype);V.Model.Te.da.prototype.constructor=V.Model.Te.da;V.Model.Te.fa=function(a,b,c){var d=Array.prototype.slice.call(arguments);d.unshift(V.Model.Te.Zk);V.Model.he.fa.apply(this,d)};V.Model.Te.fa.prototype=inherit(V.Model.he.fa.prototype);
V.Model.Te.fa.prototype.constructor=V.Model.Te.fa;V.Model.Te.Db=function(a,b,c){var d=Array.prototype.slice.call(arguments);d.unshift(V.Model.Te.Zk);V.Model.he.Db.apply(this,d)};V.Model.Te.Db.prototype=inherit(V.Model.he.Db.prototype);V.Model.Te.Db.prototype.constructor=V.Model.Te.Db;V.Cg.put("dip_switch_4",V.Model.Te.Db);V.Model.Te.Model=function(a,b){var c=Array.prototype.slice.call(arguments);c.unshift(V.Model.Te.Zk);V.Model.he.Model.apply(this,c)};V.Model.Te.Model.prototype=inherit(V.Model.he.Model.prototype);
V.Model.Te.Model.prototype.constructor=V.Model.Te.Model;V.Model.Ue={Zk:6};V.za.put("dip_switch_6",V.Model.Ue);V.Model.Ue.da=function(a,b,c){var d=Array.prototype.slice.call(arguments);d.unshift(V.Model.Ue.Zk);V.Model.he.da.apply(this,d)};V.Model.Ue.da.prototype=inherit(V.Model.he.da.prototype);V.Model.Ue.da.prototype.constructor=V.Model.Ue.da;V.Model.Ue.fa=function(a,b,c){var d=Array.prototype.slice.call(arguments);d.unshift(V.Model.Ue.Zk);V.Model.he.fa.apply(this,d)};V.Model.Ue.fa.prototype=inherit(V.Model.he.fa.prototype);
V.Model.Ue.fa.prototype.constructor=V.Model.Ue.fa;V.Model.Ue.Db=function(a,b,c){var d=Array.prototype.slice.call(arguments);d.unshift(V.Model.Ue.Zk);V.Model.he.Db.apply(this,d)};V.Model.Ue.Db.prototype=inherit(V.Model.he.Db.prototype);V.Model.Ue.Db.prototype.constructor=V.Model.Ue.Db;V.Cg.put("dip_switch_6",V.Model.Ue.Db);V.Model.Ue.Model=function(a,b){var c=Array.prototype.slice.call(arguments);c.unshift(V.Model.Ue.Zk);V.Model.he.Model.apply(this,c)};V.Model.Ue.Model.prototype=inherit(V.Model.he.Model.prototype);
V.Model.Ue.Model.prototype.constructor=V.Model.Ue.Model;V.Model.ff={};V.za.put("dc_motor_encoder",V.Model.ff);
V.Model.ff.da=function(a,b,c,d){function e(){var a=(d.speedLookup||{0:[12,721],1:[16,516],2:[23,369],3:[32,264],4:[45,189],5:[60,139],6:[84,100],7:[118,71],8:[165,51],9:[313,27],10:[437,19],11:[612,14],12:[1621,5]})[b.getPropertyValue("RPM")],c=a[0]||z,a=a[1]||I;O.setValue(0,(q-r*l)/(c/9.5493));L.setValue(0,(0*(n-K)+K)/(c/9.5493*1)*t);A.setValue(0,60/(E*a*4));Y.setValue(0,360/(E*a*4))}var k=this;k.ca=a;k.la=b;k.na=c;d||(d={});var l=d.Rs||.6,n=d.Tstall||41,q=d.Vnom||12,r=d.I0||.54,t=d.gain||1E3,v=
d.Renc||6E3,x=d.minEncoderSupplyVoltage||2.4,B=d.maxEncoderSupplyVoltage||26,E=d.encoderPositions||12,z=d.defaultSpeed||16,I=d.gearRatio||516,N=n*l/q*t,K=N/t*r,O=new V.ta(k.ca,"dc_motor_encoder voltage constant",0),L=new V.ta(k.ca,"dc_motor_encoder shaft friction",0),A=new V.ta(k.ca,"dc_motor_encoder rpm to phase",0),Y=new V.ta(k.ca,"dc_motor_encoder rotation step",0);b.Cb.we("simulator",e,10);e();var na=this.ha("motor_neg"),Ea=this.ha("motor_pos"),Ya=this.ha("enc_gnd"),Nc=this.ha("enc_vcc"),Ad=this.ha("enc_a"),
hk=this.ha("enc_b"),Ci={Ra:"dc_motor_encoder_net_between_sense-backEMF_"},Di={Ra:"dc_motor_encoder_net_between_backEMF-Rs_"},Ei={Ra:"dc_motor_encoder_mechanical_net_between_sense-friction_"},Fi={Ra:"dc_motor_encoder_mechanical_net_between_friction-inertia_"};this.ca.ia.qa(Ea,Di,l);this.ca.ia.Ri(Ei,na,Di,Ci,1E-4,1E-4,O);this.ca.ia.Ri(Ci,na,Fi,na,.001,.001,N);var Fm=this.ca.ia.qa(Fi,Ei,L);this.ca.ia.qa(Nc,Ya,v);var rb=new V.ta(this.ca,"dc_motor_encoder phase signal",-1),xe=new V.ta(this.ca,"dc_motor_encoder a signal",
!1),ye=new V.ta(this.ca,"dc_motor_encoder b signal",!1),pd=1E-4,Jj=A.value()/.1,fh=!1,Cf=0;rb.Ka([null,function(){if(fh){var a,b,c=Cf>=x;0>pd?(a=-pd,b=!1,null!==k.na.Xd&&(k.na.Xd-=Y.value())):(a=pd,b=!0,null!==k.na.Xd&&(k.na.Xd+=Y.value()));switch(rb.value()){case 0:b?(c&&xe.setValue(0,!0),rb.setValue(a,1)):(c&&ye.setValue(0,!0),rb.setValue(a,3));break;case 1:b?(c&&ye.setValue(0,!0),rb.setValue(a,2)):(c&&xe.setValue(0,!1),rb.setValue(a,0));break;case 2:b?(c&&xe.setValue(0,!1),rb.setValue(a,3)):(c&&
ye.setValue(0,!1),rb.setValue(a,1));break;default:b?(c&&ye.setValue(0,!1),rb.setValue(a,0)):(c&&xe.setValue(0,!0),rb.setValue(a,2))}}else rb.setValue(.1,rb.value())}]);rb.setValue(pd,0);v=new V.Za(xe,function(a){return 1==a?60:1E6});this.ca.ia.qa(Ad,Ya,v);Ad=new V.Za(ye,function(a){return 1==a?60:1E6});this.ca.ia.qa(hk,Ya,Ad);this.ca.Na.Ka([this,function(a){var b=!1,d="This device broke because of:",e=k.ca;Cf=e.hd.ue(e.time.time,Nc,Ya);Cf>B&&(d+=" Encoder voltage is "+k.Ia(Cf,"V")+" while permitted maximum is "+
k.Ia(B,"V")+".",b=!0);a=a.value();a=9.5493*-Fm.uc(a);a<=-Jj||a>=Jj?(pd=A.value()/a,fh=!0):(pd=.1,fh=!1);c.oh(a);k.na.ua({ua:b,reason:d})},[a.Na]]);c.uh(!0)};extend(V.Model.ff.da,V.Model.da);
V.Model.ff.fa=function(a,b,c,d){this.Da=a;this.la=b;this.na=c;c.Xd=0;c.uh.ka("view",function(b,d,l){l?c.qj=setInterval(function(){var b=c.oh();cGraphics.bl(a.group,{rotation:c.Xd,GC:Math.round(-b)+" rpm"})},50):clearInterval(c.qj)},10);d.xd.ka(this,function(b,c,d){cGraphics.bl(a.group,{La:d==V.Uc.IDLE})});cGraphics.bl(a.group,{La:!0});this.Lb()};extend(V.Model.ff.fa,V.Model.fa);
V.Model.ff.Model=function(a){this.va(a);this.oh=this.value("speed",0,!1,!0);this.uh=this.value("Enable animation",!1,!1,!0);this.ua=this.value("breakdown",!1,!1,!0);this.Xd=null};extend(V.Model.ff.Model,C);V.Model.Jg={};V.za.put("dc_motor_encoder_large",V.Model.Jg);V.Model.Jg.da=function(a,b,c){V.Model.ff.da.apply(this,[a,b,c,{Rs:.6,Tstall:41,Vnom:12,I0:.54,gain:1E3,Renc:6E3,minEncoderSupplyVoltage:2.4,maxEncoderSupplyVoltage:26,rpmToEncoderPhase:60/24768,speedLookup:{0:[12,721],1:[16,516],2:[23,369],3:[32,264],4:[45,189],5:[60,139],6:[84,100],7:[118,71],8:[165,51],9:[313,27],10:[437,19],11:[612,14],12:[1621,5]},defaultSpeed:16}])};V.Model.Jg.da.prototype=inherit(V.Model.ff.prototype);
V.Model.Jg.da.prototype.constructor=V.Model.Jg.da;extend(V.Model.Jg.da,V.Model.da);V.Model.Jg.fa=function(a,b,c,d){V.Model.ff.fa.apply(this,arguments)};V.Model.Jg.fa.prototype=inherit(V.Model.ff.fa.prototype);V.Model.Jg.fa.prototype.constructor=V.Model.Jg.fa;extend(V.Model.Jg.fa,V.Model.fa);V.Model.Jg.Model=function(a,b){V.Model.ff.Model.apply(this,arguments)};V.Model.Jg.Model.prototype=inherit(V.Model.ff.Model.prototype);V.Model.Jg.Model.prototype.constructor=V.Model.Jg.Model;
extend(V.Model.Jg.Model,C);V.Model.Kg={};V.za.put("dc_motor_encoder_small",V.Model.Kg);V.Model.Kg.da=function(a,b,c){V.Model.ff.da.apply(this,[a,b,c,{Rs:.6,Tstall:41,Vnom:12,I0:.54,gain:1E3,Renc:6E3,minEncoderSupplyVoltage:2.4,maxEncoderSupplyVoltage:26,rpmToEncoderPhase:60/24768,speedLookup:{0:[26,455],1:[32,370],2:[38,316],3:[44,270],4:[52,231],5:[116,104],6:[142,84],7:[195,62],8:[280,43],9:[350,43],10:[416,19],11:[520,19],12:[624,19],13:[730,16],14:[2737,4]},defaultSpeed:16}])};V.Model.Kg.da.prototype=inherit(V.Model.ff.prototype);
V.Model.Kg.da.prototype.constructor=V.Model.Kg.da;extend(V.Model.Kg.da,V.Model.da);V.Model.Kg.fa=function(a,b,c,d){V.Model.ff.fa.apply(this,arguments)};V.Model.Kg.fa.prototype=inherit(V.Model.ff.fa.prototype);V.Model.Kg.fa.prototype.constructor=V.Model.Kg.fa;extend(V.Model.Kg.fa,V.Model.fa);V.Model.Kg.Model=function(a,b){V.Model.ff.Model.apply(this,arguments)};V.Model.Kg.Model.prototype=inherit(V.Model.ff.Model.prototype);V.Model.Kg.Model.prototype.constructor=V.Model.Kg.Model;
extend(V.Model.Kg.Model,C);V.Model.Wo={};V.za.put("pololu_simple_motor_controller_18v7",V.Model.Wo);
V.Model.Wo.da=function(a,b,c){function d(){if(0<q.value()){var a=e.ca.time.time;r.yc()&&(v=a);r.mc()&&(a-=v,.005>a&&(.0024<a?a=.0024:5.44E-4>a&&(a=5.44E-4),t.setValue(.001,(a-5.44E-4)/(.0024-5.44E-4))))}}var e=this;e.ca=a;e.la=b;e.na=c;var k=this.ha("gnd");a.ia.kd(k,this.ha("motor gnd"));var l=this.ha("rc1"),n=this.ha("vin");b=this.ha("outa");c=this.ha("outb");var q=new V.ta(a,"power",0);a.ia.dc(q,n,k,function(a,b){return 5.5<a-b?a-b:0});var r=new V.ta(e.ca,"signal",0);e.ca.ia.dc(r,l,k,function(a,
b){return 2.5<a-b});var t=new V.ta(e.ca,"motor signal",0);a.ia.qa(n,k,36);k=new V.Za(q,t,function(a,b){return a?-a+2*a*b:0});a.ia.Pd(c,b,k,1);var v=0;r.Ka([null,d]);q.Ka([null,d])};extend(V.Model.Wo.da,V.Model.da);V.Model.Wo.fa=function(a,b,c,d){V.Model.ff.fa.apply(this,arguments)};extend(V.Model.Wo.fa,V.Model.fa);V.Model.Wo.Model=function(a,b){V.Model.ff.Model.apply(this,arguments)};extend(V.Model.Wo.Model,C);V.Model.Ro={};V.za.put("null_device",V.Model.Ro);V.Model.Ro.da=function(a,b,c){this.ca=a;this.la=b;this.na=c};extend(V.Model.Ro.da,V.Model.da);V.Model.Ro.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c};extend(V.Model.Ro.fa,V.Model.fa);V.Model.Ro.Model=function(a){this.va(a)};extend(V.Model.Ro.Model,C);V.Model.Eo={};V.za.put("ESP8266_01",V.Model.Eo);
V.Model.Eo.da=function(a,b,c){var d=this;d.ca=a;d.la=b;d.na=c;d.fb=!1;b=this.ha("GND");var e=this.ha("VCC"),k=this.ha("RX"),l=this.ha("TX");this.ha("GPIO0");this.ha("GPIO2");var n=this.ha("RST"),q=this.ha("CH_PD"),r=new w,t=new V.ta(a,"ESP8266 load","off",d.fb),v=new V.Za(t,function(a){switch(a){case "off":return 33E4;case "standby":return 220;case "receive":return 55;case "transmit":return 20}}),v=a.ia.qa(e,b,v);r.put("Vcc",v);v=new V.ta(a,"ESP8266 power",0,d.fb);a.ia.dc(v,e,b,function(a,b){return 3.1<
a-b?1:0});var x={},B=a.ia.Cc(e,x,1E-18,1.8);a.ia.qa(x,b,4700);x=a.ia.qa(n,b,1E10);r.put("RST",x);x=new V.ta(a,"ESP8266 reset",0,d.fb);a.ia.dc(x,n,b,function(a,b){return 2.5<a-b?1:0});n=a.ia.qa(q,b,1E10);r.put("CH_PD",n);n=new V.ta(a,"ESP8266 Chip enable",0,d.fb);a.ia.dc(n,q,b,function(a,b){return 2.5<a-b?1:0});q=a.ia.qa(k,b,1E10);r.put("RX",q);q=new V.ta(a,"ESP8266 RX",0,!1);a.ia.dc(q,k,e,b,function(a,b,c){return a-c>.45*(b-c)?1:0});var k=new V.ta(a,"ESP8266 TX",1,!1),E=new V.Za(k,function(a){return 1==
a?50:1E10});this.ca.ia.qa(e,l,E);e=new V.Za(k,function(a){return 0==a?50:1E10});this.ca.ia.qa(l,b,e);new V.bv(a,a.lB.nT,v,t,x,n,k,q);a.Na.Ka([this,function(a){var b=a.value(),e="";r.forEach(function(a,c){var k=c.Yd(b);3.5<k&&(e+=" Voltage at "+a+"-pin is "+d.Ia(k,"V")+", while maximum is "+d.Ia(3.5,"V")+".")});a=B.uc(b);c.RQ(a/3E-4);c.ua({ua:""!=e,reason:e})},[a.Na]])};extend(V.Model.Eo.da,V.Model.da);
V.Model.Eo.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;this.Lb();c.RQ.ka("view",function(b,c,k){cGraphics.HS(a.group,{NP:Math.pow(.01>k?0:k,1/3)})},10);c.TW.ka("view",function(b,c,k){cGraphics.HS(a.group,{OP:Math.pow(.01>k?0:k,1/3)})},10)};extend(V.Model.Eo.fa,V.Model.fa);V.Model.Eo.Model=function(a){this.va(a);this.ua=this.value("breakdown",!1,!1,!0);this.RQ=this.value("powerLed",0,!1,!0);this.TW=this.value("TXLed",0,!1,!0)};extend(V.Model.Eo.Model,C);
V.bv=function(a,b,c,d,e,k,l,n){function q(){return 1/r.CA}var r=this;this.fb=!1;this.state="off";this.CA=0;this.tg={};this.jD=[];this.$g="";this.version="00170901";this.Dz="18:fe:35:"+Array.apply(null,{length:3}).map(function(){return(255*Math.random()>>0).toString(16)}).join(":");this.mb=a;this.kL=b;this.Jb=c;this.load=d;this.sR=e;this.bO=k;a=[this,this.wY];c.Ka(a);e.Ka(a);k.Ka(a);c={uB:function(){return r.tg},YA:function(){r.fy()},XA:function(a){"off"!=r.state&&Dm(r,a)}};this.rp=new V.Es(this.mb,
l,q,c);this.Tz=new V.Ds(this.mb,n,q,c);n.Ka([null,function(){r.Tz.handle("portAcitivity")}]);this.kr()};function Em(a,b){a.state=b;a.load.setValue(0,a.state)}V.bv.prototype.kr=function(){Em(this,"off");this.jD=[];this.$g="";this.yu=0;this.gC=null;this.CA=115200;this.tg={dq:8,Kk:V.Qi.nv,ry:1};this.YO=0;this.vD=1;this.uk&&this.uk.disconnect(this.Dz);this.Bz=this.uk=null;this.jB=0;for(var a in this.Td)this.Td[a].close();this.Td=[];this.I2=0;this.th=!1};
V.bv.prototype.wY=function(){this.Jb.value()&&this.bO.value()?(this.sR.mc()&&this.kr(),(this.Jb.yc()||this.bO.yc()||!this.sR.yc())&&Em(this,"standby")):this.kr()};V.bv.prototype.fy=function(){if(0<this.jD.length){var a=(new G("sendData")).data("dataByte",this.jD.pop());this.rp.handle(a)}};
function Dm(a,b){0==a.yu?10==b?(2<a.$g.length&&"\r"==a.$g.slice(-1)&&Gm(a,a.$g.slice(0,-1)),a.$g=""):a.$g+=String.fromCharCode(b):0<a.yu?(a.$g+=String.fromCharCode(b),a.$g.length==a.yu&&(a.$g=a.$g.replace(/\\n|\\r/g,function(a){switch(a){case "\\r":return"\r";case "\\n":return"\n"}}),a.gC&&a.gC(a.$g),a.$g="",a.yu=0)):a.$g+=String.fromCharCode(b)}V.bv.prototype.Nb=function(a,b){b||(a+="\r\n");for(var c=0;c<a.length;c++)this.jD.unshift(a.charCodeAt(c));"idle"==this.rp.state()&&this.fy()};
function Gm(a,b){if("AT"==b||"ATE"==b||"ATE0"==b||"ATE1"==b)a.th&&a.Nb(b),"E0"==b.slice(-2)?a.th=!1:"E1"==b.slice(-2)&&(a.th=!0),a.Nb("OK");else{var c=b.match(/AT\+(\w*)([=?]{0,2})(.*)/);if(c){var d=c[3].split(",").map(function(a){return'"'==a.charAt(0)&&'"'==a.charAt(a.length-1)?a.slice(1,-1):parseInt(a)});switch(c[1]){case "RST":case "RESTORE":a.kr();Em(a,"standby");a.th&&a.Nb(b);a.Nb("OK");a.Nb("ready");break;case "GMR":a.th&&a.Nb(b);a.Nb(a.version);a.Nb("OK");break;case "GSLP":a.th&&a.Nb(b);"="==
c[2]&&(c[3].split(","),Em(a,"off"),a.Nb("OK"));break;case "UART":case "UART_CUR":case "UART_DEF":a.th&&a.Nb(b);"="==c[2]?(110<=d[0]&&115200>=d[0]&&(a.CA=d[0]),5<=d[1]&&8>=d[1]&&(a.tg.dq=d[1]),1<=d[2]&&3>=d[2]&&(a.tg.ry=d[2]),0<=d[3]&&2>=d[3]&&(a.tg.Kk=0==d[3]?V.Qi.nv:1==d[3]?V.Qi.rv:V.Qi.eM),0<=d[4]&&3>=d[2]&&(a.YO=d[4])):"?"==c[2]?a.Nb("+"+c[1]+":"+a.CA+","+a.tg.dq+","+a.tg.ry+","+(a.tg.Kk==V.Qi.nv?0:a.tg.Kk==V.Qi.rv?1:2)+","+a.YO):"=?"==c[2]&&a.Nb("+"+c[1]+":(110-115200),(5-8),(1-3),(0-2),(0-3)");
a.Nb("OK");break;case "CWMODE":case "CWMODE_CUR":case "CWMODE_DEF":a.th&&a.Nb(b);"="==c[2]?1<=d[0]&&3>=d[0]&&(a.vD=d[0]):"?"==c[2]?a.Nb("+"+c[1]+":"+a.vD):"=?"==c[2]&&a.Nb("+"+c[1]+":(1-3)");a.Nb("OK");break;case "CWJAP":case "CWJAP_CUR":case "CWJAP_DEF":a.th&&a.Nb(b);"="==c[2]?2!=a.vD?(c=a.kL.get(d[0]))?(a.uk&&a.uk.disconnect(a.Dz),(d=c.Xa(a.Dz,d[1]))?(a.uk=c,a.Bz=d,Hm(c,a.Dz,function(){a.uk=null;a.Bz=null;for(var b in a.Td)a.Td[b].close(),a.Td[b]=null})):a.Nb("ERROR")):a.Nb("ERROR"):a.Nb("ERROR"):
"?"==c[2]&&a.Nb("+"+c[1]+":"+(a.uk?a.uk.kG:""));a.Nb("OK");break;case "CWLAP":a.th&&a.Nb(b);"="==c[2]?!(c=a.kL.get(d[0]))||d[1]&&c.lv!=d[1]||!isNaN(d[2])&&c.channel!=d[2]||(d=["OPEN","WEP","WPA_PSK","WPA2_PSK","WPA_WPA2_PSK"].indexOf(c.AR),a.Nb("+CWLAP:("+d+',"'+c.kG+'",-55,"'+c.lv+'",'+c.channel+")")):""==c[2]&&a.kL.forEach(function(b,c){var d=["OPEN","WEP","WPA_PSK","WPA2_PSK","WPA_WPA2_PSK"].indexOf(c.AR);a.Nb("+CWLAP:("+d+',"'+c.kG+'",-55,"'+c.lv+'",'+c.channel+")")});a.Nb("OK");break;case "CIPSTATUS":a.th&&
a.Nb(b);if(""==c[2]){a.Nb("STATUS:"+a.uk?2:4);for(var e in a.Td)c=a.Td[e],c.qk&&a.Nb("+CIPSTATUS:"+e+","+(c instanceof V.Jv?"TCP":"UDP")+',"'+c.host+'",'+c.port+", ,"+a.vD)}else"=?"==c[2]&&a.Nb("OK");break;case "CIPSTART":a.th&&a.Nb(b);"="==c[2]?(e=a.jB?d.shift():0,null==a.Td[e]||0==a.Td[e].qk?"TCP"==d[0]?(a.Td[e]=new V.Jv(a.uk),Im(a.Td[e],function(){a.Nb("OK")}),Jm(a.Td[e],function(b){a.Nb("+IPD,"+b.length+":"+b)}),Km(a.Td[e],d[1],d[2])||a.Nb("ERROR")):"UDP"!=d[0]&&a.Nb("ERROR"):a.Nb("ALREAY CONNECT")):
"=?"==c[2]&&(a.jB?a.Nb("+CIPSTART:(id),(type),(IP address),(port)[,(local port),(mode)]"):a.Nb("+CIPSTART:(type),(IP address),(port)[,(local port),(mode)]"),a.Nb("OK"));break;case "CIPSEND":a.th&&a.Nb(b);"="==c[2]?(e=a.jB?d.shift():0,a.Td[e]&&a.Td[e].qk&&0<d[0]&&2048>d[0]?(a.Nb(">",!0),a.yu=d[0],a.gC=function(a){this.Td[e]&&this.Td[e].qk?(this.Td[e].Nb(a),this.Nb("SEND OK")):this.Nb("ERROR")}):a.Nb("ERROR")):""==c[2]?(e=0,1==a.I2&&null!=a.Td[e]?(a.Nb(">",!0),a.yu=-1,a.gC=function(){}):a.Nb("ERROR")):
"=?"==c[2]&&a.Nb("OK");break;case "CIPCLOSE":a.th&&a.Nb(b);if("="==c[2])if(5<=d[0])for(e in a.Td)a.Td[e].close(),a.Td[e]=null;else a.Td[d[0]]?(a.Td[d[0]].close(),a.Td[d[0]]=null,a.Nb("OK")):a.Nb("Link is not");else""==c[2]?!a.jB&&a.Td[0]?(a.Td[d[0]].close(),a.Td[d[0]]=null,a.Nb("OK")):a.Nb("ERROR"):"=?"==c[2]&&a.Nb("OK");break;case "CIFSR":a.th&&a.Nb(b),""==c[2]&&a.Bz&&a.Nb("+CIFSR:"+V.lV(a.Bz)),a.Nb("OK")}}}};V.Model.gf={};
V.Model.gf.da=function(a,b,c){var d=this;this.ca=a;this.la=b;this.na=c;this.$A=!1;b=this.ha("vcc");var e=this.ha("gnd"),k=this.ha("din"),l=this.ha("dout"),n=.001*c.yg,q=new V.ta(a,"ws2812b load signal",0),r=new V.Za(q,function(a){return 5/(n+.048*a/765)}),t=a.ia.qa(b,e,r);a.ia.dc(new V.ta(a,"ws2812b power",0),b,e,function(a,b){return 3.2<=a-b?1:0});var v;l instanceof U&&!this.$A||(v=new V.ta(a,"ws2812b data out signal",0),r=new V.Za(v,function(a){return a?1E-6:1E10}),this.ca.ia.qa(b,l,r),r=new V.Za(v,
function(a){return a?1E10:1E-6}),this.ca.ia.qa(e,l,r));this.ca.ia.qa(k,e,1E6);l=new V.ta(a,"ws2812b data in signal",0);a.ia.dc(l,k,b,e,function(a,b,c){return a-c>=.7*(b-c)?1:0});d.f0=new V.Lz(a,l,d.$A?null:v,1.25E-6,c.yg,{pR:function(a,b,c,e){d.na.pd[a]({red:b,blue:e,green:c})}});l.Ka([d,function(){d.f0.handle("portActivity")}]);for(b=0;b<c.yg;++b)(function(a){c.pd[a].ka("simulator",function(a,b,c){q.setValue(0,q.value()+(c.red+c.blue+c.green)-(b.red+b.blue+b.green))},10)})(b);if(d.$A)for(d.cQ=new V.Mz(a,
v,1.25E-6,{reset:function(){return!0}}),d.position=0,d.n_=function(a){a%=768;return[256>a?255-a:512>a?0:a-512,256>a?a:512>a?511-a:0,256>a?0:512>a?a-256:767-a]},d.SH=[],v=0;100>v;++v)d.SH=d.SH.concat(d.n_(32*v));this.ca.Na.Ka([this,function(a){a=a.value();var b=!1,e=t.Yd(a),k="LED broke because of:";a=3.2>e?0:5.5<e?1:.25+.75*(e-3.2)/2.3;5.5<e&&(b=!0,k+=" Supply voltage of "+d.Ia(e,"V")+" exceeds maximum of 5.5 volts.");c.ua({ua:b,reason:k});for(b=0;b<d.na.yg;++b)e=d.na.pd[b](),c.cb[b]({red:a*e.red/
255,blue:a*e.blue/255,green:a*e.green/255});d.$A&&"idle"==d.cQ.state()&&(a=d.position,a=d.SH.slice(3*a,3*(a+24)),a.push(-1),a=(new G("sendData")).data("data",a),d.cQ.handle(a),46<=++d.position&&(d.position=0))},[a.Na]])};
V.Model.gf.fa=function(a,b,c,d){var e=this;this.Da=a;this.la=b;this.na=c;this.Lb();for(b=0;b<c.yg;++b)(function(b){c.cb[b].ka("view",function(c,d,q){c=[q.red,q.green,q.blue];for(var r in c)d=.001>c[r]?0:1<c[r]?1:c[r],d=Math.round(100*Math.pow(d,1/3))/100,c[r]=d;e.Zh(a.group,{index:b,pd:c})},10)})(b);d.xd.ka(e,function(b,c,d){e.Zh(a.group,{La:d==V.Uc.IDLE})})};
V.Model.gf.Model=function(a){var b=this;this.va(a);this.ua=this.value("breakdown",!1,!1,!0);this.cb=function(a){for(var d=[],e=0;e<a;++e)d.push(b.value("brightness_"+e,{red:0,blue:0,green:0},!1,!0));return d}(b.yg);this.pd=function(a){for(var d=[],e=0;e<a;++e)d.push(b.value("brightness_"+e,{red:0,blue:0,green:0},!1,!0));return d}(b.yg)};V.Model.Ep={};V.za.put("ws2812b",V.Model.Ep);V.Model.Ep.da=function(a,b,c){V.Model.gf.da.apply(this,arguments)};extend(V.Model.Ep.da,V.Model.da);V.Model.Ep.fa=function(a,b,c,d){this.Zh=function(a,b){0===b.index&&b.pd&&cGraphics.Lu(a,{pd:b.pd})};V.Model.gf.fa.apply(this,arguments)};extend(V.Model.Ep.fa,V.Model.fa);V.Model.Ep.Model=function(a,b){this.yg=1;V.Model.gf.Model.apply(this,arguments)};extend(V.Model.Ep.Model,C);V.Model.Fp={};V.za.put("ws2812_breadboard",V.Model.Fp);V.Model.Fp.da=function(a,b,c){V.Model.gf.da.apply(this,arguments);var d=this.ha("vcc"),e=this.ha("vcc2");a.ia.kd(d,e);d=this.ha("gnd");e=this.ha("gnd2");a.ia.kd(d,e)};extend(V.Model.Fp.da,V.Model.da);V.Model.Fp.fa=function(a,b,c,d){this.Zh=function(a,b){"undefined"!=typeof b.La&&cGraphics.LS(a,{La:b.La});var c={};c["neopixel"+b.index]={pd:b.pd};cGraphics.LS(a,{Lf:c})};V.Model.gf.fa.apply(this,arguments)};extend(V.Model.Fp.fa,V.Model.fa);
V.Model.Fp.Model=function(a,b){this.yg=1;V.Model.gf.Model.apply(this,arguments)};extend(V.Model.Fp.Model,C);V.Model.Ap={};V.za.put("ws2812_jewel7",V.Model.Ap);V.Model.Ap.da=function(a,b,c){V.Model.gf.da.apply(this,arguments);var d=this.ha("gnd"),e=this.ha("gnd2");a.ia.kd(d,e)};extend(V.Model.Ap.da,V.Model.da);V.Model.Ap.fa=function(a,b,c,d){this.Zh=function(a,b){"undefined"!=typeof b.La&&cGraphics.MS(a,{La:b.La});var c={};c["neopixel"+b.index]={pd:b.pd};cGraphics.MS(a,{Lf:c})};V.Model.gf.fa.apply(this,arguments)};extend(V.Model.Ap.fa,V.Model.fa);
V.Model.Ap.Model=function(a,b){this.yg=7;V.Model.gf.Model.apply(this,arguments)};extend(V.Model.Ap.Model,C);V.Model.Bp={};V.za.put("ws2812b_ring12",V.Model.Bp);V.Model.Bp.da=function(a,b,c){V.Model.gf.da.apply(this,arguments)};extend(V.Model.Bp.da,V.Model.da);V.Model.Bp.fa=function(a,b,c,d){this.Zh=function(a,b){"undefined"!=typeof b.La&&cGraphics.NS(a,{La:b.La});var c={};c["neopixel"+b.index]={pd:b.pd};cGraphics.NS(a,{Lf:c})};V.Model.gf.fa.apply(this,arguments)};extend(V.Model.Bp.fa,V.Model.fa);V.Model.Bp.Model=function(a,b){this.yg=12;V.Model.gf.Model.apply(this,arguments)};extend(V.Model.Bp.Model,C);V.Model.Cp={};V.za.put("ws2812b_ring16",V.Model.Cp);V.Model.Cp.da=function(a,b,c){V.Model.gf.da.apply(this,arguments);var d=this.ha("vcc"),e=this.ha("vcc2");a.ia.kd(d,e);d=this.ha("gnd");e=this.ha("gnd2");a.ia.kd(d,e)};extend(V.Model.Cp.da,V.Model.da);V.Model.Cp.fa=function(a,b,c,d){this.Zh=function(a,b){"undefined"!=typeof b.La&&cGraphics.OS(a,{La:b.La});var c={};c["neopixel"+b.index]={pd:b.pd};cGraphics.OS(a,{Lf:c})};V.Model.gf.fa.apply(this,arguments)};extend(V.Model.Cp.fa,V.Model.fa);
V.Model.Cp.Model=function(a,b){this.yg=16;V.Model.gf.Model.apply(this,arguments)};extend(V.Model.Cp.Model,C);V.Model.Dp={};V.za.put("ws2812b_ring24",V.Model.Dp);V.Model.Dp.da=function(a,b,c){V.Model.gf.da.apply(this,arguments);var d=this.ha("vcc"),e=this.ha("vcc2");a.ia.kd(d,e);d=this.ha("gnd");e=this.ha("gnd2");a.ia.kd(d,e)};extend(V.Model.Dp.da,V.Model.da);V.Model.Dp.fa=function(a,b,c,d){this.Zh=function(a,b){"undefined"!=typeof b.La&&cGraphics.PS(a,{La:b.La});var c={};c["neopixel"+b.index]={pd:b.pd};cGraphics.PS(a,{Lf:c})};V.Model.gf.fa.apply(this,arguments)};extend(V.Model.Dp.fa,V.Model.fa);
V.Model.Dp.Model=function(a,b){this.yg=24;V.Model.gf.Model.apply(this,arguments)};extend(V.Model.Dp.Model,C);V.Model.Ii={};V.za.put("keypad_4x4",V.Model.Ii);
V.Model.Ii.da=function(a,b,c){function d(a,b,c){a=new V.ta(e.ca,"switchSignal_"+a,!1);var d=new V.Za(a,function(a){return a?.001:1E10});e.ca.ia.qa(b,c,d);return a}var e=this;e.ca=a;e.la=b;e.na=c;a=this.ha("row1");b=this.ha("row2");var k=this.ha("row3"),l=this.ha("row4"),n=this.ha("column1"),q=this.ha("column2"),r=this.ha("column3"),t=this.ha("column4"),v={Ra:"keypad_4x4_internal_net_"},x={1:d("row1",v,a),2:d("row2",v,b),3:d("row3",v,k),4:d("row4",v,l)},B={1:d("column1",v,n),2:d("column2",v,q),3:d("column3",
v,r),4:d("column4",v,t)};c.cf.ka("simulator",function(a,b,c){c?(x[c[0]].setValue(0,!0),B[c[1]].setValue(0,!0)):["1","2","3","4"].forEach(function(a){x[a].setValue(0,c);B[a].setValue(0,c)})},10)};extend(V.Model.Ii.da,V.Model.da);
V.Model.Ii.fa=function(a,b,c){var d=this;this.Da=a;this.la=b;this.na=c;$(".cgfx__hitarea_interaction",d.Da.group).each(function(){var a=$(this).attr("class").match(/cgfx__button_(\w*)/);a&&d.Ob(".cgfx__hitarea_interaction."+a[0],"Keypad4x4",a[1])});c.cf.ka("view",function(b,c,d){d?cGraphics.KS(a.group,{Nl:d,rR:d[0],gO:d[1]}):cGraphics.KS(a.group,{Nl:d})},10)};extend(V.Model.Ii.fa,V.Model.fa);
V.Model.Ii.Db=function(a,b,c){D.call(this);var d=null;F(this,"idle","buttonPressed",function(a){return a.type()===H.Mg&&a.data("statemachine")==c},function(a){d=a.element().na;d.cf(a.data("subelement"))});F(this,"buttonPressed","idle",function(a){return a.type()===H.He},function(){d.cf(null)})};V.Model.Ii.Db.prototype=inherit(D.prototype);V.Model.Ii.Db.prototype.constructor=V.Model.Ii.Db;V.Cg.put("Keypad4x4",V.Model.Ii.Db);
V.Model.Ii.Model=function(a){this.va(a);this.cf=this.value("pushed",!1,!1,!0)};extend(V.Model.Ii.Model,C);V.Model.Fo={};V.za.put("function_generator",V.Model.Fo);
V.Model.Fo.da=function(a,b,c){function d(){var a;a="sine"==e.Sw.value()?[0,.309016994,.587785252,.809016994,.951056516,1,.951056516,.809016994,.587785252,.309016994,0,-.309016994,-.587785252,-.809016994,-.951056516,-1,-.951056516,-.809016994,-.587785252,-.309016994]:"triangle"==e.Sw.value()?[0,.2,.4,.6,.8,1,.8,.6,.4,.2,0,-.2,-.4,-.6,-.8,-1,-.8,-.6,-.4,-.2]:[1,-1];var b=1/(e.tB.value()*a.length),c=e.vN.value()*e.pB.value();a.forEach(function(a,d){e.jL.setValue(b*d,.5*c*a)})}var e=this;e.ca=a;e.la=
b;e.na=c;var k=this.ha("pos"),l=this.ha("neg"),n={Ra:"function_generator_dc_offset_net_"};e.vN=new V.ta(a,"amplitudeSignal",0);e.tB=new V.ta(a,"frequencySignal",b.getPropertyValue("Frequency")||1E3);e.Sw=new V.ta(a,"functionSignal",b.getPropertyValue("Function")||"square");e.jL=new V.ta(a,"waveformSignal",0);e.yO=new V.ta(a,"dcOffsetSignal",0);e.QH=new V.ta(a,"cycleSignal",!1);e.qB=new V.ta(a,"filterSignal",0);e.pB=new V.ta(a,"filterGainSignal",1);e.Mk=new V.ta(a,"powerSignal",!1);e.r0=new V.Za(e.Mk,
function(a){return a?.001:1E10});var q={Ra:"follower_pos_supply_net_"},r={Ra:"follower_neg_supply_net_"},t={Ra:"source_pos_net_"};a.ia.Pd(q,l,c.et+c.Ct,1E-4);a.ia.Pd(l,r,c.et+c.Ct,1E-4);e.source=a.ia.Pd(t,n,e.jL,50);a.ia.vA(t,k,q,r,k,2E6,75,2E5);a.ia.ul(t,n,e.qB);this.ca.ia.qa(t,l,50);e.RY=new V.Za(e.Mk,e.yO,function(a,b){return a?2*b:0});e.xk=a.ia.Pd(n,l,e.RY,e.r0);c.Jb.ka("simulation",function(a,b,c){e.Mk.setValue(0,c)},10);c.Jb(!0);e.$I=!1;e.QH.Ka([null,function(){e.Mk.value()?(d(),e.$I=!0):(e.$I&&
e.jL.setValue(0,0),e.$I=!1);e.QH.setValue(1/e.tB.value(),!0)}]);e.QH.setValue(0,!0);e.YK=function(a,b){e.Sw.setValue(0,a);"sine"==a?(e.qB.setValue(0,.5/(50*b)),e.pB.setValue(0,3.65)):"triangle"==a?(e.qB.setValue(0,.1/(50*b)),e.pB.setValue(0,2.2)):(e.qB.setValue(0,0),e.pB.setValue(0,1.95))};e.YK(e.Sw.value(),e.tB.value());c.zk.ka("simulation",function(a,b,d){null!=d&&(d=c.zk.map(),d<c.Jt&&(d=c.Jt),e.tB.setValue(0,d),c.aP(e.Ia(d,"Hz")),e.YK(c.Gl(),d),c.Qh&&null!=b&&.001<Math.abs(d-e.la.getPropertyValue("Frequency"))&&
(e.la.root.Vb(),e.la.setProperty("Frequency",!1,d,""),e.la.root.Xb()))},10);c.zk.map(b.getPropertyValue("Frequency")||1E3);c.wl.ka("simulation",function(a,b,d){null!=d&&(d=c.wl.map(),.001>Math.abs(d)&&(d=0),e.vN.setValue(0,d),c.wN(e.Ia(d,"V")),c.Qh&&null!=b&&.001<Math.abs(d-e.la.getPropertyValue("Amplitude"))&&(e.la.root.Vb(),e.la.setProperty("Amplitude",!1,d,""),e.la.root.Xb()))},10);c.wl.map(b.getPropertyValue("Amplitude")||5);c.xk.ka("simulation",function(a,b,d){null!=d&&(d=c.xk.map(),.001>Math.abs(d)&&
(d=0),e.yO.setValue(0,d),c.zO(e.Ia(d,"V")),c.Qh&&null!=b&&.001<Math.abs(d-e.la.getPropertyValue("DC Offset"))&&(e.la.root.Vb(),e.la.setProperty("DC Offset",!1,d,""),e.la.root.Xb()))},10);a=b.getPropertyValue("DC Offset");c.xk.map(null==a?2.5:a);c.Gl.ka("simulation",function(a,b,d){null!=d&&(e.YK(c.Gl(),c.zk.map()),c.Qh&&null!=b&&d!=e.la.getPropertyValue("Function")&&(e.la.root.Vb(),e.la.setProperty("Function",!1,d,""),e.la.root.Xb()))},10);c.Gl(b.getPropertyValue("Function")||"square");c.SR.ka("simulation",
function(a,b,d){!0===d&&c.Gl("square")},10);c.NR.ka("simulation",function(a,b,d){!0===d&&c.Gl("sine")},10);c.xS.ka("simulation",function(a,b,d){!0===d&&c.Gl("triangle")},10);b.Cb.we("simulation",function(){var a=b.getPropertyValue("Frequency");a<c.Jt?a=c.Jt:a>c.sB&&(a=c.sB);c.zk.map(a);a=b.getPropertyValue("Amplitude");!a||0>a?a=0:a>c.et&&(a=c.et);c.wl.map(a);a=b.getPropertyValue("DC Offset");a<c.Dt?a=c.Dt:a>c.Ct&&(a=c.Ct);c.xk.map(a);c.Gl(b.getPropertyValue("Function")||"square");e.Sw.setValue(0,
b.getPropertyValue("Function"))},10)};extend(V.Model.Fo.da,V.Model.da);
V.Model.Fo.fa=function(a,b,c,d){this.Da=a;this.la=b;this.na=c;c.Qh=this.Da.aa.mode==R?!0:!1;this.Ob(".cgfx__hitarea-interaction.cgfx__powerbtn","click","Power");this.Ob(".cgfx__hitarea-interaction.cgfx__potentiometer-frequency","potentiometer","Frequency");this.Ob(".cgfx__hitarea-interaction.cgfx__potentiometer-amplitude","potentiometer","Amplitude");this.Ob(".cgfx__hitarea-interaction.cgfx__potentiometer-dc-offset","potentiometer","DC-Offset");this.Ob(".cgfx__hitarea-interaction.cgfx__button-square",
"button","Square");this.Ob(".cgfx__hitarea-interaction.cgfx__button-sine","button","Sine");this.Ob(".cgfx__hitarea-interaction.cgfx__button-triangle","button","Triangle");d.xd.ka(this,function(b,c,d){cGraphics.al(a.group,{La:d==V.Uc.IDLE})});c.Jb.ka("view",function(b,c,d){cGraphics.al(a.group,{Hj:d});cGraphics.al(a.group,{La:!d})},10);c.Jb(!1);c.zk.ka("view",function(b,c,d){cGraphics.al(a.group,{cP:d})},10);c.wl.ka("view",function(b,c,d){cGraphics.al(a.group,{yN:d})},10);c.xk.ka("view",function(b,
c,d){cGraphics.al(a.group,{BO:d})},10);c.aP.ka("view",function(b,c,d){cGraphics.al(a.group,{bP:d})},10);c.wN.ka("view",function(b,c,d){cGraphics.al(a.group,{xN:d})},10);c.zO.ka("view",function(b,c,d){cGraphics.al(a.group,{AO:d})},10);c.Gl.ka("view",function(b,c,d){b="sine"==d?!0:!1;c="triangle"==d?!0:!1;cGraphics.al(a.group,{HP:null!=d&&!(b||c),GP:b,IP:c})},10)};extend(V.Model.Fo.fa,V.Model.fa);
V.Model.Fo.Model=function(a,b){function c(a,b){var c=$(".cgfx__hitarea-interaction.cgfx__potentiometer-"+a.toLowerCase(),e),q=SvgHelpers.ug(c[0]),c=new J(parseFloat(c.attr("cx")),parseFloat(c.attr("cy"))),r=c.add(new J(0,1));d.Sf.put(a,{position:b,Pl:c.bd(q),Ol:Pb(r.bd(q).sub(c.bd(q)))})}var d=this;this.va(a);this.et=10;this.Jt=1;this.sB=1E6;this.Dt=-5;this.Ct=5;this.Qh=!1;this.Jb=this.value("power",!1,!1,!0);this.SR=this.value("square",!1,!1,!0);this.NR=this.value("sine",!1,!1,!0);this.xS=this.value("triangle",
!1,!1,!0);this.zk=this.value("frequency",null,!1,!0);this.aP=this.value("frequencyText","",!1,!0);this.wl=this.value("amplitude",null,!1,!0);this.wN=this.value("amplitudeText","",!1,!0);this.xk=this.value("dcOffset",null,!1,!0);this.zO=this.value("dcOffsetText","",!1,!0);this.Gl=this.value("functionType",null,!1,!0);this.OH=this.value("cycle",0,!1,!0);this.zk.map=function(a){if("undefined"==typeof a)return Math.pow(10,6*d.zk());a<d.Jt?a=d.Jt:a>d.sB&&(a=d.sB);d.zk(Math.log10(a)/6)};this.wl.map=function(a){if("undefined"==
typeof a)return d.et*d.wl();d.wl(a/d.et)};this.xk.map=function(a){if("undefined"==typeof a)return d.xk()*(d.Ct-d.Dt)+d.Dt;d.xk((a-d.Dt)/(d.Ct-d.Dt))};var e=b.wb().svg;this.Sf=new w;this.Sf.put("Power",{position:this.Jb});this.Sf.put("Square",{cf:this.SR});this.Sf.put("Sine",{cf:this.NR});this.Sf.put("Triangle",{cf:this.xS});c("Frequency",this.zk);c("Amplitude",this.wl);c("DC-Offset",this.xk)};extend(V.Model.Fo.Model,C);V.Model.yp={};V.za.put("voltageRegulator3p3V",V.Model.yp);
V.Model.yp.da=function(a,b,c){var d=this;this.ca=a;this.la=b;this.na=c;var e=this.ha("in"),k=this.ha("gnd");b=this.ha("out");d.zq=new V.ta(a,"inputVoltage",0);d.wJ=new V.Za(d.zq,function(a){return 1>a||16<a?0:4.3>a?a-1:15>a?3.3:3.3*(16-a)});this.gL=Vk(this.ca.ia,b,k,d.wJ,.017,1.3);d.Dx=new V.ta(a,"outputCurrent",0);d.RI=new V.Za(d.zq,d.Dx,function(a,b){return 1E-6>b?1E10:a/(b+.005)});this.ca.ia.qa(e,k,d.RI);this.ca.Na.Ka([this,function(){var a=!1,b="This device broke because of:",c=d.ca,c=c.hd.ue(c.time.time,
e,k);d.zq.setValue(0,c);var r=d.gL.uc();d.Dx.setValue(0,r);if(-.25>c||15<c)b+=" Input voltage is "+d.Ia(c,"V")+" while the permitted range is "+d.Ia(-.25,"V")+" to "+d.Ia(15,"V")+".",a=!0;1.3<r&&(b+=" Output current is "+d.Ia(r,"A")+" while the maximum is "+d.Ia(1.3,"A")+".",a=!0);d.na.ua({ua:a,reason:b})},[a.Na]])};extend(V.Model.yp.da,V.Model.da);V.Model.yp.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;this.Lb()};extend(V.Model.yp.fa,V.Model.fa);
V.Model.yp.Model=function(a){this.va(a);this.ua=this.value("breakdown",!1,!1,!0)};extend(V.Model.yp.Model,C);V.Model.zp={};V.za.put("voltageRegulator5V",V.Model.zp);
V.Model.zp.da=function(a,b,c){var d=this;this.ca=a;this.la=b;this.na=c;var e=this.ha("in"),k=this.ha("gnd");b=this.ha("out");d.zq=new V.ta(a,"inputVoltage",0);d.wJ=new V.Za(d.zq,function(a){return 2>a||36<a?0:7>a?a-2:35>a?5:5*(36-a)});this.gL=Vk(this.ca.ia,b,k,d.wJ,.017,1.5);d.Dx=new V.ta(a,"outputCurrent",0);d.RI=new V.Za(d.zq,d.Dx,function(a,b){return 1E-6>b?1E10:a/(b+.005)});this.ca.ia.qa(e,k,d.RI);this.ca.Na.Ka([this,function(){var a=!1,b="This device broke because of:",c=d.ca,c=c.hd.ue(c.time.time,
e,k);d.zq.setValue(0,c);var r=d.gL.uc();d.Dx.setValue(0,r);if(-.25>c||35<c)b+=" Input voltage is "+d.Ia(c,"V")+" while the permitted range is "+d.Ia(-.25,"V")+" to "+d.Ia(35,"V")+".",a=!0;1.5<r&&(b+=" Output current is "+d.Ia(r,"A")+" while the maximum is "+d.Ia(1.5,"A")+".",a=!0);d.na.ua({ua:a,reason:b})},[a.Na]])};extend(V.Model.zp.da,V.Model.da);V.Model.zp.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;this.Lb()};extend(V.Model.zp.fa,V.Model.fa);
V.Model.zp.Model=function(a){this.va(a);this.ua=this.value("breakdown",!1,!1,!0)};extend(V.Model.zp.Model,C);V.Model.hi={};V.za.put("sensor_ultrasonic_ping",V.Model.hi);
V.Model.hi.da=function(a,b,c){var d=this;d.ca=a;d.la=b;d.na=c;var e=5/.03,k=this.ha("neg"),l=this.ha("pos"),n=this.ha("sig");d.ca.ia.qa(l,k,e);var q=new V.ta(a,"ping power",0);a.ia.dc(q,l,k,function(a,b){var c=a-b;return 4.5<=c&&6>=c?1:0});e=new V.ta(d.ca,"ping drive",0);q=new V.Za(e,q,function(a,b){return a&&b?100:1E10});d.ca.ia.qa(l,n,q);d.ca.ia.qa(k,n,2E4);l=new V.ta(a,"ping trigger",!1);a.ia.dc(l,n,k,function(a,b){return 2<a-b?1:0});d.nZ=new V.Yz(a,l,e,{S6:function(){return 7.5E-4},mZ:function(){return 0>
d.na.Yc()?.0185:1.15E-4+.018385*d.na.Yc()},rN:function(a){c.aj(a)}});l.Ka([d,function(){d.nZ.handle("portActivity")}]);var r={x:b.getPropertyValue("Target X"),y:b.getPropertyValue("Target Y")};if(null==r.x||null==r.y)r=c.Hw;c.Kb(r);c.Yc(c.ow(new J(r.x,r.y)));c.Kb.ka("simulator",function(a,b,e){null!=e||null==b||!c.Qh||r.x==b.x&&r.y==b.y||(d.la.root.Vb(),d.la.setProperty("Target X",!1,b.x,""),d.la.setProperty("Target Y",!1,b.y,""),d.la.root.Xb())},10)};extend(V.Model.hi.da,V.Model.da);
V.Model.hi.fa=function(a,b,c,d){var e=this;this.Da=a;this.la=b;this.na=c;c.Qh=e.Da.aa.mode==R?!0:!1;d.xd.ka(e,function(b,c,d){cGraphics.qD({view:a.group,control:a.Dd},{La:d==V.Uc.IDLE})});e.Ob(".cgfx__hitarea_interaction","sensorUltrasonicPing");c.Kb.ka("view",function(b,c,d){null!=d&&cGraphics.qD({view:a.group,control:a.Dd},{Kb:d})},10);c.Yc.ka("view",function(b,c,d){b="";c=!1;0<=d&&(d=e.na.Lw+(e.na.YH-e.na.Lw)*d,b+=(d/2.54).toFixed(1)+"in / "+d.toFixed(1)+"cm",c=!0);cGraphics.qD({view:a.group,control:a.Dd},
{Lx:b,inRange:c})},10);c.aj.ka("view",function(b,c,d){cGraphics.qD({view:a.group,control:a.Dd},{aj:d})},10)};extend(V.Model.hi.fa,V.Model.fa);
V.Model.hi.Db=function(a,b,c){D.call(this);var d=this;this.ba=b;F(this,"idle","targetMoving",function(a){return a.type()===H.Mg&&a.data("statemachine")==c},function(a){var b=a.element(),c=a.element().na;d.ad={Ee:c,Kb:c.Kb,Yc:c.Yc,origin:b.eb(),Oa:b.Oa()};a=d.uj(a.data("mouseCoord"),d.ad);d.ad.Kb({x:a.Kb.x,y:a.Kb.y});d.ad.Yc(a.Yc)});F(this,"targetMoving","idle",function(a){return a.type()===H.He},function(){d.ad=null});F(this,"targetMoving","targetMoving",function(a){return a.type()===H.Od},function(a){a=
d.uj(a.data("mouseCoord"),d.ad);d.ad.Kb({x:a.Kb.x,y:a.Kb.y});d.ad.Yc(a.Yc)})};V.Model.hi.Db.prototype=inherit(D.prototype);V.Model.hi.Db.prototype.constructor=V.Model.hi.Db;V.Cg.put("sensorUltrasonicPing",V.Model.hi.Db);V.Model.hi.Db.prototype.uj=function(a,b){var c=Q(this.ba,a).sub(b.origin).rotate(-b.Oa);return{Kb:c,Yc:b.Ee.ow(c)}};
V.Model.hi.Model=function(a){var b=this;this.va(a);this.Qh=!1;this.Hw={x:0,y:-200};this.Lw=1.98;this.YH=336.36;this.hr=100;this.Tx=400;this.cL=240;this.bL=300;this.Kb=this.value("targetPosition",null,!1,!0);this.Yc=this.value("distance",.33333333333,!1,!0);this.aj=this.value("ledActive",0,!1,!0);this.ow=function(a){if(a){var d=a.Yc(new J(0,0));if(d>=b.hr&&d<=b.Tx&&(a=Pb(a),a>=b.cL&&a<=b.bL))return(d-b.hr)/(b.Tx-b.hr)}return-1}};extend(V.Model.hi.Model,C);V.Model.gi={};V.za.put("sensor_pir",V.Model.gi);
V.Model.gi.da=function(a,b,c){var d=this;d.ca=a;d.la=b;d.na=c;var e=5/.023,k=this.ha("gnd"),l=this.ha("vcc"),n=this.ha("out");d.ca.ia.qa(l,k,e);e=new V.ta(a,"pir power",0);a.ia.dc(e,l,k,function(a,b){var c=a-b;return 3<=c&&6>=c?1:0});var q=new V.ta(d.ca,"pir drive",0),e=new V.Za(q,e,function(a,b){return 0<a&&b?100:1E10});d.ca.ia.qa(l,n,e);d.ca.ia.qa(k,n,2E4);a.ia.dc(new V.ta(a,"pir trigger",!1),n,k,function(a,b){return 2<a-b?1:0});var r={x:b.getPropertyValue("Target X"),y:b.getPropertyValue("Target Y")};
if(null==r.x||null==r.y)r=c.Hw;c.Kb(r);c.Yc(c.ow(new J(r.x,r.y)));c.Kb.ka("simulator",function(a,b,e){null!=e||null==b||!c.Qh||r.x==b.x&&r.y==b.y||(d.la.root.Vb(),d.la.setProperty("Target X",!1,b.x,""),d.la.setProperty("Target Y",!1,b.y,""),d.la.root.Xb())},10);c.inRange.ka("simulator",function(a,b,c){null==b||null==c||1!=b&&1!=c||(q.setValue(0,!0),q.setValue(1,!1))},10);q.Ka([null,function(){q.value()!=c.aj()&&c.aj(q.value())}])};extend(V.Model.gi.da,V.Model.da);
V.Model.gi.fa=function(a,b,c,d){var e=this;this.Da=a;this.la=b;this.na=c;c.Qh=e.Da.aa.mode==R?!0:!1;d.xd.ka(e,function(b,c,d){cGraphics.pD({view:a.group,control:a.Dd},{La:d==V.Uc.IDLE})});e.Ob(".cgfx__hitarea_interaction","sensorPIR");c.Kb.ka("view",function(b,c,d){null!=d&&cGraphics.pD({view:a.group,control:a.Dd},{Kb:d})},10);c.Yc.ka("view",function(b,c,d){b="";c=!1;0<=d&&(d=e.na.Lw+(e.na.YH-e.na.Lw)*d,b+=(d/2.54).toFixed(1)+"in / "+d.toFixed(1)+"cm",c=!0);cGraphics.pD({view:a.group,control:a.Dd},
{Lx:b,inRange:c});e.na.inRange(c)},10);c.aj.ka("view",function(b,c,d){cGraphics.pD({view:a.group,control:a.Dd},{aj:d})},10)};extend(V.Model.gi.fa,V.Model.fa);
V.Model.gi.Db=function(a,b,c){D.call(this);var d=this;this.ba=b;F(this,"idle","targetMoving",function(a){return a.type()===H.Mg&&a.data("statemachine")==c},function(a){var b=a.element(),c=a.element().na;d.ad={Ee:c,Kb:c.Kb,Yc:c.Yc,origin:b.eb(),Oa:b.Oa()};a=d.uj(a.data("mouseCoord"),d.ad);d.ad.Kb({x:a.Kb.x,y:a.Kb.y});d.ad.Yc(a.Yc)});F(this,"targetMoving","idle",function(a){return a.type()===H.He},function(){d.ad=null});F(this,"targetMoving","targetMoving",function(a){return a.type()===H.Od},function(a){a=
d.uj(a.data("mouseCoord"),d.ad);d.ad.Kb({x:a.Kb.x,y:a.Kb.y});d.ad.Yc(a.Yc)})};V.Model.gi.Db.prototype=inherit(D.prototype);V.Model.gi.Db.prototype.constructor=V.Model.gi.Db;V.Cg.put("sensorPIR",V.Model.gi.Db);V.Model.gi.Db.prototype.uj=function(a,b){var c=Q(this.ba,a).sub(b.origin).rotate(-b.Oa);return{Kb:c,Yc:b.Ee.ow(c)}};
V.Model.gi.Model=function(a){var b=this;this.va(a);this.Qh=!1;this.Hw={x:0,y:-200};this.Lw=1.98;this.YH=336.36;this.hr=100;this.Tx=400;this.cL=240;this.bL=300;this.Kb=this.value("targetPosition",null,!1,!0);this.Yc=this.value("distance",.33333333333,!1,!0);this.aj=this.value("ledActive",0,!1,!0);this.inRange=this.value("inRange",null,!1,!0);this.ow=function(a){if(a){var d=a.Yc(new J(0,0));if(d>=b.hr&&d<=b.Tx&&(a=Pb(a),a>=b.cL&&a<=b.bL))return(d-b.hr)/(b.Tx-b.hr)}return-1}};
extend(V.Model.gi.Model,C);V.Model.fi={};V.za.put("sensor_gas",V.Model.fi);
V.Model.fi.da=function(a,b,c){function d(a,b){if(4>a)return 11E3;5.1<a&&(a=5.1);return 11E3+(11E3+-9350*(a-4)/1-11E3)*b}var e=this;e.ca=a;e.la=b;e.na=c;var k=this.ha("A1"),l=this.ha("B1"),n=this.ha("H1"),q=this.ha("H2");a.ia.kd(k,this.ha("A2"));a.ia.kd(l,this.ha("B2"));e.ca.ia.qa(n,q,26);var r=new V.ta(a,"sensor signal",11E3);a.ia.qa(k,l,r);var t={x:b.getPropertyValue("Target X"),y:b.getPropertyValue("Target Y")};if(null==t.x||null==t.y)t=c.Hw;c.Kb(t);c.Vk(c.TN(new J(t.x,t.y)));c.Kb.ka("simulator",
function(a,b,d){null!=d||null==b||!c.Qh||t.x==b.x&&t.y==b.y||(e.la.root.Vb(),e.la.setProperty("Target X",!1,b.x,""),e.la.setProperty("Target Y",!1,b.y,""),e.la.root.Xb())},10);c.Vk.ka("simulator",function(a,b,e){null!=b&&null!=e&&r.setValue(0,d(c.HI(),e))},10);c.HI.ka("simulator",function(a,b,e){null!=b&&null!=e&&r.setValue(0,d(e,c.Vk()))},10);this.ca.Na.Ka([this,function(){var a=!1,b="This device broke because of:",d=e.ca,d=d.hd.ue(d.time.time,n,q);0>d&&(d=-d);5.1<d&&(b+=" Heater voltage is "+e.Ia(d,
"V")+" while permitted maximum is "+e.Ia(5.1,"V")+".",a=!0);c.HI(d);e.na.animate();e.na.ua({ua:a,reason:b})},[a.Na]])};extend(V.Model.fi.da,V.Model.da);
V.Model.fi.fa=function(a,b,c,d){this.Da=a;this.la=b;this.na=c;c.Qh=this.Da.aa.mode==R?!0:!1;d.xd.ka(this,function(b,c,d){cGraphics.ZK({view:a.group,control:a.Dd},{La:d==V.Uc.IDLE})});this.Ob(".cgfx__hitarea_interaction","sensorGas");c.Kb.ka("view",function(b,c,d){null!=d&&cGraphics.ZK({view:a.group,control:a.Dd},{Kb:d})},10);c.rI.ka("view",function(b,c,d){cGraphics.ZK({view:a.group,control:a.Dd},{bw:d})},10);this.Lb()};extend(V.Model.fi.fa,V.Model.fa);
V.Model.fi.Db=function(a,b,c){D.call(this);var d=this;this.ba=b;F(this,"idle","targetMoving",function(a){return a.type()===H.Mg&&a.data("statemachine")==c},function(a){var b=a.element(),c=a.element().na;d.ad={Ee:c,Kb:c.Kb,Vk:c.Vk,origin:b.eb(),Oa:b.Oa()};a=d.uj(a.data("mouseCoord"),d.ad);d.ad.Kb({x:a.Kb.x,y:a.Kb.y});d.ad.Vk(a.Vk)});F(this,"targetMoving","idle",function(a){return a.type()===H.He},function(){d.ad=null});F(this,"targetMoving","targetMoving",function(a){return a.type()===H.Od},function(a){a=
d.uj(a.data("mouseCoord"),d.ad);d.ad.Kb({x:a.Kb.x,y:a.Kb.y});d.ad.Vk(a.Vk)})};V.Model.fi.Db.prototype=inherit(D.prototype);V.Model.fi.Db.prototype.constructor=V.Model.fi.Db;V.Cg.put("sensorGas",V.Model.fi.Db);V.Model.fi.Db.prototype.uj=function(a,b){var c=Q(this.ba,a).sub(b.origin).rotate(-b.Oa);return{Kb:c,Vk:b.Ee.TN(c)}};
V.Model.fi.Model=function(a){var b=this;this.va(a);this.Qh=!1;this.Hw={x:0,y:-200};this.WP=250;this.OZ=.0025;this.Kb=this.value("targetPosition",null,!1,!0);this.HI=this.value("heaterVoltage",0,!1,!0);this.Vk=this.value("sensorLevel",0,!1,!0);this.rI=this.value("gasAnimation",0,!1,!0);this.ua=this.value("breakdown",!1,!1,!0);this.TN=function(a){return a&&(a=a.Yc(new J(0,0)),a<=b.WP)?1-a/b.WP:0};this.animate=function(){var a=b.rI()+b.OZ;0>a?a+=1:1<a&&--a;b.rI(a)}};extend(V.Model.fi.Model,C);V.Model.Tp={};V.za.put("circuitScribe_battery9v",V.Model.Tp);V.Model.Tp.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;var d=new V.ta(this.ca,"battery 9 V switchSignal",!1);b=new V.Za(d,function(a){return a?4:1E10});var e=new V.Za(d,function(a){return a?9:0}),k=this.ha("+"),l=this.ha("-"),n=a.ia.Pd(k,l,e,b);c.position.ka("simulator",function(a,b,c){d.setValue(0,c)},10);this.na.position(!0);var q=!0;this.ca.Na.Ka([this,function(a){a=a.value();q?q=!1:.12>=Math.abs(n.uc(a))?c.qr(!1):c.qr(!0)},[a.Na]])};
extend(V.Model.Tp.da,V.Model.da);V.Model.Tp.fa=function(a,b,c,d){this.Da=a;this.la=b;this.na=c;this.Ob(".cgfx__hitarea-interaction","click");c.position.ka("view",function(b,c,d){cGraphics.Fy(a.group,{fr:d?1:0,Hj:d})},10);c.qr.ka("view",function(b,c,d){cGraphics.Fy(a.group,{hy:d?1:0})},10);d.xd.ka(this,function(b,c,d){cGraphics.Fy(a.group,{La:d==V.Uc.IDLE})});cGraphics.Fy(a.group,{La:!0})};extend(V.Model.Tp.fa,V.Model.fa);
V.Model.Tp.Model=function(a){this.va(a);this.position=this.value("position",!1,!1,!0);this.qr=this.value("shortCircuit",!1,!1,!0)};extend(V.Model.Tp.Model,C);V.Model.Rp={};V.za.put("circuitScribe_USBpower",V.Model.Rp);V.Model.Rp.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;b=this.ha("Pos");var d=this.ha("Neg"),e=a.ia.Pd(b,d,5,4),k=!0;this.ca.Na.Ka([this,function(a){a=a.value();k?k=!1:.12>=Math.abs(e.uc(a))?c.qr(!1):c.qr(!0)},[a.Na]]);this.na.Jb(!0)};extend(V.Model.Rp.da,V.Model.da);
V.Model.Rp.fa=function(a,b,c,d){this.Da=a;this.la=b;this.na=c;c.Jb.ka("view",function(b,c,d){cGraphics.Fy(a.group,{fr:d?1:0,Hj:d})},10);c.qr.ka("view",function(b,c,d){cGraphics.WK(a.group,{hy:d?1:0})},10);d.xd.ka(this,function(b,c,d){cGraphics.WK(a.group,{La:d==V.Uc.IDLE})});cGraphics.WK(a.group,{La:!0})};extend(V.Model.Rp.fa,V.Model.fa);V.Model.Rp.Model=function(a){this.va(a);this.Jb=this.value("power",!1,!1,!0);this.qr=this.value("shortCircuit",!1,!1,!0)};extend(V.Model.Rp.Model,C);V.Model.Bl={};V.Model.Bl.rr="circuitScribe_biLed";V.za.put(V.Model.Bl.rr,V.Model.Bl);
V.Model.Bl.da=function(a,b,c){var d=this;d.ca=a;d.la=b;d.na=c;b=2200;var e=3300,k=this.ha("anode"),l=this.ha("cathode"),n={Ra:"red led cathode net"},q={Ra:"red blue cathode net"},r=a.ia.Cc(k,n,1E-19,1.9);b=a.ia.qa(n,l,b);var t=a.ia.Cc(l,q,1E-22,2.25),e=a.ia.qa(q,k,e);a.Na.Ka([this,function(a){var b=a.value();a=!1;var e="Bi-led broke because of: ",k=r.uc(b),b=t.uc(b);.004<k&&(e+="current through the red led is "+d.Ia(k,"A")+", ",a=!0);.004<b&&(e+="current through the blue led is "+d.Ia(b,"A")+", ",
a=!0);e+="while maximum is "+d.Ia(.004,"A");c.cb([k/.004,b/.004]);c.ua({ua:a,reason:e})},[a.Na]])};extend(V.Model.Bl.da,V.Model.da);V.Model.Bl.fa=function(a,b,c,d){this.Da=a;this.la=b;this.na=c;this.Lb();c.cb.ka("view",function(b,c,d){b=.001>d[0]?0:1<d[0]?1:d[0];d=.001>d[1]?0:1<d[1]?1:d[1];b=Math.pow(b,1/3);d=Math.pow(d,1/3);0<b?cGraphics.UK(a.group,{gR:b}):cGraphics.UK(a.group,{GN:d})},10);d.xd.ka(this,function(b,c,d){cGraphics.UK(a.group,{La:d==V.Uc.IDLE})})};extend(V.Model.Bl.fa,V.Model.fa);
V.Model.Bl.Model=function(a){this.va(a);this.ua=this.value("breakdown",!1,!1,!0);this.cb=this.value("brightness",[0,0],!1,!0)};extend(V.Model.Bl.Model,C);V.Model.Al={};V.za.put("circuitScribe_RGBLED",V.Model.Al);V.Model.Al.cu=[{name:"Red",fk:1E-19,Nq:1.9,NF:3300,tx:.002603},{name:"Green",fk:1E-21,Nq:2.15,NF:12E3,tx:6.73E-4},{name:"Blue",fk:1E-22,Nq:2.3,NF:2200,tx:.003458}];
V.Model.Al.da=function(a,b,c){var d=this;d.ca=a;d.la=b;d.na=c;var e=new w,k=this.ha("Cathode");V.Model.Al.cu.forEach(function(b){var c=d.ha(b.name),q={Ra:"RGB anode Net - "+b.name};a.ia.qa(c,q,b.NF);c=a.ia.Cc(q,k,b.fk,b.Nq);e.put(b,c)});this.ca.Na.Ka([this,function(a){var b=a.value(),k=!1,r="RGB Led broke because of: ",t=[];e.forEach(function(a,c){var e=c.uc(b);t.push(e/a.tx);e>a.tx&&(k=!0,r+=" current through Led "+a.name+" is "+d.Ia(e,"A")+", while maximum current is "+d.Ia(a.tx,"A")+".")});c.ua({ua:k,
reason:r});c.cb(t)},[a.Na]])};extend(V.Model.Al.da,V.Model.da);V.Model.Al.fa=function(a,b,c,d){this.Da=a;this.la=b;this.na=c;this.Lb();c.cb.ka("view",function(b,c,d){b=[];for(var n in d)c=.001>d[n]?0:1<d[n]?1:d[n],c=Math.round(100*Math.pow(c,1/3))/100,b.push(c);cGraphics.DS(a.group,{pd:b})},10);d.xd.ka(this,function(b,c,d){cGraphics.DS(a.group,{La:d==V.Uc.IDLE})})};extend(V.Model.Al.fa,V.Model.fa);
V.Model.Al.Model=function(a){this.va(a);this.ua=this.value("breakdown",!1,!1,!0);this.cb=this.value("brightness",[0,0,0],!1,!0)};extend(V.Model.Al.Model,C);V.Model.Zp={};V.za.put("circuitScribe_potentiometer",V.Model.Zp);V.Model.Zp.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;var d=this.ha("term0");a=this.ha("term1");b=this.ha("wiper");var e=new V.ta(this.ca,"circuitScribe_potentiometer position",0),k=new V.Za(e,function(a){return 1E4*a+.5});this.ca.ia.qa(d,b,k);d=new V.Za(e,function(a){return 1E4*(1-a)+.5});this.ca.ia.qa(a,b,d);c.position.ka("simulator",function(a,b,c){e.setValue(0,Math.round(50*c)/50)},10)};extend(V.Model.Zp.da,V.Model.da);
V.Model.Zp.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;this.Ob(".cgfx__hitarea-interaction","potentiometer");c.position.ka("view",function(b,c,k){cGraphics.W2(a.group,{position:k})},10);c.position(0)};extend(V.Model.Zp.fa,V.Model.fa);V.Model.Zp.Model=function(a,b){this.va(a);this.position=this.value("position",0,!1,!0);var c=b.wb().svg,d=$(".cgfx__hitarea-interaction",c),c=new J(parseFloat(d.attr("cx")),parseFloat(d.attr("cy"))),e=new J(0,1),d=SvgHelpers.ug(d[0]);this.Pl=c.bd(d);this.Ol=Pb(e.bd(d))};
extend(V.Model.Zp.Model,C);V.Model.$p={};V.za.put("circuitScribe_switch",V.Model.$p);V.Model.$p.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;b=this.ha("S1");var d=this.ha("S2"),e=new V.ta(this.ca,"switchSignal",!1),k=new V.Za(e,function(a){return a?.001:1E10});a.ia.qa(b,d,k);c.position.ka("simulator",function(a,b,c){e.setValue(0,c)},10)};extend(V.Model.$p.da,V.Model.da);
V.Model.$p.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;this.Ob(".cgfx__hitarea-interaction","click");c.position.ka("view",function(b,c,k){cGraphics.FS(a.group,{on:k})},10);cGraphics.FS(a.group,{on:!1})};extend(V.Model.$p.fa,V.Model.fa);V.Model.$p.Model=function(a){this.va(a);this.position=this.value("position",!1,!1,!0)};extend(V.Model.$p.Model,C);V.Model.Wp={};V.za.put("circuitScribe_doubleSwitch",V.Model.Wp);V.Model.Wp.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;b=this.ha("S1T1");var d=this.ha("S1T2"),e=this.ha("S1T3"),k=this.ha("S2T1"),l=this.ha("S2T2"),n=this.ha("S2T3"),q=new V.ta(this.ca,this.name,!1),r=new V.Za(q,function(a){return a?.001:1E10}),t=new V.Za(q,function(a){return a?1E10:.001});a.ia.qa(b,d,r);a.ia.qa(b,e,t);a.ia.qa(k,l,r);a.ia.qa(k,n,t);c.position.ka("simulator",function(a,b,c){q.setValue(0,c)},10)};
extend(V.Model.Wp.da,V.Model.da);V.Model.Wp.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;this.Ob(".cgfx__hitarea-interaction","click");c.position.ka("view",function(b,c,k){cGraphics.ES(a.group,{on:k})},10);cGraphics.ES(a.group,{on:!1})};extend(V.Model.Wp.fa,V.Model.fa);V.Model.Wp.Model=function(a){this.va(a);this.position=this.value("position",!1,!1,!0)};extend(V.Model.Wp.Model,C);V.Model.ot={};V.za.put("circuitScribe_DCmotor",V.Model.ot);
V.Model.ot.da=function(a,b,c){function d(){var a=e.la.getPropertyValue("load")/100;isNaN(a)||0>a?a=0:1<a&&(a=1);var b=5.232/(564/9.5493),c=500*b,a=(a*(q-n)+n)/(564/9.5493*(1-a))*1E3;r.setValue(0,b);t.setValue(0,c);v.setValue(0,a)}var e=this;e.ca=a;e.la=b;e.na=c;var k=5.232/(564/9.5493),l=500*k,n=.048*l/1E3,q=6*l/16/1E3,r=new V.ta(e.ca,"Motor speed constant signal",k),t=new V.ta(e.ca,"Motor torque constant signal",l),v=new V.ta(e.ca,"Motor friction signal",(0*(q-n)+n)/(564/9.5493*1)*1E3);d();b.Cb.we("simulator",
d,10);b=this.ha("term11");var l=this.ha("term12"),k=this.ha("term22"),x=this.ha("term21");a.ia.kd(b,l);a.ia.kd(k,x);var l={Ra:"Motor_net_between_sense-backEMF_"},x={Ra:"Motor_net_between_backEMF-Rs_"},B={Ra:"Motor_mechanical_net_between_sense-friction_"},E={Ra:"Motor_mechanical_net_between_friction-inertia_"};this.ca.ia.qa(k,x,16);this.ca.ia.Ri(B,b,x,l,1E-4,1E-4,r);this.ca.ia.Ri(l,b,E,b,1E-4,1E-4,t);var z=this.ca.ia.qa(E,B,v);this.ca.Na.Ka([this,function(a){a=a.value();a=9.5493*z.uc(a);c.oh(a)},[a.Na]]);
c.uh(!0)};extend(V.Model.ot.da,V.Model.da);V.Model.ot.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;c.Xd=0;c.uh.ka("view",function(b,e,k){k?c.qj=setInterval(function(){var b=c.oh();c.Xd=(c.Xd+b/60*50/1E3*360)%360;cGraphics.V2(a.group,{rotation:c.Xd})},50):clearInterval(c.qj)},10)};V.Model.ot.Model=function(a){this.va(a);this.oh=this.value("speed",0,!1,!0);this.uh=this.value("Enable animation",!1,!1,!0)};extend(V.Model.ot.Model,C);V.Model.pt={};V.za.put("circuitScribe_NPN",V.Model.pt);V.Model.pt.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;b=this.ha("E");c=this.ha("B");var d=this.ha("C"),e={Ra:"circuitScribe_NPN_basenet"};a.ia.pj(e,b,d);a.ia.qa(c,e,1E3);a.ia.Cc(b,d,2E-5,1.1);a.ia.Cc(b,e,2E-5,1.1)};extend(V.Model.pt.da,V.Model.da);V.Model.pt.fa=function(){};V.Model.pt.Model=function(a){this.va(a)};extend(V.Model.pt.Model,C);V.Model.Vp={};V.za.put("circuitScribe_buzzer",V.Model.Vp);V.Model.Vp.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;b=this.ha("pos");var d=this.ha("neg"),e={Ra:"internal buzzer net"};a.ia.Cc(b,e,1E-16,1.1);var k=a.ia.qa(e,d,2200);this.ca.Na.Ka([this,function(a){a=a.value();a=k.Yd(a);.001>a&&(a=0);c.ly(85*Math.pow(a/15,1/3))},[a.Na]])};extend(V.Model.Vp.da,V.Model.da);V.Model.Vp.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;c.ly.ka("view",function(b,c,k){cGraphics.R2(a.group,{volume:k/85})},10)};
extend(V.Model.Vp.fa,V.Model.fa);V.Model.Vp.Model=function(a){this.va(a);this.ly=this.value("sound",0,!1,!0)};extend(V.Model.Vp.Model,C);V.Model.Up={};V.za.put("circuitScribe_blinker",V.Model.Up);
V.Model.Up.da=function(a,b,c){function d(){t.value()?t.setValue(x,!1):t.setValue(B,!0)}this.ca=a;this.la=b;this.na=c;var e=this.ha("vcc");b=this.ha("gnd");var k=this.ha("out"),l={Ra:"protected vcc net"},n={Ra:"protected gnd net"},q={Ra:"red Led anode net"},r={Ra:"green Led cathode net"},t=new V.ta(this.ca,"555 Timer FlipFlop output signal",!1);a.ia.Cc(e,l,2E-5,1.1);a.ia.Cc(n,b,2E-5,1.1);var v=a.ia.Cc(q,e,1E-19,1.9);a.ia.qa(b,q,1E4);var x=4158*1E-5,B=.03465;t.Ka([null,d]);t.setValue(0,!0);c.position.ka("simulator",
function(a,b,c){a=5E3+Math.round(50*c)/50*5E5;x=6.93E-6*(1E3+a);B=6.93E-6*a;d()},10);e=new V.Za(t,function(a){return 1==a?15:1E8});this.ca.ia.qa(l,k,e);l=new V.Za(t,function(a){return 0==a?15:1E8});this.ca.ia.qa(k,n,l);var E=a.ia.Cc(k,r,1E-19,1.9);a.ia.qa(r,b,1E4);a.Na.Ka([this,function(a){var b=a.value();a=v.uc(b)/.004;b=E.uc(b)/.004;c.LN(a);c.KN(b)},[a.Na]])};extend(V.Model.Up.da,V.Model.da);
V.Model.Up.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;this.Ob(".cgfx__hitarea-interaction","potentiometer");c.position.ka("view",function(b,c,k){cGraphics.VK(a.group,{QQ:k})},10);c.LN.ka("view",function(b,c,k){b=Math.pow(.001>k?0:1<k?1:k,1/3);cGraphics.VK(a.group,{gT:b})},10);c.KN.ka("view",function(b,c,k){b=Math.pow(.001>k?0:1<k?1:k,1/3);cGraphics.VK(a.group,{xQ:b})},10)};extend(V.Model.Up.fa,V.Model.fa);
V.Model.Up.Model=function(a,b){this.va(a);this.position=this.value("position",0,!1,!0);this.LN=this.value("brightness_red",0,!1,!0);this.KN=this.value("brightness_green",0,!1,!0);var c=b.wb().svg,d=$(".cgfx__hitarea-interaction",c),c=new J(parseFloat(d.attr("cx")),parseFloat(d.attr("cy"))),e=new J(0,1),d=SvgHelpers.ug(d[0]);this.Pl=c.bd(d);this.Ol=Pb(e.bd(d))};extend(V.Model.Up.Model,C);V.Model.rt={};V.za.put("circuitScribe_resistor",V.Model.rt);V.Model.rt.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;(c=parseFloat(b.getPropertyValue("Resistance")))||(c=0);var d=new V.ta(this.ca,"resistor_control",c);c=this.ha("1");var e=this.ha("2");a.ia.qa(c,e,d);b.Cb.we("simulator",function(){var a=parseFloat(b.getPropertyValue("Resistance"));a||(a=0);d.setValue(0,a)},10)};extend(V.Model.rt.da,V.Model.da);
V.Model.rt.fa=function(a,b,c){function d(){var c=parseFloat(b.getPropertyValue("Resistance"));c||(c=0);cGraphics.Q2(a.group,{Kj:c})}this.Da=a;this.la=b;this.na=c;b.Cb.we("view",function(){d()},10);d()};V.Model.rt.Model=function(a){this.va(a)};extend(V.Model.rt.Model,C);V.Model.qt={};V.za.put("circuitScribe_capacitor",V.Model.qt);V.Model.qt.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;(c=parseFloat(b.getPropertyValue("Capacitance")))||(c=0);var d=new V.ta(this.ca,"capacitance_control",c);c=this.ha("1");var e=this.ha("2");a.ia.ul(c,e,d);b.Cb.we("simulator",function(){var a=parseFloat(b.getPropertyValue("Capacitance"));a||(a=0);d.setValue(0,a)},10)};extend(V.Model.qt.da,V.Model.da);V.Model.qt.fa=function(){};V.Model.qt.Model=function(a){this.va(a)};
extend(V.Model.qt.Model,C);V.Model.Qp={};V.za.put("circuitScribe_LDR",V.Model.Qp);V.Model.Qp.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;a=this.ha("1");b=this.ha("2");var d=new V.ta(this.ca,this.name,1);c=new V.Za(d,function(a){return Math.exp(Math.log(5E5)-.85*(Math.log(a)-Math.log(.3)))});this.ca.ia.qa(a,b,c);this.na.position.ka("simulator",function(a,b,c){d.setValue(0,Math.round(50*c)/50*999+1)},10)};extend(V.Model.Qp.da,V.Model.da);
V.Model.Qp.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;this.Ob(".cgfx__hitarea-interaction","slider");c.position.ka("view",function(b,c,k){cGraphics.P2({view:a.group,control:a.Dd},{Wg:k})},10)};extend(V.Model.Qp.fa,V.Model.fa);
V.Model.Qp.Model=function(a,b){this.va(a);this.position=this.value("position",0,!1,!0);var c=b.wb().svg,d=$(".cgfx__hitarea-interaction.cgfx__bounds",c),e=parseFloat(d.attr("width")),k=parseFloat(d.attr("height")),c=new J(parseFloat(d.attr("x"))+k/2,parseFloat(d.attr("y"))),e=c.add(new J(e-k,0)),d=SvgHelpers.ug(d[0]);this.dm=c.bd(d);this.em=e.bd(d)};extend(V.Model.Qp.Model,C);V.Model.Yp={};V.za.put("circuitScribe_photosensor",V.Model.Yp);V.Model.Yp.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;b=this.ha("vcc");c=this.ha("gnd");var d=this.ha("signal"),e={Ra:"base net"},k=new V.ta(this.ca,"photosensor lux signal",0),l=new V.Za(k,function(a){return 5E-4*a/294});a.ia.pj(e,d,b);a.ia.qa(d,c,1E4);a.ia.Kp(e,d,l);this.na.position.ka("simulator",function(a,b,c){k.setValue(0,Math.round(50*c)/50)},10)};extend(V.Model.Yp.da,V.Model.da);
V.Model.Yp.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;this.Ob(".cgfx__hitarea-interaction","slider");c.position.ka("view",function(b,c,k){cGraphics.X2({view:a.group,control:a.Dd},{Wg:k})},10)};extend(V.Model.Yp.fa,V.Model.fa);
V.Model.Yp.Model=function(a,b){this.va(a);this.position=this.value("position",0,!1,!0);var c=b.wb().svg,d=$(".cgfx__hitarea-interaction.cgfx__bounds",c),e=parseFloat(d.attr("width")),k=parseFloat(d.attr("height")),c=new J(parseFloat(d.attr("x"))+k/2,parseFloat(d.attr("y"))),e=c.add(new J(e-k,0)),d=SvgHelpers.ug(d[0]);this.dm=c.bd(d);this.em=e.bd(d)};extend(V.Model.Yp.Model,C);V.Model.Ti={};
V.Model.Ti.da=function(a,b,c){function d(a,b){var c=new V.ta(e.ca,b+" schmidt trigger",0);e.ca.ia.dc(c,a,n,l,function(a,b,c){return a-c>(b-c)*k?1:0});return c}var e=this;e.ca=a;e.la=b;e.na=c;var k=3.14/6,l=this.ha("gnd"),n=this.ha("vcc"),q=this.ha("ina"),r=this.ha("inb");b=this.ha("out");var t={Ra:"red cathode net"},v={Ra:"blue cathode net"};e.MJ=function(a){console.log("Process:",a)};var x=new V.ta(e.ca,"power",0);e.ca.ia.dc(x,n,l,function(a,b){var c=a-b;return 3<c&&12>c?1:0});var B=new V.ta(this.ca,
this.name,e.na.position());a.ia.Cc(l,t,1E-19,1.9);var E=a.ia.qa(t,n,2200);a.ia.Cc(n,v,1E-22,2.25);var z=a.ia.qa(v,l,3300);a.ia.qa(q,l,1E4);a.ia.qa(r,l,1E4);var I=d(q,"ina"),N=d(r,"inb"),K=new V.Za(x,I,N,B,function(a,b,c,d){return a?e.na.rx(b,c)^!d?1:0:0}),q=new V.Za(x,I,N,B,function(a,b,c,d){return a?e.na.rx(b,c)^!d?.001:1E10:.001});a.ia.qa(n,b,q);q=new V.Za(x,I,N,B,function(a,b,c,d){return a?e.na.rx(b,c)^!d?1E10:.001:1E10});a.ia.qa(l,b,q);c.position.ka("simulator",function(a,b,c){B.setValue(0,c)},
10);a.Na.Ka([this,function(a){var b=a.value();a=!1;var d="Device broke because of: ",k=E.uc(b),b=z.uc(b);.004<k&&(d+="current through the red led is "+e.Ia(k,"A")+", ",a=!0);.004<b&&(d+="current through the blue led is "+e.Ia(b,"A")+", ",a=!0);d+="while maximum is "+e.Ia(.004,"A");c.ZB([k/.004,b/.004,I.value()*x.value(),N.value()*x.value(),K.value()]);c.ua({ua:a,reason:d})},[a.Na]])};
V.Model.Ti.fa=function(a,b,c,d){var e=this;this.Da=a;this.la=b;this.na=c;this.Ob(".cgfx__hitarea-interaction","click");c.position.ka("view",function(b,c,d){e.Zh(a.group,{position:d})},10);e.Zh(a.group,{position:c.position});c.ZB.ka("view",function(b,c,d){function q(a){return Math.pow(.001>a?0:1<a?1:a,1/3)}e.Zh(a.group,{sq:q(d[0]),Gr:q(d[1]),xq:q(d[2]),yq:q(d[3]),Tq:q(d[4])})},10);d.xd.ka(e,function(b,c,d){d==V.Uc.IDLE&&e.Zh(a.group,{sq:0,Gr:0,xq:0,yq:0,Tq:0,position:!0})})};
V.Model.Ti.Model=function(a){this.va(a);this.ua=this.value("breakdown",!1,!1,!0);this.ZB=this.value("ledBrightness",[0,0],!1,!0);this.position=this.value("position",!0,!1,!0)};V.Model.Sp={};V.za.put("circuitScribe_and",V.Model.Sp);V.Model.Sp.da=function(a,b,c){V.Model.Ti.da.apply(this,arguments)};extend(V.Model.Sp.da,V.Model.da);V.Model.Sp.fa=function(a,b,c,d){this.Zh=function(a,b){void 0!==b.position&&(b.yA=b.position);cGraphics.S2(a,b)};V.Model.Ti.fa.apply(this,arguments)};extend(V.Model.Sp.fa,V.Model.fa);V.Model.Sp.Model=function(a,b){this.rx=function(a,b){return!(!a||!b)};V.Model.Ti.Model.apply(this,arguments)};extend(V.Model.Sp.Model,C);V.Model.Xp={};V.za.put("circuitScribe_or",V.Model.Xp);V.Model.Xp.da=function(a,b,c){V.Model.Ti.da.apply(this,arguments)};extend(V.Model.Xp.da,V.Model.da);V.Model.Xp.fa=function(a,b,c,d){this.Zh=function(a,b){void 0!==b.position&&(b.hC=b.position);cGraphics.T2(a,b)};V.Model.Ti.fa.apply(this,arguments)};extend(V.Model.Xp.fa,V.Model.fa);V.Model.Xp.Model=function(a,b){this.rx=function(a,b){return!(!a&&!b)};V.Model.Ti.Model.apply(this,arguments)};extend(V.Model.Xp.Model,C);V.Model.aq={};V.za.put("circuitScribe_xor",V.Model.aq);V.Model.aq.da=function(a,b,c){V.Model.Ti.da.apply(this,arguments)};extend(V.Model.aq.da,V.Model.da);V.Model.aq.fa=function(a,b,c,d){this.Zh=function(a,b){void 0!==b.position&&(b.wD=b.position);cGraphics.U2(a,b)};V.Model.Ti.fa.apply(this,arguments)};extend(V.Model.aq.fa,V.Model.fa);V.Model.aq.Model=function(a,b){this.rx=function(a,b){return!a!=!b};V.Model.Ti.Model.apply(this,arguments)};extend(V.Model.aq.Model,C);V.Model.Tl={};V.Model.Tl.rr="piezoSound";V.za.put(V.Model.Tl.rr,V.Model.Tl);
V.Model.Tl.da=function(a,b,c){var d=this;d.ca=a;d.la=b;d.na=c;var e=this.ha("+"),k=this.ha("-"),l=a.ia.qa(e,k,600);d.audio=new V.bk(d.ca);this.ca.Na.Ka([this,function(a){a=a.value();a=l.Yd(a);.001>a&&(a=0);var b=0;25>=a?c.ua({ua:!1,reason:""}):(a="Voltage over buzzer is "+d.Ia(a,"V")+", while maximum is "+d.Ia(25,"V"),c.ua({ua:!0,reason:a}));b=d.audio.play(e,k,1/6);c.ly(b)},[a.Na]]);this.ca.dl.ka(this,function(a,b,c){(c==V.Uc.IDLE||c==V.Uc.ps)&&d.audio&&d.audio.stop()})};extend(V.Model.Tl.da,V.Model.da);
V.Model.Tl.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;this.Lb();c.ly.ka("view",function(b,c,k){cGraphics.g3(a.group,{volume:k})},10)};extend(V.Model.Tl.fa,V.Model.fa);V.Model.Tl.Model=function(a){this.va(a);this.ua=this.value("breakdown",!1,!1,!0);this.ly=this.value("sound",0,!1,!0)};extend(V.Model.Tl.Model,C);V.Model.Rl={};V.Model.Rl.rr="optoCoupler_4N35";V.za.put(V.Model.Rl.rr,V.Model.Rl);
V.Model.Rl.da=function(a,b,c){var d=this;d.ca=a;d.la=b;d.na=c;b=this.ha("Anode");var e=this.ha("Cathode"),k=this.ha("Emitter"),l=this.ha("Base"),n=this.ha("Collector"),q={Ra:"sense net"},r=a.ia.Cc(b,q,1E-16,1.5);a.ia.pj(l,k,n);a.ia.fH(q,e,l,k,.001,1/294);a.ia.qa(e,k,1E10);a.Na.Ka([this,function(a){var b=a.value();a="";var e=r.uc(b);.06<e&&(a+="Current through the led is "+d.Ia(e,"A")+", while maximum is "+d.Ia(.06,"A"));b=r.Yd(b);-6>b&&(a+="Reverse Voltage over the led is "+d.Ia(-b,"V")+", while maximum is "+
d.Ia(6,"V"));c.ua({ua:""!=a,reason:a})},[a.Na]])};extend(V.Model.Rl.da,V.Model.da);V.Model.Rl.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;this.Lb()};extend(V.Model.Rl.fa,V.Model.fa);V.Model.Rl.Model=function(a){this.va(a);this.ua=this.value("breakdown",!1,!1,!0)};extend(V.Model.Rl.Model,C);V.Model.op={};V.za.put("TMP36",V.Model.op);
V.Model.op.da=function(a,b,c){var d=this;d.ca=a;d.la=b;d.na=c;var e=this.ha("Vcc");b=this.ha("Gnd");var k=this.ha("Vout"),l=a.ia.qa(e,b,1E5),n=new V.ta(a,"TMP36 power",!1);a.ia.dc(n,e,b,function(a,b){return 2.7<a-b});var q=new V.ta(this.ca,"Temperatur signal",25),e=new V.Za(n,q,function(a,b){return a?.5+.01*b:0});this.ca.ia.Pd(k,b,e,1E5);d.na.position.ka("simulator",function(a,b,c){q.setValue(0,Math.round(-40+165*c))},10);d.na.position(65/165);a.Na.Ka([this,function(a){a=a.value();a=l.Yd(a);5.5<a?
(a=" Voltage at Vcc pin is "+d.Ia(a,"V")+", while maximum is "+d.Ia(5.5,"V")+".",c.ua({ua:!0,reason:a})):c.ua({ua:!1,reason:""})},[a.Na]])};extend(V.Model.op.da,V.Model.da);V.Model.op.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;this.Ob(".cgfx__hitarea-interaction","slider");this.Lb();c.position.ka("view",function(b,c,k){b=(Math.floor(-40+165*k)+"&#176;C").replace("-","- ");cGraphics.WS({view:a.group,control:a.Dd},{gD:k,vK:b})},10)};extend(V.Model.op.fa,V.Model.fa);
V.Model.op.Model=function(a,b){this.va(a);this.position=this.value("position",0,!1,!0);var c=b.wb().svg,d=$(".cgfx__hitarea-interaction.cgfx__bounds",c),e=parseFloat(d.attr("width")),k=parseFloat(d.attr("height")),c=new J(parseFloat(d.attr("x"))+k/2,parseFloat(d.attr("y"))),e=c.add(new J(e-k,0)),d=SvgHelpers.ug(d[0]);this.dm=c.bd(d);this.em=e.bd(d);this.ua=this.value("breakdown",!1,!1,!0)};extend(V.Model.op.Model,C);V.Model.Cr={};V.za.put("tiltSensor",V.Model.Cr);V.Model.Cr.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;b=this.ha("1");var d=this.ha("2");c=this.ha("3");var e=this.ha("4");a.ia.kd(b,d);a.ia.kd(c,e);var k=new V.ta(this.ca,"tilt Signal",!0),d=new V.Za(k,function(a){return a?10:1E10});a.ia.qa(b,c,d);this.na.position.ka("simulator",function(a,b,c){k.setValue(0,!(.75<c))},10)};extend(V.Model.Cr.da,V.Model.da);
V.Model.Cr.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;this.Ob(".cgfx__hitarea-interaction","slider");c.position.ka("view",function(b,c,k){cGraphics.XS({view:a.group,control:a.Dd},{hD:k})},10)};extend(V.Model.Cr.fa,V.Model.fa);
V.Model.Cr.Model=function(a,b){this.va(a);this.position=this.value("position",0,!1,!0);var c=b.wb().svg,d=$(".cgfx__hitarea-interaction.cgfx__bounds",c),e=parseFloat(d.attr("width")),k=parseFloat(d.attr("height")),c=new J(parseFloat(d.attr("x"))+k/2,parseFloat(d.attr("y"))),e=c.add(new J(e-k,0)),d=SvgHelpers.ug(d[0]);this.dm=c.bd(d);this.em=e.bd(d)};extend(V.Model.Cr.Model,C);V.Model.Xo={};V.za.put("potentiometer_10k",V.Model.Xo);V.Model.Xo.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;var d=this.ha("term1");a=this.ha("term3");var e=this.ha("wiper");b=b.getPropertyValue("Position")||0;var k=new V.ta(this.ca,"potentiometer position",b),l=new V.Za(k,function(a){return 1E4*a+.5});this.ca.ia.qa(d,e,l);d=new V.Za(k,function(a){return 1E4*(1-a)+.5});this.ca.ia.qa(a,e,d);c.position.ka("simulator",function(a,b,c){k.setValue(0,Math.round(50*(0>c?0:c))/50)},10);c.position(b)};
extend(V.Model.Xo.da,V.Model.da);V.Model.Xo.fa=function(a,b,c){var d=this;this.Da=a;this.la=b;this.na=c;this.Ob(".cgfx__hitarea-interaction","potentiometer");c.position.ka("view",function(b,c,l){b=!1;0>l?(l=0,b=!0):cGraphics.h3(a.group,{position:l});l=Math.round(50*l)/50;b||null===d.la.getPropertyValue("Position")||d.Da.aa.mode!=R||(d.la.root.Vb(),d.la.setProperty("Position",!1,l,""),d.la.root.Xb())},10);c.position(b.getPropertyValue("Position")||0)};extend(V.Model.Xo.fa,V.Model.fa);
V.Model.Xo.Model=function(a){this.va(a);this.position=this.value("position",-1,!1,!0);this.Pl=new J(0,0);this.Ol=90};extend(V.Model.Xo.Model,C);V.Model.hs={};V.za.put("dc_motor_arduino",V.Model.hs);
V.Model.hs.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;b=5.6675/(12E3/9.5493);var d=.08575/6*1E5,e=d/1E5*.095,e=(0*(.0245-e)+e)/(12E3/9.5493*1)*1E5,k=this.ha("1"),l=this.ha("2"),n={Ra:"Motor_arduino_net_between_sense-backEMF_"},q={Ra:"Motor_arduino_net_between_backEMF-Rs_"},r={Ra:"Motor_arduino_mechanical_net_between_sense-friction_"},t={Ra:"Motor_arduino_mechanical_net_between_friction-inertia_"};this.ca.ia.qa(l,q,3.5);this.ca.ia.Ri(r,k,q,n,1E-4,1E-4,b);this.ca.ia.Ri(n,k,t,k,.001,.001,d);var v=
this.ca.ia.qa(t,r,e);this.ca.Na.Ka([this,function(a){a=a.value();a=9.5493*v.uc(a);c.oh(a)},[a.Na]]);c.uh(!0)};extend(V.Model.hs.da,V.Model.da);
V.Model.hs.fa=function(a,b,c,d){this.Da=a;this.la=b;this.na=c;c.Xd=0;c.uh.ka("view",function(b,d,l){l?c.qj=setInterval(function(){var b=c.oh();c.Xd=(c.Xd+b/60*50/1E3*360)%360;cGraphics.bl(a.group,{rotation:c.Xd,GC:Math.round(b)+" rpm"})},50):clearInterval(c.qj)},10);d.xd.ka(this,function(b,c,d){cGraphics.bl(a.group,{La:d==V.Uc.IDLE})});cGraphics.bl(a.group,{La:!0})};V.Model.hs.Model=function(a){this.va(a);this.oh=this.value("speed",0,!1,!0);this.uh=this.value("Enable animation",!1,!1,!0)};
extend(V.Model.hs.Model,C);V.Model.np={};V.za.put("servo_SMS2309S",V.Model.np);
V.Model.np.da=function(a,b,c){function d(){if(t.value()){var a=e.ca.time.time;v.yc()&&(x=a);v.mc()&&(a-=x,.0025<a&&(a=.0025),5E-4>a&&(a=5E-4),a=.5*((a-5E-4)/.002*180-B),3<a&&(a=3),-3>a&&(a=-3),B+=a,.1<Math.abs(a)&&(n.setValue(0,!0),n.setValue(.025,!1)))}}var e=this;e.ca=a;e.la=b;e.na=c;b=this.ha("Ground");var k=this.ha("Power"),l=this.ha("Signal"),n=new V.ta(this.ca,"switchSignal",!1),q=new V.Za(n,function(a){return a?51:1470}),r=this.ca.ia.qa(k,b,q);this.ca.ia.qa(l,b,1E6);var t=new V.ta(a,"servo logic power",
!1);a.ia.dc(t,k,b,function(a,b){return 4.5<a-b});var v=new V.ta(e.ca,"signal",0);e.ca.ia.dc(v,l,b,function(a,b){return 2.5<a-b});var x=0,B=0;v.Ka([null,d]);t.Ka([null,d]);this.ca.Na.Ka([this,function(a){a=a.value();c.position(B);a=r.Yd(a);5.5<a?c.ua({ua:!0,reason:"Voltage at the power pins is "+e.Ia(a,"V")+", while maximum is "+e.Ia(5.5,"V")}):c.ua({ua:!1,reason:""})},[a.Na]])};extend(V.Model.np.da,V.Model.da);
V.Model.np.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;this.Lb();c.position.ka("view",function(b,c,k){cGraphics.f3(a.group,{rotation:k})},10)};extend(V.Model.np.fa,V.Model.fa);V.Model.np.Model=function(a){this.va(a);this.ua=this.value("breakdown",!1,!1,!0);this.position=this.value("position",0,!1,!0)};extend(V.Model.np.Model,C);V.Model.ks={};V.za.put("nmos_irf520",V.Model.ks);V.Model.ks.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;a=this.ha("gate");b=this.ha("source");c=this.ha("drain");this.ca.ia.Vv(a,b,c,2,1.05)};extend(V.Model.ks.da,V.Model.da);V.Model.ks.fa=function(){};V.Model.ks.Model=function(a){this.va(a)};extend(V.Model.ks.Model,C);V.Model.hp={};V.za.put("resistor_220",V.Model.hp);V.Model.hp.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;b=this.ha("1");c=this.ha("2");a.ia.qa(b,c,220)};extend(V.Model.hp.da,V.Model.da);V.Model.hp.fa=function(){};extend(V.Model.hp.fa,V.Model.fa);V.Model.hp.Model=function(a){this.va(a)};extend(V.Model.hp.Model,C);V.Model.jp={};V.za.put("resistor_560",V.Model.jp);V.Model.jp.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;b=this.ha("1");c=this.ha("2");a.ia.qa(b,c,560)};extend(V.Model.jp.da,V.Model.da);V.Model.jp.fa=function(){};extend(V.Model.jp.fa,V.Model.fa);V.Model.jp.Model=function(a){this.va(a)};extend(V.Model.jp.Model,C);V.Model.gp={};V.za.put("resistor_1k",V.Model.gp);V.Model.gp.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;b=this.ha("1");c=this.ha("2");a.ia.qa(b,c,1E3)};extend(V.Model.gp.da,V.Model.da);V.Model.gp.fa=function(){};extend(V.Model.gp.fa,V.Model.fa);V.Model.gp.Model=function(a){this.va(a)};extend(V.Model.gp.Model,C);V.Model.ip={};V.za.put("resistor_4k7",V.Model.ip);V.Model.ip.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;b=this.ha("1");c=this.ha("2");a.ia.qa(b,c,4700)};extend(V.Model.ip.da,V.Model.da);V.Model.ip.fa=function(){};extend(V.Model.ip.fa,V.Model.fa);V.Model.ip.Model=function(a){this.va(a)};extend(V.Model.ip.Model,C);V.Model.ep={};V.za.put("resistor_10k",V.Model.ep);V.Model.ep.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;b=this.ha("1");c=this.ha("2");a.ia.qa(b,c,1E4)};extend(V.Model.ep.da,V.Model.da);V.Model.ep.fa=function(){};extend(V.Model.ep.fa,V.Model.fa);V.Model.ep.Model=function(a){this.va(a)};extend(V.Model.ep.Model,C);V.Model.fp={};V.za.put("resistor_1M",V.Model.fp);V.Model.fp.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;b=this.ha("1");c=this.ha("2");a.ia.qa(b,c,1E6)};extend(V.Model.fp.da,V.Model.da);V.Model.fp.fa=function(){};extend(V.Model.fp.fa,V.Model.fa);V.Model.fp.Model=function(a){this.va(a)};extend(V.Model.fp.Model,C);V.Model.dp={};V.za.put("resistor_10M",V.Model.dp);V.Model.dp.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;b=this.ha("1");c=this.ha("2");a.ia.qa(b,c,1E7)};extend(V.Model.dp.da,V.Model.da);V.Model.dp.fa=function(){};extend(V.Model.dp.fa,V.Model.fa);V.Model.dp.Model=function(a){this.va(a)};extend(V.Model.dp.Model,C);V.Model.Vr={};V.za.put("capacitor_100p",V.Model.Vr);V.Model.Vr.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;b=this.ha("1");c=this.ha("2");var d={};a.ia.ul(b,d,1E-10);a.ia.qa(d,c,.01)};extend(V.Model.Vr.da,V.Model.da);V.Model.Vr.fa=function(){};V.Model.Vr.Model=function(a){this.va(a);this.ua=this.value("breakdown",!1,!1,!0)};extend(V.Model.Vr.Model,C);V.Model.Ur={};V.za.put("capacitor_100n",V.Model.Ur);V.Model.Ur.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;b=this.ha("1");c=this.ha("2");var d={};a.ia.ul(b,d,1E-7);a.ia.qa(d,c,.01)};extend(V.Model.Ur.da,V.Model.da);V.Model.Ur.fa=function(){};V.Model.Ur.Model=function(a){this.va(a);this.ua=this.value("breakdown",!1,!1,!0)};extend(V.Model.Ur.Model,C);V.Model.fo={};V.za.put("capacitor_100u",V.Model.fo);V.Model.fo.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;b=this.ha("+");var d=this.ha("-"),e={},k=a.ia.ul(b,e,1E-4);a.ia.qa(e,d,.01);a.Na.Ka([this,function(a){a=a.value();a=k.Yd(a);25<a?(a="Capacitor picked up "+this.Ia(a,"V")+", while maximum voltage rating is "+this.Ia(25,"V"),c.ua({ua:!0,reason:a})):0>a?(a="Capacitor is inversely polarized with "+this.Ia(a,"V"),c.ua({ua:!0,reason:a})):c.ua({ua:!1,reason:""})},[a.Na]])};
extend(V.Model.fo.da,V.Model.da);V.Model.fo.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;this.Lb()};extend(V.Model.fo.fa,V.Model.fa);V.Model.fo.Model=function(a){this.va(a);this.ua=this.value("breakdown",!1,!1,!0)};extend(V.Model.fo.Model,C);V.Model.Oo={};V.za.put("led_red",V.Model.Oo);V.Model.Oo.da=function(a,b,c){var d=this;d.ca=a;d.la=b;d.na=c;b=this.ha("A");var e=this.ha("C"),k={name:"inner net"},l=a.ia.Cc(b,k,1E-19,1.8);a.ia.qa(k,e,11);a.Na.Ka([this,function(a){a=a.value();a=l.uc(a);.025>=a?(c.cb(a/.025),c.ua({ua:!1,reason:""})):(a="Current through the led is "+d.Ia(a,"A")+", while maximum is "+d.Ia(.025,"A"),c.cb(1),c.ua({ua:!0,reason:a}))},[a.Na]])};extend(V.Model.Oo.da,V.Model.da);
V.Model.Oo.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;this.Lb();c.cb.ka("view",function(b,c,k){cGraphics.b3(a.group,{cb:Math.pow(k,1/3)})},10)};extend(V.Model.Oo.fa,V.Model.fa);V.Model.Oo.Model=function(a){this.va(a);this.ua=this.value("breakdown",!1,!1,!0);this.cb=this.value("brightness",0,!1,!0)};extend(V.Model.Oo.Model,C);V.Model.No={};V.za.put("led_green",V.Model.No);V.Model.No.da=function(a,b,c){var d=this;d.ca=a;d.la=b;d.na=c;b=this.ha("A");var e=this.ha("C"),k={name:"inner net"},l=a.ia.Cc(b,k,1E-20,1.9);a.ia.qa(k,e,9);a.Na.Ka([this,function(a){a=a.value();a=l.uc(a);.025>=a?(c.cb(a/.025),c.ua({ua:!1,reason:""})):(a="Current through the led is "+d.Ia(a,"A")+", while maximum is "+d.Ia(.025,"A"),c.cb(1),c.ua({ua:!0,reason:a}))},[a.Na]])};extend(V.Model.No.da,V.Model.da);
V.Model.No.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;this.Lb();c.cb.ka("view",function(b,c,k){cGraphics.a3(a.group,{cb:Math.pow(k,1/3)})},10)};extend(V.Model.No.fa,V.Model.fa);V.Model.No.Model=function(a){this.va(a);this.ua=this.value("breakdown",!1,!1,!0);this.cb=this.value("brightness",0,!1,!0)};extend(V.Model.No.Model,C);V.Model.Mo={};V.za.put("led_blue",V.Model.Mo);V.Model.Mo.da=function(a,b,c){var d=this;d.ca=a;d.la=b;d.na=c;b=this.ha("A");var e=this.ha("C"),k={name:"inner net"},l=a.ia.Cc(b,k,1E-23,2.3);a.ia.qa(k,e,7);a.Na.Ka([this,function(a){a=a.value();a=l.uc(a);.025>=a?(c.cb(a/.025),c.ua({ua:!1,reason:""})):(a="Current through the led is "+d.Ia(a,"A")+", while maximum is "+d.Ia(.025,"A"),c.cb(1),c.ua({ua:!0,reason:a}))},[a.Na]])};extend(V.Model.Mo.da,V.Model.da);
V.Model.Mo.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;this.Lb();c.cb.ka("view",function(b,c,k){b=Math.pow(1.7*k,1/3);1<b&&(b=1);cGraphics.Z2(a.group,{cb:b})},10)};extend(V.Model.Mo.fa,V.Model.fa);V.Model.Mo.Model=function(a){this.va(a);this.ua=this.value("breakdown",!1,!1,!0);this.cb=this.value("brightness",0,!1,!0)};extend(V.Model.Mo.Model,C);V.Model.Qo={};V.za.put("led_yellow",V.Model.Qo);V.Model.Qo.da=function(a,b,c){var d=this;d.ca=a;d.la=b;d.na=c;b=this.ha("A");var e=this.ha("C"),k={name:"inner net"},l=a.ia.Cc(b,k,1E-19,1.9);a.ia.qa(k,e,9);a.Na.Ka([this,function(a){a=a.value();a=l.uc(a);.025>=a?(c.cb(a/.025),c.ua({ua:!1,reason:""})):(a="Current through the led is "+d.Ia(a,"A")+", while maximum is "+d.Ia(.025,"A"),c.cb(1),c.ua({ua:!0,reason:a}))},[a.Na]])};extend(V.Model.Qo.da,V.Model.da);
V.Model.Qo.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;this.Lb();c.cb.ka("view",function(b,c,k){cGraphics.c3(a.group,{cb:Math.pow(k,1/3)})},10)};extend(V.Model.Qo.fa,V.Model.fa);V.Model.Qo.Model=function(a){this.va(a);this.ua=this.value("breakdown",!1,!1,!0);this.cb=this.value("brightness",0,!1,!0)};extend(V.Model.Qo.Model,C);V.Model.Po={};V.za.put("led_white",V.Model.Po);V.Model.Po.da=function(a,b,c){var d=this;d.ca=a;d.la=b;d.na=c;b=this.ha("A");var e=this.ha("C"),k={name:"inner net"},l=a.ia.Cc(b,k,1E-24,2.5);a.ia.qa(k,e,11);a.Na.Ka([this,function(a){a=a.value();a=l.uc(a);.025>=a?(c.cb(a/.025),c.ua({ua:!1,reason:""})):(a="Current through the led is "+d.Ia(a,"A")+", while maximum is "+d.Ia(.025,"A"),c.cb(1),c.ua({ua:!0,reason:a}))},[a.Na]])};extend(V.Model.Po.da,V.Model.da);
V.Model.Po.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;this.Lb();c.cb.ka("view",function(b,c,k){b=Math.pow(1.5*k,1/3);1<b&&(b=1);cGraphics.cT(a.group,{cb:b})},10);cGraphics.cT(a.group,{cb:c.cb()})};extend(V.Model.Po.fa,V.Model.fa);V.Model.Po.Model=function(a){this.va(a);this.ua=this.value("breakdown",!1,!1,!0);this.cb=this.value("brightness",0,!1,!0)};extend(V.Model.Po.Model,C);V.Model.kl={};V.za.put("ledRGB2",V.Model.kl);V.Model.kl.cu=[{name:"Red",sb:"R",fk:1E-19,Nq:1.8,WF:11,dI:1},{name:"Green",sb:"G",fk:1E-20,Nq:1.9,WF:9,dI:1},{name:"Blue",sb:"B",fk:1E-23,Nq:2.3,WF:7,dI:1.9}];
V.Model.kl.da=function(a,b,c){var d=this;d.ca=a;d.la=b;d.na=c;var e=new w,k=this.ha("C");V.Model.kl.cu.forEach(function(b){var c=d.ha(b.sb),q={Ra:"RGB anode Net - "+b.name};a.ia.qa(c,q,b.WF);c=a.ia.Cc(q,k,b.fk,b.Nq);e.put(b,c)});this.ca.Na.Ka([this,function(a){var b=a.value(),k=!1,r="RGB Led broke because of: ",t=[];e.forEach(function(a,c){var e=c.uc(b);t.push(e*a.dI/.025);.025<e&&(k=!0,r+=" current through Led "+a.name+" is "+d.Ia(e,"A")+", while maximum current is "+d.Ia(.025,"A")+".")});c.ua({ua:k,
reason:r});c.cb(t)},[a.Na]])};extend(V.Model.kl.da,V.Model.da);V.Model.kl.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;this.Lb();c.cb.ka("view",function(b,c,k){b=[];for(var l in k)c=.001>k[l]?0:1<k[l]?1:k[l],c=Math.round(100*Math.pow(c,1/3))/100,b.push(c);cGraphics.Lu(a.group,{pd:b})},10);cGraphics.Lu(a.group,{pd:c.cb()});this.Lb()};extend(V.Model.kl.fa,V.Model.fa);V.Model.kl.Model=function(a){this.va(a);this.ua=this.value("breakdown",!1,!1,!0);this.cb=this.value("brightness",[0,0,0],!1,!0)};
extend(V.Model.kl.Model,C);V.Model.gs={};V.za.put("dc_motor_dfrobot",V.Model.gs);
V.Model.gs.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;a=4.807/(4380/9.5493);b=.0245*.0386;b=(0*(.0245-b)+b)/(4380/9.5493*1)*1E5;var d=this.ha("1"),e=this.ha("2"),k={Ra:"MotorDFRobot_net_between_sense-backEMF_"},l={Ra:"MotorDFRobot_net_between_backEMF-Rs_"},n={Ra:"MotorDFRobot_mechanical_net_between_sense-friction_"},q={Ra:"MotorDFRobot_mechanical_net_between_friction-inertia_"};this.ca.ia.qa(e,l,5);this.ca.ia.Ri(n,d,l,k,1E-4,1E-4,a);this.ca.ia.Ri(k,d,q,d,.001,.001,2450);var r=this.ca.ia.qa(q,
n,b);this.ca.Na.Ka([this,function(){var a=9.5493*r.uc();c.oh(a)}]);c.uh(!0)};extend(V.Model.gs.da,V.Model.da);V.Model.gs.fa=function(a,b,c,d){this.Da=a;this.la=b;this.na=c;c.Xd=0;c.uh.ka("view",function(b,d,l){l?c.qj=setInterval(function(){var b=c.oh();c.Xd=(c.Xd+b/60*50/1E3*360)%360;cGraphics.bl(a.group,{rotation:c.Xd,GC:Math.round(b)+" rpm"})},50):clearInterval(c.qj)},10);d.xd.ka(this,function(b,c,d){cGraphics.bl(a.group,{La:d==V.Uc.IDLE})});cGraphics.bl(a.group,{La:!0})};
V.Model.gs.Model=function(a){this.va(a);this.oh=this.value("speed",0,!1,!0);this.uh=this.value("Enable animation",!1,!1,!0)};extend(V.Model.gs.Model,C);V.Model.Ho={};V.za.put("IRsensor",V.Model.Ho);
V.Model.Ho.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;var d=this.ha("Vcc");b=this.ha("Gnd");var e=this.ha("Out"),k=a.ia.qa(d,b,3300);a.ia.qa(d,e,25E3);d=new V.Za(a.lB.rM,function(a){return a?250:1E8});a.ia.qa(e,b,d);a.Na.Ka([this,function(a){a=a.value();a=k.Yd(a);6<a?(a="Voltage is "+this.Ia(a,"V")+", while maximum voltage is "+this.Ia(6,"V"),c.ua({ua:!0,reason:a})):-.3>a?(a="Voltage is "+this.Ia(a,"V")+", while minimum voltage is "+this.Ia(-.3,"V"),c.ua({ua:!0,reason:a})):c.ua({ua:!1,reason:""})},
[a.Na]])};extend(V.Model.Ho.da,V.Model.da);V.Model.Ho.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;this.Lb()};extend(V.Model.Ho.fa,V.Model.fa);V.Model.Ho.Model=function(a){this.va(a);this.ua=this.value("breakdown",!1,!1,!0)};extend(V.Model.Ho.Model,C);V.Model.Gi={};V.za.put("IRremote",V.Model.Gi);
V.Model.Gi.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;var d=a.lB.rM,e=new V.ta(this.ca,"IR send repeat signal",!1);e.Ka([null,function(){if(e.value()){var a=0;d.setValue(0,1);d.setValue(a+=.009,0);d.setValue(a+=.00225,1);d.setValue(a+5.6E-4,0);e.setValue(.11,!0)}}]);c.button.ka("simulator",function(a,b,c){if(null!=c){a=0;switch(c){case "standby":a=0;break;case "volplus":a=1;break;case "funcstop":a=2;break;case "rewind":a=4;break;case "playpauze":a=5;break;case "forward":a=6;break;case "down":a=
8;break;case "volmin":a=9;break;case "up":a=10;break;case "eq":a=13;break;case "strept":a=14;break;case "num0":a=12;break;case "num1":a=16;break;case "num2":a=17;break;case "num3":a=18;break;case "num4":a=20;break;case "num5":a=21;break;case "num6":a=22;break;case "num7":a=24;break;case "num8":a=25;break;case "num9":a=26}c=[];for(b=0;16>b;b++)c.push(48896>>b&1);for(b=0;8>b;b++)c.push(a>>b&1);for(b=0;8>b;b++)c.push(a>>b&1?0:1);a=0;d.setValue(a,1);d.setValue(a+=.009,0);d.setValue(a+=.0045,1);for(b=
0;b<c.length;b++)d.setValue(a+=5.6E-4,0),d.setValue(a+=c[b]?.00169:5.6E-4,1);d.setValue(a+5.6E-4,0);e.setValue(.11,!0)}else e.setValue(0,!1)},10)};extend(V.Model.Gi.da,V.Model.da);V.Model.Gi.fa=function(a,b,c){var d=this;this.Da=a;this.la=b;this.na=c;$(".cgfx__hitarea-interaction",d.Da.group).each(function(){var a=$(this).attr("class").match(/cgfx__btn_(\w*)/);a&&d.Ob(".cgfx__hitarea-interaction."+a[0],"IRremote",a[1])})};extend(V.Model.Gi.fa,V.Model.fa);
V.Model.Gi.Db=function(a,b,c){D.call(this);var d=null;F(this,"idle","buttonPressed",function(a){return a.type()===H.Mg&&a.data("statemachine")==c},function(a){d=a.element().na;d.button(a.data("subelement"))});F(this,"buttonPressed","idle",function(a){return a.type()===H.He},function(){d.button(null)})};V.Model.Gi.Db.prototype=inherit(D.prototype);V.Model.Gi.Db.prototype.constructor=V.Model.Gi.Db;V.Cg.put("IRremote",V.Model.Gi.Db);
V.Model.Gi.Model=function(a){this.va(a);this.button=this.value("button",null,!1,!0)};extend(V.Model.Gi.Model,C);V.Model.Jo={};V.za.put("LM35",V.Model.Jo);
V.Model.Jo.da=function(a,b,c){var d=this;d.ca=a;d.la=b;d.na=c;var e=0,k=this.ha("Vcc");b=this.ha("Gnd");var l=this.ha("Vout");d.J8=k;d.UZ=b;d.v3=l;d.YC=new V.ta(this.ca,"Startup signal",!0);d.VR=function(){if(d.YC.value()&&d.ca.hd.ue){var a=d.ca.hd.ue(d.ca.time.time,d.v3,d.UZ);a<e&&(e=a)}};var n=a.ia.qa(k,b,83300),q=new V.ta(a,"LM35 power",!1);a.ia.dc(q,k,b,function(a,b){d.VR();return 4<a-b});var r=new V.ta(this.ca,"Temperatur signal",25),k=new V.Za(q,r,function(a,b){d.VR();var c=a?0+.01*b:0;return c<
e?e:c}),q=new V.Za(d.YC,function(a){return a?1E8:.1});this.ca.ia.Pd(l,b,k,q);d.na.position.ka("simulator",function(a,b,c){r.setValue(0,Math.round(-55+205*c))},10);d.na.position(80/205);a.Na.Ka([this,function(a){a=a.value();a=n.Yd(a);30<a?(a=" Voltage at Vcc pin is "+d.Ia(a,"V")+", while maximum is "+d.Ia(30,"V")+".",c.ua({ua:!0,reason:a})):c.ua({ua:!1,reason:""});d.YC.value()&&d.YC.setValue(0,!1)},[a.Na]])};extend(V.Model.Jo.da,V.Model.da);
V.Model.Jo.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;this.Ob(".cgfx__hitarea-interaction","slider");this.Lb();c.position.ka("view",function(b,c,k){b=(Math.floor(-55+205*k)+"&#176;C").replace("-","- ");cGraphics.WS({view:a.group,control:a.Dd},{gD:k,vK:b})},10)};extend(V.Model.Jo.fa,V.Model.fa);
V.Model.Jo.Model=function(a,b){this.va(a);this.position=this.value("position",0,!1,!0);var c=b.wb().svg,d=$(".cgfx__hitarea-interaction.cgfx__bounds",c),e=parseFloat(d.attr("width")),k=parseFloat(d.attr("height")),c=new J(parseFloat(d.attr("x"))+k/2,parseFloat(d.attr("y"))),e=c.add(new J(e-k,0)),d=SvgHelpers.ug(d[0]);this.dm=c.bd(d);this.em=e.bd(d);this.ua=this.value("breakdown",!1,!1,!0)};extend(V.Model.Jo.Model,C);V.Model.Vo={};V.za.put("phototransistor",V.Model.Vo);V.Model.Vo.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;b=this.ha("emitter");var d=this.ha("collector"),e={Ra:"base"},k=new V.ta(this.ca,"phototransistor lux signal",0),l=new V.Za(k,function(a){return 7.85E-6*a});a.ia.Kp(e,b,l);this.ca.ia.pj(e,b,d);c.position.ka("simulator",function(a,b,c){k.setValue(0,Math.round(50*c)/50)},10)};extend(V.Model.Vo.da,V.Model.da);
V.Model.Vo.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;this.Ob(".cgfx__hitarea-interaction","slider");c.position.ka("view",function(b,c,k){cGraphics.GS({view:a.group,control:a.Dd},{Wg:k})},10)};extend(V.Model.Vo.fa,V.Model.fa);
V.Model.Vo.Model=function(a,b){this.va(a);this.position=this.value("position",0,!1,!0);var c=b.wb().svg,d=$(".cgfx__hitarea-interaction.cgfx__bounds",c),e=parseFloat(d.attr("width")),k=parseFloat(d.attr("height")),c=new J(parseFloat(d.attr("x"))+k/2,parseFloat(d.attr("y"))),e=c.add(new J(e-k,0)),d=SvgHelpers.ug(d[0]);this.dm=c.bd(d);this.em=e.bd(d)};extend(V.Model.Vo.Model,C);V.Model.Yo={};V.za.put("potentiometer_dfrobot_10k",V.Model.Yo);V.Model.Yo.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;var d=this.ha("term1");a=this.ha("term3");var e=this.ha("wiper");b=b.getPropertyValue("Position")||0;var k=new V.ta(this.ca,"potentiometer position",b),l=new V.Za(k,function(a){return 1E4*a+.5});this.ca.ia.qa(d,e,l);d=new V.Za(k,function(a){return 1E4*(1-a)+.5});this.ca.ia.qa(a,e,d);c.position.ka("simulator",function(a,b,c){k.setValue(0,Math.round(50*(0>c?0:c))/50)},10);c.position(b)};
extend(V.Model.Yo.da,V.Model.da);V.Model.Yo.fa=function(a,b,c){var d=this;this.Da=a;this.la=b;this.na=c;this.Ob(".cgfx__hitarea-interaction","potentiometer");c.position.ka("view",function(b,c,l){b=!1;0>l?(l=0,b=!0):cGraphics.i3(a.group,{position:l});l=Math.round(50*l)/50;b||null===d.la.getPropertyValue("Position")||d.Da.aa.mode!=R||(d.la.root.Vb(),d.la.setProperty("Position",!1,l,""),d.la.root.Xb())},10);c.position(b.getPropertyValue("Position")||0)};extend(V.Model.Yo.fa,V.Model.fa);
V.Model.Yo.Model=function(a){this.va(a);this.position=this.value("position",-1,!1,!0);this.Pl=new J(0,0);this.Ol=90};extend(V.Model.Yo.Model,C);V.Model.Oi={};V.za.put("protoShieldDFRobot",V.Model.Oi);
V.Model.Oi.da=function(a,b,c){this.ca=a;this.la=b;this.na=c;b=this.ha("1");for(var d=this.ha("2"),e=this.ha("3"),k=this.ha("gnd01"),l=2;36>=l;++l){var n=this.ha("gnd"+(10>l?"0"+l:l));null!==n&&this.ca.ia.kd(k,n)}var l=this.ha("reset1"),n=this.ha("reset2"),q=this.ha("reset3");this.ca.ia.kd(l,n);this.ca.ia.kd(l,q);n={Ra:"led1_inner_net_"};q={Ra:"led2_inner_net_"};a.ia.qa(d,n,1E3);var r=a.ia.Cc(n,k,1E-18,1.8);a.ia.qa(e,q,1E3);var t=a.ia.Cc(q,k,1E-18,1.8),v=new V.ta(this.ca,"reset_switch",!1),d=new V.Za(v,
function(a){return a?1E-6:1E10});this.ca.ia.qa(l,k,d);var x=new V.ta(this.ca,"sw1_switch",!1),d=new V.Za(x,function(a){return a?1E-6:1E10});this.ca.ia.qa(b,k,d);c.EC.ka("simulator",function(a,b,c){v.setValue(0,c)},10);c.aD.ka("simulator",function(a,b,c){x.setValue(0,c)},10);this.ca.Na.Ka([this,function(a){a=a.value();var b=r.uc(a);c.gn(.005<=b?1:b/.005);a=t.uc(a);c.hn(.005<=a?1:a/.005)},[a.Na]])};extend(V.Model.Oi.da,V.Model.da);
V.Model.Oi.fa=function(a,b,c){var d=this;this.Da=a;this.la=b;this.na=c;this.Ob(".cgfx__hitarea-interaction.cgfx__resetbutton","protoShieldDFRobot","resetPushed");this.Ob(".cgfx__hitarea-interaction.cgfx__s1button","protoShieldDFRobot","sw1Pushed");cGraphics.Hy(a.group,d);c.gn.ka("view",function(){cGraphics.Hy(a.group,{gn:d.na.gn()})},10);c.hn.ka("view",function(){cGraphics.Hy(a.group,{hn:d.na.hn()})},10);c.EC.ka("view",function(){cGraphics.Hy(a.group,{Zl:d.na.EC()})},10);c.aD.ka("view",function(){cGraphics.Hy(a.group,
{uR:d.na.aD()})},10)};extend(V.Model.Oi.fa,V.Model.fa);V.Model.Oi.Db=function(a,b,c){D.call(this);var d=null;F(this,"idle","buttonPressed",function(a){return a.type()===H.Mg&&a.data("statemachine")==c},function(a){var b=a.element().na;switch(a.data("subelement")){case "resetPushed":d=b.EC;d(!0);break;case "sw1Pushed":d=b.aD,d(!0)}});F(this,"buttonPressed","idle",function(a){return a.type()===H.He},function(){d&&d(!1)})};V.Model.Oi.Db.prototype=inherit(D.prototype);
V.Model.Oi.Db.prototype.constructor=V.Model.Oi.Db;V.Cg.put("protoShieldDFRobot",V.Model.Oi.Db);V.Model.Oi.Model=function(a){this.va(a);this.EC=this.value("resetPushed",!1,!1,!0);this.aD=this.value("sw1Pushed",!1,!1,!0);this.gn=this.value("led1Brightness",0,!1,!0);this.hn=this.value("led2Brightness",0,!1,!0)};extend(V.Model.Oi.Model,C);V.Model.mp={};V.za.put("servo_SG90",V.Model.mp);
V.Model.mp.da=function(a,b,c){function d(){if(t.value()){var a=e.ca.time.time;v.yc()&&(x=a);v.mc()&&(a-=x,.0025<a&&(a=.0025),5E-4>a&&(a=5E-4),a=.5*(-(a-5E-4)/.002*180-B),3<a&&(a=3),-3>a&&(a=-3),B+=a,.1<Math.abs(a)&&(n.setValue(0,!0),n.setValue(.025,!1)))}}var e=this;e.ca=a;e.la=b;e.na=c;b=this.ha("Ground");var k=this.ha("Power"),l=this.ha("Signal"),n=new V.ta(this.ca,"switchSignal",!1),q=new V.Za(n,function(a){return a?51:1470}),r=this.ca.ia.qa(k,b,q);this.ca.ia.qa(l,b,1E6);var t=new V.ta(a,"servo logic power",
!1);a.ia.dc(t,k,b,function(a,b){return 4.5<a-b});var v=new V.ta(e.ca,"signal",0);e.ca.ia.dc(v,l,b,function(a,b){return 2.5<a-b});var x=0,B=0;v.Ka([null,d]);t.Ka([null,d]);this.ca.Na.Ka([this,function(a){a=a.value();c.position(B);a=r.Yd(a);5.5<a?c.ua({ua:!0,reason:"Voltage at the power pins is "+e.Ia(a,"V")+", while maximum is "+e.Ia(5.5,"V")}):c.ua({ua:!1,reason:""})},[a.Na]])};extend(V.Model.mp.da,V.Model.da);
V.Model.mp.fa=function(a,b,c){this.Da=a;this.la=b;this.na=c;this.Lb();c.position.ka("view",function(b,c,k){cGraphics.e3(a.group,{rotation:k})},10)};extend(V.Model.mp.fa,V.Model.fa);V.Model.mp.Model=function(a){this.va(a);this.ua=this.value("breakdown",!1,!1,!0);this.position=this.value("position",0,!1,!0)};extend(V.Model.mp.Model,C);V.lV=function(a){return[3,2,1,0].map(function(b){return a>>>8*b&255}).join(".")};V.kv=function(a){return a.split(".").reduce(function(a,c,d){return a|c<<8*(3-d)},0)>>>0};V.$G=function(a,b,c,d,e,k,l,n,q,r){this.lv=a;this.kG=b;this.B0=c||"";this.AR=d;this.channel=e;this.qV=V.kv(k);this.$R=V.kv(l);this.LL=V.kv(n);this.zT=V.kv(q);this.Oq=this.LL;this.jz=new w;this.wt=new w;this.BP=r};
V.$G.prototype.Xa=function(a,b){if(this.wt.contains(a))return null;void 0==b&&(b="");if(b!=this.B0)return null;var c;a:{c=this.Oq;do{var d=null;this.jz.contains(this.Oq)||(d=this.Oq);this.Oq++;this.Oq>this.zT&&(this.Oq=this.LL);if(d){c=d;break a}}while(this.Oq==c);c=null}if(null==c)return null;this.jz.put(c,a);this.wt.put(a,{lv:a,kV:c});return c};V.$G.prototype.disconnect=function(a){if(a=this.wt.get(a))this.jz.remove(a.kV),this.wt.remove(a.lv),a.jO&&a.jO()};
function Hm(a,b,c){if(a=a.wt.get(b))a.jO=c};V.Jv=function(a){this.qk=!1;this.tL=a;this.RH=this.LO=this.Bw=this.port=this.host=this.Sq=null};function Im(a,b){a.Bw=b}function Km(a,b,c){if(!a.qk&&a.tL){var d;d=a.tL;var e=isNaN(b)&&/\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}/.test(b)?V.kv(b):b;d=!isNaN(e)&&e&d.$R==(d.qV&d.$R)?(e=(e=d.jz.get(e))&&d.wt.get(e))&&e.GI?e.GI(d,0,b,c):null:d.BP?d.BP.GI(d,0,b,c):null;if(d)return a.Sq=d,a.qk=!0,a.Bw&&a.Bw(),d.Sq=a,d.qk=!0,d.Bw&&d.Bw(),a.host=b,a.port=c,!0}return!1}
V.Jv.prototype.close=function(){this.qk&&(this.qk=!1,this.LO&&this.LO(),this.Sq&&this.Sq.close())};function Jm(a,b){a.RH=b}V.Jv.prototype.Nb=function(a){this.qk&&this.Sq&&this.Sq.RH&&this.Sq.RH(a)};V.tM=function(a){this.proxy=a||""};
V.tM.prototype.GI=function(a,b,c,d){var e=this,k=new V.Jv(a);Jm(k,function(a){var b=a.split("\r\n"),q=b[0].match(/(\w+) (.+) HTTP\/(?:1\.1|1\.0)/);if(q){a=q[1];for(var q=e.proxy+c+(80!=d?":"+d:"")+q[2],r={},t="text/plain",v=["Host","Content-Length"],x=1;x<b.length&&""!=b[x];x++){var B=b[x].split(": ");-1==v.indexOf(B[0])&&(r[B[0]]=B[1]);"Content-Type"==B[0]&&(t=B[1])}b=b.slice(x+1).join("\r\n");$.ajax({type:a,url:q,contentType:t,headers:r,data:b,dataType:"text",complete:function(a){var b="HTTP/1.1 "+
a.status+" "+a.statusText+"\r\n",c="Date Server Allow Location Last-Modified ETag Accept-Ranges Content-Length Connection Content-Type".split(" "),d;for(d in c){var e=a.getResponseHeader(c[d]);e&&(b+=c[d]+": "+e+"\r\n")}b=b+"\r\n"+a.responseText;k.Nb(b)}})}});return k};var Ri="<div class='tutorial spwdgt'>\t<div class='tutorial__loading js-tutorial--loading'></div>\t<div id='js-tutorial-sidebar'>\t\t<sxs-viewer <%= lesson_parameters_string %> on-lesson-ready=\"gotLesson\" on-step-change=\"stepChanged\"></sxs-viewer>\t</div></div>",Mi="<div class='chat js-chat hide'>    <div class='chat__top clearfix draggable js-chat-draggable'>        <div class='chat__top__title float'>Chat</div>        <div class='chat__top__settings right'><a href=\"#settings\"><%= embedded_svg(\"icon-settings.svg\") %></a></div>    </div>    <div class='chat__body'>        <div class='chat__content js-chat__content'></div>        <form class='chat__form js-chat__form'>            <input type='text' class='chat__input js-chat__input' placeholder='Send a message'>        </form>    </div></div>",
Si="<div class='tutorial spwdgt'>\t<div class='tutorial__loading js-tutorial--loading'></div>\t<div id='js-tutorial-sidebar'>\t\t<sxs-viewer <%= lesson_parameters_string %> on-lesson-ready=\"gotLesson\" on-step-change=\"stepChanged\"></sxs-viewer>\t</div></div>",xi="\x3c!-- ERROR --\x3e<div class='circuits_error js-error-message hide'>\t<div class='circuits_error__top clearfix'>\t\t<div class='left'><div class='circuits_error__title js-error-message__title'>Sorry, something went wrong</div></div>\t\t<div class='right'><a class='icon__close_error js-close-error'><%= embedded_svg(\"icon-close.svg\") %></a></div>\t</div>\t<div class='circuits_error__body js-error-message__body'>We have encountered a serious error, very sorry about that, our engineers have been notified, try to refresh the page to see if that solves the problem.</div></div>",
wi="\x3c!-- DIALOGUE --\x3e<div class='circuits_dialogue js-circuits-dialogue hide'>\t<div class='circuits_dialogue__top clearfix'>\t\t<div class='left'><div class='circuits_dialogue__title js-circuits-dialogue__title'></div></div>\t\t<div class='right'><a class='icon__close_error js-close-dialogue hide'><%= embedded_svg(\"icon-close.svg\") %></a></div>\t</div>\t<div class='circuits_dialogue__body js-circuits-dialogue__body'>\t\t<div class='circuits_dialogue__content js-circuits-dialogue__content'></div>\t\t<div class='circuits_dialogue__buttons js-circuits-dialogue__buttons'></div>\t</div>\t</div>",
hj="<table class=\"bom__table js-bom-table\">    <tr class='bom__table__heading'>        <th>IDs</th>        <th>#</th>        <th>Component</th>        <th>Footprint</th>        <th>Properties</th>    </tr>    <% bom.forEach(function(material) { %>    <tr class='bom__table__row'>        <td><%= material.ids %></td>        <td><%= material.nr %></td>        <td><%= material.device_name %></td>        <td><%= material.footprint %></td>        <td><%= material.properties %></td>    </tr>    <% }, this) %></table>",
Wi="<div class='footprint__results'>    <% results.forEach(function(result){ %>    <div class='footprint__result float js-instant_search_item'>        <a class='editor_tools__tool clearfix js-change-footprint-action' data-pdid='<%= result.pdid %>'>            <div class='footprint__result__thumb'>                <% if ( result.footprint_thumb_url ) { %>                <img src='<%= result.footprint_thumb_url %>' width='190'/>                <% } %>            </div>            <div class='footprint__result__name'><%= result.footprint_name %></div>        </a>    </div>    <% }); %></div>",
pi='<div class="js-tpl-target__menu"></div><div class="<%= ( mode != 3) ? "editor" : "" %> js-root_container" --\x3e    <div class="js-tpl-target__menu_sub"></div>    <% if ( mode == 1 ) { %>        <div class=\'editor__content js-editor__content\'>    <% } %>        \x3c!-- BREADBOARD --\x3e        <% if ( model.meta(\'circuit_type\') == \'breadboard\' ) { %>            <div class="js-tpl-target__breadboard"></div>        <% } %>        \x3c!-- CIRCUITSCRIBE --\x3e        <% if ( model.meta(\'circuit_type\') == \'circuitscribe\' ) { %>            <div class="js-tpl-target__circuitscribe"></div>        <% } %>        \x3c!-- VIEW --\x3e        <% if ( mode == 1 && model.meta(\'circuit_type\') == \'circuitscribe\') { %>            <div class="js-tpl-target__circuitscribe_view"></div>        <% } %>        \x3c!-- SCHEMATIC --\x3e        <div class="js-tpl-target__schematic"></div>        \x3c!-- PCB --\x3e        <div class="js-tpl-target__pcb"></div>        \x3c!-- PCB LAYERS --\x3e        <div class="js-tpl-target__layers"></div>        \x3c!-- PCB DRAWING AIDS --\x3e        <div class="js-tpl-target__drawing_aids"></div>        \x3c!-- BOM --\x3e        <div class="js-tpl-target__bom"></div>        \x3c!-- SETTINGS --\x3e        <% if ( mode == 1 ) { %>            <div class="js-tpl-target__settings"></div>        <% } %>        \x3c!-- CHAT --\x3e        <div class="js-tpl-target__chat"></div>        \x3c!-- FOR COMPONENT / FOOTPRINT SEARCH --\x3e        <div class="js-tpl-target__overlay"></div>        \x3c!-- CODE EDITOR --\x3e        <div class="js-tpl-target__code_editor"></div>     <% if ( mode == 1 ) { %>        </div>     <% } %></div>\x3c!-- PROJECT IGNITE --\x3e<% if ( model.meta(\'lesson_parameters\') ) { %>    <div class="js-tpl-target__ignite_lesson"></div><% } %>\x3c!-- DIALOG --\x3e<div class="js-tpl-target__dialogue"></div>\x3c!-- ERRORS --\x3e<div class="js-tpl-target__error"></div>\x3c!-- CIRCUIT DATA MODEL --\x3e<div class="js-tpl-target__data_model"></div>',
Gi="<%    // console.log(\"RENDER\");    // console.log( model.meta_data('name') );    // console.log( model );    // console.log('--');%>",gj="<div class='search_overlay__results search_overlay__results--columns'>    <% results.forEach(function(result){ %>    <div class='search_overlay__result__column__item clearfix'>        <a class='js-add-component' data-did='<%= (result.footprints) ? result.footprints[0].id : result.footprint.id %>'>            <div class='search_overlay__result__column__item__inner'>                <div class='search_overlay__result__column__item__thumb'>                    <% if ( result.thumbUrl ) { %>                        <img src='<%= result.thumbUrl %>'></img>                    <% } %>                </div>                <div class='search_overlay__result__column__item__name'><%= result.name %></div>            </div>        </a>    </div>    <% }); %></div>",
fj='\x3c!-- SEARCH OVERLAY --\x3e<div class=\'overlay_container js-circuitscribe_footprint_search_container circuitscribe\'>\t<div class=\'overlay_container__top\'>\t\t<div class=\'overlay_container__tabs js-search_overlay__tabs js-submenu-circuitscribe\'>\t\t\t<a class=\'overlay_container__tab\' data-ref="circuitscribe-footprints">Footprints</a>\t\t</div>\t\t<div class=\'overlay_container__searchbox\'>\t\t\t<form accept-charset="UTF-8" action="<%= circuits_path %>/search/" class="js-circuitscribe_footprint_search" method="get">\t\t\t\t<input name="utf8" type="hidden" value="\u2713">\t\t\t\t<input class="text-input text-input--s" id="q" name="q" placeholder="Search" type="text">\t\t\t\t<button type="submit" class="overlay_container__searchbox__btn js-search-btn">\t\t\t\t\t<%= embedded_svg("icon-search.svg") %>\t\t\t\t</button>\t\t\t\t<a class="overlay_container__searchbox__btn js-search-clear__btn hide">\t\t\t\t\t<%= embedded_svg("icon-close.svg") %>\t\t\t\t</a>\t\t\t</form>\t\t</div>\t</div>\t<div class=\'overlay_container__inner js-circuitscribe_footprint_search_inner\'>\t\t<div data-rel=\'circuitscribe-footprints\' class=\'clearfix\'></div>\t</div></div>',
dj='\x3c!-- SEARCH OVERLAY --\x3e<div class=\'overlay_container js-component_search_container circuitscribe\'>\t<div class=\'overlay_container__top\'>\t\t<div class=\'overlay_container__tabs js-search_overlay__tabs js-submenu-circuitscribe\'>\t\t\t<a class=\'overlay_container__tab\' data-ref="all-modules">All Modules</a>\t\t\t<a class=\'overlay_container__tab\' data-ref="power">Power</a>\t\t\t<a class=\'overlay_container__tab\' data-ref="input">Input</a>\t\t\t<a class=\'overlay_container__tab\' data-ref="connect">Connect</a>\t\t\t<a class=\'overlay_container__tab\' data-ref="output">Output</a>\t\t</div>\t\t<div class=\'overlay_container__searchbox\'>\t\t\t<form accept-charset="UTF-8" action="<%= circuits_path %>/search/" class="js-component_search" method="get">\t\t\t\t<input name="utf8" type="hidden" value="\u2713">\t\t\t\t<input class="text-input text-input--s" id="q" name="q" placeholder="Search" type="text">\t\t\t\t<button type="submit" class="overlay_container__searchbox__btn js-search-btn">\t\t\t\t\t<%= embedded_svg("icon-search.svg") %>\t\t\t\t</button>\t\t\t\t<a class="overlay_container__searchbox__btn js-search-clear__btn hide">\t\t\t\t\t<%= embedded_svg("icon-close.svg") %>\t\t\t\t</a>\t\t\t</form>\t\t</div>\t</div>\t<div class=\'overlay_container__inner js-component_search_inner\'>\t\t<div data-rel=\'all-modules\' class=\'clearfix\'></div>\t\t<div data-rel=\'power\' class=\'clearfix hide\'></div>\t\t<div data-rel=\'input\' class=\'clearfix hide\'></div>\t\t<div data-rel=\'connect\' class=\'clearfix hide\'></div>\t\t<div data-rel=\'output\' class=\'clearfix hide\'></div>\t</div></div>',
ej="<div class='search_overlay__results search_overlay__results--columns'>    <% results.forEach(function(result){ %>    <div class='search_overlay__result__column__item clearfix'>        <a class='js-add-component' data-did='<%= (result.footprints) ? result.footprints[0].id : result.footprint.id %>'>            <div class='search_overlay__result__column__item__inner'>                <div class='search_overlay__result__column__item__thumb'>                    <% if ( result.thumbUrl ) { %>                        <img src='<%= result.thumbUrl %>'></img>                    <% } %>                </div>                <div class='search_overlay__result__column__item__name'><%= result.name %></div>            </div>        </a>    </div>    <% }); %></div>",
Vi='\x3c!-- SEARCH OVERLAY --\x3e<div class=\'overlay_container js-footprint_search_container pcb\'>\t<div class=\'overlay_container__top\'>\t\t<div class=\'overlay_container__tabs js-search_overlay__tabs\'>\t\t\t<a class=\'overlay_container__tab\' data-ref="all-footprints">Choose footprint</a>\t\t</div>\t\t<div class=\'overlay_container__searchbox\'>\t\t\t<form accept-charset="UTF-8" action="<%= circuits_path %>/search/" class="js-footprint_search" method="get">\t\t\t\t<input name="utf8" type="hidden" value="\u2713">\t\t\t\t<input class="text-input text-input--s" id="q" name="q" placeholder="Search" type="text">\t\t\t\t<button type="submit" class="overlay_container__searchbox__btn js-search-btn">\t\t\t\t\t<%= embedded_svg("icon-search.svg") %>\t\t\t\t</button>\t\t\t\t<a class="overlay_container__searchbox__btn js-search-clear__btn hide">\t\t\t\t\t<%= embedded_svg("icon-close.svg") %>\t\t\t\t</a>\t\t\t</form>\t\t</div>\t</div>\t<div class=\'overlay_container__inner js-footprint_search_inner\'>\t\t<div data-rel=\'all-footprints\' class=\'clearfix\'></div>\t</div></div>',
Ki="<div class=\"sitemenu sitemenu--editor sitemenu--editor_submenu sitemenu--editor_submenu--pcb pcb\">\t<div class=\"sitemenu__left\">\t\t<div class=\"editor_tools\">\t\t\t<div class='editor_tools__tool'>\t\t\t\t<a class=\"rotate js-rotate\" title=\"Rotate\">\t\t\t\t\t<div class=\"sitemenu__svg_block_btn\"><%= embedded_svg(\"icon-rotate-cw.svg\") %></div>\t\t\t\t</a>\t\t\t</div>\t\t\t<div class='editor_tools__tool sitemenu__borderleft'>\t\t\t\t<a class=\"zoomToFit js-zoomToFit\" title=\"Zoom To Fit\">\t\t\t\t\t<div class=\"sitemenu__svg_block_btn\"><%= embedded_svg(\"icon-zoomall.svg\") %></div>\t\t\t\t</a>\t\t\t</div>\t\t\t<div class='editor_tools__tool sitemenu__borderleft'>\t\t\t\t<a class=\"undo js-undo\" title=\"Undo\">\t\t\t\t\t<div class=\"sitemenu__svg_block_btn\"><%= embedded_svg(\"icon-previous.svg\") %></div>\t\t\t\t</a>\t\t\t</div>\t\t\t<div class='editor_tools__tool sitemenu__borderright'>\t\t\t\t<a class=\"redo js-redo\" title=\"Redo\">\t\t\t\t\t<div class=\"sitemenu__svg_block_btn\"><%= embedded_svg(\"icon-next.svg\") %></div>\t\t\t\t</a>\t\t\t</div>\t\t\t<div class='editor_tools__tool sitemenu__borderright hide js-pcb-delete'>\t\t\t\t<a class=\"delete js-delete\" title=\"Delete\">\t\t\t\t\t<div class=\"sitemenu__svg_block_btn\"><%= embedded_svg(\"icon-trash.svg\") %></div>\t\t\t\t</a>\t\t\t</div>\t\t\t<div class='editor_tools__tool sitemenu__borderright js-pcb-copper-trace'>\t\t\t\t<div class='editor_tools__tool' title=\"45 degrees, Left/right first, up/down second (tip: you can right-click while tracing to switch instantly)\">\t\t\t\t\t<a class=\"js-pcb-change-corner sitemenu__svg_block_btn--active\" data-corner='0'>\t\t\t\t\t\t<div class=\"sitemenu__svg_block_btn\"><%= embedded_svg(\"icon-cornertype-right-bevel.svg\") %></div>\t\t\t\t\t</a>\t\t\t\t</div>\t\t\t\t<div class='editor_tools__tool' title=\"45 degrees, Up/down first, left/right second (tip: you can right-click while tracing to switch instantly)\">\t\t\t\t\t<a class=\"js-pcb-change-corner\" data-corner='1'>\t\t\t\t\t\t<div class=\"sitemenu__svg_block_btn\" ><%= embedded_svg(\"icon-cornertype-left-miter.svg\") %></div>\t\t\t\t\t</a>\t\t\t\t</div>\t\t\t\t<div class='editor_tools__tool' title=\"Straight, Up/down first, left/right second (tip: you can right-click while tracing to switch instantly)\">\t\t\t\t\t<a class=\"js-pcb-change-corner\" data-corner='2'>\t\t\t\t\t\t<div class=\"sitemenu__svg_block_btn\"><%= embedded_svg(\"icon-cornertype-left-bevel.svg\") %></div>\t\t\t\t\t</a>\t\t\t\t</div>\t\t\t\t<div class='editor_tools__tool' title=\"Straight, Left/right first, up/down second (tip: you can right-click while tracing to switch instantly)\">\t\t\t\t\t<a class=\"js-pcb-change-corner\" data-corner='3'>\t\t\t\t\t\t<div class=\"sitemenu__svg_block_btn\"><%= embedded_svg(\"icon-cornertype-right-miter.svg\") %></div>\t\t\t\t\t</a>\t\t\t\t</div>\t\t\t\t<div class='editor_tools__tool'>\t\t\t\t\t<select class='sitemenu__submenu__selectbox js-pcb-copper-trace-options' title='Trace Width'>\t\t\t\t\t\t<option value='177'>0.18 mm (7 mil) &nbsp;&nbsp;Small</option>\t\t\t\t\t\t<option value='305' selected>0.30 mm (12 mil) Signal</option>\t\t\t\t\t\t<option value='508'>0.51 mm (20 mil) Power</option>\t\t\t\t\t\t<option value='1016'>1.02 mm (40 mil) Large Current</option>\t\t\t\t\t\t<option value='0'>------------------------------</option>\t\t\t\t\t\t<option value='153'>0.15 mm (6 mil)</option>\t\t\t\t\t\t<option value='177'>0.18 mm (7 mil)</option>\t\t\t\t\t\t<option value='203'>0.20 mm (8 mil)</option>\t\t\t\t\t\t<option value='229'>0.23 mm (9 mil)</option>\t\t\t\t\t\t<option value='254'>0.25 mm (10 mil)</option>\t\t\t\t\t\t<option value='305'>0.30 mm (12 mil)</option>\t\t\t\t\t\t<option value='356'>0.36 mm (14 mil)</option>\t\t\t\t\t\t<option value='406'>0.41 mm (16 mil)</option>\t\t\t\t\t\t<option value='457'>0.46 mm (18 mil)</option>\t\t\t\t\t\t<option value='508'>0.51 mm (20 mil)</option>\t\t\t\t\t\t<option value='610'>0.61 mm (24 mil)</option>\t\t\t\t\t\t<option value='711'>0.71 mm (28 mil)</option>\t\t\t\t\t\t<option value='813'>0.81 mm (32 mil)</option>\t\t\t\t\t\t<option value='914'>0.91 mm (36 mil)</option>\t\t\t\t\t\t<option value='1016'>1.02 mm (40 mil)</option>\t\t\t\t\t\t<option value='1270'>1.27 mm (50 mil)</option>\t\t\t\t\t\t<option value='1524'>1.52 mm (60 mil)</option>\t\t\t\t\t\t<option value='1778'>1.78 mm (70 mil)</option>\t\t\t\t\t\t<option value='2032'>2.03 mm (80 mil)</option>\t\t\t\t\t</select>\t\t\t\t</div>\t\t\t</div>\t\t</div>\t</div>\t<div class=\"sitemenu__center sitemenu__left\">\t\t<div class='sitemenu__info sitemenu__info--pcb pcb js-submenu-pcb js-pcb-menu-info'></div>\t</div>\t<div class=\"sitemenu__right editor_actions\">\t\t<% if ( model.meta('coppa_allowed') ) { %>\t\t\t<div class=\"editor_actions__action editor_actions__chat_icon js-chat__toggle\">\t\t\t\t<a class=\"editor_tools__tool bordered_icon_btn\" title=\"Toggle chat window\"><%= embedded_svg(\"icon-chat.svg\") %></a>\t\t\t</div>\t\t<% } %>\t\t<div class=\"editor_actions__action\">\t\t\t<a class='btn btn--m btn--dark_level2_borders-on-black js-drawing_aids__toggle' title='Toggle view aids'>\t\t\t\t<div class='btn__icon'><%= embedded_svg(\"icon-drawingaids.svg\") %></div>\t\t\t\t<div class='btn__txt'>View</div>\t\t\t</a>\t\t</div>\t\t<div class=\"editor_actions__action\">\t\t\t<a class='btn btn--m btn--dark_level2_borders-on-black js-layers__toggle' title='Toggle layers window'>\t\t\t\t<div class='btn__icon'><%= embedded_svg(\"icon-layers.svg\") %></div>\t\t\t\t<div class='btn__txt'>Layers</div>\t\t\t</a>\t\t</div>\t</div></div>",
Xi='\x3c!-- SEARCH OVERLAY --\x3e<div class=\'overlay_container js-component_search_container <%= circuit_type %>\'>\t<div class=\'overlay_container__top\'>\t\t<div class=\'overlay_container__tabs js-search_overlay__tabs js-submenu-breadboard\'>\t\t\t<a class=\'overlay_container__tab\' data-ref="123d-components">All Components Grid</a>\t\t\t<a class=\'overlay_container__tab\' data-ref="all-components">All Components List</a>            <a class=\'overlay_container__tab\' data-ref="arduinokit">Arduino Basic Kit</a>            <a class=\'overlay_container__tab\' data-ref="dfrobotkit">DFRobot Beginner Kit</a>        </div>\t\t<div class=\'overlay_container__tabs js-search_overlay__tabs js-submenu-schematic\'>\t\t\t<a class=\'overlay_container__tab\' data-ref="123d-components">Our Components</a>\t\t\t<a class=\'overlay_container__tab\' data-ref="all-components">All Components</a>\t\t\t<a class=\'overlay_container__tab\' data-ref="my-components">My Components</a>\t\t</div>\t\t<div class=\'overlay_container__searchbox\'>\t\t\t<form accept-charset="UTF-8" action="<%= circuits_path %>/search/" class="js-component_search" method="get">\t\t\t\t<input name="utf8" type="hidden" value="\u2713">\t\t\t\t<input class="text-input text-input--s" id="q" name="q" placeholder="Search" type="text">\t\t\t\t<button type="submit" class="overlay_container__searchbox__btn js-search-btn">\t\t\t\t\t<%= embedded_svg("icon-search.svg") %>\t\t\t\t</button>\t\t\t\t<a class="overlay_container__searchbox__btn js-search-clear__btn hide">\t\t\t\t\t<%= embedded_svg("icon-close.svg") %>\t\t\t\t</a>\t\t\t</form>\t\t</div>\t</div>\t<div class=\'overlay_container__inner js-component_search_inner\'>\t\t<div data-rel=\'123d-components\' class=\'clearfix\'></div>        <div data-rel=\'all-components\' class=\'clearfix hide\'></div>\t\t<div data-rel=\'my-components\' class=\'clearfix hide\'></div>        <div data-rel=\'arduinokit\' class=\'clearfix\'></div>        <div data-rel=\'dfrobotkit\' class=\'clearfix\'></div>\t</div></div>',
Bi="<%    console.log(\"MAP\");    console.log( model.meta_data('name') );    console.log( model );    console.log('--');%>",Yi="<div class='search_overlay__results search_overlay__results--columns'>\t<% results.forEach(function(result){ %>\t<div class='search_overlay__result__column__item'>\t\t<a class='js-add-component' data-did='<%= (result.footprints) ? result.footprints[0].id : result.footprint.id %>'>\t\t\t<div class='search_overlay__result__column__item__inner'>\t\t\t\t<div class='search_overlay__result__column__item__thumb'>\t\t\t\t\t<img src='<%= result.thumbUrl %>'>\t\t\t\t</div>\t\t\t\t<div class='search_overlay__result__column__item__name'><%= result.name %></div>\t\t\t</div>\t\t</a>\t</div>\t<% }); %></div>",
Li='<div class="sitemenu sitemenu--editor sitemenu--editor_submenu bom js-submenu-bom">\t<div class="sitemenu__center sitemenu__left">\t\t<div class=\'sitemenu__info bom js-submenu-bom\'>Bill Of Materials</div>\t</div>\t<div class="sitemenu__right sitemenu__right--editor_submenu editor_actions">\t\t<div class="editor_actions__action">\t\t\t<a class=\'btn btn--m btn--none_base_borders js-bom-download-csv\'>\t\t\t\t<div class=\'btn__icon\'><%= embedded_svg("icon-doc-csv.svg") %></div>\t\t\t\t<div class=\'btn__txt\'>Download CSV</div>\t\t\t</a>\t\t</div>\t\t<% if ( model.meta(\'circuit_type\') == "circuitscribe" ) { %>\t\t\t<div class="editor_actions__action">\t\t\t\t<a class=\'btn btn--m btn--none_base_borders js-add-bom-items-to-cart\'>\t\t\t\t\t<div class=\'btn__icon\'><%= embedded_svg("icon-plus.svg") %></div>\t\t\t\t\t<div class=\'btn__txt\'>Add to Cart</div>\t\t\t\t</a>\t\t\t</div>\t\t<% } %>\t</div></div><div class="sitemenu sitemenu--editor sitemenu--editor_submenu settings js-submenu-settings">\t<div class="sitemenu__center sitemenu__left">\t\t<div class=\'sitemenu__info settings js-submenu-settings\'>Settings and details of your circuit</div>\t</div></div>',
vi='<div id="settingsTab" class="guiTab">\t<div class=\'container container--center settings__container clearfix\'>\t\t<form accept-charset="UTF-8" action="<%= model.meta(\'circuit_path\') %>" class="js-circuits-settings" data-remote="true" method="post">\t\t\t<input name="utf8" type="hidden" value="\u2713">\t\t\t<input name="_method" type="hidden" value="put">\t\t\t<input name="authenticity_token" type="hidden" value="<%= model.meta(\'form_authenticity_token\') %>">\t\t\t<div class=\'grid\'>\t\t\t\t<div class=\'grid__item two-thirds\'>\t\t\t\t\t<div class=\'settings__setting\' data-settings-group=\'name\'>\t\t\t\t\t\t<div class=\'settings__setting__title js-settings-title\'>Name</div>\t\t\t\t\t\t<div class=\'settings__setting__title settings-please-fill js-settings-please-fill-title hide\'>Name - Please provide a name</div>\t\t\t\t\t\t<input class="text-input js-settings-circuit-name js-settings-autosave js-settings-please-fill" data-target="name" id="circuit_name" name="circuit[name]" placeholder="Fill in your name" size="30" type="text" value="<%= model.meta(\'name\') %>">\t\t\t\t\t</div>\t\t\t\t\t<% if ( model.meta(\'current_user\') && model.meta(\'coppa_allowed\') ) { %>\t\t\t\t\t\t<div class=\'settings__setting\' data-settings-group=\'summary\'>\t\t\t\t\t\t\t<div class=\'settings__setting__title js-settings-title\'>Summary</div>\t\t\t\t\t\t\t<div class=\'settings__setting__title settings-please-fill js-settings-please-fill-title hide\'>Summary - Please tell us some more</div>\t\t\t\t\t\t\t<div class=\'settings__setting__summary\'>A two sentence description of what your project is about. Short and sweet!</div>\t\t\t\t\t\t\t<textarea class="text-input settings__setting__input--textarea js-settings-autosave js-settings-please-fill" cols="40" data-target="summary" id="circuit_summary" name="circuit[summary]" placeholder="Fill in your summary" rows="2"><%= model.meta(\'summary\') %></textarea>\t\t\t\t\t\t</div>\t\t\t\t\t\t<div class=\'settings__setting\' data-settings-group=\'description\'>\t\t\t\t\t\t\t<div class=\'settings__setting__title js-settings-title\'>Description</div>\t\t\t\t\t\t\t<div class=\'settings__setting__title settings-please-fill js-settings-please-fill-title hide\'>Description - Please tell us some more</div>\t\t\t\t\t\t\t<div class=\'settings__setting__summary\'>Extended explanation of your project. Use it to explain the assembly of the PCB, provide detail about technical difficulties etc. The textfield supports <a href=\'http://daringfireball.net/projects/markdown/syntax\' target=\'_blank\'>Markdown Syntax</a>.</div>\t\t\t\t\t\t\t<textarea class="text-input settings__setting__input--textarea js-settings-autosave js-settings-please-fill" cols="40" data-target="description" id="circuit_description" name="circuit[description]" placeholder="Fill in your description" rows="8"><%= model.meta(\'description\') %></textarea>\t\t\t\t\t\t</div>\t\t\t\t\t\t<div class=\'settings__setting\' data-settings-group=\'tags\'>\t\t\t\t\t\t\t<div class=\'settings__setting__title js-settings-title\'>Tags</div>\t\t\t\t\t\t\t<div class=\'settings__setting__title settings-please-fill js-settings-please-fill-title hide\'>Tags - Please add some tags</div>        \t\t\t\t\t\t\t<div class=\'settings__setting__summary\'>Use a comma to separate tags and help others find your project easier.</div>\t\t\t\t\t\t\t<input class="text-input tagsinput-primary js-settings-tags settings__setting__input js-settings-autosave js-settings-please-fill" data-autocomplete="/circuits/autocomplete_tag_name" data-delimiter=", " data-tags="" data-target="tags" id="circuit_tag_list" multiple="multiple" name="circuit[tag_list][]" size="30" type="text" value="<%= model.meta(\'tags\') %>">\t\t\t\t\t\t</div>\t\t\t\t\t\t<div class=\'settings__setting\'>\t\t\t\t\t\t\t<div class=\'settings__setting__title\'>Access</div>\t\t\t\t\t\t\t<div class=\'settings__setting__summary\'>Search a user and invite him/her to collaboratively edit this circuit</div>\t\t\t\t\t\t\t<div class=\'js-invite-collaborator\' data-targeturl=\'<%= model.meta(\'share_circuit_path\') %>\'>\t\t\t\t\t\t\t\t<input class="js-invite-collaborator__uid" id="share_uid" name="share_uid" type="hidden" value="0">\t\t\t\t\t\t\t\t<input data-autocomplete="/circuits/autocomplete_user_name" data-id-element="#share_uid" id="user_name" name="user_name" type="text" value="" class=\'text-input\'>\t\t\t\t\t\t\t\t<p>\t\t\t\t\t\t\t\t<button class="btn btn--s btn--accent_white_accent js-invite-collaborator__button" name="button" type="submit"><div class=\'btn__txt\'>invite</div></button>\t\t\t\t\t\t\t\t<div class=\'vertical-spacing settings-collab-message js-invite-collaborator__message\'></div>\t\t\t\t\t\t\t</div>\t\t\t\t\t\t</div>\t\t\t\t\t<% } %>\t\t\t\t\t<div class=\'settings__setting\'>\t\t\t\t\t\t<div class=\'settings__setting__title\'>License</div>\t\t\t\t\t\t<div class=\'settings__setting__summary\'>Choose a license that fits your needs, read more about open hardware licenses on <a href=\'http://en.wikipedia.org/wiki/Open_source_hardware\' target=\'_blank\'>Wikipedia</a></div>\t\t\t\t\t\t<div class=\'hide js-settings-license\'><%= model.meta(\'license\') %></div>\t\t\t\t\t\t<select class="js-settings-autosave js-settings-license-select" id="circuit_license" name="circuit[license]">\t\t\t\t\t\t\t<option value="CC-BY-SA 3.0">CC-BY-SA 3.0</option>\t\t\t\t\t\t\t<option value="CC-BY-NC-SA 3.0">CC-BY-NC-SA 3.0</option>\t\t\t\t\t\t\t<option value="CC-BY 3.0">CC-BY 3.0</option>\t\t\t\t\t\t\t<option value="CC-BY-NC 3.0">CC-BY-NC 3.0</option>\t\t\t\t\t\t\t<option value="TAPR Open Hardware License">TAPR Open Hardware License</option>\t\t\t\t\t\t\t<option value="CERN Open Hardware License">CERN Open Hardware License</option>\t\t\t\t\t\t\t<option value="GPL 3.0">GPL 3.0</option>\t\t\t\t\t\t\t<option value="LGPL">LGPL</option>\t\t\t\t\t\t\t<option value="BSD">BSD</option>\t\t\t\t\t\t\t<option value="MIT">MIT</option>\t\t\t\t\t\t\t<option value="Public Domain">Public Domain</option>\t\t\t\t\t\t</select>\t\t\t\t\t</div>\t\t\t\t\t<div class=\'settings__setting hide\'>\t\t\t\t\t\t<div class=\'settings__setting__title\'>PCB Layers</div>\t\t\t\t\t\t<div class=\'settings__setting__summary\'>Select the number of PCB layers</div>\t\t\t\t\t\t<select class="js-number-of-layers">\t\t\t\t\t\t\t<option value=\'2\'>2</option>\t\t\t\t\t\t\t<option value=\'4\'>4</option>\t\t\t\t\t\t\t<option value=\'6\'>6</option>\t\t\t\t\t\t</select>\t\t\t\t\t</div>\t\t\t\t\t<% if ( model.meta(\'current_user\') && model.meta(\'current_user\').subscription == \'maker\' ) { %>                    <% if(model.meta(\'prive\')){                         var checked = "checked";                    }else{                        var checked = "";                        } %>\t\t\t\t\t<div class=\'settings__setting\'>\t\t\t\t\t\t<div class=\'settings__setting__title\'>Private</div>\t\t\t\t\t\t<div class=\'settings__setting__summary\'>\t\t\t\t\t\t\t<input name="circuit[prive]" type="hidden" value="0">\t\t\t\t\t\t\t<input class="js-settings-autosave" id="circuit_prive" name="circuit[prive]" type="checkbox" value="1" <%= checked %>>\t\t\t\t\t\t\tMake this a private circuit\t\t\t\t\t\t</div>\t\t\t\t\t</div>\t\t\t\t\t<% } %>\t\t\t\t</div>\t\t\t\t\t\t\t<div class=\'grid__item one-third\'>\t\t\t\t\t<div class=\'settings__overview\'>\t\t\t\t\t\t<div class=\'settings__overview__item clearfix\' data-settings-target=\'name\'>\t\t\t\t\t\t\t<div class=\'settings__overview__item__title float\'>Name</div>\t\t\t\t\t\t\t<div class=\'settings__overview__item__arrow right js-settings-arrow\'><%= embedded_svg("icon-check.svg") %></div>\t\t\t\t\t\t</div>\t\t\t\t\t\t<% if ( model.meta(\'current_user\') && model.meta(\'coppa_allowed\') ) { %>\t\t\t\t\t\t\t<div class=\'settings__overview__item clearfix\' data-settings-target=\'summary\'>\t\t\t\t\t\t\t\t<div class=\'settings__overview__item__title float\'>Summary</div>\t\t\t\t\t\t\t\t<div class=\'settings__overview__item__arrow right js-settings-arrow\'><%= embedded_svg("icon-check.svg") %></div>\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t<div class=\'settings__overview__item clearfix\' data-settings-target=\'description\'>\t\t\t\t\t\t\t\t<div class=\'settings__overview__item__title float\'>Description</div>\t\t\t\t\t\t\t\t<div class=\'settings__overview__item__arrow right js-settings-arrow\'><%= embedded_svg("icon-check.svg") %></div>\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t<div class=\'settings__overview__item clearfix\' data-settings-target=\'tags\'>\t\t\t\t\t\t\t\t<div class=\'settings__overview__item__title float\'>Tags</div>\t\t\t\t\t\t\t\t<div class=\'settings__overview__item__arrow right js-settings-arrow\'><%= embedded_svg("icon-check.svg") %></div>\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t<div class=\'settings__overview__item clearfix hide\'>\t\t\t\t\t\t\t\t<div class=\'settings__overview__item__title float\'>Access</div>\t\t\t\t\t\t\t\t<div class=\'settings__overview__item__arrow right\'></div>\t\t\t\t\t\t\t</div>\t\t\t\t\t\t<% } %>\t\t\t\t\t\t<div class=\'settings__overview__item clearfix\'>\t\t\t\t\t\t\t<div class=\'settings__overview__item__title float\'>License</div>\t\t\t\t\t\t\t<div class=\'settings__overview__item__arrow right\'></div>\t\t\t\t\t\t</div>\t\t\t\t\t\t<div class=\'settings__overview__item clearfix hide\'>\t\t\t\t\t\t\t<div class=\'settings__overview__item__title float\'>PCB Layers</div>\t\t\t\t\t\t\t<div class=\'settings__overview__item__arrow right\'></div>\t\t\t\t\t\t</div>\t\t\t\t\t</div>\t\t\t\t</div>\t\t\t</div>\t\t</form>\t</div></div>',
ti='<div id=\'pcbTab\' class=\'guiTab non-selectable\'></div><% if ( mode == 1 ) { %>  <div class=\'pcb_buttons js-pcb_buttons pcb\'>    <div class="pcb_button clearfix">      <a class=\'btn btn--m btn--dark_level2_borders-on-black js-trace\' title="A conductive path on top of a PCB made of copper.">        <div class=\'btn__icon\'><%= embedded_svg("icon-trace.svg") %></div>        <div class=\'btn__txt\'>Copper Trace</div>      </a>    </div>    <div class="pcb_button clearfix">      <a class=\'btn btn--m btn--dark_level2_borders-on-black js-fill\' title="An area on a printed circuit board filled with copper, commonly used to create a ground plane.">        <div class=\'btn__icon\'><%= embedded_svg("icon-copperpour.svg") %></div>        <div class=\'btn__txt\'>Copper Pour</div>      </a>    </div>    <div class="pcb_button clearfix">      <a class=\'btn btn--m btn--dark_level2_borders-on-black js-via\' title="An electrical connection between layers that goes through the plane of one or more adjacent layers.">        <div class=\'btn__icon\'><%= embedded_svg("icon-via.svg") %></div>        <div class=\'btn__txt\'>Via</div>      </a>    </div>    <div class="pcb_button clearfix">      <a class=\'btn btn--m btn--dark_level2_borders-on-black js-drillhole\' title="A hole in the PCB mostly used to mount a pcb somewhere with some screws.">        <div class=\'btn__icon\'><%= embedded_svg("icon-drill.svg") %></div>        <div class=\'btn__txt\'>Drillhole</div>      </a>    </div>    <div class=\'pcb_tools_collection\'>      <div class="pcb_button clearfix">        <a class=\'btn btn--m btn--dark_level2_borders-on-black js-textTool\' title="Write something on your pcb using silkscreen text.">          <div class=\'btn__icon\'><%= embedded_svg("icon-text.svg") %></div>          <div class=\'btn__txt\'>Text</div>        </a>      </div>      <div class="pcb_button clearfix">        <a class=\'btn btn--m btn--dark_level2_borders-on-black js-penTool\' title="Draw a vector in silkscreen.">          <div class=\'btn__icon\'><%= embedded_svg("icon-pen.svg") %></div>          <div class=\'btn__txt\'>Pen</div>        </a>      </div>      <div class="pcb_button clearfix">        <a class=\'btn btn--m btn--dark_level2_borders-on-black js-circleTool\' title="Draw a circle in silkscreen.">          <div class=\'btn__icon\'><%= embedded_svg("icon-circle.svg") %></div>          <div class=\'btn__txt\'>Circle</div>        </a>      </div>      <div class="pcb_button clearfix">        <a class=\'btn btn--m btn--dark_level2_borders-on-black js-rectTool\' title="Draw a rectangle in silkscreen.">          <div class=\'btn__icon\'><%= embedded_svg("icon-rectangle.svg") %></div>          <div class=\'btn__txt\'>Rectangle</div>        </a>      </div>    </div>  </div>  <div class=\'hide\'>    <ul class="controls controlsRightTop pcb invisibleZ">      <a href="#" class="zoomToFit" title="Zoom To Fit">        <li class="circuitsIcon singleIcon controlsBorder pcbIcon"><span data-icon="\ue01a"></span></li>      </a>      <a href="#" class="redo" title="Redo">        <li class="circuitsIcon singleIcon controlsBorder pcbIcon"><span data-icon="\ue012"></span></li>      </a>      <a href="#" class="undo" title="Undo">        <li class="circuitsIcon singleIcon controlsBorder pcbIcon"><span data-icon="\ue011"></span></li>      </a>      <a href="#" class="selectTool" title="Select Tool">        <li class="circuitsIcon singleIcon controlsBorder pcbIcon"><span data-icon="\ue010"></span></li>      </a>      <a href="#" class="delete" title="Delete">        <li class="circuitsIcon singleIcon controlsBorder pcbIcon"><span data-icon="\ue013"></span></li>      </a>      <a href="#" class="rotate" title="Rotate Tool">        <li class="circuitsIcon singleIcon controlsBorder pcbIcon"><span data-icon="\ue016"></span></li>      </a>          </ul>    <ul class="controls controlsRightMiddle pcb invisibleZ">      <a href="#" class="drillhole" title="Drillhole Tool">        <li class="circuitsIcon singleIcon controlsBorder pcbIcon"><span data-icon="\ue023"></span></li>      </a>      <a href="#" class="via" title="Via Tool">        <li class="circuitsIcon singleIcon controlsBorder pcbIcon"><span data-icon="\ue022"></span></li>      </a>      <a href="#" class="fill" title="Fill Tool">        <li class="circuitsIcon singleIcon controlsBorder pcbIcon"><span data-icon="\ue021"></span></li>      </a>      <a href="#" class="trace" title="Trace Tool">        <li class="circuitsIcon singleIcon controlsBorder pcbIcon"><span data-icon="\ue020"></span></li>      </a>      <a  class="circleTool" title="Circle silkscreen Tool">        <li class="circuitsIcon singleIcon controlsBorder pcbIcon"><span data-icon="\ue027"></span></li>      </a>      <a  class="rectTool" title="Rectangle silkscreen Tool">        <li class="circuitsIcon singleIcon controlsBorder pcbIcon"><span data-icon="\ue026"></span></li>      </a>      <a  class="penTool" title="Pen silkscreen Tool">        <li class="circuitsIcon singleIcon controlsBorder pcbIcon"><span data-icon="\ue02a"></span></li>      </a>      <a  class="textTool" title="Text silkscreen Tool">        <li class="circuitsIcon singleIcon controlsBorder pcbIcon"><span data-icon="\ue029"></span></li>      </a>    </ul>    <div class="controls controlsRightBottom pcb invisibleZ">      <select id=\'thickness\' class=\'pcbPicker\'></select>      <select id=\'layer\' class=\'pcbPicker\'></select>    </div>    <div class="footprintGuiContainer hide"></div>  </div><% } %>',
ui='<div id="bomTab" class=\'guiTab\'>  <div class="bom__container">    <div class="bom__loading"></div>    <div class="bom__inner js-bom-table-target">    </div>    <form action="/circuits/export_bom.csv" method="post" target="_blank" class=\'js-bom-download-csv-form\'>      <input name="authenticity_token" type="hidden" value="<%= model.meta(\'form_authenticity_token\') %>" />      <input type=\'hidden\' name=\'data\' class=\'js-bom-download-csv-form-data\'>    </form>    <form action="/cart/add_devices_to_cart" method="post" target="_blank" class=\'js-add_bom_to_cart-form\'>      <input name="authenticity_token" type="hidden" value="<%= model.meta(\'form_authenticity_token\') %>" />      <input type=\'hidden\' name=\'versionroot_ids\' class=\'js-add_bom_to_cart-form-data\'>    </form>  </div></div>',
ri="<div id='circuitscribeTab' class='guiTab non-selectable'></div><% if ( mode == 1 ) { %>  <div class='circuitscribe_buttons circuitscribe'>    <div class='js-breadboard_button'>      <a class='btn btn--m btn--background_base_borders js-einkTool' title='Conductive Pen Tool'>        <div class='btn__icon'><%= embedded_svg(\"icon-cs-conductiveink.svg\") %></div>        <div class='btn__txt'>Conductive Pen</div>      </a>    </div>  </div><% } %><form action=\"circuitscribe_print\" method=\"post\" target=\"_blank\" class='js-circuitscribe-download-pdf hide'>\t<input name=\"authenticity_token\" type=\"hidden\" value=\"<%= model.meta('form_authenticity_token') %>\" />  <input type='hidden' name='svgdata' class='js-circuitscribe-download-pdf-svgdata'>  <input type='hidden' name='doc_width' class='js-circuitscribe-download-pdf-doc_width'>  <input type='hidden' name='doc_height' class='js-circuitscribe-download-pdf-doc_height'></form>",
Ai='<nav class="sitemenu sitemenu--editor js-sitemenu">    <div class="sitemenu__left clearfix">                 <div class=\'float sitemenu__logo sitemenu__logo--editor\'>            <% if ( model.meta(\'circuit_type\') == "breadboard" ) { %>                <a href="/lab">                    <img src=\'<%= link_to_s3_file("editorlogo-electronicslab.png") %>\' with=\'48\' height=\'48\'>                </a>            <% } else if ( model.meta(\'circuit_type\') == "schematic" ) { %>                <a href="/pcb">                    <img src=\'<%= link_to_s3_file("editorlogo-pcbdesign.png") %>\' with=\'48\' height=\'48\'>                </a>            <% } else if ( model.meta(\'circuit_type\') == "circuitscribe" ) { %>                <a href="/circuitscribe">                    <img src=\'<%= link_to_s3_file("editorlogo-circuitscribe.png") %>\' with=\'48\' height=\'48\'>                </a>            <% } else if ( model.meta(\'circuit_type\') == "mesh_pcb" ) { %>                <a href="/mesh">                    <img src=\'<%= link_to_s3_file("editorlogo-mesh.png") %>\' with=\'48\' height=\'48\'>                </a>            <% } %>        </div>                <div class=\'float\'>            <a href="#settings" class=\'sitemenu__editor-title\'>                <span class=\'sitemenu__editor-title--span js-circuit-menu-title\'><%= model.meta(\'name\') %></span>            </a>        </div>    </div>    <div class="sitemenu__right">        <div class="sitemenu__right__item--editor sitemenu__connection-menu js-connection-menu">Saved</div>        <div class=\'sitemenu__right__item--editor sitemenu__borderleft\'>            <% if ( model.meta(\'circuit_type\') == "circuitscribe" ) { %>            <div class=\'sitemenu__right__item--editor\'>                <a class="js-circuit_circuitscribe_button js-circuits_menu_hash_btn" href="#circuitscribe" title="Sketch View">                    <div class="sitemenu__view_switch sitemenu__svg_block_btn"><%= embedded_svg("icon-view-sketch.svg") %></div>                </a>            </div>            <% } %>            <% if ( model.meta(\'circuit_type\') == "breadboard" ) { %>            <div class=\'sitemenu__right__item--editor\'>                <a class="js-circuit_breadboard_button js-circuits_menu_hash_btn" href="#breadboard" title="Lab View">                    <div class="sitemenu__view_switch sitemenu__svg_block_btn"><%= embedded_svg("icon-view-electronicslab.svg") %></div>                </a>            </div>            <% } %>            <% if ( model.meta(\'circuit_type\') == "breadboard" || model.meta(\'circuit_type\') == "schematic" || model.meta(\'circuit_type\') == "mesh_pcb" || ( model.meta(\'circuit_type\') == "circuitscribe" && model.meta(\'rails_env\') == \'development\' )) { %>            <div class=\'sitemenu__right__item--editor\'>                <a class="js-circuit_schematic_button js-circuits_menu_hash_btn" href="#schematic" title="Schematics View">                    <div class="sitemenu__view_switch sitemenu__svg_block_btn"><%= embedded_svg("icon-view-schematic.svg") %></div>                </a>            </div>            <% } %>            <% if ( model.meta(\'circuit_type\') == "breadboard" || model.meta(\'circuit_type\') == "schematic" || model.meta(\'circuit_type\') == "mesh_pcb" ) { %>            <div class=\'sitemenu__right__item--editor\'>                <a class="js-circuit_pcb_button js-circuits_menu_hash_btn" href="#pcb" title="PCB View">                    <div class="sitemenu__view_switch sitemenu__svg_block_btn"><%= embedded_svg("icon-view-pcb.svg") %></div>                </a>            </div>            <% } %>            <div class=\'sitemenu__right__item--editor\'>                <a class="js-circuit_bom_button js-circuits_menu_hash_btn" href="#bom" title="Bill Of Materials">                    <div class="sitemenu__view_switch sitemenu__svg_block_btn"><%= embedded_svg("icon-view-bom.svg") %></div>                </a>            </div>        </div>        <div class=\'sitemenu__right__item--editor\'>            <a class="js-circuit_settings_button js-circuits_menu_hash_btn" href="#settings" title="Settings View">                <div class="sitemenu__view_switch sitemenu__svg_block_btn"><%= embedded_svg("icon-settings.svg") %></div>            </a>        </div>        <% if ( model.meta(\'coppa_allowed\') ) { %>        <div class=\'sitemenu__right__item--editor sitemenu__borderleft js-zendesk-trigger\' >            <a title="Feedback">                <div class="sitemenu__view_switch sitemenu__svg_block_btn"><%= embedded_svg("icon-help.svg") %></div>            </a>        </div>        <% } %>        <div class=\'sitemenu__right__item--editor sitemenu__borderleft\'>            <a href=\'/users/<%= model.meta(\'current_user\')[\'id\'] %>\'>                <div class="sitemenu__view_switch sitemenu__svg_block_btn sitemenu__svg_block_btn--user">                    <%= image_tag( model.meta(\'profile_pic\') ) %>                </div>            </a>        </div>    </div></nav>',
Qi="<div class='overlay_container js-code_editor__container breadboard'>\t<div class='overlay_container__top code_editor__top'>\t\t<div class='float'>\t\t\t<div class='code_editor__top__item float code_editor__selector js-code_editor__selector' data-rel='js-code_editor__select'>\t\t\t\t<a class=\"clearfix disabled js-components-disabled\" title=\"Select other programmable components\">\t\t\t\t\t<div class=\"code_editor__selector__text float js-code_editor__selector__text\">(None)</div> \t\t\t\t\t<div class=\"code_editor__selector__icon float js-rotate-dropdown-arrow\"><%= embedded_svg(\"icon-dropdown-arrow.svg\") %></div>\t\t\t\t</a>\t\t\t</div>\t\t\t<div class='code_editor__top__item float'>\t\t\t\t<a class='btn btn--m btn--none_base_borders code_editor_disabled disabled js-components-disabled js-code-editor__upload' title=\"Upload and run simulation\">\t\t\t\t\t<div class='btn__icon'>\t\t\t\t\t\t<span class='js-code-editor__upload__icon'><%= embedded_svg(\"icon-uploadandsimulate.svg\") %></span>\t\t\t\t\t\t<span class='js-code-editor__upload__spinner hide'></span>\t\t\t\t\t</div>\t\t\t\t\t<div class='btn__txt js-code-editor__upload__text'>Upload & Run</div>\t\t\t\t</a>\t\t\t</div>\t\t\t\x3c!--  <div class='code_editor__top__item float'>                <div class=\"code_editor_disabled disabled js-components-disabled js-code_editor__breakpoints__codeOpt\">                    <input class=\"js-code_editor__breakpoints__codeOpt_checkbox\" type=\"checkbox\"> Code Optimizations                </div>            </div> --\x3e\t\t\t<div class='code_editor__top__item code-editor__success-compiled float noOpacity js-code-editor__success-compiled'>Successfully compiled</div>\t\t</div>\t\t<div class='code_editor__right'>\t\t\t<% if (edit) { %>\t\t\t\t<div class='code_editor__top__item float'>\t\t\t\t\t<a class='btn btn--m btn--none_base_borders code_editor_disabled disabled js-components-disabled js-code_editor__toggle_libraries js-code_editor__toggle-btn' title=\"Libraries\" data-rel='js-code_editor__libraries'>\t\t\t\t\t\t<div class='btn__icon'><%= embedded_svg(\"icon-library.svg\") %></div>\t\t\t\t\t\t<div class='btn__txt'>Libraries</div>\t\t\t\t\t</a>\t\t\t\t</div>\t\t\t<% } %>\t\t\t<div class='code_editor__top__item float'>\t\t\t\t<a class='btn btn--m btn--none_base_borders code_editor_disabled disabled js-components-disabled js-code-editor__download_code' title=\"Download Code\">\t\t\t\t\t<div class='btn__icon'><%= embedded_svg(\"icon-doc-ino.svg\") %></div>\t\t\t\t\t<div class='btn__txt'>Download Code</div>\t\t\t\t</a>\t\t\t</div>\t\t\t<div class='code_editor__top__item float'>\t\t\t\t<a class='btn btn--m btn--none_base_borders code_editor_disabled disabled js-components-disabled js-code_editor__toggle_debugger js-code_editor__toggle-btn' title=\"Debugger\">\t\t\t\t\t<div class='btn__icon cio-ui-icon'><%= embedded_svg(\"icon-debugger.svg\") %></div>\t\t\t\t\t<div class='btn__txt'>Debugger</div>\t\t\t\t</a>\t\t\t</div>\t\t\t<div class='code_editor__top__item float'>\t\t\t\t<a class='btn btn--m btn--none_base_borders code_editor_disabled disabled js-components-disabled js-code_editor__toggle_serial-monitor js-code_editor__toggle-btn' title=\"Serial Monitor\">\t\t\t\t\t<div class='btn__icon'><%= embedded_svg(\"icon-serialmonitor.svg\") %></div>\t\t\t\t\t<div class='btn__txt'>Serial Monitor</div>\t\t\t\t</a>\t\t\t</div>\t\t</div>\t</div>\t<div class='overlay_container__inner js-code_editor__inner'>\t\t<div class='js-code_editor__content'>\t\t\t<div class='js-code_editor__tab js-code_editor__none-found'>\t\t\t\t<div class='code_editor__content__title-container'>\t\t\t\t\t<div class='code_editor__content__title'>No programmable components found!</div>\t\t\t\t\t<div class='code_editor__content__subtitle'>Add an Arduino or other microcontroller using the Components Overlay.</div>\t\t\t\t</div>\t\t\t</div>\t\t\t<div class='js-code_editor__tab code_editor__texteditor js-code_editor__texteditor hide'>\t\t\t\t<textarea class=\"code_editor__textarea js-code_editor__textarea\"></textarea>\t\t\t</div>\t\t\t<div class='js-code_editor__tab js-code_editor__select hide'>\t\t\t\t<div class='code_editor__content__title-container'>\t\t\t\t\t<div class='code_editor__content__title'>Component Switcher</div>\t\t\t\t\t<div class='code_editor__content__subtitle'>Overview of components that can be programmed using the code editor.</div>\t\t\t\t</div>\t\t\t\t<div class='js-code_editor__select__container'></div>\t\t\t\t<div class='code_editor__select__option js-code_editor__select__option--template clearfix hide'>\t\t\t\t\t<a class='js-code_editor__select__option__action'><div class='left js-code_editor__select__option__text'></div></a>\t\t\t\t\t<div class='right'><a class='btn btn--s btn--accent_white_accent js-code_editor__select__option__action js-code_editor__select__option__btn'></a></div>\t\t\t\t</div>\t\t\t</div>\t\t\t<div class='js-code_editor__tab js-code_editor__libraries hide'>\t\t\t\t<div class='code_editor__content__title-container clearfix'>\t\t\t\t\t<div class='float code_editor__big_icon'>\t\t\t\t\t\t<%= embedded_svg(\"icon-documentbox.svg\") %>\t\t\t\t\t</div>\t\t\t\t\t<div class='float'>\t\t\t\t\t\t<div class='code_editor__content__title'>Libraries with compatible components</div>\t\t\t\t\t\t<div class='code_editor__content__subtitle'>Libraries that interact with components available in the editor.</div>\t\t\t\t\t</div>\t\t\t\t</div>\t\t\t\t<div class='code_editor__select__option clearfix'>\t\t\t\t\t<div class='left code_editor__library-name'>EEPROM</div>\t\t\t\t\t<div class='left code_editor__library-description'>Reading and writing to \"permanent\" storage</div>\t\t\t\t\t<div class='right'><a class='btn btn--s btn--accent_white_accent js-code_editor__library-btn' data-library='eeprom'>Include</a></div>\t\t\t\t</div>\t\t\t\t<div class='code_editor__select__option clearfix'>\t\t\t\t\t<div class='left code_editor__library-name'>IRremoteInterrupts</div>\t\t\t\t\t<div class='left code_editor__library-description'>Interrupt based library to decode IR sensors</div>\t\t\t\t\t<div class='right'><a class='btn btn--s btn--accent_white_accent js-code_editor__library-btn' data-library='IRremoteInterrupts'>Include</a></div>\t\t\t\t</div>\t\t\t\t<div class='code_editor__select__option clearfix'>\t\t\t\t\t<div class='left code_editor__library-name'>IRremote</div>\t\t\t\t\t<div class='left code_editor__library-description'>Library to decode IR sensors</div>\t\t\t\t\t<div class='right'><a class='btn btn--s btn--accent_white_accent js-code_editor__library-btn' data-library='IRremote'>Include</a></div>\t\t\t\t</div>                <div class='code_editor__select__option clearfix'>                    <div class='left code_editor__library-name'>LiquidCrystal</div>                    <div class='left code_editor__library-description'>Controlling liquid crystal displays (LCDs)</div>                    <div class='right'><a class='btn btn--s btn--accent_white_accent js-code_editor__library-btn' data-library='liquidcrystal'>Include</a></div>                </div>                <div class='code_editor__select__option clearfix'>                    <div class='left code_editor__library-name'>Keypad</div>                    <div class='left code_editor__library-description'>Allows reading keypad button pushes</div>                    <div class='right'><a class='btn btn--s btn--accent_white_accent js-code_editor__library-btn' data-library='keypad'>Include</a></div>                </div>\t\t\t\t<div class='code_editor__select__option clearfix'>\t\t\t\t\t<div class='left code_editor__library-name'>NeoPixel</div>\t\t\t\t\t<div class='left code_editor__library-description'>Controlling NeoPixel LEDs</div>\t\t\t\t\t<div class='right'><a class='btn btn--s btn--accent_white_accent js-code_editor__library-btn' data-library='neopixel'>Include</a></div>\t\t\t\t</div>                <div class='code_editor__select__option clearfix'>\t\t\t\t\t<div class='left code_editor__library-name'>Servo</div>\t\t\t\t\t<div class='left code_editor__library-description'>Controlling servo motors</div>\t\t\t\t\t<div class='right'><a class='btn btn--s btn--accent_white_accent js-code_editor__library-btn' data-library='servo'>Include</a></div>\t\t\t\t</div>                <div class='code_editor__select__option clearfix'>                    <div class='left code_editor__library-name'>Software Serial</div>                    <div class='left code_editor__library-description'>Allow serial communication on other digital pins of the Arduino</div>                    <div class='right'><a class='btn btn--s btn--accent_white_accent js-code_editor__library-btn' data-library='softwareserial'>Include</a></div>                </div>                <div class='code_editor__select__option clearfix'>                    <div class='left code_editor__library-name'>Wire</div>                    <div class='left code_editor__library-description'>This library allows you to communicate with I2C / TWI devices</div>                    <div class='right'><a class='btn btn--s btn--accent_white_accent js-code_editor__library-btn' data-library='wire'>Include</a></div>                </div>\t\t\t\t<div class='code_editor__content__title-container clearfix'>\t\t\t\t\t<div class='float code_editor__big_icon'>\t\t\t\t\t\t<%= embedded_svg(\"icon-documentbox.svg\") %>\t\t\t\t\t</div>\t\t\t\t\t<div class='float'>\t\t\t\t\t\t<div class='code_editor__content__title'>Other libraries</div>\t\t\t\t\t\t<div class='code_editor__content__subtitle'>Libaries that can be included but have no effect in the simulator.</div>\t\t\t\t\t</div>\t\t\t\t</div>                <div class='code_editor__select__option clearfix'>                    <div class='left code_editor__library-name'>SD</div>                    <div class='left code_editor__library-description'>The SD library allows for reading from and writing to SD cards</div>                    <div class='right'><a class='btn btn--s btn--accent_white_accent js-code_editor__library-btn' data-library='SD'>Include</a></div>                </div>                <div class='code_editor__select__option clearfix'>                    <div class='left code_editor__library-name'>SPI</div>                    <div class='left code_editor__library-description'>Communicating with devices using the Serial Peripheral Interface (SPI) Bus</div>                    <div class='right'><a class='btn btn--s btn--accent_white_accent js-code_editor__library-btn' data-library='spi'>Include</a></div>                </div>                <div class='code_editor__select__option clearfix'>                    <div class='left code_editor__library-name'>Stepper</div>                    <div class='left code_editor__library-description'>Controlling stepper motors</div>                    <div class='right'><a class='btn btn--s btn--accent_white_accent js-code_editor__library-btn' data-library='stepper'>Include</a></div>                </div>                \x3c!-- <div class='code_editor__select__option clearfix'>                                                                   <div class='left code_editor__library-name'>EEPROM</div>                                                                   <div class='left code_editor__library-description'>Reading and writing to \"permanent\" storage</div>                                                                   <div class='right'><a class='btn btn--s btn--accent_white_accent js-code_editor__library-btn' data-library='eeprom'>Include</a></div>                                                               </div>                                                               <div class='code_editor__select__option clearfix'>                                                                   <div class='left code_editor__library-name'>Ethernet</div>                                                                   <div class='left code_editor__library-description'>For connecting to the internet using the Arduino Ethernet ShieldControlling liquid crystal displays (LCDs)</div>                                                                   <div class='right'><a class='btn btn--s btn--accent_white_accent js-code_editor__library-btn' data-library='ethernet'>Include</a></div>                                                               </div>         --\x3e\t\t\t</div>\t\t</div>\t</div>\t<div class='code_editor__serial-monitor js-code_editor__serial-monitor hide'>\t\t<div class='code_editor__serial-monitor__content js-code_editor__serial-monitor__content'></div>\t\t<div class='code_editor__serial-monitor__bottom js-code_editor__serial-monitor__bottom clearfix'>\t\t\t<form class='js-code_editor__serial-monitor--form'>\t\t\t\t<input type='text' class='code_editor__serial-monitor__input js-code_editor__serial-monitor__input'>\t\t\t\t<input type='submit' class='serial-monitor__send' value='Send'>\t\t\t</form>\t\t</div>\t</div>\t<div class='code_editor__debugger js-code_editor__debugger hide'>\t\t<div class='code_editor__debugger__top clearfix'>\t\t\t<div class='code_editor__debugger__top__icon float'>\t\t\t\t<a class='js-code_editor__breakpoints__play' title=\"Resume execution\">\t\t\t\t\t<div class='cio-ui-icon'><%= embedded_svg(\"icon-resume.svg\") %></div>\t\t\t\t</a>\t\t\t</div>\t\t\t<div class='code_editor__debugger__top__icon float'>\t\t\t\t<a class='js-code_editor__breakpoints__pause' title=\"Pause execution\">\t\t\t\t\t<div class='cio-ui-icon'><%= embedded_svg(\"icon-pause.svg\") %></div>\t\t\t\t</a>\t\t\t</div>\t\t\t<div class='code_editor__debugger__top__icon float'>\t\t\t\t<a class='js-code_editor__breakpoints__step' title=\"Step Over Next Function\">\t\t\t\t\t<div class='cio-ui-icon'><%= embedded_svg(\"icon-step-over-next-function.svg\") %></div>\t\t\t\t</a>\t\t\t</div>\t\t\t<div class='code_editor__debugger__top__icon float'>\t\t\t\t<a class='js-code_editor__breakpoints__deactivate' title=\"Deactivate Breakpoints\">\t\t\t\t\t<div class='cio-ui-icon'><%= embedded_svg(\"icon-deactivate-breakpoints.svg\") %></div>\t\t\t\t</a>\t\t\t</div>\t\t\t<div class='code_editor__debugger__top__icon float'>\t\t\t\t<a class='js-code_editor__breakpoints__activate' title=\"Activate Breakpoints\">\t\t\t\t\t<div class='cio-ui-icon'><%= embedded_svg(\"icon-activate-breakpoints.svg\") %></div>\t\t\t\t</a>\t\t\t</div>\t\t\t\t\t</div>\t\t<div class='code_editor__debugger__content'>\t\t\t<div class='code_editor__debugger__content__title'>How it works</div>\t\t\t<div class='code_editor__debugger__content__list'>\t\t\t\t<div class='code_editor__debugger__content__list__item'>1. Add breakpoints by clicking on the linenumbers.</div>\t\t\t\t<div class='code_editor__debugger__content__list__item'>2. Start simulation</div>\t\t\t\t<div class='code_editor__debugger__content__list__item'>3. Hover over the variables while paused to see their value.</div>\t\t\t</div>\t\t\t<div class='code_editor__debugger__content__learnmore'>\t\t\t\t<a href='/help' target='_blank' class='btn btn--m btn--none_base_borders'>\t\t\t\t\t<div class='btn__txt'>Learn more</div>\t\t\t\t</a>\t\t\t</div>\t\t</div>\t</div>\t<div class='code_editor__error js-code_editor__error hide'>\t\t<div class='code_editor__error__top clearfix'>\t\t\t<div class='code_editor__error__top__title float'>Sorry, it seems like your code has some errors preventing us from running the code.</div>\t\t\t<div class='code_editor__error__top__close right'>\t\t\t\t<div class=\"dual_btn dual_btn--white-hover js-code_editor__error__close\">\t\t\t\t\t<a class=\"clearfix\" title=\"Close\">\t\t\t\t\t\t<div class=\"dual_btn__text float\">Close</div> \t\t\t\t\t\t<div class=\"dual_btn__icon dual_btn__icon--white float \"><%= embedded_svg(\"icon-close.svg\") %></div>\t\t\t\t\t</a>\t\t\t\t</div>\t\t\t</div>\t\t</div>\t\t<div class='code_editor__error__content js-code_editor__error__content'></div>\t</div></div>",
qi="<div id='breadboardTab' class='guiTab non-selectable'></div>",zi="<div class=\"sitemenu sitemenu--editor sitemenu--editor--view js-sitemenu\">\t<div class=\"sitemenu__left clearfix\">\t\t<div class='sitemenu__item__viewactions'>\t\t\t<div class='js-sitemenu__viewactions__image-overlay hide'>\t\t\t\t\x3c!-- ALL --\x3e\t\t\t\t<div class=\"sitemenu__item--action-btn\">\t\t\t\t\t<a class='btn btn--m btn--none_base_borders js-activate-interactive-mode' title='Activate Interactive Mode'>\t\t\t\t\t\t<div class='btn__icon'><%= embedded_svg(\"icon-play.svg\") %></div>\t\t\t\t\t\t<div class='btn__txt'>Interactive Mode</div>\t\t\t\t\t</a>\t\t\t\t</div>\t\t\t</div>\t\t\t\x3c!-- BREADBOARD --\x3e\t\t\t<div class='breadboard js-submenu-breadboard'>\t\t\t\t<div class=\"editor_actions__action js-simulation\">\t\t\t\t\t<a class='btn btn--m btn--none_base_borders js-simulation-menu js-toggleSimulation' title='Start/Stop Simulation'>\t\t\t\t\t\t<div class='btn__icon'>\t\t\t\t\t\t\t<span class='js-simulation-play'><%= embedded_svg(\"icon-play.svg\") %></span>\t\t\t\t\t\t\t<span class='js-simulation-stop hide'><%= embedded_svg(\"icon-stop.svg\") %></span>\t\t\t\t\t\t\t<span class='js-simulation-spinner hide'></span>\t\t\t\t\t\t</div>\t\t\t\t\t\t<div class='btn__txt js-simulation-text'>Start Simulation</div>\t\t\t\t\t</a>\t\t\t\t</div>\t\t\t\t<div class=\"editor_actions__action\">\t\t\t\t\t<a class='btn btn--m btn--none_base_borders js-toggle_code_editor' title='Toggle code editor'>\t\t\t\t\t\t<div class='btn__icon'><%= embedded_svg(\"icon-codeeditor.svg\") %></div>\t\t\t\t\t\t<div class='btn__txt'>Code Editor</div>\t\t\t\t\t</a>\t\t\t\t</div>\t\t\t</div>\t\t\t\x3c!-- CIRCUITSCRIBE --\x3e\t\t\t<div class='circuitscribe js-submenu-circuitscribe'>\t\t\t\t<div class=\"editor_actions__action js-simulation\">\t\t\t\t\t<a class='btn btn--m btn--none_base_borders js-simulation-menu js-toggleSimulation' title='Start/Stop Simulation'>\t\t\t\t\t\t<div class='btn__icon'>\t\t\t\t\t\t\t<span class='js-simulation-play'><%= embedded_svg(\"icon-play.svg\") %></span>\t\t\t\t\t\t\t<span class='js-simulation-stop hide'><%= embedded_svg(\"icon-stop.svg\") %></span>\t\t\t\t\t\t\t<span class='js-simulation-spinner hide'></span>\t\t\t\t\t\t</div>\t\t\t\t\t\t<div class='btn__txt js-simulation-text'>Start Simulation</div>\t\t\t\t\t</a>\t\t\t\t</div>\t\t\t</div>\t\t\t\x3c!-- PCB --\x3e\t\t\t<div class='pcb js-submenu-pcb'>                <div class=\"editor_actions__action\">                    <a class='btn btn--m btn--none_base_borders js-layers__toggle' title='Toggle layers window'>                        <div class='btn__icon'><%= embedded_svg(\"icon-layers.svg\") %></div>                        <div class='btn__txt'>Layers</div>                    </a>                </div>\t\t\t</div>\t\t\t\x3c!-- BOM --\x3e\t\t\t<div class='bom js-submenu-bom'>\t\t\t\t<div class=\"editor_actions__action js-submenu-bom\">\t\t\t\t\t<a class='btn btn--m btn--none_base_borders js-bom-download-csv'>\t\t\t\t\t\t<div class='btn__icon'><%= embedded_svg(\"icon-doc-svg.svg\") %></div>\t\t\t\t\t\t<div class='btn__txt'>Downloading CSV</div>\t\t\t\t\t</a>\t\t\t\t</div>\t\t\t</div>\t\t\t<div class=\"sitemenu__right\">\t\t\t\t<div class='sitemenu__right__item--editor sitemenu__borderleft'>\t\t\t\t\t<% if ( model.meta('circuit_type') == \"circuitscribe\" ) { %>\t\t\t\t\t<div class='sitemenu__right__item--editor'>\t\t\t\t\t\t<a class=\"js-circuit_circuitscribe_button js-circuits_menu_hash_btn\" href=\"#circuitscribe\" title=\"Sketch View\">\t\t\t\t\t\t\t<div class=\"sitemenu__view_switch sitemenu__svg_block_btn\"><%= embedded_svg(\"icon-view-sketch.svg\") %></div>\t\t\t\t\t\t</a>\t\t\t\t\t</div>\t\t\t\t\t<% } %>\t\t\t\t\t<% if ( model.meta('circuit_type') == \"breadboard\" ) { %>\t\t\t\t\t<div class='sitemenu__right__item--editor'>\t\t\t\t\t\t<a class=\"js-circuit_breadboard_button js-circuits_menu_hash_btn\" href=\"#breadboard\" title=\"Lab View\">\t\t\t\t\t\t\t<div class=\"sitemenu__view_switch sitemenu__svg_block_btn\"><%= embedded_svg(\"icon-view-electronicslab.svg\") %></div>\t\t\t\t\t\t</a>\t\t\t\t\t</div>\t\t\t\t\t<% } %>\t\t\t\t\t<% if ( model.meta('circuit_type') == \"breadboard\" || model.meta('circuit_type') == \"schematic\" || model.meta('circuit_type') == \"mesh_pcb\" || ( model.meta('circuit_type') == \"circuitscribe\" && model.meta('rails_env') == 'development' )) { %>\t\t\t\t\t<div class='sitemenu__right__item--editor'>\t\t\t\t\t\t<a class=\"js-circuit_schematic_button js-circuits_menu_hash_btn\" href=\"#schematic\" title=\"Schematics View\">\t\t\t\t\t\t\t<div class=\"sitemenu__view_switch sitemenu__svg_block_btn\"><%= embedded_svg(\"icon-view-schematic.svg\") %></div>\t\t\t\t\t\t</a>\t\t\t\t\t</div>\t\t\t\t\t<% } %>\t\t\t\t\t<% if ( model.meta('circuit_type') == \"breadboard\" || model.meta('circuit_type') == \"schematic\" || model.meta('circuit_type') == \"mesh_pcb\" ) { %>\t\t\t\t\t<div class='sitemenu__right__item--editor'>\t\t\t\t\t\t<a class=\"js-circuit_pcb_button js-circuits_menu_hash_btn\" href=\"#pcb\" title=\"PCB View\">\t\t\t\t\t\t\t<div class=\"sitemenu__view_switch sitemenu__svg_block_btn\"><%= embedded_svg(\"icon-view-pcb.svg\") %></div>\t\t\t\t\t\t</a>\t\t\t\t\t</div>\t\t\t\t\t<% } %>\t\t\t\t\t<div class='sitemenu__right__item--editor'>\t\t\t\t\t\t<a class=\"js-circuit_bom_button js-circuits_menu_hash_btn\" href=\"#bom\" title=\"Bill Of Materials\">\t\t\t\t\t\t\t<div class=\"sitemenu__view_switch sitemenu__svg_block_btn\"><%= embedded_svg(\"icon-view-bom.svg\") %></div>\t\t\t\t\t\t</a>\t\t\t\t\t</div>\t\t\t\t</div>\t\t\t</div>\t\t</div>\t</div></div>",
Zi="  <table class=\"search_results__table\">    <% results.forEach(function(result){ %>        <tr class='search_results__row'>          <td class='search_results__thumb'>              <% if ( result.thumbUrl ) { %>                <img src=\"<%= result.thumbUrl %>\" class=\"search_results__thumb__img\"/>              <% } %>          </td>          <td class='search_results__name'><a href=\"<%= result.rest_id %>\" target='_blank'><%= result.name %></a></td>          <td class='search_results__description'><%= result.description %></td>          <td class='search_results__add'>            <a class='btn btn--s btn--accent_white_accent js-add-component' data-did='<%= (result.footprints) ? result.footprints[0].id : result.footprint.id %>'>Add</a>          </td>        </tr>    <% }); %>  </table>",
si="<div id='schematicTab' class='guiTab non-selectable'></div>",Ii='<div class="sitemenu sitemenu--editor sitemenu--editor_submenu circuitscribe">\t<div class="sitemenu__left">\t\t<div class="editor_tools">\t\t\t<div class=\'editor_tools__tool\'>\t\t\t\t<a class="rotate js-rotate" title="Rotate">\t\t\t\t\t<div class="sitemenu__svg_block_btn"><%= embedded_svg("icon-rotate-cw.svg") %></div>\t\t\t\t</a>\t\t\t</div>\t\t\t<div class=\'editor_tools__tool\'>\t\t\t\t<a class="delete js-delete" title="Delete">\t\t\t\t\t<div class="sitemenu__svg_block_btn"><%= embedded_svg("icon-trash.svg") %></div>\t\t\t\t</a>\t\t\t</div>\t\t\t<div class=\'editor_tools__tool sitemenu__borderleft\'>\t\t\t\t<a class="zoomToFit js-zoomToFit" title="Zoom To Fit">\t\t\t\t\t<div class="sitemenu__svg_block_btn"><%= embedded_svg("icon-zoomall.svg") %></div>\t\t\t\t</a>\t\t\t</div>\t\t\t<div class=\'editor_tools__tool sitemenu__borderleft\'>\t\t\t\t<a class="undo js-undo" title="Undo">\t\t\t\t\t<div class="sitemenu__svg_block_btn"><%= embedded_svg("icon-previous.svg") %></div>\t\t\t\t</a>\t\t\t</div>\t\t\t<div class=\'editor_tools__tool sitemenu__borderright\'>\t\t\t\t<a class="redo js-redo" title="Redo">\t\t\t\t\t<div class="sitemenu__svg_block_btn"><%= embedded_svg("icon-next.svg") %></div>\t\t\t\t</a>\t\t\t</div>\t\t</div>\t</div>\t\t<div class="sitemenu__right sitemenu__right--editor_submenu editor_actions">\t\t<% if ( model.meta(\'coppa_allowed\') ) { %>\t\t\t<div class="editor_actions__action editor_actions__chat_icon js-chat__toggle">\t\t\t\t<a class="editor_tools__tool bordered_icon_btn" title="Toggle chat window"><%= embedded_svg("icon-chat.svg") %></a>\t\t\t</div>\t\t<% } %>\t\t<div class="editor_actions__action">\t\t\t<a class=\'btn btn--m btn--none_base_borders js-circuitscribe_view__toggle\' title=\'Views\'>\t\t\t\t<div class=\'btn__icon\'><%= embedded_svg("icon-layer-visible.svg") %></div>\t\t\t\t<div class=\'btn__txt\'>View</div>\t\t\t</a>\t\t</div>\t\t<div class="editor_actions__action">\t\t\t<a class=\'btn btn--m btn--none_base_borders js-circuitscribe-papersettings\' title=\'Paper Settings\'>\t\t\t\t<div class=\'btn__icon\'><%= embedded_svg("icon-printer.svg") %></div>\t\t\t\t<div class=\'btn__txt\'>Paper Settings</div>\t\t\t</a>\t\t</div>\t\t<div class="editor_actions__action">\t\t\t<a class=\'btn btn--m btn--none_base_borders js-download_circuitscribe_pdf\' title=\'Paper Settings\'>\t\t\t\t<div class=\'btn__icon\'><%= embedded_svg("icon-doc-pdf.svg") %></div>\t\t\t\t<div class=\'btn__txt\'>Download PDF</div>\t\t\t</a>\t\t</div>\t\t<div class="editor_actions__action">\t\t\t<a class=\'btn btn--m btn--none_base_borders js-circuitscribe_footprint_search_toggle_btn\' title=\'Add Footprint\'>\t\t\t\t<div class=\'btn__icon\'><%= embedded_svg("icon-plus.svg") %></div>\t\t\t\t<div class=\'btn__txt\'>Footprints</div>\t\t\t</a>\t\t</div>\t\t<div class="editor_actions__action">\t\t\t<a class=\'btn btn--m btn--none_base_borders js-component_search_toggle_btn\' title=\'Add Module\'>\t\t\t\t<div class=\'btn__icon\'><%= embedded_svg("icon-plus.svg") %></div>\t\t\t\t<div class=\'btn__txt\'>Modules</div>\t\t\t</a>\t\t</div>\t\t<div class="editor_actions__action js-simulation">\t\t\t<a class=\'btn btn--m btn--none_base_borders js-simulation-menu js-toggleSimulation\' title=\'Start/Stop Simulation\'>\t\t\t\t<div class=\'btn__icon\'>\t\t\t\t\t<span class=\'js-simulation-play\'><%= embedded_svg("icon-play.svg") %></span>\t\t\t\t\t<span class=\'js-simulation-stop hide\'><%= embedded_svg("icon-stop.svg") %></span>\t\t\t\t\t<span class=\'js-simulation-spinner hide\'></span>\t\t\t\t</div>\t\t\t\t<div class=\'btn__txt js-simulation-text\'>Start Simulation</div>\t\t\t</a>\t\t</div>\t</div></div>',
Hi='<div class="sitemenu sitemenu--editor sitemenu--editor_submenu breadboard">\t<div class="sitemenu__left">\t\t<div class="editor_tools">\t\t\t<div class=\'editor_tools__tool\'>\t\t\t\t<a class="rotate js-rotate" title="Rotate">\t\t\t\t\t<div class="sitemenu__svg_block_btn"><%= embedded_svg("icon-rotate-cw.svg") %></div>\t\t\t\t</a>\t\t\t</div>\t\t\t<div class=\'editor_tools__tool\'>\t\t\t\t<a class="delete js-delete" title="Delete">\t\t\t\t\t<div class="sitemenu__svg_block_btn"><%= embedded_svg("icon-trash.svg") %></div>\t\t\t\t</a>\t\t\t</div>\t\t\t<div class=\'editor_tools__tool sitemenu__borderleft\'>\t\t\t\t<a class="zoomToFit js-zoomToFit" title="Zoom To Fit">\t\t\t\t\t<div class="sitemenu__svg_block_btn"><%= embedded_svg("icon-zoomall.svg") %></div>\t\t\t\t</a>\t\t\t</div>\t\t\t<div class=\'editor_tools__tool sitemenu__borderleft\'>\t\t\t\t<a class="undo js-undo" title="Undo">\t\t\t\t\t<div class="sitemenu__svg_block_btn"><%= embedded_svg("icon-previous.svg") %></div>\t\t\t\t</a>\t\t\t</div>\t\t\t<div class=\'editor_tools__tool sitemenu__borderright\'>\t\t\t\t<a class="redo js-redo" title="Redo">\t\t\t\t\t<div class="sitemenu__svg_block_btn"><%= embedded_svg("icon-next.svg") %></div>\t\t\t\t</a>\t\t\t</div>\t\t</div>\t</div>    <div class="sitemenu__center sitemenu__left">        <div class=\'sitemenu__info js-breadboard-menu-info\'></div>    </div>\t<div class="sitemenu__right editor_actions">\t\t<% if ( model.meta(\'coppa_allowed\') ) { %>\t\t\t<div class="editor_actions__action editor_actions__chat_icon js-chat__toggle">\t\t\t\t<a class="editor_tools__tool bordered_icon_btn" title="Toggle chat window"><%= embedded_svg("icon-chat.svg") %></a>\t\t\t</div>\t\t<% } %>\t\t<div class="editor_actions__action">\t\t\t<a class=\'btn btn--m btn--none_base_borders js-toggle_code_editor\' title=\'Toggle code editor\'>\t\t\t\t<div class=\'btn__icon\'><%= embedded_svg("icon-codeeditor.svg") %></div>\t\t\t\t<div class=\'btn__txt\'>Code Editor</div>\t\t\t</a>\t\t</div>\t\t<div class="editor_actions__action">\t\t\t<a class=\'btn btn--m btn--none_base_borders js-component_search_toggle_btn\' title=\'Add Component\'>\t\t\t\t<div class=\'btn__icon\'><%= embedded_svg("icon-plus.svg") %></div>\t\t\t\t<div class=\'btn__txt\'>Components</div>\t\t\t</a>\t\t</div>\t\t<div class="editor_actions__action js-simulation">\t\t\t<a class=\'btn btn--m btn--none_base_borders js-simulation-menu js-toggleSimulation\' title=\'Start/Stop Simulation\'>\t\t\t\t<div class=\'btn__icon\'>\t\t\t\t\t<span class=\'js-simulation-play\'><%= embedded_svg("icon-play.svg") %></span>\t\t\t\t\t<span class=\'js-simulation-stop hide\'><%= embedded_svg("icon-stop.svg") %></span>\t\t\t\t\t<span class=\'js-simulation-spinner hide\'></span>\t\t\t\t</div>\t\t\t\t<div class=\'btn__txt js-simulation-text\'>Start Simulation</div>\t\t\t</a>\t\t</div>\t</div></div>',
yi='<div class="hidden">    <input class=\'circuit_type\' type=\'hidden\' value=\'<%= model.meta(\'circuit_type\') %>\'>    <% if ( mode == 1 ) { %>    <div class="username_holder"><%= model.meta(\'current_user\').name %></div>    <form accept-charset="UTF-8" action="<%= model.meta(\'circuit_path\') %>" class="circuit_form" method="post">        <div style="margin:0;padding:0;display:inline">            <input name="utf8" type="hidden" value="\u2713">            <input name="_method" type="hidden" value="put">            <input name="authenticity_token" type="hidden" value="<%= model.meta(\'form_authenticity_token\') %>">        </div>        <input class="input-large" id="circuit_name" name="circuit[name]" placeholder="Name of circuit" size="30" type="text" value="<%= model.meta(\'circuit_name\') %>">        <input class="btn" id="circuit_save_button" name="commit" style="margin-bottom:0px" type="submit" value="save">        <input class="js_state_holder" id="circuit_state" name="circuit[state]" type="hidden" value="<%= model.meta(\'state\') %>">        <input class="prive_holder" id="circuit_prive" name="circuit[prive]" type="hidden" value="<%= model.meta(\'prive\') %>">        <input class="share_id_holder" id="circuit_share_id" name="circuit[share_id]" type="hidden" value="<%= model.meta(\'share_id\') %>">    </form>    <div id="circuit_import_script"><%= model.meta(\'import_script\') %></div>    <div id="private_left_holder"><%= model.meta(\'current_user\') && model.meta(\'current_user_privates_allowed\') > 0 ? model.meta(\'current_user_privates_left_string\') + " already used" : "" %></div>    <div id="get_shared_path"><%= model.meta(\'shared_circuit_path\') %></div>    <div id="import_done_path"><%= model.meta(\'import_done_circuit_path\') %></div>  <% } else { %>    <div class="jsonholder"><%= model.meta(\'jsoncircuit_path\') %><%= (model.meta(\'version_id\') != "") ? "?version=" + model.meta(\'version_id\') : "" %></div>  <% } %>  <div class="<%= (mode == 1) ? "edit_modus" : "view_modus" %>"></div>  <div class=\'js-absolute-url\'><%= model.meta(\'circuit_path\') %></div></div>',
Ji='<div class="sitemenu sitemenu--editor sitemenu--editor_submenu schematic">\t<div class="sitemenu__left">\t\t<div class="editor_tools">\t\t\t<div class=\'editor_tools__tool\'>\t\t\t\t<a class="flipV js-flipV" title="Mirror Vertical">\t\t\t\t\t<div class="sitemenu__svg_block_btn"><%= embedded_svg("icon-flip-vertical.svg") %></div>\t\t\t\t</a>\t\t\t</div>\t\t\t<div class=\'editor_tools__tool\'>\t\t\t\t<a class="flipH js-flipH" title="Mirror Horizontal">\t\t\t\t\t<div class="sitemenu__svg_block_btn"><%= embedded_svg("icon-flip-horizontal.svg") %></div>\t\t\t\t</a>\t\t\t</div>\t\t\t<div class=\'editor_tools__tool\'>\t\t\t\t<a class="rotate js-rotate" title="Rotate">\t\t\t\t\t<div class="sitemenu__svg_block_btn"><%= embedded_svg("icon-rotate-cw.svg") %></div>\t\t\t\t</a>\t\t\t</div>\t\t\t<% if ( model.meta(\'circuit_type\') != "breadboard" ) { %>\t\t\t\t<div class=\'editor_tools__tool\'>\t\t\t\t\t<a class="delete js-delete" title="Delete">\t\t\t\t\t\t<div class="sitemenu__svg_block_btn"><%= embedded_svg("icon-trash.svg") %></div>\t\t\t\t\t</a>\t\t\t\t</div>\t\t\t<% } %>\t\t\t<div class=\'editor_tools__tool sitemenu__borderleft sitemenu__borderright\'>\t\t\t\t<a class="zoomToFit js-zoomToFit" title="Zoom To Fit">\t\t\t\t\t<div class="sitemenu__svg_block_btn"><%= embedded_svg("icon-zoomall.svg") %></div>\t\t\t\t</a>\t\t\t</div>\t\t\t<% if ( model.meta( \'circuit_type\') != "breadboard" ) { %>\t\t\t\t<div class=\'editor_tools__tool\'>\t\t\t\t\t<a class="undo js-undo" title="Undo">\t\t\t\t\t\t<div class="sitemenu__svg_block_btn"><%= embedded_svg("icon-previous.svg") %></div>\t\t\t\t\t</a>\t\t\t\t</div>\t\t\t\t<div class=\'editor_tools__tool sitemenu__borderright\'>\t\t\t\t\t<a class="redo js-redo" title="Redo">\t\t\t\t\t\t<div class="sitemenu__svg_block_btn"><%= embedded_svg("icon-next.svg") %></div>\t\t\t\t\t</a>\t\t\t\t</div>\t\t\t<% } %>\t\t</div>\t</div>\t<% if ( model.meta(\'circuit_type\') == "breadboard" ) { %>\t\t<div class="sitemenu__center sitemenu__left">\t\t\t<div class=\'sitemenu__info\'>This is an Electronics Lab design, you can only edit and add components in the Lab View.</div>\t\t</div>\t<% } %>\t<div class="sitemenu__right editor_actions">\t\t<% if ( model.meta(\'coppa_allowed\') ) { %>\t\t\t<div class="editor_actions__action editor_actions__chat_icon js-chat__toggle">\t\t\t\t<a class="editor_tools__tool bordered_icon_btn" title="Toggle chat window"><%= embedded_svg("icon-chat.svg") %></a>\t\t\t</div>\t\t<% } %>\t\t<% if (model.meta(\'circuit_type\') == "schematic" || model.meta(\'circuit_type\') == "mesh_pcb") { %>\t\t\t<div class="editor_actions__action">\t\t\t\t<a class=\'btn btn--m btn--none_base_borders js-component_search_toggle_btn\' title=\'Add Component\'>\t\t\t\t\t<div class=\'btn__icon\'><%= embedded_svg("icon-plus.svg") %></div>\t\t\t\t\t<div class=\'btn__txt\'>Components</div>\t\t\t\t</a>\t\t\t</div>\t\t<% } %>\t\t\t</div></div>',
Oi="<div class='drawing_aids overlay_box overlay_box--dark js-drawing_aids pcb hide'>  <div class='overlay_box__top clearfix draggable js-overlaybox-draggable'>    <div class='overlay_box__top__title float'>View</div>  </div>   <div class='overlay_box__body js-drawing_aids__body'>    <div class='drawing_aids__aid clearfix'>      <div class='drawing_aids__aid__eye float action js-toggle_grid_visibility'>        <div class='js-eye-icon'><span class='js-eye-active'><%= embedded_svg(\"icon-layer-visible.svg\") %></span><span class='js-eye-disabled hide'><%= embedded_svg(\"icon-layer-hidden.svg\") %></span></div>      </div>      <div class='drawing_aids__aid__title float'>Grid</div>      <div class='drawing_aids__aid__settings right action js-grid-settings'><%= embedded_svg(\"icon-settings-small.svg\") %></div>    </div>    <div class='drawing_aids__aid clearfix'>      <div class='drawing_aids__aid__eye float action js-toggle_board_visibility'><div class='js-eye-icon'><span class='js-eye-active'><%= embedded_svg(\"icon-layer-visible.svg\") %></span><span class='js-eye-disabled hide'><%= embedded_svg(\"icon-layer-hidden.svg\") %></span></div></div>      <div class='drawing_aids__aid__title float'>Board</div>      \x3c!-- <div class='drawing_aids__aid__settings right action js-board-settings'><%= embedded_svg(\"icon-settings-small.svg\") %></div> --\x3e    </div>  </div></div>",
xk="<% layers.forEach(function(layer){ %><div>    <div class='layers__layer clearfix js-layers__layer' data-layer='<%= layer.index %>'>        <div class='layers__layer__title float'><%= layer.name %></div>        <div class='layers__layer__colorcirle js-layers__layer__colorcirle right' style=\"background-color: <%= layer.color %>\"></div>    </div></div><% }); %>",Ni="<div class='layers overlay_box overlay_box--dark js-layers pcb hide'>  <div class='overlay_box__top clearfix draggable js-overlaybox-draggable'>    <div class='overlay_box__top__title float'>Layers</div>    <div class='overlay_box__top__settings right'>        \x3c!-- <a href=\"#settings\"><%= embedded_svg( 'icon-settings-small.svg' ) %></a> --\x3e    </div>  </div>   <div class='overlay_box__body js-layers__body'></div></div>",
Pi="<div class='drawing_aids overlay_box js-circuitscribe_view circuitscribe hide'>  <div class='overlay_box__top clearfix draggable js-overlaybox-draggable'>    <div class='overlay_box__top__title float'>View</div>  </div>   <div class='overlay_box__body'>    <div class='overlay_box__item overlay_box__item--cursor non-selectable js-toggle_modules_visibility clearfix'>      <div class='overlay_box__eye float action'>        <div class='js-eye-icon'><span class='js-eye-active'><%= embedded_svg(\"icon-layer-visible.svg\") %></span><span class='js-eye-disabled hide'><%= embedded_svg(\"icon-layer-hidden.svg\") %></span></div>      </div>      <div class='overlay_box__title float'>Modules</div>    </div>    <div class='overlay_box__item overlay_box__item--cursor non-selectable js-toggle_paper_visibility clearfix'>      <div class='overlay_box__eye float action'>        <div class='js-eye-icon'><span class='js-eye-active hide'><%= embedded_svg(\"icon-layer-visible.svg\") %></span><span class='js-eye-disabled'><%= embedded_svg(\"icon-layer-hidden.svg\") %></span></div>      </div>      <div class='overlay_box__title float'>Paper</div>    </div>  </div></div>";var ni={icon_view_bom:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M4,6 L8,6 L8,10 L4,10 L4,6 Z M10,6 L26,6 L26,10 L10,10 L10,6 Z M4,13 L8,13 L8,17 L4,17 L4,13 Z M10,13 L26,13 L26,17 L10,17 L10,13 Z M4,20 L8,20 L8,24 L4,24 L4,20 Z M10,20 L26,20 L26,24 L10,24 L10,20 Z" transform="translate(0 0)" fill-rule="evenodd"></path></svg>',icon_rotate_cw:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g fill-rule="evenodd"><path d="M14.184939,10.3060673 C13.0146834,10.2204043 11.8221769,10.3175494 10.7542788,10.6800228 C8.73474782,11.365506 7.47636435,12.8861438 7.22045294,15.5976842 C7.1783907,16.0433598 6.78300113,16.370553 6.3373256,16.3284907 C5.89165008,16.2864285 5.56445686,15.8910389 5.60651909,15.4453634 C5.92384153,12.083135 7.62178486,10.0313306 10.233229,9.14493607 C11.4416425,8.73476792 12.734191,8.60676736 14.0076925,8.6709158 L13.7430633,8.38160488 C13.4409264,8.05128802 13.4637709,7.53858298 13.7940877,7.23644613 C14.1244046,6.93430928 14.6371096,6.95715369 14.9392465,7.28747055 L16.6089951,9.11295498 C16.9045367,9.4360615 16.890028,9.93548325 16.5762274,10.2408877 L14.7395835,12.0283904 C14.4187803,12.3406102 13.9056137,12.333652 13.5933939,12.0128488 C13.2811741,11.6920456 13.2881323,11.178879 13.6089356,10.8666592 L14.184939,10.3060673 L14.184939,10.3060673 Z" transform="translate(-678 -318) translate(678 318)"></path><path d="M17.0223569,14.6282576 L17.0223569,20.5810833 C17.0223569,21.1755359 16.5331801,21.6579936 15.9425537,21.658668 L3.8911019,21.6724289 C3.29474306,21.6731099 3.23660745,21.4305939 3.74372593,21.1407708 L16.0899297,14.084797 C16.6048951,13.7904893 17.0223569,14.0346698 17.0223569,14.6282576 Z M8.93890378,20.0375631 L15.4012513,20.0375631 L15.4012513,16.3507691 L8.93890378,20.0375631 Z" transform="translate(-678 -318) translate(678 318)"></path><path d="M25.5318323,21.6400003 L19.5790065,21.6400003 C18.9845539,21.6400003 18.5025559,21.1501891 18.5024365,20.5587967 L18.5,8.4917144 C18.4998795,7.8945821 18.7424501,7.83637109 19.0317967,8.34414729 L26.076169,20.7063638 C26.3699928,21.221997 26.1254201,21.6400003 25.5318323,21.6400003 Z" transform="translate(-678 -318) translate(678 318)"></path></g></svg>',
icon_printer:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g transform="translate(0 0)" fill-rule="evenodd"><rect x="10" y="17" width="11" height="6"></rect><rect x="10" y="8" width="11" height="2"></rect><path d="M23,11 L8,11 C6.896,11 6,11.895 6,13 L6,18.5 C6,19.328 6.672,20 7.5,20 L9,20 L9,16.5 C9,16.224 9.224,16 9.5,16 L21.5,16 C21.776,16 22,16.224 22,16.5 L22,20 L23.5,20 C24.328,20 25,19.328 25,18.5 L25,13 C25,11.895 24.104,11 23,11 L23,11 Z M22,14 C21.448,14 21,13.552 21,13 C21,12.448 21.448,12 22,12 C22.552,12 23,12.448 23,13 C23,13.552 22.552,14 22,14 L22,14 Z"></path></g></svg>',
icon_littlebits:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M23.8928283,12.9655 C23.6038283,11.6855 23.1728283,10.4695 22.4898283,9.3505 C21.9998283,8.5485 21.4068283,7.8375 20.7328283,7.1955 C20.1898283,6.6785 19.5848283,6.2525 18.9418283,5.8755 C18.3698283,5.5395 17.7738283,5.2665 17.1498283,5.0565 C16.5408283,4.8505 15.9168283,4.7155 15.2818283,4.6195 C14.7508283,4.5385 14.2168283,4.5105 13.6838283,4.5105 C13.5688283,4.5105 13.4538283,4.5125 13.3388283,4.5145 C12.6818283,4.5285 12.0278283,4.6065 11.3808283,4.7495 C10.7258283,4.8955 10.0908283,5.0965 9.48282834,5.3795 C8.25682834,5.9505 7.27682834,6.8305 6.50382834,7.9565 C6.13382834,8.4965 5.87582834,9.0975 5.64182834,9.7095 C5.33382834,10.5135 5.14482834,11.3485 5.06082834,12.2055 C5.01182834,12.7045 4.99382834,13.2085 5.00182834,13.7095 C5.01382834,14.5135 5.07882834,15.3145 5.24882834,16.1025 C5.39282834,16.7705 5.56482834,17.4325 5.78882834,18.0765 C5.94082834,18.5145 6.09982834,18.9515 6.29382834,19.3715 C6.47982834,19.7745 6.70782834,20.1575 6.92882834,20.5425 C7.56082834,21.6455 8.31982834,22.6405 9.28982834,23.4535 C9.54382834,23.6675 9.81182834,23.8625 10.0768283,24.0605 C10.5748283,24.4335 11.1238283,24.7215 11.6968283,24.9405 C12.1768283,25.1245 12.6798283,25.2575 13.1838283,25.3595 C13.5878283,25.4415 13.9968283,25.4895 14.4108283,25.4895 C14.5318283,25.4895 14.6538283,25.4855 14.7748283,25.4765 C15.3708283,25.4335 15.9608283,25.3735 16.5348283,25.2005 C16.9428283,25.0775 17.3618283,24.9755 17.7528283,24.8085 C18.4248283,24.5235 19.0738283,24.1915 19.6828283,23.7715 C20.4758283,23.2235 21.2168283,22.6165 21.8328283,21.8665 C22.4238283,21.1485 22.9388283,20.3775 23.2868283,19.4945 C23.5948283,18.7155 23.8978283,17.9395 23.9948283,17.0965 C24.0488283,16.6355 24.1138283,16.1755 24.1568283,15.8475 C24.1398283,14.7885 24.0968283,13.8705 23.8928283,12.9655 L23.8928283,12.9655 Z M22.5118283,16.1095 C22.4698283,16.6405 22.3788283,17.1595 22.2418283,17.6695 C22.0668283,18.3215 21.8148283,18.9395 21.4878283,19.5325 C21.1298283,20.1825 20.6938283,20.7615 20.1788283,21.2855 C19.5088283,21.9675 18.7358283,22.4975 17.8978283,22.9325 C17.2378283,23.2745 16.5478283,23.5365 15.8228283,23.6895 C15.3618283,23.7875 14.9008283,23.8415 14.4418283,23.8415 C13.9078283,23.8415 13.3748283,23.7675 12.8448283,23.6005 C11.5358283,23.1875 10.4398283,22.4415 9.53282834,21.3975 C8.90982834,20.6805 8.37682834,19.8995 7.94182834,19.0445 C7.50682834,18.1895 7.21882834,17.2865 6.96182834,16.3635 C6.70882834,15.4585 6.62482834,14.5375 6.59282834,13.6065 L6.60882834,13.3335 L6.59882834,13.3335 C6.62382834,12.9505 6.62882834,12.5655 6.67582834,12.1865 C6.82082834,10.9895 7.19782834,9.8745 7.84882834,8.8705 C8.42882834,7.9765 9.20982834,7.3205 10.1668283,6.8775 C11.2918283,6.3565 12.4738283,6.1615 13.6978283,6.1615 L13.7208283,6.1615 C14.2928283,6.1625 14.8598283,6.1995 15.4218283,6.3005 C15.9128283,6.3895 16.4028283,6.4875 16.8628283,6.6915 C17.3098283,6.8895 17.7578283,7.0865 18.1908283,7.3135 C18.7558283,7.6095 19.2518283,8.0165 19.7038283,8.4685 C20.0658283,8.8285 20.4048283,9.2185 20.7148283,9.6265 C21.2988283,10.3935 21.7288283,11.2515 22.0438283,12.1715 C22.4818283,13.4485 22.6188283,14.7605 22.5118283,16.1095 L22.5118283,16.1095 Z M16.4828283,13.4865 C17.2858283,12.8395 18.0888283,12.1925 18.8918283,11.5455 C19.2648283,11.2455 19.3458283,10.7115 19.0718283,10.3525 C18.9128283,10.1435 18.6958283,10.0375 18.4668283,10.0375 C18.2818283,10.0385 18.0888283,10.1075 17.9118283,10.2485 C17.3798283,10.6745 16.8458283,11.0995 16.3128283,11.5255 C15.9138283,11.8455 15.5158283,12.1675 15.1168283,12.4875 C15.0368283,12.5515 14.9838283,12.5835 14.9358283,12.5835 C14.8818283,12.5835 14.8338283,12.5425 14.7628283,12.4575 L14.5798283,12.2245 C14.0188283,11.4475 13.4638283,10.6665 12.8968283,9.8955 C12.6938283,9.6185 12.4728283,9.3555 12.2418283,9.1035 C12.0888283,8.9365 11.8988283,8.8485 11.6858283,8.8485 C11.6288283,8.8485 11.5708283,8.8545 11.5118283,8.8675 C11.0478283,8.9635 10.6268283,9.6075 11.0938283,10.2125 C11.4968283,10.7335 11.9118283,11.2455 12.3018283,11.7765 C12.7188283,12.3445 13.1158283,12.9285 13.5158283,13.5095 C13.6428283,13.6945 13.6318283,13.7215 13.4738283,13.8765 L13.3548283,13.9865 C12.9188283,14.3885 12.4808283,14.7885 12.0468283,15.1935 C11.5328283,15.6735 11.0648283,16.1975 10.6378283,16.7595 L10.4378283,17.1125 C10.2388283,17.6415 10.5968283,18.1755 11.1478283,18.1905 C11.1568283,18.1905 11.1648283,18.1915 11.1738283,18.1915 C11.4738283,18.1915 11.6918283,18.0465 11.8738283,17.8075 C12.6078283,16.8485 13.4808283,16.0335 14.3948283,15.2605 C14.4728283,15.1945 14.5258283,15.1605 14.5728283,15.1605 C14.6258283,15.1605 14.6728283,15.2035 14.7438283,15.2945 C15.0638283,15.7085 15.3788283,16.1275 15.6918283,16.5465 C16.2118283,17.2415 16.7248283,17.9405 17.2498283,18.6315 C17.4078283,18.8395 17.5828283,19.0385 17.7738283,19.2145 C17.9338283,19.3625 18.1168283,19.4395 18.3048283,19.4395 C18.4248283,19.4395 18.5468283,19.4085 18.6678283,19.3445 C18.9548283,19.1915 19.1028283,18.9275 19.0788283,18.5755 C19.0668283,18.4045 19.0218283,18.2565 18.9128283,18.1245 C18.6368283,17.7905 18.3538283,17.4625 18.0938283,17.1155 C17.5028283,16.3275 16.9218283,15.5325 16.3408283,14.7365 C16.1768283,14.5125 16.0268283,14.2775 15.8608283,14.0335 L16.0628283,13.8225 L16.4828283,13.4865 L16.4828283,13.4865 Z" transform="translate(0 0)" fill-rule="evenodd"></path></svg>',
icon_polygon:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M10.82425,21.743 C10.97425,22.03 11.34325,22.264 11.64225,22.264 L18.30625,22.264 C18.60625,22.264 18.97425,22.029 19.12425,21.743 L22.35025,15.597 C22.50025,15.31 22.50025,14.841 22.35025,14.555 L19.12425,8.409 C18.97425,8.122 18.60525,7.888 18.30625,7.888 L11.64225,7.888 C11.34225,7.888 10.97425,8.123 10.82425,8.409 L7.59825,14.555 C7.44825,14.842 7.44825,15.311 7.59825,15.597 L10.82425,21.743 L10.82425,21.743 Z M20.10825,23.63 C19.95825,23.917 19.58925,24.151 19.29025,24.151 L10.65925,24.151 C10.35925,24.151 9.99125,23.916 9.84125,23.63 L5.62525,15.597 C5.45825,15.31 5.45825,14.841 5.62525,14.555 L9.84125,6.521 C9.99125,6.234 10.36025,6 10.65925,6 L19.29025,6 C19.59025,6 19.95825,6.235 20.10825,6.521 L24.32425,14.554 C24.47425,14.841 24.47425,15.31 24.32425,15.596 L20.10825,23.63 L20.10825,23.63 Z" transform="translate(0 0)" fill-rule="evenodd"></path></svg>',
icon_printer_extended:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g transform="translate(0 0)" fill-rule="evenodd"><rect x="9" y="17" width="12" height="7"></rect><rect x="9" y="7" width="12" height="3"></rect><path d="M23,11 L7,11 C5.896,11 5,11.895 5,13 L5,18.5 C5,19.328 5.672,20 6.5,20 L8,20 L8,16.5 C8,16.224 8.224,16 8.5,16 L21.5,16 C21.776,16 22,16.224 22,16.5 L22,20 L23.5,20 C24.328,20 25,19.328 25,18.5 L25,13 C25,11.895 24.104,11 23,11 L23,11 Z M22,14 C21.448,14 21,13.552 21,13 C21,12.448 21.448,12 22,12 C22.552,12 23,12.448 23,13 C23,13.552 22.552,14 22,14 L22,14 Z"></path></g></svg>',
icon_help:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M9.85176181,7.55988947 C10.1549412,7.30618731 10.4844382,7.06827574 10.8413055,6.84720747 C11.1971202,6.6261392 11.5803052,6.43138858 11.9898078,6.26400831 C12.3993105,6.09662805 12.8393416,5.96503979 13.3109539,5.87029625 C13.7825662,5.77660541 14.292076,5.72923364 14.8405358,5.72923364 C15.6111167,5.72923364 16.30485,5.83134612 16.9227884,6.0366238 C17.5417796,6.24190149 18.0681326,6.53455377 18.5029002,6.91563336 C18.9366151,7.29671296 19.2713756,7.7556928 19.5040237,8.29152018 C19.7377244,8.82840027 19.8545748,9.4242319 19.8545748,10.0790151 C19.8545748,10.709586 19.7682529,11.2506769 19.5956091,11.7012351 C19.424018,12.1517933 19.2050551,12.5455054 18.9387205,12.8813186 C18.6723859,13.2171318 18.3807863,13.5055733 18.0660272,13.7476957 C17.7512681,13.9898181 17.4522996,14.2172026 17.1691216,14.4298492 C16.8869964,14.6435485 16.6396105,14.8519843 16.4311747,15.0562093 C16.2216862,15.261487 16.093256,15.4899242 16.0437789,15.7446791 L15.7005967,17.4637481 L13.0951492,17.4637481 L12.8246037,15.4857134 C12.8161821,15.4362362 12.8109185,15.3878117 12.805655,15.3383345 C12.8014442,15.2888574 12.7993388,15.2404329 12.7993388,15.1909557 C12.7993388,14.8309302 12.8856607,14.5151184 13.0583045,14.2445729 C13.2309483,13.9750802 13.4478057,13.7266416 13.7099295,13.5013625 C13.9720533,13.2760834 14.2541786,13.0592259 14.5573579,12.8497374 C14.8605372,12.6413016 15.1426625,12.4160225 15.4047863,12.1739001 C15.6679628,11.9317777 15.8848202,11.662285 16.0564113,11.3633165 C16.2290551,11.0643479 16.315377,10.7106387 16.315377,10.3011361 C16.315377,9.80952232 16.154313,9.41896837 15.8300795,9.12736879 C15.5058461,8.83682192 15.0616041,8.69154849 14.4973537,8.69154849 C14.0636388,8.69154849 13.6994025,8.73576214 13.4099083,8.82629486 C13.1183087,8.91682758 12.8688174,9.01683466 12.6603816,9.12736879 C12.4508931,9.23790293 12.2687749,9.33896271 12.1140271,9.42844273 C11.9582266,9.51897545 11.8024261,9.5631891 11.6466256,9.5631891 C11.2939691,9.5631891 11.0318453,9.41159943 10.8602542,9.10842009 L9.85176181,7.55988947 L9.85176181,7.55988947 Z M12.1129744,21.8987987 C12.1129744,21.6029883 12.1677151,21.3292847 12.279302,21.0755826 C12.3898361,20.8218804 12.5414258,20.6008121 12.7330183,20.4123777 C12.9256635,20.2239434 13.153048,20.0744591 13.4162245,19.963925 C13.6783483,19.8523381 13.9646844,19.7975974 14.2762854,19.7975974 C14.5794647,19.7975974 14.8615899,19.8523381 15.1237138,19.963925 C15.3868903,20.0744591 15.6153275,20.2239434 15.8121835,20.4123777 C16.0090396,20.6008121 16.1627346,20.8218804 16.2722161,21.0755826 C16.3838029,21.3292847 16.4395963,21.604041 16.4395963,21.8987987 C16.4395963,22.1935564 16.3838029,22.4704181 16.2722161,22.7283311 C16.1616819,22.9872968 16.0079868,23.2094177 15.8121835,23.3978521 C15.6153275,23.5862865 15.3868903,23.7336654 15.1237138,23.8410414 C14.8615899,23.9473647 14.5794647,24 14.2762854,24 C13.9657371,24 13.6783483,23.946312 13.4162245,23.8410414 C13.153048,23.7336654 12.9267162,23.5873392 12.7330183,23.3978521 C12.5414258,23.2094177 12.3898361,22.9862441 12.279302,22.7283311 C12.1677151,22.4704181 12.1129744,22.1935564 12.1129744,21.8987987 L12.1129744,21.8987987 Z" transform="translate(0 0)" fill-rule="evenodd"></path></svg>',
icon_starred_big:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M14.0178617,1.84608163 C14.5840046,0.717972789 15.4339944,0.717972789 15.9287878,1.84608163 L18.6881526,7.62725313 C19.182946,8.75536197 20.5990787,9.81238451 21.8027139,10.0240981 L27.8891376,10.9404934 C29.0927728,11.1522069 29.3750687,11.9975159 28.4552804,12.9154565 L24.0672854,17.3583509 C23.2172956,18.2747462 22.7225022,19.9669095 22.8636502,21.2356456 L23.9245864,27.5808715 C24.1370839,28.7800667 23.429793,29.3441211 22.3673057,28.7800667 L16.9183745,25.748081 C15.8574383,25.1840265 14.0876601,25.1840265 13.0267239,25.748081 L7.6475911,28.7800667 C6.58665487,29.3441211 5.87781297,28.7800667 6.020512,27.5808715 L7.08144823,21.2356456 C7.29394569,19.9669095 6.72780282,18.2747462 5.87781297,17.3583509 L1.48981796,12.9154565 C0.639828112,11.9990612 0.923675086,11.1522069 2.12731034,10.9404934 L8.14238446,10.0240981 C9.34601971,9.81238451 10.7606013,8.75536197 11.3267442,7.62725313 L14.0178617,1.84608163 L14.0178617,1.84608163 Z" transform="translate(0 0)" fill-rule="evenodd"></path></svg>',
icon_view_component:'<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg width="22px" height="22px" viewbox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs></defs><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g transform="translate(-622.000000, -102.000000)" fill="#000000"><g transform="translate(615.000000, 98.000000)"><g transform="translate(7.000000, 4.000000)"><path d="M1.44181896,8.07384803 C1.31515413,8.15079029 1.22914932,8.27995931 1.20701244,8.42649958 L0.915230519,10.3580177 C0.892936946,10.5055951 0.937737098,10.6554158 1.03738582,10.7665295 L8.11264455,18.6558222 C8.27646217,18.8384876 8.54861833,18.8752942 8.75507131,18.7427045 L19.9505508,11.5526616 C20.0248958,11.5049152 20.0852608,11.4383207 20.1254996,11.3596585 L21.0355188,9.58067625 C21.1062201,9.4424634 21.1087096,9.27925022 21.0422566,9.13894534 L20.3464435,7.66984802 L20.2550487,7.53738716 L13.9231014,0.949630811 C13.760841,0.780815189 13.5031572,0.747215696 13.3030341,0.868780011 L1.44181896,8.07384803 L1.44181896,8.07384803 Z"></path><path d="M10,16.3976779 L10,18.896343 C10,19.4486278 10.4477153,19.896343 11,19.896343 C11.5522847,19.896343 12,19.4486278 12,18.896343 L12,16.3976779 C12,15.8453931 11.5522847,15.3976779 11,15.3976779 C10.4477153,15.3976779 10,15.8453931 10,16.3976779 L10,16.3976779 Z"></path><path d="M10.5,19.8385803 L10.5,21.4795836 C10.5,21.755726 10.7238576,21.9795836 11,21.9795836 C11.2761424,21.9795836 11.5,21.755726 11.5,21.4795836 L11.5,19.8385803 C11.5,19.5624379 11.2761424,19.3385803 11,19.3385803 C10.7238576,19.3385803 10.5,19.5624379 10.5,19.8385803 L10.5,19.8385803 Z"></path><path d="M14,13.3976779 L14,15.896343 C14,16.4486278 14.4477153,16.896343 15,16.896343 C15.5522847,16.896343 16,16.4486278 16,15.896343 L16,13.3976779 C16,12.8453931 15.5522847,12.3976779 15,12.3976779 C14.4477153,12.3976779 14,12.8453931 14,13.3976779 L14,13.3976779 Z"></path><path d="M14.5,16.8385803 L14.5,18.4795836 C14.5,18.755726 14.7238576,18.9795836 15,18.9795836 C15.2761424,18.9795836 15.5,18.755726 15.5,18.4795836 L15.5,16.8385803 C15.5,16.5624379 15.2761424,16.3385803 15,16.3385803 C14.7238576,16.3385803 14.5,16.5624379 14.5,16.8385803 L14.5,16.8385803 Z"></path><path d="M18,10.3976779 L18,12.896343 C18,13.4486278 18.4477153,13.896343 19,13.896343 C19.5522847,13.896343 20,13.4486278 20,12.896343 L20,10.3976779 C20,9.84539313 19.5522847,9.39767788 19,9.39767788 C18.4477153,9.39767788 18,9.84539313 18,10.3976779 L18,10.3976779 Z"></path><path d="M18.5,13.8385803 L18.5,15.4795836 C18.5,15.755726 18.7238576,15.9795836 19,15.9795836 C19.2761424,15.9795836 19.5,15.755726 19.5,15.4795836 L19.5,13.8385803 C19.5,13.5624379 19.2761424,13.3385803 19,13.3385803 C18.7238576,13.3385803 18.5,13.5624379 18.5,13.8385803 L18.5,13.8385803 Z"></path></g></g></g></g></svg>',
icon_library:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g fill-rule="evenodd"><path d="M10.719,9 L10.109,10 L19.859,10 L19.281,9 L10.719,9 Z" transform=""></path><path d="M9.719,11 L9.109,12 L21,12 L20.406,11 L9.719,11 Z"></path><path d="M7.595,13 L10.653,8 L19.347,8 L22.459,13 L24,13 L20,7 L10,7 L6,13 L7.595,13 Z"></path><path d="M6,13 L6,22 C6,22.552 6.448,23 7,23 L23,23 C23.552,23 24,22.552 24,22 L24,13 L6,13 L6,13 Z M19,17 L11,17 L11,16 L19,16 L19,17 L19,17 Z"></path></g></svg>',
icon_doc_circuits_pcbdesign:'<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg width="20px" height="21px" viewbox="0 0 20 21" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\x3c!-- Generator: Sketch 3.7.2 (28276) - http://www.bohemiancoding.com/sketch --\x3e<title>icon-docs-circuits-pcbdesign</title><desc>Created with Sketch.</desc><defs></defs><g id="Page-1" stroke="none" stroke-width="1" fill-rule="evenodd"><g id="Filetypes" transform="translate(-625.000000, -25.000000)"><g id="docs-circuits-pcbdesign" transform="translate(610.000000, 20.000000)"><g id="icon-docs-circuits-pcbdesign" transform="translate(15.000000, 5.000000)"><path d="M6.39704241,4.65864472 C7.60528512,4.65864472 8.58475937,3.67917048 8.58475937,2.47092777 C8.58475937,1.26268506 7.60528512,0.283210813 6.39704241,0.283210813 C5.1887997,0.283210813 4.20932546,1.26268506 4.20932546,2.47092777 C4.20932546,3.67917048 5.1887997,4.65864472 6.39704241,4.65864472 L6.39704241,4.65864472 Z M6.39704241,3.27185033 C5.95470509,3.27185033 5.59611985,2.91326509 5.59611985,2.47092777 C5.59611985,2.02859045 5.95470509,1.6700052 6.39704241,1.6700052 C6.83937973,1.6700052 7.19796498,2.02859045 7.19796498,2.47092777 C7.19796498,2.91326509 6.83937973,3.27185033 6.39704241,3.27185033 L6.39704241,3.27185033 Z" id="Oval-22-Copy"></path><path d="M11.94422,4.65864472 C13.1524627,4.65864472 14.1319369,3.67917048 14.1319369,2.47092777 C14.1319369,1.26268506 13.1524627,0.283210813 11.94422,0.283210813 C10.7359773,0.283210813 9.75650302,1.26268506 9.75650302,2.47092777 C9.75650302,3.67917048 10.7359773,4.65864472 11.94422,4.65864472 L11.94422,4.65864472 Z M11.94422,3.27185033 C11.5018827,3.27185033 11.1432974,2.91326509 11.1432974,2.47092777 C11.1432974,2.02859045 11.5018827,1.6700052 11.94422,1.6700052 C12.3865573,1.6700052 12.7451425,2.02859045 12.7451425,2.47092777 C12.7451425,2.91326509 12.3865573,3.27185033 11.94422,3.27185033 L11.94422,3.27185033 Z" id="Oval-22-Copy-3"></path><path d="M17.4913975,4.65864472 C18.6996402,4.65864472 19.6791145,3.67917048 19.6791145,2.47092777 C19.6791145,1.26268506 18.6996402,0.283210813 17.4913975,0.283210813 C16.2831548,0.283210813 15.3036806,1.26268506 15.3036806,2.47092777 C15.3036806,3.67917048 16.2831548,4.65864472 17.4913975,4.65864472 L17.4913975,4.65864472 Z M17.4913975,3.27185033 C17.0490602,3.27185033 16.690475,2.91326509 16.690475,2.47092777 C16.690475,2.02859045 17.0490602,1.6700052 17.4913975,1.6700052 C17.9337348,1.6700052 18.2923201,2.02859045 18.2923201,2.47092777 C18.2923201,2.91326509 17.9337348,3.27185033 17.4913975,3.27185033 L17.4913975,3.27185033 Z" id="Oval-22-Copy-4"></path><path d="M2.8947482,20.3733504 C4.10299092,20.3733504 5.08246516,19.3938762 5.08246516,18.1856335 C5.08246516,16.9773908 4.10299092,15.9979165 2.8947482,15.9979165 C1.68650549,15.9979165 0.70703125,16.9773908 0.70703125,18.1856335 C0.70703125,19.3938762 1.68650549,20.3733504 2.8947482,20.3733504 L2.8947482,20.3733504 Z M2.8947482,18.986556 C2.45241089,18.986556 2.09382564,18.6279708 2.09382564,18.1856335 C2.09382564,17.7432962 2.45241089,17.3847109 2.8947482,17.3847109 C3.33708552,17.3847109 3.69567077,17.7432962 3.69567077,18.1856335 C3.69567077,18.6279708 3.33708552,18.986556 2.8947482,18.986556 L2.8947482,18.986556 Z" id="Oval-22-Copy-7"></path><path d="M8.44190158,20.3733504 C9.65014429,20.3733504 10.6296185,19.3938762 10.6296185,18.1856335 C10.6296185,16.9773908 9.65014429,15.9979165 8.44190158,15.9979165 C7.23365887,15.9979165 6.25418463,16.9773908 6.25418463,18.1856335 C6.25418463,19.3938762 7.23365887,20.3733504 8.44190158,20.3733504 L8.44190158,20.3733504 Z M8.44190158,18.986556 C7.99956426,18.986556 7.64097902,18.6279708 7.64097902,18.1856335 C7.64097902,17.7432962 7.99956426,17.3847109 8.44190158,17.3847109 C8.8842389,17.3847109 9.24282415,17.7432962 9.24282415,18.1856335 C9.24282415,18.6279708 8.8842389,18.986556 8.44190158,18.986556 L8.44190158,18.986556 Z" id="Oval-22-Copy-5"></path><path d="M13.9890953,20.3756478 C15.197338,20.3756478 16.1768122,19.3961736 16.1768122,18.1879309 C16.1768122,16.9796881 15.197338,16.0002139 13.9890953,16.0002139 C12.7808526,16.0002139 11.8013783,16.9796881 11.8013783,18.1879309 C11.8013783,19.3961736 12.7808526,20.3756478 13.9890953,20.3756478 L13.9890953,20.3756478 Z M13.9890953,18.9888534 C13.5467579,18.9888534 13.1881727,18.6302682 13.1881727,18.1879309 C13.1881727,17.7455935 13.5467579,17.3870083 13.9890953,17.3870083 C14.4314326,17.3870083 14.7900178,17.7455935 14.7900178,18.1879309 C14.7900178,18.6302682 14.4314326,18.9888534 13.9890953,18.9888534 L13.9890953,18.9888534 Z" id="Oval-22-Copy-6"></path><polygon id="Path-142" points="3.9781931 11.6257323 7.24463028 8.23422255 7.49849368 7.96667594 7.49849368 7.59785645 7.49849368 3.75019679 5.64943449 3.75019679 5.6494345 7.2738038 2.38299727 10.671535 2.12913387 10.9390816 2.12913387 11.3079011 2.12913387 16.3170413 3.97819306 16.3170413"></polygon><polygon id="Path-142-Copy" points="15.0725482 13.5137332 18.3389854 10.0832817 18.5928488 9.81573512 18.5928488 9.44691564 18.5928488 3.75019679 16.7437896 3.75019679 16.7437896 9.11834702 13.4773524 12.5205941 13.223489 12.7881408 13.223489 13.1569602 13.223489 16.3170413 15.0725482 16.3170413"></polygon><polygon id="Path-142-Copy-2" points="9.52537066 12.5516971 12.7918078 9.15875215 13.0456712 8.89120553 13.0456712 8.52238604 13.0456712 3.75019679 11.1966121 3.75019679 11.1966121 8.19299302 7.93017483 11.5960646 7.67631143 11.8636112 7.67631143 12.2324307 7.67631143 16.3170413 9.52537062 16.3170413"></polygon></g></g></g></g></svg>',
icon_next:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g fill-rule="evenodd"><path d="M8,21.0015538 L8,9.00155383 C8,8.19455383 8.906,7.72055383 9.569,8.17955383 L18.569,13.8155538 C19.126,14.2015538 19.146,15.0175538 18.61,15.4305538 L9.61,21.7945538 C8.952,22.2995538 8,21.8315538 8,21.0015538 L8,21.0015538 Z" transform=""></path><path d="M21.515,21.97 L21.485,21.97 C20.665,21.97 20,21.305 20,20.485 L20,10.485 C20,9.665 20.665,9 21.485,9 L21.515,9 C22.335,9 23,9.665 23,10.485 L23,20.485 C23,21.305 22.335,21.97 21.515,21.97 L21.515,21.97 Z"></path></g></svg>',
icon_dropdown_arrow:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M9.5,13.3346667 L10.7586667,12 L15.166,16.672 L19.5726667,12 L20.832,13.3346667 L15.166,19.342 L9.5,13.3346667 Z" transform="translate(0 0)" fill-rule="evenodd"></path></svg>',admin_horse:'<?xml version="1.0" encoding="iso-8859-1"?>\x3c!-- Generator: Adobe Illustrator 16.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --\x3e<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="30.948px" height="30.948px" viewbox="0 0 30.948 30.948" style="enable-background:new 0 0 30.948 30.948;" xml:space="preserve"><g><path d="M30.291,9.105c0,0,0.05-2.744-0.588-3.432l0.44-2.061L28.967,4.84l0.146-1.473l-1.08,1.422c0,0-2.992-2.205-6.082,2.992\t\tc0,0-0.291,0.557-0.814,1.276c-0.126-0.103-0.234-0.201-0.284-0.295c-0.166-0.31-0.127-1.095,0.046-1.397\t\tc0.278-0.488,0.467-2.705,0.467-2.705c1.258,0.188,2.004-1.117,2.004-1.117l0.652,0.466c0.419-0.466,0.35-1.785,0.232-2.237\t\tc-0.659-2.574-3.355-1.585-3.355-1.585c-1.771,0.839-0.652,1.865-0.652,1.865c-0.697-0.142-2.869-0.078-3.82,0.093\t\tc-1.815,0.325-5.408,2.938-5.408,2.938C9.2,6.341,9.806,7.88,9.806,7.88c0.28,1.117,4.009,4.055,4.009,4.055\t\tc0.011,0.014,0.015,0.03,0.026,0.044c-0.771-0.104-1.488-0.243-1.842-0.419c0,0-4.266-0.688-5.737,1.473\t\tc0,0-4.561-1.275-4.708,4.658c0,0,0.735,3.482-1.079,4.169c0,0,2.549,0.98,3.481-5.052c0,0-0.098-2.452,1.667-2.796\t\tc0,0-0.98,1.914,0,4.905c0,0,0.491,1.617-0.833,2.795c0,0-0.98-0.098-1.177,2.796c0,0-1.521,2.647-0.932,3.823\t\tc0,0,0.393,0.638,0.197,0.933c0,0-0.932,0.442,0.245,1.274c0,0,1.374,0.588,1.079-0.539c0,0-0.883-2.6,0.294-4.903\t\tc0,0,3.532-3.775,3.875-4.659c0,0,1.374,0.099,1.618,1.913c0,0-0.589,2.602,0.637,3.729c0,0,0.834,3.529,1.815,3.529\t\tc0,0-0.048,1.128,1.374,1.128c0,0,1.421-0.05,0.637-0.884c0,0-2.942-0.439-2.746-5.885c0,0,0.833-2.99,0.833-4.363\t\tc0,0,5.688,1.961,7.797,0.688c0,0,0.147,4.461-0.637,7.062c0,0-0.736,1.472,0.342,1.814c0,0-0.782,1.716,0.346,1.716\t\tc0,0,1.472,0.344,1.374-0.539c0,0-0.394-0.979-0.834-1.273c0,0-0.64-1.57,0.294-3.337c0,0,1.423-3.776,1.374-5.002\t\tc0,0,2.157,1.029,3.334,2.257c0,0,0.639,1.668-0.49,3.141c0,0-0.688,0.589-0.638,1.029c0,0-1.227-0.539-1.275,1.176\t\tc0,0,0.147,1.719,1.127,0c0,0,2.256-1.567,2.746-4.118c0,0,0.49-1.666-0.883-2.648c0,0-1.127-1.765-1.716-2.107\t\tc0,0,1.812-2.305,0.833-4.412c0,0-0.833-0.637-0.245-1.913c0,0,0.603-1.088,0.962-2.388c0.396-0.032,0.811-0.075,1.234-0.127\t\tc0.16,0.133,0.338,0.258,0.55,0.354c0,0,0,1.667,1.373,1.619C29.507,12.588,30.979,12.537,30.291,9.105z M18.359,6.875l0.723-0.094\t\tc0,0-0.045,1.586,0.233,1.864c0,0-0.899-0.211-1.002-0.513C18.231,7.897,18.359,6.875,18.359,6.875z M17.92,11.899\t\tc-0.562-1.271-2.194-3.043-2.194-3.043c-0.979-1.305,0.886-1.397,0.886-1.397l0.141,1.771c0.357,1.009,2.078,1.269,3.084,1.331\t\tC19.283,11.092,18.64,11.578,17.92,11.899z M26.613,9.157c0,0,0.135,0.5,0.524,1.006c-0.228,0.022-0.447,0.043-0.666,0.062\t\tC26.547,9.87,26.604,9.509,26.613,9.157z"></path></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',
icon_play:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M10,21.0619852 L10,9.00198521 C10,8.19498521 10.906,7.71998521 11.569,8.17998521 L20.569,13.8129852 C21.126,14.1989852 21.147,15.0149852 20.61,15.4279852 L11.61,21.8549852 C10.952,22.3609852 10,21.8919852 10,21.0619852" transform="translate(0 0)" fill-rule="evenodd"></path></svg>',icon_facebook:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M18.4899202,11.5711549 L15.9366133,11.5711549 L15.9366133,9.90363056 C15.9366133,9.27726944 16.3531457,9.13090784 16.646756,9.13090784 L18.4485008,9.13090784 L18.4485008,6.37764656 L15.9670099,6.368 C13.2119504,6.368 12.5849806,8.42171936 12.5849806,9.73598 L12.5849806,11.5711549 L10.991669,11.5711549 L10.991669,14.4085741 L12.5849806,14.4085741 L12.5849806,22.4375058 L15.9366133,22.4375058 L15.9366133,14.4085741 L18.197646,14.4085741 L18.4899202,11.5711549" transform="translate(0 0)" fill-rule="evenodd"></path></svg>',
icon_cornertype_right_round:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M10,22 L8,22 L8,20 L10,20 C14.963,20 19,15.963 19,11 L19,9 L21,9 L21,11 C21,17.065 16.065,22 10,22 L10,22 Z" transform="translate(0 0)" fill-rule="evenodd"></path></svg>',icon_rocket:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g fill-rule="evenodd"><path d="M17.314557,18.3175668 L17.3110289,18.3236777 C17.368367,18.2188948 17.3992512,18.1533668 17.4008796,18.1505464 L17.4099499,18.1545296 C22.4180058,9.41139532 21.6451296,6.8956151 20.624474,6.30132527 L20.6266452,6.29756472 C20.6237336,6.29713726 20.6213649,6.29576966 20.6184533,6.2953422 C20.6166274,6.29303446 20.6154132,6.28857292 20.6124327,6.28935912 C20.6109424,6.28975222 20.6102615,6.29311968 20.6102615,6.29311968 C19.6727098,5.75182397 16.9795319,6.2940543 11.844199,15.1887118 L11.8408828,15.1867972 C11.8441395,15.1811564 11.8480771,15.1721481 11.8513339,15.1665072 C10.7087481,15.0383271 8.7211869,15.3649465 8.03768528,18.9120172 L8.04621278,18.9169405 L8.00503453,19.107518 C8.00503453,19.107518 7.50081572,21.4469168 8.11153218,21.6265285 C8.62164694,21.7768887 9.24310794,20.2322207 9.4343009,19.7183536 L9.43572215,19.7191741 L9.45168922,19.6707309 C9.47960243,19.59722 9.49495767,19.5509305 9.49495767,19.5509305 L9.49157238,19.5502295 L9.6004208,19.2194682 C9.6004208,19.2194682 10.0524172,17.9486282 11.1830924,18.2560793 C11.1751648,18.197601 11.1757696,18.1396615 11.169806,18.0810637 C11.1779502,18.1271318 11.1797286,18.1732852 11.1900392,18.2199774 C11.3629887,18.9773006 11.8678468,19.6028434 12.6907509,20.0779473 C13.5093913,20.5505895 14.2942788,20.6746959 15.0250328,20.447274 C15.0536888,20.4381214 15.0805878,20.4254474 15.10877,20.4160212 C15.0718437,20.4329341 15.0389097,20.4527788 15.0020524,20.468478 C15.7964075,21.2906197 14.9348482,22.2993013 14.9348482,22.2993013 L14.7028247,22.5589474 L14.700525,22.5563662 C14.700525,22.5563662 14.6685885,22.5930824 14.618409,22.6537379 L14.5844394,22.6917875 L14.5863344,22.6928815 C14.2369089,23.1153931 13.209444,24.4256546 13.5947171,24.7922468 C14.0556236,25.2313369 15.829493,23.6249712 15.829493,23.6249712 L15.9739488,23.4940211 L15.9824763,23.4989444 C18.7192899,21.1273258 17.9987569,19.2396945 17.314557,18.3175668 L17.314557,18.3175668 L17.314557,18.3175668 Z M15.1232509,15.8133121 C14.336247,15.330731 14.0779845,14.3098006 14.5488259,13.5205372 C15.0122016,12.746393 16.0034421,12.4901099 16.795043,12.9176831 C17.5616065,13.3897165 17.8348054,14.376024 17.3960647,15.1643912 C16.9479632,15.9667836 15.935154,16.2538604 15.1232509,15.8133121 L15.1232509,15.8133121 L15.1232509,15.8133121 Z" transform=""></path><path d="M13.2785981,21.3240464 C12.9476004,21.2255475 12.613638,21.0840412 12.2772558,20.8898308 C11.9233437,20.6854996 11.6198054,20.4551906 11.3595313,20.2035588 C11.3400212,20.2461044 11.3230872,20.2776233 11.3127917,20.2954556 L11.311437,20.2978019 C10.8634987,21.3362482 10.3084292,22.9060003 10.8651053,23.2668161 L10.8634797,23.2696317 C10.8658486,23.2709994 10.8693012,23.27049 10.8711963,23.2715841 C10.874039,23.2732254 10.8748504,23.2761966 10.8776931,23.2778378 L10.8793187,23.2750222 C11.4701324,23.5767099 12.5520428,22.3111296 13.2278683,21.404254 L13.229223,21.4019077 C13.2384347,21.3859525 13.2551645,21.3580698 13.2785981,21.3240464"></path></g></svg>',
icon_step_out_current_function:'<svg width="10" height="21" viewbox="0 0 10 21" xmlns="http://www.w3.org/2000/svg"><g transform="matrix(-1 0 0 1 11 0)" fill-rule="evenodd"><path d="M7,20 L7,11 C7,10.4477153 6.55228475,10 6,10 C5.44771525,10 5,10.4477153 5,11 L5,20 C5,20.5522847 5.44771525,21 6,21 C6.55228475,21 7,20.5522847 7,20 L7,20 Z"></path><path d="M2.68187487,14.6889706 L6.65976714,10.6921523 L5.24089657,10.6908389 L9.24539958,14.7293198 C9.63427062,15.1214904 10.2674299,15.1241652 10.6596005,14.7352942 C11.0517711,14.3464232 11.0544459,13.7132638 10.6655749,13.3210932 L6.66107186,9.28261232 C6.27038537,8.88861089 5.63361651,8.88802148 5.24220129,9.28129897 L1.26430901,13.2781173 C0.874712629,13.6695673 0.876215286,14.3027305 1.26766529,14.6923268 C1.65911529,15.0819232 2.29227849,15.0804206 2.68187487,14.6889706 L2.68187487,14.6889706 Z"></path><circle transform="matrix(1 0 0 -1 0 6)" cx="6" cy="3" r="3"></circle></g></svg>',
icon_zoomall:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g fill-rule="evenodd"><path d="M9,19 L21,19 L21,11 L9,11 L9,19 L9,19 Z" transform="translate(-618 -318) translate(618 318)"></path><path d="M7,11 L7,9 L11,9 C11.547,9 11.99,8.557 11.99,8.01 L11.99,7.99 C11.99,7.443 11.547,7 11,7 L6.398,7 C5.626,7 5,7.626 5,8.398 L5,11 C5,11.547 5.443,11.99 5.99,11.99 L6.01,11.99 C6.557,11.99 7,11.547 7,11 L7,11 Z" transform="translate(-618 -318) translate(618 318)"></path><path d="M19,9 L23,9 L23,11 C23,11.547 23.443,11.99 23.99,11.99 L24.01,11.99 C24.557,11.99 25,11.547 25,11 L25,8.398 C25,7.626 24.374,7 23.602,7 L19,7 C18.453,7 18.01,7.443 18.01,7.99 L18.01,8.01 C18.01,8.557 18.453,9 19,9 L19,9 Z" transform="translate(-618 -318) translate(618 318)"></path><path d="M11.01,21 L7,21 L7,19 C7,18.453 6.557,18.01 6.01,18.01 L5.99,18.01 C5.443,18.01 5,18.453 5,19 L5,21.602 C5,22.374 5.626,23 6.398,23 L11.01,23 C11.557,23 12,22.557 12,22.01 L12,21.99 C12,21.443 11.557,21 11.01,21 L11.01,21 Z" transform="translate(-618 -318) translate(618 318)"></path><path d="M23,19 L23,21 L18.99,21 C18.443,21 18,21.443 18,21.99 L18,22.01 C18,22.557 18.443,23 18.99,23 L23.602,23 C24.374,23 25,22.374 25,21.602 L25,19 C25,18.453 24.557,18.01 24.01,18.01 L23.99,18.01 C23.443,18.01 23,18.453 23,19 L23,19 Z" transform="translate(-618 -318) translate(618 318)"></path></g></svg>',
icon_doc_pdf:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g fill-rule="evenodd"><path d="M22,11 L17,11 L17,6 L18,6 L18,10 L22,10 L22,11 Z" transform=""></path><path d="M18,6 L10,6 C8.896,6 8,6.895 8,8 L8,22 C8,23.105 8.896,24 10,24 L20,24 C21.104,24 22,23.105 22,22 L22,10 L18,6 Z M21,13 L22,13 L22,20 L21,20 L21,13 Z M21,22 C21,22.551 20.552,23 20,23 L10,23 C9.448,23 9,22.551 9,22 L9,8 C9,7.449 9.448,7 10,7 L17.586,7 L21,10.414 L21,22 L21,22 Z"></path><path d="M11,13 L24,13 L24,20 L11,20 L11,13 Z M13,14 L15,14 L15,15 L13,15 L13,14 Z M13,16 L14,16 L14,17 L13,17 L13,16 Z M14,15 L15,15 L15,17 L14,17 L14,15 Z M16,14 L17,14 L17,19 L16,19 L16,14 Z M17,18 L18,18 L18,19 L17,19 L17,18 Z M17,14 L18,14 L18,15 L17,15 L17,14 Z M18,15 L19,15 L19,18 L18,18 L18,15 Z M20,14 L21,14 L21,19 L20,19 L20,14 Z M21,14 L23,14 L23,15 L21,15 L21,14 Z M21,16 L23,16 L23,17 L21,17 L21,16 Z M12,14 L13,14 L13,19 L12,19 L12,14 Z"></path></g></svg>',
icon_cornertype_right_bevel:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M14.235,22 L9,22 L9,20 L13.407,20 L20,13.407 L20,9 L22,9 L22,14.235 L14.235,22 Z" transform="translate(0 0)" fill-rule="evenodd"></path></svg>',icon_step_over_next_function:'<svg width="21" height="15" viewbox="0 0 21 15" xmlns="http://www.w3.org/2000/svg"><g transform="matrix(-1 0 0 1 21 0)" fill-rule="evenodd"><circle cx="11" cy="11" r="3.5"></circle><path d="M3.42640365,7.77376425 C3.47315916,7.63361637 3.5878856,7.3544791 3.77851137,6.98374733 C4.10215865,6.35431339 4.51763424,5.72351056 5.03076857,5.1372941 C6.4802704,3.48134989 8.4025059,2.49999994 10.9195838,2.5 C13.455814,2.50000006 15.4018187,3.41814086 16.8734454,4.96015042 C17.3912753,5.50274641 17.8117025,6.08559932 18.1404781,6.66650247 C18.33326,7.00712265 18.449344,7.26224859 18.4960848,7.3879698 C18.6885435,7.9056358 19.2642133,8.16926842 19.7818794,7.97680973 C20.2995454,7.78435103 20.563178,7.20868122 20.3707193,6.69101521 C20.0697489,5.88147984 19.4174759,4.72899948 18.3202931,3.57934208 C16.4877637,1.65916895 14.0308985,0.500000078 10.9195839,0.5 C7.78911698,0.499999922 5.3354956,1.75263583 3.5258632,3.82000148 C2.44857331,5.05072222 1.81617846,6.28061292 1.52919772,7.14082691 C1.3544169,7.66472586 1.63743307,8.23111773 2.16133202,8.40589854 C2.68523097,8.58067936 3.25162283,8.2976632 3.42640365,7.77376425 L3.42640365,7.77376425 Z"></path><path d="M0.408286129,5.07725713 L1.51646688,8.37944696 C1.68834202,8.89160562 2.23591648,9.1746653 2.75315145,9.01873088 L6.20796221,7.97718502 C6.73673963,7.81777081 7.03616767,7.25988127 6.87675346,6.73110386 C6.71733925,6.20232644 6.15944971,5.9028984 5.6306723,6.06231261 L2.17586154,7.10385847 L3.41254612,7.74314238 L2.30436537,4.44095255 C2.12865471,3.91736472 1.56176128,3.63535456 1.03817346,3.81106522 C0.514585636,3.98677587 0.232575472,4.5536693 0.408286129,5.07725713 L0.408286129,5.07725713 Z"></path></g></svg>',
icon_unstarred_big:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M14.0178617,1.84608163 C14.5840046,0.717972789 15.4339944,0.717972789 15.9287878,1.84608163 L18.6881526,7.62725313 C19.182946,8.75536197 20.5990787,9.81238451 21.8027139,10.0240981 L27.8891376,10.9404934 C29.0927728,11.1522069 29.3750687,11.9975159 28.4552804,12.9154565 L24.0672854,17.3583509 C23.2172956,18.2747462 22.7225022,19.9669095 22.8636502,21.2356456 L23.9245864,27.5808715 C24.1370839,28.7800667 23.429793,29.3441211 22.3673057,28.7800667 L16.9183745,25.748081 C15.8574383,25.1840265 14.0876601,25.1840265 13.0267239,25.748081 L7.6475911,28.7800667 C6.58665487,29.3441211 5.87781297,28.7800667 6.020512,27.5808715 L7.08144823,21.2356456 C7.29394569,19.9669095 6.72780282,18.2747462 5.87781297,17.3583509 L1.48981796,12.9154565 C0.639828112,11.9990612 0.923675086,11.1522069 2.12731034,10.9404934 L8.14238446,10.0240981 C9.34601971,9.81238451 10.7606013,8.75536197 11.3267442,7.62725313 L14.0178617,1.84608163 L14.0178617,1.84608163 Z" transform="translate(0 0)" fill="none" fill-rule="evenodd"></path></svg>',
icon_electroninks:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M17.0284728,6.91182663 C16.4878178,6.31909264 15.0112171,4.92004395 15.0112171,4.92004395 C15.0112171,4.92004395 13.65958,6.29439539 13.0832214,6.87972021 C11.8131922,8.16397718 10.4998085,9.49515893 9.18387466,10.7744765 C7.04675723,12.8465757 6.15416642,15.3286493 6.45764729,18.3590018 C6.8911914,22.720536 10.5712158,26.0818317 15.0112175,26.1732115 C16.765796,26.2102574 18.4515175,25.6990243 19.8873136,24.6938463 C22.0550342,23.1749654 23.3658675,20.9003488 23.5775391,18.2923192 C23.8045121,15.5385759 22.7385037,12.7873023 20.657492,10.7399003 C19.4078648,9.50997728 18.1990418,8.18867443 17.0284728,6.91182663 Z M13.5397178,9.48034058 C13.9783624,9.03579009 15.0234374,8.00476074 15.0234374,8.00476074 C15.0234374,8.00476074 16.1333317,9.05307816 16.5464737,9.50503783 C17.4390645,10.4781095 18.3597082,11.4832875 19.310955,12.421783 C20.2673023,13.3602785 20.9354703,14.4988217 21.2823055,15.7139264 C20.2009955,17.889754 18.3622585,19.2752697 16.008369,19.6531377 C15.6181793,19.7198202 15.2254393,19.7519267 14.8352496,19.7519267 C12.2084824,19.7519267 9.85204264,18.267622 8.61006628,15.8571704 C8.88804456,14.5778529 9.53581046,13.4491886 10.5712158,12.4464802 C11.5734678,11.4734086 12.5731695,10.4608214 13.5397178,9.48034058 Z" transform="translate(0 0)" fill-rule="evenodd"></path></svg>',
icon_logout:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M9,8.5 L9,21 L15,24 L15,20.9598728 L20,20.9598728 L20,19.9598728 L19,19.9598728 L19,20 L20,20 L20,16 L19,16 L19,19.9598728 L19,19.9598728 L15,19.9598728 L15,11 L11,9 L20,9 L20,8 L9,8 L9,8.5 Z M21.0191119,13 L17,13 L17,15 L21.0191119,15 L21.0191119,16.5089948 C21.0191119,16.7721195 21.1784628,16.8406491 21.3750321,16.6440798 L24.0191119,14 L21.3750321,11.3559202 C21.180405,11.161293 21.0191119,11.2198305 21.0191119,11.4910052 L21.0191119,13 L21.0191119,13 Z M19,9 L20,9 L20,12 L19,12 L19,9 Z" transform="translate(0 0)" fill-rule="evenodd"></path></svg>',
icon_profile:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M14.9994002,3 C8.38251612,3 3,8.3837157 3,15.0005998 C3,21.6174839 8.38251612,27 14.9994002,27 C21.6162843,27 27,21.6174839 27,15.0005998 C27,8.3837157 21.6162843,3 14.9994002,3 Z M22.7366922,21.5575049 C21.1736392,20.751387 18.8344579,19.545809 18.8344579,19.545809 C18.8344579,19.545809 17.2917979,18.7408907 17.2917979,17.2306193 L17.6528715,16.5324636 L18.1842855,14.8206628 C18.1842855,14.8206628 18.9304244,14.337232 18.9304244,13.1796371 C18.9304244,12.4310991 18.6425251,12.1408007 18.6425251,12.1408007 C18.6425251,12.1408007 18.9304244,11.0563803 18.9304244,10.2850502 C18.9304244,9.51252062 17.9671615,7.00419853 14.9754086,7.00419853 C11.7653321,7.00419853 11.0191933,9.51252062 11.0191933,10.2850502 C11.0191933,11.0563803 11.3082921,12.1408007 11.3082921,12.1408007 C11.3082921,12.1408007 11.0191933,12.4550907 11.0191933,13.1796371 C11.0191933,14.337232 11.7653321,14.8422552 11.7653321,14.8422552 L12.3663218,16.6524217 L12.6590193,17.2306193 C12.6590193,18.8524516 11.1151597,19.545809 11.1151597,19.545809 C11.1151597,19.545809 8.80596791,20.7453891 7.25850952,21.551507 C5.75783476,19.7821263 4.84855301,17.4969261 4.84855301,15.0005998 C4.84855301,9.40215924 9.40215924,4.84855301 14.9994002,4.84855301 C20.5966412,4.84855301 25.151447,9.40215924 25.151447,15.0005998 C25.151447,17.4993252 24.2397661,19.7869246 22.7366922,21.5575049 Z" transform="translate(0 0)" fill-rule="evenodd"></path></svg>',
icon_doc_svg:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g fill-rule="evenodd"><path d="M22,11 L17,11 L17,6 L18,6 L18,10 L22,10 L22,11 Z" transform=""></path><path d="M18,6 L10,6 C8.896,6 8,6.895 8,8 L8,22 C8,23.105 8.896,24 10,24 L20,24 C21.104,24 22,23.105 22,22 L22,10 L18,6 Z M21,13 L22,13 L22,20 L21,20 L21,13 Z M21,22 C21,22.551 20.552,23 20,23 L10,23 C9.448,23 9,22.551 9,22 L9,8 C9,7.449 9.448,7 10,7 L17.586,7 L21,10.414 L21,22 L21,22 Z"></path><path d="M11,13 L24,13 L24,20 L11,20 L11,13 Z M12,14 L15,14 L15,15 L12,15 L12,14 Z M12,15 L13,15 L13,17 L12,17 L12,15 Z M13,16 L15,16 L15,17 L13,17 L13,16 Z M14,17 L15,17 L15,19 L14,19 L14,17 Z M12,18 L14,18 L14,19 L12,19 L12,18 Z M16,14 L17,14 L17,18 L16,18 L16,14 Z M18,14 L19,14 L19,18 L18,18 L18,14 Z M17,18 L18,18 L18,19 L17,19 L17,18 Z M20,14 L23,14 L23,15 L20,15 L20,14 Z M20,15 L21,15 L21,19 L20,19 L20,15 Z M21,18 L23,18 L23,19 L21,19 L21,18 Z M22,16 L23,16 L23,18 L22,18 L22,16 Z"></path></g></svg>',
icon_doc_jpg:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g fill-rule="evenodd"><path d="M22,11 L17,11 L17,6 L18,6 L18,10 L22,10 L22,11 Z" transform=""></path><path d="M18,6 L10,6 C8.896,6 8,6.895 8,8 L8,22 C8,23.105 8.896,24 10,24 L20,24 C21.104,24 22,23.105 22,22 L22,10 L18,6 Z M21,13 L22,13 L22,20 L21,20 L21,13 Z M21,22 C21,22.551 20.552,23 20,23 L10,23 C9.448,23 9,22.551 9,22 L9,8 C9,7.449 9.448,7 10,7 L17.586,7 L21,10.414 L21,22 L21,22 Z"></path><path d="M11,13 L24,13 L24,20 L11,20 L11,13 Z M12,17 L13,17 L13,19 L12,19 L12,17 Z M13,18 L14,18 L14,19 L13,19 L13,18 Z M14,14 L15,14 L15,19 L14,19 L14,14 Z M16,14 L17,14 L17,19 L16,19 L16,14 Z M17,14 L19,14 L19,15 L17,15 L17,14 Z M18,15 L19,15 L19,17 L18,17 L18,15 Z M17,16 L18,16 L18,17 L17,17 L17,16 Z M20,14 L23,14 L23,15 L20,15 L20,14 Z M20,15 L21,15 L21,19 L20,19 L20,15 Z M21,18 L23,18 L23,19 L21,19 L21,18 Z M22,16 L23,16 L23,18 L22,18 L22,16 Z"></path></g></svg>',
icon_activate_breakpoints:'<svg width="20" height="9" viewbox="0 0 20 9" xmlns="http://www.w3.org/2000/svg"><path d="M1.59606236,9 C1.15088639,9 0.789999962,8.61339449 0.789999962,8.15354979 L0.789999962,0.849085707 C0.789999962,0.381604165 1.16060336,0.00263549819 1.59606236,0.00263549819 L15.8514368,0 C16.1460339,0 16.5486265,0.181978762 16.7585922,0.415283203 L19.6918898,3.67463064 C20.1021288,4.13046955 20.1032776,4.86825389 19.6918898,5.32536936 L16.7585922,8.5847168 C16.5521812,8.81407138 16.1494332,9 15.8514368,9 L1.59606236,9 Z" transform="translate(-.79 0)" fill-rule="evenodd"></path></svg>',
icon_shoppingcart_small:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M21.442,17.366 L12.095,17.366 L8.892,8.413 C8.803,8.166 8.566,8 8.299,8 L5.628,8 C5.281,8 5,8.276 5,8.618 C5,8.959 5.281,9.235 5.628,9.235 L7.854,9.235 L11.057,18.188 C11.146,18.436 11.383,18.6 11.65,18.6 L21.442,18.6 C21.789,18.6 22.07,18.323 22.07,17.982 C22.071,17.642 21.79,17.366 21.442,17.366 L21.442,17.366 Z M22.438,10.087 L11.178,9.67 C10.833,9.657 10.649,9.908 10.769,10.225 L12.794,15.602 C12.914,15.922 13.295,16.182 13.641,16.182 L21.705,16.182 C22.05,16.182 22.366,15.907 22.407,15.569 L22.992,10.723 C23.032,10.386 22.784,10.1 22.438,10.087 L22.438,10.087 Z M19.552,19.692 C18.726,19.692 18.054,20.352 18.054,21.164 C18.054,21.975 18.725,22.635 19.552,22.635 C20.377,22.635 21.049,21.975 21.049,21.164 C21.05,20.352 20.378,19.692 19.552,19.692 L19.552,19.692 Z M13.319,19.692 C12.493,19.692 11.822,20.352 11.822,21.164 C11.822,21.975 12.493,22.635 13.319,22.635 C14.144,22.635 14.816,21.975 14.816,21.164 C14.816,20.352 14.144,19.692 13.319,19.692 L13.319,19.692 Z" transform="translate(0 0)" fill-rule="evenodd"></path></svg>',
icon_via:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M14.739,10.354 C12.314,10.354 10.405,12.315 10.405,14.739 C10.405,17.112 12.314,19.021 14.739,19.021 C17.112,19.021 19.073,17.112 19.073,14.739 C19.073,12.314 17.113,10.354 14.739,10.354 L14.739,10.354 Z M14.791,22.53 C10.457,22.53 7,19.073 7,14.791 C7,10.509 10.457,7 14.791,7 C19.022,7 22.53,10.508 22.53,14.791 C22.53,19.074 19.022,22.53 14.791,22.53 L14.791,22.53 Z" transform="translate(-258 -468) translate(258 468)" fill-rule="evenodd"></path></svg>',
icon_twitter:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M21.8341115,9.041594 C21.8192659,9.034664 21.8044202,9.018032 21.7900385,9.00371 C20.9173914,8.229398 19.8921123,7.859798 18.7132733,7.903688 L18.677087,7.824686 C18.6845098,7.817294 18.6914687,7.817294 18.6988915,7.817294 C19.7677798,7.584446 20.4010404,7.34513 20.5898588,7.085486 C20.6557365,6.875276 20.575941,6.759776 20.3425856,6.73067 C19.8044301,6.795812 19.3094197,6.90392 18.8659053,7.071164 C19.4263294,6.73067 19.6443752,6.491816 19.5205066,6.368 C18.9679693,6.382322 18.3718229,6.651206 17.7455212,7.180196 C17.9784126,6.803204 18.0660948,6.599924 18.0081039,6.563888 C17.7097988,6.759776 17.447216,6.969986 17.2222113,7.193594 C16.7494695,7.693478 16.3709049,8.157326 16.0800225,8.577746 L16.0656408,8.613782 C15.3168623,9.765548 14.7930885,10.923782 14.4799376,12.105116 L14.3639558,12.192896 L14.3421512,12.213224 C13.891214,11.677304 13.3525945,11.229164 12.70588,10.865108 C11.9417919,10.395254 11.0473403,9.945728 10.0141744,9.51191 C8.88683132,8.961206 7.74464256,8.50475 6.58807205,8.150396 C6.58157707,9.374696 7.21390984,10.351826 8.47254433,11.06192 L8.47254433,11.083634 C8.028566,11.07578 7.59943334,11.141384 7.18468243,11.2652 C7.26447791,12.402182 8.11578432,13.184348 9.73071489,13.618166 L9.72282813,13.63988 C9.09049536,13.604768 8.56672155,13.814978 8.15939347,14.249258 C8.69012619,15.234242 9.62865091,15.704558 10.9893494,15.668522 C10.7198077,15.799268 10.5087208,15.94295 10.3709344,16.103264 C10.1231973,16.349972 10.0434018,16.64057 10.1231973,16.972286 C10.4140797,17.47217 10.9378535,17.70317 11.7089005,17.668058 L11.7525096,17.718878 C11.7455507,17.725808 11.7381279,17.7332 11.730705,17.74013 C10.3996979,19.044356 8.79219017,19.630634 6.90818182,19.507742 L6.87895441,19.522526 C5.73027067,19.51421 4.50086359,18.993536 3.16985646,17.95034 C4.50828643,19.77524 6.28280796,21.093326 8.47950324,21.919844 C10.9958444,22.709402 13.5131133,22.767152 16.0220316,22.093094 L16.0656408,22.093094 C18.5026503,21.426428 20.5680542,20.057522 22.2697392,17.986838 C23.0551679,16.900214 23.5501783,15.865334 23.7468834,14.871572 C25.0194357,14.915 25.9356919,14.567576 26.5030749,13.8293 L26.489157,13.807124 C26.0669833,13.951268 25.2379454,13.908764 24.0080744,13.66991 L24.0080744,13.539164 C24.0080744,13.532696 24.0080744,13.532696 24.0159612,13.539164 C25.36135,13.394558 26.1542016,12.981992 26.4088976,12.30008 C25.4703729,12.648428 24.5462299,12.654896 23.6299737,12.329648 C23.4629599,11.127062 22.8668135,10.033508 21.8341115,9.041594" transform="translate(0 0)" fill-rule="evenodd"></path></svg>',
icon_fork:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M18.921,14.37 C18.186,14.37 17.503,13.792 17.503,13.005 C17.503,12.218 18.186,11.535 18.921,11.535 C19.761,11.535 20.444,12.218 20.444,13.005 C20.444,13.792 19.761,14.37 18.921,14.37 L18.921,14.37 Z M12.095,24.452 C11.36,24.452 10.73,23.769 10.73,22.982 C10.73,22.142 11.36,21.564 12.095,21.564 C12.988,21.564 13.618,22.142 13.618,22.982 C13.618,23.769 12.987,24.452 12.095,24.452 L12.095,24.452 Z M12.095,5.653 C12.988,5.653 13.618,6.231 13.618,7.018 C13.618,7.701 13.093,8.331 12.41,8.383 L11.937,8.383 C11.254,8.33 10.729,7.7 10.729,7.018 C10.729,6.231 11.36,5.653 12.095,5.653 L12.095,5.653 Z M22.492,13.005 C22.492,11.062 20.917,9.434 18.921,9.434 C17.031,9.434 15.455,11.062 15.455,13.005 C15.455,14.265 16.138,15.368 17.135,15.998 C16.242,16.681 14.719,17.468 13.197,18.046 L13.197,10.432 C14.615,9.959 15.718,8.594 15.718,7.019 C15.718,5.076 14.09,3.501 12.095,3.501 C10.257,3.501 8.577,5.076 8.577,7.019 C8.577,8.594 9.627,9.96 11.098,10.432 L11.098,19.674 C9.628,20.094 8.577,21.407 8.577,22.982 C8.577,24.925 10.257,26.5 12.095,26.5 C14.09,26.5 15.718,24.925 15.718,22.982 C15.718,21.722 14.983,20.566 13.933,19.936 C15.771,19.306 18.344,18.151 19.447,16.47 C21.179,16.208 22.492,14.737 22.492,13.005 L22.492,13.005 Z" transform="translate(0 0)" fill-rule="evenodd"></path></svg>',
icon_cornertype_right_miter:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M21,21 L8,21 L8,19 L19,19 L19,8 L21,8 L21,21 Z" transform="translate(0 0)" fill-rule="evenodd"></path></svg>',icon_codeeditor:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g fill-rule="evenodd"><path d="M24.268,7 L5.732,7 C4.775,7 4,7.776 4,8.732 L4,21.952 C4,22.531 4.469,23 5.048,23 L24.953,23 C25.531,23 26,22.531 26,21.952 L26,8.732 C26,7.776 25.224,7 24.268,7 L24.268,7 Z M12,8.99 C12,8.443 12.443,8 12.99,8 L13.01,8 C13.557,8 14,8.443 14,8.99 L14,9.01 C14,9.557 13.557,10 13.01,10 L12.99,10 C12.443,10 12,9.557 12,9.01 L12,8.99 L12,8.99 Z M9,8.99 C9,8.443 9.443,8 9.99,8 L10.01,8 C10.557,8 11,8.443 11,8.99 L11,9.01 C11,9.557 10.557,10 10.01,10 L9.99,10 C9.443,10 9,9.557 9,9.01 L9,8.99 L9,8.99 Z M6,8.99 C6,8.443 6.443,8 6.99,8 L7.01,8 C7.557,8 8,8.443 8,8.99 L8,9.01 C8,9.557 7.557,10 7.01,10 L6.99,10 C6.443,10 6,9.557 6,9.01 L6,8.99 L6,8.99 Z M25,11 L25,22 L5,22 L5,11 L25,11 L25,11 Z" transform=""></path><path d="M13,20.7 C12.805,20.7 12.609,20.637 12.444,20.507 L8.364,17.297 C8.147,17.127 8.021,16.866 8.021,16.59 C8.021,16.314 8.147,16.054 8.364,15.883 L12.444,12.672 C12.834,12.364 13.4,12.431 13.708,12.822 C14.016,13.213 13.948,13.779 13.558,14.086 L10.377,16.59 L13.558,19.093 C13.949,19.4 14.016,19.966 13.709,20.357 C13.53,20.582 13.266,20.7 13,20.7 L13,20.7 Z"></path><path d="M17,20.9 C16.882,20.9 16.762,20.877 16.646,20.827 C16.189,20.632 15.978,20.102 16.173,19.645 L19.173,12.645 C19.368,12.188 19.897,11.975 20.355,12.172 C20.812,12.368 21.023,12.897 20.828,13.354 L17.828,20.354 C17.681,20.695 17.349,20.9 17,20.9 L17,20.9 Z"></path></g></svg>',
icon_view_showcase:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M18.903,9.764 L2.15,12.628 C1.716,12.702 1.426,13.11 1.501,13.539 L3.631,25.857 C3.705,26.286 4.116,26.575 4.549,26.501 L21.302,23.639 C21.734,23.565 22.024,23.157 21.949,22.726 L19.82,10.41 C19.746,9.979 19.335,9.691 18.903,9.764 L18.903,9.764 Z M5.062,24.81 L3.202,14.051 L18.388,11.456 L20.249,22.215 L5.062,24.81 L5.062,24.81 Z M13.63,20.847 L9.378,17.006 L5.916,23.417 L18.847,21.207 L15.21,17.923 L13.63,20.847 L13.63,20.847 Z M15.015,16.681 C15.919,16.526 16.525,15.674 16.369,14.776 C16.214,13.878 15.356,13.276 14.452,13.429 C13.548,13.583 12.942,14.437 13.098,15.334 C13.254,16.231 14.111,16.835 15.015,16.681 L15.015,16.681 Z M26.706,4.495 L9.707,4.495 C9.267,4.495 8.911,4.849 8.911,5.285 L8.911,9.91 L20.799,7.878 C21.231,7.805 21.642,8.093 21.717,8.523 L23.455,18.572 L26.706,18.572 C27.144,18.572 27.5,18.218 27.5,17.782 L27.5,5.284 C27.5,4.849 27.144,4.495 26.706,4.495 L26.706,4.495 Z" transform="translate(0 0)" fill-rule="evenodd"></path></svg>',
icon_deactivate_breakpoints:'<svg width="19" height="18" viewbox="0 0 19 18" xmlns="http://www.w3.org/2000/svg"><g fill-rule="evenodd"><path d="M11.7860619,5.0026355 C11.3506029,5.0026355 10.9799995,5.38160417 10.9799995,5.84908571 L10.9799995,13.1535498 C10.9799995,13.6133945 11.340886,14 11.7860619,14 L14.0483579,13.9973645 L19,5 L11.7860619,5.0026355 Z" transform="translate(-10.98 0)"></path><path d="M5.33998322,5 L6.4514124,5 C6.74600948,5 7.14860207,5.18197876 7.35856782,5.4152832 L10.2918654,8.67463064 C10.7021043,9.13046955 10.7032532,9.86825389 10.2918654,10.3253694 L7.35856782,13.5847168 C7.1521568,13.8140714 6.74940882,14 6.4514124,14 L0.389975548,14 L5.33998322,5 L5.33998322,5 Z" transform="translate(8.01 0)"></path><path d="M7.90733277,0.938408255 L5.08893706,2.4878344 L13.6107809,17.9890108 L16.4291766,16.4395846 L7.90733277,0.938408255 L7.90733277,0.938408255 Z" transform="matrix(-1 0 0 1 19 0)"></path></g></svg>',
icon_settings_small:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M17.568,14.983 C17.568,16.41 16.372,17.568 14.983,17.568 C13.556,17.568 12.36,16.411 12.36,14.983 C12.36,13.555 13.556,12.36 14.983,12.36 C16.372,12.359 17.568,13.555 17.568,14.983 L17.568,14.983 Z M21.465,13.787 L20.732,13.787 C20.462,13.787 20.23,13.671 20.153,13.401 L19.574,12.437 C19.497,12.206 19.535,11.858 19.69,11.704 L20.307,11.125 C20.461,10.971 20.461,10.623 20.307,10.469 L19.497,9.62 C19.266,9.427 18.995,9.427 18.803,9.62 L18.224,10.276 C18.031,10.392 17.722,10.43 17.491,10.315 L16.527,9.775 C16.334,9.736 16.103,9.466 16.103,9.196 L16.103,8.463 C16.103,8.193 15.872,8 15.447,8 L14.521,8 C14.019,8 13.865,8.193 13.865,8.463 L13.865,9.196 C13.865,9.466 13.634,9.736 13.441,9.775 L12.438,10.315 C12.245,10.431 11.936,10.392 11.744,10.276 L11.125,9.62 C10.971,9.427 10.662,9.427 10.508,9.62 L9.621,10.469 C9.467,10.623 9.467,10.971 9.621,11.125 L10.238,11.704 C10.431,11.858 10.431,12.206 10.354,12.437 L9.852,13.401 C9.736,13.671 9.505,13.787 9.235,13.787 L8.463,13.787 C8.232,13.787 8,14.057 8,14.52 L8,15.369 C8,15.909 8.231,16.063 8.463,16.063 L9.235,16.063 C9.505,16.063 9.737,16.256 9.814,16.487 L10.354,17.49 C10.431,17.721 10.431,18.03 10.238,18.146 L9.621,18.763 C9.467,18.994 9.467,19.265 9.621,19.419 L10.508,20.306 C10.662,20.46 10.971,20.46 11.125,20.306 L11.742,19.689 C11.935,19.535 12.244,19.458 12.436,19.612 L13.439,20.114 C13.632,20.23 13.863,20.423 13.863,20.731 L13.863,21.503 C13.863,21.696 14.017,21.927 14.519,21.927 L15.445,21.927 C15.869,21.927 16.101,21.696 16.101,21.503 L16.101,20.731 C16.101,20.422 16.332,20.229 16.525,20.114 L17.489,19.612 C17.72,19.458 18.029,19.535 18.222,19.689 L18.801,20.306 C18.994,20.46 19.264,20.46 19.495,20.306 L20.305,19.419 C20.459,19.265 20.459,18.995 20.305,18.763 L19.688,18.146 C19.534,18.03 19.495,17.722 19.572,17.49 L20.151,16.487 C20.228,16.256 20.46,16.063 20.73,16.063 L21.463,16.063 C21.733,16.063 21.926,15.909 21.926,15.407 L21.926,14.52 C21.928,14.057 21.735,13.787 21.465,13.787 L21.465,13.787 Z" transform="translate(0 0)" fill-rule="evenodd"></path></svg>',
icon_view_electronicslab:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M20,5 L10,5 C9.448,5 9,5.448 9,6 L9,24 C9,24.552 9.448,25 10,25 L20,25 C20.552,25 21,24.552 21,24 L21,6 C21,5.448 20.552,5 20,5 L20,5 Z M15.001,8.091 C14,8.091 13,7.096 13,6 L17,6 C17.08,7.484 16.002,8.091 15.001,8.091 Z M6,7 L8,7 L8,11 L6,11 L6,7 Z M6,13 L8,13 L8,17 L6,17 L6,13 Z M6,19 L8,19 L8,23 L6,23 L6,19 Z M22,7 L24,7 L24,11 L22,11 L22,7 Z M22,13 L24,13 L24,17 L22,17 L22,13 Z M22,19 L24,19 L24,23 L22,23 L22,19 Z" transform="translate(0 0)" fill-rule="evenodd"></path></svg>',
icon_line:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M17,24.091 C17,24.453 16.529,24.814 16.058,24.814 L14.927,24.814 C14.456,24.814 13.985,24.452 13.985,24.091 L13.985,5.723 C13.985,5.289 14.456,5 14.927,5 L16.058,5 C16.529,5 17,5.289 17,5.723 L17,24.091 L17,24.091 Z" transform="translate(0 0)" fill-rule="evenodd"></path></svg>',icon_debugger:'<svg width="18" height="18" viewbox="0 0 18 18" xmlns="http://www.w3.org/2000/svg"><path d="M4.40012334,0.840359057 C4.44871443,1.15184039 4.7406108,1.36495504 5.05209213,1.31636395 C5.45139481,1.31636395 5.74466797,1.47992013 6.0390691,1.77432126 C6.33347023,2.06872239 6.58613633,2.48607265 6.77901983,2.93726212 C6.85008217,3.10307425 6.89971301,3.26888638 6.95498372,3.43131459 C6.1631462,4.34046138 5.8890486,5.67485424 6.53199359,6.63927173 C6.51056209,6.65393539 6.48236275,6.65957526 6.46093125,6.67423892 L3.67596424,4.80631451 C3.55488716,4.71568647 3.40248405,4.6774841 3.25297412,4.70028498 C3.02797604,4.74224408 2.850647,4.916021 2.80414436,5.14012412 C2.75764173,5.36422723 2.85118794,5.59421226 3.04091506,5.72222913 L5.61382302,7.44915683 C5.36115692,7.72663836 5.14684192,8.03119125 4.94380666,8.36619943 L0.854902077,10.4112157 C0.632740555,10.469456 0.468084877,10.6565954 0.438600207,10.8843635 C0.409115536,11.1121317 0.52069176,11.3350294 0.720700354,11.4479198 C0.920708947,11.5608101 1.16919599,11.5411421 1.34895455,11.3981927 L4.23995108,9.95325839 C4.04932353,10.6052272 3.92299048,11.3011869 3.92299048,12.0332419 C3.92299048,12.0806167 3.92186251,12.1268637 3.92299048,12.1742386 L1.77307265,15.0652351 C1.63907639,15.2284299 1.60461321,15.4516572 1.68315364,15.6476647 C1.76169407,15.8436722 1.94076654,15.9813356 2.15037744,16.0068466 C2.35998834,16.0323577 2.56685319,15.9416655 2.69011525,15.7702186 L4.13504953,13.8312319 C4.5907509,15.6743409 5.7390281,17.1350668 7.20200996,17.814107 C7.86187456,17.3211825 8.43601316,16.4447469 8.43601316,15.4171629 L8.43601325,13.8312321 C8.43601325,13.5199113 8.68867935,13.2672452 9.00000009,13.2672452 C9.31132082,13.2672452 9.56398693,13.5199113 9.56398693,13.8312321 L9.56398684,15.4171629 C9.56398684,16.4447469 10.1381254,17.3211825 10.79799,17.814107 C12.2609719,17.1339388 13.4092491,15.6743409 13.8649505,13.8312319 L15.3098847,15.7702186 C15.4331468,15.9416655 15.6400117,16.0323577 15.8496226,16.0068466 C16.0592335,15.9813356 16.2383059,15.8436722 16.3168464,15.6476647 C16.3953868,15.4516572 16.3609236,15.2284299 16.2269273,15.0652351 L14.0770095,12.1742386 C14.0781375,12.1268637 14.0770095,12.0806167 14.0770095,12.0332419 C14.0770095,11.3011869 13.9495485,10.6052272 13.7600489,9.95325839 L16.6510455,11.3981927 C16.830804,11.5411421 17.0792911,11.5608101 17.2792996,11.4479198 C17.4793082,11.3350294 17.5908845,11.1121317 17.5613998,10.8843635 C17.5319151,10.6565954 17.3672594,10.469456 17.1450979,10.4112157 L13.0561933,8.36619943 C12.8531581,8.03231922 12.6388431,7.72776633 12.386177,7.44915683 L14.9590849,5.72222913 C15.1824359,5.57267206 15.2692008,5.28627308 15.1664008,5.03790817 C15.0636007,4.78954326 14.7998079,4.64824269 14.5360948,4.70028498 C14.4586942,4.7202035 14.3864109,4.75634514 14.3240358,4.80631451 L11.5041016,6.67423892 C11.4826701,6.65957526 11.4555987,6.65393539 11.4330392,6.63927173 C12.2045732,5.49889034 11.7218005,3.90167962 10.6220261,3.04329165 C10.6366898,3.00832446 10.6423297,2.97335728 10.6569933,2.93726212 C10.8510048,2.48494468 11.1025429,2.06872239 11.3969441,1.77432126 C11.6913452,1.47992013 11.9846183,1.31636395 12.383921,1.31636395 C12.6954024,1.31636395 12.9479079,1.06385844 12.9479079,0.75237711 C12.9479079,0.44089578 12.6954024,0.188390272 12.383921,0.188390272 C11.65525,0.188390272 11.0326086,0.517758586 10.585931,0.964436162 C10.1403814,1.40998576 9.82793268,1.98074044 9.59895402,2.51539997 C9.41171039,2.47140899 9.23687447,2.44433763 9.03496718,2.44433763 C8.64243234,2.44433763 8.24200169,2.5311916 7.90699351,2.69136386 C7.88217809,2.63045328 7.86300253,2.57631055 7.83593117,2.51539997 C7.60695251,1.98074044 7.2945038,1.40998576 6.8489542,0.964436162 C6.4034046,0.518886559 5.77963515,0.188390272 5.05096416,0.188390272 C5.0156994,0.185060642 4.98019939,0.185060642 4.94493463,0.188390272 C4.92127055,0.186902442 4.89753637,0.186902442 4.87387229,0.188390272 C4.56464691,0.236981359 4.35153226,0.528877727 4.40012334,0.840359057 Z" transform="matrix(-1 0 0 1 18 0)" fill-rule="evenodd"></path></svg>',
admin_horse5:'<?xml version="1.0" encoding="iso-8859-1"?>\x3c!-- Generator: Adobe Illustrator 16.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --\x3e<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewbox="0 0 975.711 975.711" style="enable-background:new 0 0 975.711 975.711;" xml:space="preserve"><g><path d="M522.22,797.502c-14.3-3.301-32.7-1.4-46.101,4.6c-12.899,5.7-23.8,15.7-30.5,28.1c-4.399,8.101-6.899,17.2-7.3,26.4\t\tc-0.6,13.7,4.601,28.8,12.5,40.2c3.9,5.6,8.3,10.2,12.601,13.899c6.899,6.2,15.1,10.301,23.8,13.301c0.2,0.1,0.2,0.1,0.2,0.1\t\ts-0.101,0-0.2,0c-16.101-3.2-30.601-11-41.8-23c-5.101-5.5-9.9-12.1-13.801-20c-10.1-20.9-8.899-43.5-0.3-64.5\t\tc9.3-22.6,31.101-40.1,54.2-46.8c5-1.5,10.6-2.4,15.9-3c3.8-0.4,7.5-0.9,11.199-1.3c73.301-65,200.5-113.5,194.9-252.301\t\tc-5.5-136.8-80.2-211.899-125.2-244.899c49.3-9.4,84.5-42,84.5-42l97.7,62c5.5,3.5,12.8,1.5,15.7-4.3l26.6-52.8\t\tc3.8-7.6-2.1-16.5-10.6-15.9c-30.601,2.1-90.5-6.7-146.2-91.3c-59.6-90.7-143.2-123.4-202.6-124c-6.4-0.1-11.601,5.4-11.101,11.8\t\tc1.9,25.3-2.6,84.9-84.1,96.8c-2.5,0.4-4.8,1.6-6.5,3.4c-15,16.4-83.6,100.4-36.4,224.7c12.4-0.3,26,0,40.3,1\t\tc37.9,2.7,75.9,10.7,110.4,27.1c2,0.9,3.9,1.9,5.9,2.9c21.6,11,41.399,25.5,57.899,43.3c4.8,5.3,9.3,10.899,13.7,16.6\t\tc1,1.4,1.8,2.6,2.5,3.5c1.3,1.9,2,2.9,2,2.9s-0.9-0.9-2.5-2.601c-0.8-0.8-1.8-1.899-3-3c-21.5-21.2-47.9-36.899-76.6-46.1\t\tc-36.9-11.9-76.7-13.7-115.101-9.9c-24.7,2.5-50.5,6.4-74.1,14.4c-43.6,14.899-78.5,38.2-98.7,53.7c-7.6,5.8-4.6,17.8,4.8,19.5\t\tc97.3,17.8,165.2,71.3,185,88.5c3.6,3.1,8.8,3.6,12.9,1.1c16.3-9.9,55.399-33.7,55.399-33.6c46.2,81.8-21.3,149.6-48.6,191.3\t\tc-33.2,50.6-61.5,115.8-40.9,177.5c19,56.7,74.3,97.6,135,90c20.7-2.601,40.7-10,59.101-19.8c31.1-16.601,52.899-43.5,51.5-80.301\t\tC584.72,836.602,557.619,805.602,522.22,797.502z M527.319,142.302c-0.6-13.8,10.2-25.5,24-26c13.8-0.6,25.5,10.2,26,24\t\tc0.601,13.8-10.2,25.5-24,26C539.52,166.901,527.819,156.102,527.319,142.302z"></path></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',
icon_grid:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M24 14h-5v-3h-3V6h-2v5h-3v3H6v2h5v3h3v5h2v-5h3v-3h5v-2zm-7 3h-4v-4h4v4z"></path></svg>',icon_resume:'<svg width="16" height="13" viewbox="0 0 16 13" xmlns="http://www.w3.org/2000/svg"><g transform="translate(0 0)" fill-rule="evenodd"><path d="M6,0.92616469 C6,0.180230621 6.96258314,-0.258825988 7.66699001,0.166365675 L15.4682144,5.40300056 C16.0600012,5.75979182 16.0823127,6.51404486 15.5117751,6.89579303 L7.71055062,12.8065743 C7.01145602,13.2742852 6,12.8407745 6,12.0735809 L6,0.92616469 Z"></path><rect width="3" height="13" rx="2"></rect></g></svg>',
admin_horse2:'<?xml version="1.0" encoding="iso-8859-1"?>\x3c!-- Generator: Adobe Illustrator 16.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --\x3e<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="30.11px" height="30.11px" viewbox="0 0 30.11 30.11" style="enable-background:new 0 0 30.11 30.11;" xml:space="preserve"><g><g><g><path d="M15.556,10.985c0.368,0,0.73,0.014,1.089,0.038V0.981c0-0.542-0.439-0.981-0.98-0.981c-0.543,0-0.98,0.439-0.98,0.981                v10.024c0.041-0.001,0.081-0.001,0.122-0.003C15.054,10.991,15.304,10.985,15.556,10.985z"></path><path d="M14.684,21.913v7.216c0,0.543,0.438,0.981,0.981,0.981c0.542,0,0.98-0.438,0.98-0.981v-7.205                c-0.357-0.033-0.721-0.056-1.089-0.056C15.261,21.868,14.973,21.893,14.684,21.913z"></path><path d="M28.569,19.26c-1.016-0.348-1.921-1.258-1.271-2.637c0.816-1.731,0.987-4.627-1.871-5.58                c-2.981-0.994-4.393,1.582-4.899,2.893c-1.371-0.618-3.095-0.989-4.971-0.989c-0.223,0-0.441,0.005-0.661,0.015                c-0.099,0.005-0.198,0.007-0.297,0.007c-0.833,0-1.644-0.174-2.397-0.483l0.442-0.247c0.201-0.112,0.336-0.313,0.365-0.542                c0.029-0.228-0.052-0.457-0.218-0.615c-1.036-0.992-1.091-2.556-1.091-2.556c-0.521-4.009-3.208-4.612-4.541-4.66                c-0.196-0.008-0.387,0.065-0.53,0.202c-0.14,0.137-0.22,0.325-0.22,0.522v1.587C6.033,6.247,5.636,6.346,5.35,6.613                C4.559,7.352,3.406,8.575,2.511,9.401c-0.965,0.892-1.469,2.162-0.929,3.359c0.28,0.621,0.895,0.996,1.543,0.996                c0.184,0,0.369-0.03,0.551-0.093l2.988-1.031l0.421,1.728c0.256,1.052,0.392,2.157,0.392,3.239c0,0.969,0.523,1.861,1.403,2.604                l-0.751,5.136C8.041,25.933,8.4,26.517,8.99,26.693c0.65,0.193,1.336-0.176,1.53-0.824l1.651-5.515                c1.032-0.278,2.168-0.449,3.383-0.449c1.199,0,2.321,0.166,3.345,0.438l1.689,5.525c0.174,0.567,0.738,0.942,1.347,0.856                c0.674-0.094,1.141-0.715,1.047-1.387l-0.726-5.16c0.862-0.739,1.377-1.625,1.377-2.582c0-0.709-0.283-1.377-0.775-1.979                c0.494-0.268,1.058-0.009,1.513,2.092c0.645,2.969,2.979,2.52,4.205,2.053c0.105-0.039,0.175-0.143,0.173-0.254                C28.748,19.395,28.675,19.295,28.569,19.26z"></path></g></g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',
icon_view_schematic:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M19,7 L19,23 L11,23 L11,7 L19,7 L19,7 Z M21,5 L9,5 L9,25 L21,25 L21,5 L21,5 Z M5,8 L9,8 L9,10 L5,10 L5,8 L5,8 Z M5,14 L9,14 L9,16 L5,16 L5,14 L5,14 Z M5,20 L9,20 L9,22 L5,22 L5,20 L5,20 Z M21,8 L25,8 L25,10 L21,10 L21,8 L21,8 Z M21,14 L25,14 L25,16 L21,16 L21,14 L21,14 Z M21,20 L25,20 L25,22 L21,22 L21,20 L21,20 Z" transform="translate(0 0)" fill-rule="evenodd"></path></svg>',icon_layer_hidden:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g fill-rule="evenodd"><path d="M14.875,12.802 C14.002,12.802 13.293,13.562 13.293,14.502 C13.293,15.44 14.002,16.202 14.875,16.202 C15.749,16.202 16.457,15.44 16.457,14.502 C16.457,13.562 15.748,12.802 14.875,12.802 L14.875,12.802 Z M23.002,13.451 L23.002,13.443 C20.779,11.166 14.132,5.781 6.77,13.503 L6.77,13.51 C6.532,13.748 6.382,14.083 6.382,14.46 C6.382,14.84 6.536,15.178 6.778,15.415 C9.077,17.843 15.751,23.37 23.002,15.256 L23.002,15.252 C23.225,15.026 23.367,14.707 23.367,14.351 C23.367,13.995 23.225,13.676 23.002,13.451 L23.002,13.451 Z M14.86,18.338 C12.886,18.338 11.287,16.62 11.287,14.501 C11.287,12.381 12.886,10.664 14.86,10.664 C16.833,10.664 18.433,12.382 18.433,14.501 C18.433,16.621 16.833,18.338 14.86,18.338 L14.86,18.338 Z" transform=""></path><path d="M10.726,21.271 C10.521,21.271 10.315,21.209 10.137,21.079 C9.691,20.753 9.594,20.127 9.92,19.682 L18.411,8.065 C18.737,7.621 19.362,7.522 19.808,7.848 C20.254,8.174 20.351,8.799 20.025,9.245 L11.534,20.861 C11.338,21.13 11.035,21.271 10.726,21.271 L10.726,21.271 Z"></path></g></svg>',
icon_cs_conductiveink:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g fill-rule="evenodd"><path d="M13.5348878,17.0576454 C13.5918878,16.9186454 13.5158878,16.8056454 13.3658878,16.8056454 L12.1408878,16.8056454 C11.9908878,16.8056454 11.9548878,16.7196454 12.0608878,16.6136454 L16.6088878,12.0656454 C16.7148878,11.9596454 16.7518878,11.9846454 16.6908878,12.1216454 L15.2438878,15.4006454 C15.1828878,15.5376454 15.2568878,15.6496454 15.4058878,15.6496454 L16.6308878,15.6496454 C16.7808878,15.6496454 16.8168878,15.7366454 16.7108878,15.8416454 L12.3668878,20.1856454 C12.2608878,20.2916454 12.2208878,20.2646454 12.2778878,20.1256454 L13.5348878,17.0576454 L13.5348878,17.0576454 Z" transform=""></path><path d="M15.0078016,24.114 L15.0078016,24.114 L14.8468016,24.112 C10.7998016,24.028 7.44980162,21.017 7.05180162,17.108 C6.77780162,14.41 7.58880162,12.201 9.53180162,10.353 C10.5858016,9.35 11.6358016,8.307 12.6528016,7.297 L14.9668016,5 L17.1558016,7.333 C18.1008016,8.343 19.0658016,9.376 20.0548016,10.331 C21.9328016,12.143 22.8918016,14.589 22.6868016,17.04 C22.4928016,19.383 21.2948016,21.421 19.3148016,22.78 C18.0458016,23.652 16.5558016,24.114 15.0078016,24.114 L15.0078016,24.114 Z M14.9208016,7.596 L13.9438016,8.566 C12.9028016,9.6 11.8428016,10.653 10.7788016,11.665 C9.24780162,13.121 8.63580162,14.792 8.85280162,16.925 C9.15780162,19.925 11.7498016,22.237 14.8828016,22.302 L15.0078016,22.304 C16.1888016,22.304 17.3238016,21.953 18.2908016,21.288 C19.8148016,20.242 20.7358016,18.681 20.8838016,16.89 C21.0438016,14.982 20.2838016,13.067 18.7988016,11.634 C17.7758016,10.647 16.7938016,9.597 15.8448016,8.581 L14.9208016,7.596 L14.9208016,7.596 Z"></path></g></svg>',
icon_rectangle:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M8.723,20.722 C8.723,21 9.001,21.278 9.279,21.278 L20.723,21.278 C21.001,21.278 21.279,21 21.279,20.722 L21.279,9.278 C21.279,9 21.001,8.722 20.723,8.722 L9.279,8.722 C9.001,8.722 8.723,9 8.723,9.278 L8.723,20.722 L8.723,20.722 Z M23.001,22.444 C23.001,22.722 22.723,23 22.445,23 L7.556,23 C7.278,23 7,22.722 7,22.444 L7,7.556 C7,7.278 7.278,7 7.556,7 L22.445,7 C22.723,7 23.001,7.278 23.001,7.556 L23.001,22.444 L23.001,22.444 Z" transform="translate(0 0)" fill-rule="evenodd"></path></svg>',
icon_flip_horizontal:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M22.7642072,14.0548425 L7.23120717,14.0548425 C6.37420717,14.1088425 6.16020717,12.9298425 6.85620717,12.6088425 L22.4962072,5.75284247 C22.9242072,5.53884247 23.5672072,5.75284247 23.5672072,6.44884247 L23.5672072,13.3048425 C23.5682072,13.7338425 23.1932072,14.0548425 22.7642072,14.0548425 L22.7642072,14.0548425 Z M11.3552072,17.5898425 L21.8002072,22.1958425 L21.8002072,17.5898425 L11.3552072,17.5898425 L11.3552072,17.5898425 Z M22.4962072,24.2318425 L6.85620717,17.3758425 C6.10620717,17.0008425 6.42820717,15.9298425 7.23120717,15.9298425 L22.7642072,15.9298425 C23.1922072,15.9298425 23.5672072,16.2508425 23.5672072,16.6798425 L23.5672072,23.5358425 C23.5682072,24.1778425 23.0852072,24.4998425 22.4962072,24.2318425 L22.4962072,24.2318425 Z" transform="translate(0 0)" fill-rule="evenodd"></path></svg>',
icon_trace:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M17.5527973,17.0329325 C16.3327973,17.0299325 15.4057973,16.0989325 15.4087973,14.8789325 C15.4117973,13.7169325 16.3427973,12.7319325 17.5627973,12.7349325 C18.7247973,12.7379325 19.7677973,13.7269325 19.7647973,14.8889325 C19.7627973,16.1089325 18.7147973,17.0359325 17.5527973,17.0329325 L17.5527973,17.0329325 Z M25.2417973,7.8149325 C24.4307973,6.9999325 23.5017973,6.6489325 22.6867973,7.4609325 L19.4857973,10.4159325 C18.9057973,10.1819325 18.2667973,10.0649325 17.5697973,10.0629325 C15.5367973,10.0579325 13.7917973,11.2159325 13.0907973,12.9569325 L9.37379726,12.9479325 L3.49479726,18.4529325 C2.67979726,19.2059325 2.96779726,20.1359325 3.66379726,20.9509325 C4.47479726,21.7659325 5.57879726,21.8849325 6.16079726,21.3629325 L10.9337973,16.9589325 L13.0827973,16.9639325 C13.8917973,18.5919325 15.5737973,19.7579325 17.5487973,19.7619325 C20.2207973,19.7679325 22.3747973,17.5659325 22.3807973,14.8939325 C22.3817973,14.3709325 22.3247973,13.8479325 22.1517973,13.3829325 L25.4117973,10.3119325 C26.1667973,9.5599325 25.9367973,8.6299325 25.2417973,7.8149325 L25.2417973,7.8149325 Z" transform="translate(-198 -468) translate(198 468)" fill-rule="evenodd"></path></svg>',
icon_view_bit:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M23,7 L8,7 L8,7 C8,6.448 7.552,6 7,6 L5,6 C4.448,6 4,6.448 4,7 L4,23 C4,23.552 4.448,24 5,24 L7,24 C7.552,24 8,23.552 8,23 L23,23 C23,23.552 23.448,24 24,24 L26,24 C26.552,24 27,23.552 27,23 L27,7 C27,6.448 26.552,6 26,6 L24,6 C23.448,6 23,6.448 23,7 Z M23,8 L8,8 L8,22 L23,22 L23,8 L23,8 Z M3,15 L4,15 L4,12 L3,12 C2.448,12 2,12.448 2,13 L2,14 C2,14.552 2.448,15 3,15 Z M28,15 L27,15 L27,18 L28,18 C28.552,18 29,17.552 29,17 L29,16 C29,15.448 28.552,15 28,15 Z M20,13 L20,12 L19,12 L19,13 L16,13 L16,12 L15,12 L15,13 L12,13 L12,12 L11,12 L11,13 L10,13 L10,17 L11,17 L11,18 L12,18 L12,17 L15,17 L15,18 L16,18 L16,17 L19,17 L19,18 L20,18 L20,17 L21,17 L21,13 L20,13 Z" transform="translate(0 0)" fill-rule="evenodd"></path></svg>',
icon_view_sketch:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M25.492531,20.0300008 L17.571531,6.49200085 C16.419531,4.50100085 13.544531,4.50300085 12.396531,6.49600085 L4.50453098,20.0340008 C3.35753098,22.0260008 4.79553098,24.5130008 7.09353098,24.5130008 L22.907531,24.5130008 C25.207531,24.5130008 26.644531,22.0220008 25.492531,20.0300008 L25.492531,20.0300008 Z M8.98453098,22.5130008 C7.88053098,22.5130008 6.98453098,21.6180008 6.98453098,20.5130008 C6.98453098,19.4080008 7.88053098,18.5130008 8.98453098,18.5130008 C10.088531,18.5130008 10.984531,19.4080008 10.984531,20.5130008 C10.984531,21.6180008 10.088531,22.5130008 8.98453098,22.5130008 L8.98453098,22.5130008 Z M14.984531,11.5130008 C13.880531,11.5130008 12.984531,10.6180008 12.984531,9.51300085 C12.984531,8.40800085 13.880531,7.51300085 14.984531,7.51300085 C16.088531,7.51300085 16.984531,8.40800085 16.984531,9.51300085 C16.984531,10.6180008 16.088531,11.5130008 14.984531,11.5130008 L14.984531,11.5130008 Z M20.984531,22.5130008 C19.880531,22.5130008 18.984531,21.6180008 18.984531,20.5130008 C18.984531,19.4080008 19.880531,18.5130008 20.984531,18.5130008 C22.088531,18.5130008 22.984531,19.4080008 22.984531,20.5130008 C22.984531,21.6180008 22.088531,22.5130008 20.984531,22.5130008 L20.984531,22.5130008 Z" transform="translate(-258 -98) translate(258 98)" fill-rule="evenodd"></path></svg>',
icon_community:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M21.9780076,18.5153619 C20.7409316,17.9799054 18.0034829,17.0414475 18.0034829,17.0414475 C18.0034829,17.0414475 17.2971794,16.8174012 17.1202552,16.1480806 C16.9879104,15.7901702 16.7664069,15.4773509 16.2370275,16.505991 C15.7508343,17.4881309 15.6630688,17.6670861 15.6630688,17.6670861 C15.6630688,17.6670861 15.3983791,18.3378158 15.3983791,19.0522275 C15.3983791,19.7229572 15.4429584,20.1245496 15.4429584,20.1245496 C15.4429584,20.1245496 15.3551929,20.6163241 15.0013446,20.6163241 C14.60431,20.6163241 14.5151514,20.1245496 14.5151514,20.1245496 C14.5151514,20.1245496 14.5597307,19.7229572 14.5597307,19.0522275 C14.5597307,18.3378158 14.295041,17.6670861 14.295041,17.6670861 C14.295041,17.6670861 14.2072755,17.4881309 13.7210823,16.505991 C13.1917029,15.47876 12.9701995,15.7915793 12.8378546,16.1480806 C12.6609304,16.8188103 11.9546269,17.0414475 11.9546269,17.0414475 C11.9546269,17.0414475 9.21717824,17.9799054 7.98010221,18.5153619 C6.78621239,19.0522275 6.87397792,22.0000564 6.87397792,22.0000564 L14.9553721,22.0000564 L14.9999515,22.0000564 L23.0813457,22.0000564 C23.0813457,22.0000564 23.1705043,19.0522275 21.9780076,18.5153619 L21.9780076,18.5153619 Z M14.9999515,16.1043986 C14.7352618,16.1043986 12.7473029,16.0156256 12.3948476,13.2904338 C12.2625028,13.1565697 12.130158,12.9776145 12.0855786,12.9325234 C11.7317303,12.7535682 11.6885441,12.4407489 11.6885441,11.5924731 C11.6885441,10.6103331 11.7331234,9.00114547 11.7331234,9.00114547 C11.7331234,8.91237242 12.130158,6.5 15.0013446,6.5 C17.9157174,6.5 18.314145,8.91237242 18.314145,8.95746349 C18.314145,9.00255457 18.3587243,10.6103331 18.3587243,11.5924731 C18.3587243,12.4407489 18.314145,12.7535682 17.9616898,12.9325234 C17.8739243,12.9776145 17.7401863,13.1565697 17.6524208,13.2904338 C17.2985725,16.0156256 15.2674274,16.1043986 15.047317,16.1043986 L14.9999515,16.1043986 L14.9999515,16.1043986 Z M7.31559178,18.0249965 C6.96174345,17.3993579 6.8293986,17.5783131 6.74163308,17.8460413 C6.60928823,18.3378158 6.12309506,18.47168 6.12309506,18.47168 C6.12309506,18.47168 4.13513616,19.1424097 3.29648777,19.544002 C2.41465317,19.9005033 2.5024187,22.0000564 2.5024187,22.0000564 L5.99075021,22.0000564 C5.99075021,21.4195089 5.99075021,18.8732723 7.31559178,18.0249965 L7.31559178,18.0249965 Z M26.7034151,19.5425929 C25.8647667,19.1410006 23.8768079,18.4702709 23.8768079,18.4702709 C23.8768079,18.4702709 23.3906147,18.3364067 23.2582698,17.8446322 C23.1705043,17.576904 23.0367664,17.3979488 22.6843111,18.0235874 C24.0091527,18.8718632 24.0091527,21.4180998 24.0091527,21.9986473 L27.4974842,21.9986473 C27.4974842,22.0000564 27.5866428,19.9005033 26.7034151,19.5425929 L26.7034151,19.5425929 Z M10.4068888,12.3519759 C10.4068888,12.3519759 10.1853853,10.8329703 8.2433988,10.8329703 C6.34459854,10.8329703 6.12309506,12.3519759 6.12309506,12.3519759 C6.12309506,12.3519759 6.07851574,13.5581621 6.07851574,14.2725738 C6.07851574,14.9869854 6.12309506,14.9433035 6.21086059,15.0320765 C6.34320543,15.0771676 6.56470891,15.4336689 6.56470891,15.4336689 C6.78621239,17.3993579 8.2433988,17.3091757 8.2433988,17.3091757 C8.2433988,17.3091757 9.70058521,17.3979488 9.9652749,15.4336689 C9.9652749,15.4336689 10.1867784,15.0757585 10.2745439,15.0320765 C10.4068888,14.9433035 10.4514681,14.9869854 10.4514681,14.2725738 C10.4514681,13.5581621 10.4068888,12.3519759 10.4068888,12.3519759 L10.4068888,12.3519759 Z M23.9213872,12.3519759 C23.9213872,12.3519759 23.6998837,10.8329703 21.7578972,10.8329703 C19.8159107,10.8329703 19.5944073,12.3519759 19.5944073,12.3519759 L19.5944073,14.2725738 C19.5944073,14.9869854 19.6389866,14.9433035 19.7267521,15.0320765 C19.859097,15.0771676 20.0806004,15.4336689 20.0806004,15.4336689 C20.3021039,17.3993579 21.7592903,17.3091757 21.7592903,17.3091757 C21.7592903,17.3091757 23.2164767,17.3979488 23.4379802,15.4336689 C23.4379802,15.4336689 23.6594837,15.0757585 23.7918285,15.0320765 C23.9241734,14.9433035 23.9687527,14.9869854 23.9687527,14.2725738 C23.9645734,13.5581621 23.9213872,12.3519759 23.9213872,12.3519759 L23.9213872,12.3519759 Z" transform="translate(0 0)" fill-rule="evenodd"></path></svg>',
icon_serialmonitor:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M24.268,7 L5.732,7 C4.775,7 4,7.776 4,8.732 L4,21.952 C4,22.531 4.469,23 5.048,23 L24.953,23 C25.531,23 26,22.531 26,21.952 L26,8.732 C26,7.776 25.224,7 24.268,7 L24.268,7 Z M12,8.99 C12,8.443 12.443,8 12.99,8 L13.01,8 C13.557,8 14,8.443 14,8.99 L14,9.01 C14,9.557 13.557,10 13.01,10 L12.99,10 C12.443,10 12,9.557 12,9.01 L12,8.99 L12,8.99 Z M9,8.99 C9,8.443 9.443,8 9.99,8 L10.01,8 C10.557,8 11,8.443 11,8.99 L11,9.01 C11,9.557 10.557,10 10.01,10 L9.99,10 C9.443,10 9,9.557 9,9.01 L9,8.99 L9,8.99 Z M6,8.99 C6,8.443 6.443,8 6.99,8 L7.01,8 C7.557,8 8,8.443 8,8.99 L8,9.01 C8,9.557 7.557,10 7.01,10 L6.99,10 C6.443,10 6,9.557 6,9.01 L6,8.99 L6,8.99 Z M18,22 L5,22 L5,11 L18,11 L18,22 L18,22 Z M25,22 L19,22 L19,19 L25,19 L25,22 L25,22 Z M25,18 L19,18 L19,11 L25,11 L25,18 Z M20,20 L24,20 L24,21 L20,21 L20,20 Z" transform="translate(0 0)" fill-rule="evenodd"></path></svg>',
icon_doc_brd:'<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg width="16px" height="18px" viewbox="0 0 16 18" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\x3c!-- Generator: Sketch 39.1 (31720) - http://www.bohemiancoding.com/sketch --\x3e<title>icon-doc-brd</title><desc>Created with Sketch.</desc><defs></defs><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Filetypes" transform="translate(-328.000000, -26.000000)" fill="#000000"><g id="doc-brd" transform="translate(320.000000, 20.000000)"><g id="icon-doc-brd" transform="translate(8.000000, 6.000000)"><polygon id="Shape-23-Copy" points="14 5 9 5 9 0 10 0 10 4 14 4"></polygon><path d="M10,0 L2,0 C0.896,0 0,0.895 0,2 L0,16 C0,17.105 0.896,18 2,18 L12,18 C13.104,18 14,17.105 14,16 L14,4 L10,0 Z M13,7 L14,7 L14,14 L13,14 L13,7 Z M13,16 C13,16.551 12.552,17 12,17 L2,17 C1.448,17 1,16.551 1,16 L1,2 C1,1.449 1.448,1 2,1 L9.586,1 L13,4.414 L13,16 L13,16 Z" id="Shape-22-Copy"></path><path d="M3,7 L16,7 L16,14 L3,14 L3,7 Z M4,8 L5,8 L5,13 L4,13 L4,8 Z M5,8 L6,8 L6,9 L5,9 L5,8 Z M6,9 L7,9 L7,12 L6,12 L6,9 Z M5,12 L6,12 L6,13 L5,13 L5,12 Z M5,10 L6,10 L6,11 L5,11 L5,10 Z M8,8 L9,8 L9,13 L8,13 L8,8 Z M9,8 L11,8 L11,9 L9,9 L9,8 Z M10,9 L11,9 L11,10 L10,10 L10,9 Z M9,10 L11,10 L11,11 L9,11 L9,10 Z M10,12 L11,12 L11,13 L10,13 L10,12 Z M9,11 L10,11 L10,12 L9,12 L9,11 Z M12,8 L13,8 L13,13 L12,13 L12,8 Z M13,8 L14,8 L14,9 L13,9 L13,8 Z M13,12 L14,12 L14,13 L13,13 L13,12 Z M14,9 L15,9 L15,12 L14,12 L14,9 Z" id="Combined-Shape"></path></g></g></g></g></svg>',
icon_pen:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M11.194017,17.8227333 C11.615017,17.3097333 12.372017,17.2347333 12.886017,17.6567333 C13.399017,18.0777333 13.473017,18.8357333 13.052017,19.3487333 C12.630017,19.8617333 11.872017,19.9357333 11.360017,19.5147333 C10.846017,19.0927333 10.772017,18.3347333 11.194017,17.8227333 L11.194017,17.8227333 Z M8.62201704,17.1837333 C9.71901704,19.9557333 7.15801704,22.5867333 7.13201704,22.6137333 C7.04201704,22.7047333 6.99901704,22.8307333 7.00001704,22.9597333 C7.00601704,23.0887333 7.06601704,23.2097333 7.16601704,23.2907333 L8.46801704,24.3607333 C8.56801704,24.4417333 8.69801704,24.4647333 8.82501704,24.4597333 C8.95201704,24.4407333 9.06601704,24.3687333 9.13801704,24.2617333 C9.15801704,24.2327333 11.249017,21.2087333 14.175017,21.7457333 C14.364017,21.7807333 14.556017,21.6927333 14.652017,21.5277333 L18.251017,15.3927333 C18.366017,15.1977333 18.322017,14.9517333 18.147017,14.8077333 L14.655017,11.9397333 C14.480017,11.7957333 14.230017,11.8007333 14.060017,11.9507333 L8.74101704,16.6727333 C8.60101704,16.8007333 8.55101704,17.0057333 8.62201704,17.1837333 L8.62201704,17.1837333 Z M15.031017,9.88273326 C14.815017,10.1467333 14.853017,10.5387333 15.117017,10.7557333 L19.222017,14.1277333 C19.486017,14.3447333 19.879017,14.3057333 20.095017,14.0417333 L23.098017,10.3857333 C23.314017,10.1217333 23.276017,9.72973326 23.012017,9.51273326 L18.907017,6.14073326 C18.643017,5.92373326 18.250017,5.96173326 18.034017,6.22673326 L15.031017,9.88273326 L15.031017,9.88273326 Z" transform="translate(0 0)" fill-rule="evenodd"></path></svg>',
icon_search:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M24.0442354,21.4210088 L19.9932354,17.0790088 C20.9662354,15.6010088 21.4232354,13.8550088 21.2772354,12.0630088 C21.1052354,9.93800882 20.1132354,8.00700882 18.4892354,6.62700882 C15.5102354,4.09600882 11.0412354,4.11800882 8.0942354,6.67600882 C7.7902354,6.94200882 7.5012354,7.23200882 7.2392354,7.54200882 C4.3892354,10.8960088 4.7992354,15.9430088 8.1542354,18.7920088 C10.5072354,20.7910088 13.7872354,21.1900088 16.5142354,20.0120088 C16.5472354,20.0520088 16.5722354,20.0970088 16.6072354,20.1360088 L20.7082354,24.5320088 C21.2072354,25.0660088 21.9012354,25.3080088 22.5772354,25.2480088 C23.0662354,25.2050088 23.5452354,25.0050088 23.9312354,24.6440088 C24.8532354,23.7850088 24.9022354,22.3420088 24.0442354,21.4210088 L24.0442354,21.4210088 Z M10.2222354,16.3590088 C8.2092354,14.6480088 7.9632354,11.6210088 9.6722354,9.60800882 C9.8312354,9.42100882 10.0052354,9.24600882 10.1872354,9.08700882 C11.9532354,7.55300882 14.6352354,7.54200882 16.4222354,9.06000882 C17.3972354,9.88800882 17.9912354,11.0470088 18.0952354,12.3220088 C18.1982354,13.5960088 17.8002354,14.8350088 16.9722354,15.8110088 C16.8132354,15.9970088 16.6392354,16.1730088 16.4562354,16.3320088 C14.6882354,17.8650088 12.0082354,17.8780088 10.2222354,16.3590088 L10.2222354,16.3590088 Z" transform="translate(0 0)" fill-rule="evenodd"></path></svg>',
icon_import:'<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg width="30px" height="30px" viewbox="0 0 30 30" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs></defs><g stroke="none" stroke-width="1" fill-rule="evenodd"><g transform="translate(-858.000000, -18.000000)"><g transform="translate(850.000000, 10.000000)"><g transform="translate(8.000000, 8.000000)"><path d="M17.3505553,15.477 L16.0275553,15.475 L16.0275553,12.475 C16.0275553,12.212 15.8145553,12 15.5525553,12 L14.5025553,12 C14.2405553,12 14.0275553,12.212 14.0275553,12.475 L14.0275553,15.475 L12.7065553,15.477 C12.5045553,15.477 12.4395553,15.647 12.5615553,15.854 L14.7825553,18.475 C14.9055553,18.683 15.1075553,18.684 15.2315553,18.477 L17.4925553,15.852 C17.6165553,15.646 17.5525553,15.477 17.3505553,15.477 L17.3505553,15.477 Z" transform="translate(15.027909, 15.315814) rotate(-180.000000) translate(-15.027909, -15.315814) "></path><path d="M22,11 L17,11 L17,6 L18,6 L18,10 L22,10 L22,11 Z"></path><path d="M18,6 L10,6 C8.896,6 8,6.895 8,8 L8,22 C8,23.105 8.896,24 10,24 L20,24 C21.104,24 22,23.105 22,22 L22,10 L18,6 L18,6 Z M21,22 C21,22.551 20.552,23 20,23 L10,23 C9.448,23 9,22.551 9,22 L9,8 C9,7.449 9.448,7 10,7 L17.586,7 L21,10.414 L21,22 L21,22 Z"></path></g></g></g></g></svg>',
icon_unstarred:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M14.3927923,5.5475 C14.7577923,4.8175 15.3057923,4.8175 15.6247923,5.5475 L17.4037923,9.2885 C17.7227923,10.0185 18.6357923,10.7025 19.4117923,10.8395 L23.3357923,11.4325 C24.1117923,11.5695 24.2937923,12.1165 23.7007923,12.7105 L20.8717923,15.5855 C20.3237923,16.1785 20.0047923,17.2735 20.0957923,18.0945 L20.7797923,22.2005 C20.9167923,22.9765 20.4607923,23.3415 19.7757923,22.9765 L16.2627923,21.0145 C15.5787923,20.6495 14.4377923,20.6495 13.7537923,21.0145 L10.2857923,22.9765 C9.60179229,23.3415 9.14479229,22.9765 9.23679229,22.2005 L9.92079229,18.0945 C10.0577923,17.2735 9.69279229,16.1785 9.14479229,15.5855 L6.31579229,12.7105 C5.76779229,12.1175 5.95079229,11.5695 6.72679229,11.4325 L10.6047923,10.8395 C11.3807923,10.7025 12.2927923,10.0185 12.6577923,9.2885 L14.3927923,5.5475 L14.3927923,5.5475 Z" transform="translate(0 0)" fill="none" fill-rule="evenodd"></path></svg>',
icon_inbox:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M10.045,8.968 C10.153,8.59 10.585,8.32 10.962,8.32 L19.219,8.32 C19.597,8.32 20.029,8.59 20.19,8.968 L23.374,14.311 C23.482,14.689 23.32,15.013 22.942,15.013 L20.028,15.013 C19.65,15.013 19.38,15.283 19.38,15.715 L19.38,18.629 C19.38,19.061 19.056,19.385 18.678,19.385 L11.554,19.385 C11.176,19.385 10.852,19.061 10.852,18.629 L10.852,15.715 C10.852,15.283 10.528,15.013 10.15,15.013 L7.29,15.013 C6.912,15.013 6.696,14.689 6.858,14.311 L10.045,8.968 L10.045,8.968 Z M4.001,22.298 C4.001,22.676 4.325,23 4.703,23 L25.535,23 C25.912,23 26.182,22.676 26.182,22.298 L26.182,15.336 C26.182,14.904 26.074,14.311 25.966,13.933 L21.864,6.701 C21.703,6.324 21.271,6 20.893,6 L9.344,6 C8.912,6 8.48,6.324 8.372,6.702 L4.27,13.934 C4.108,14.312 4,14.905 4,15.337 L4,22.298 L4.001,22.298 Z" transform="translate(0 0)" fill-rule="evenodd"></path></svg>',
icon_circle:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M14.603,8.838 C11.423,8.838 8.837,11.424 8.837,14.603 C8.837,17.782 11.423,20.368 14.603,20.368 C17.781,20.368 20.367,17.782 20.367,14.603 C20.367,11.424 17.781,8.838 14.603,8.838 L14.603,8.838 Z M14.603,22.205 C10.411,22.205 7,18.795 7,14.603 C7,10.411 10.411,7 14.603,7 C18.795,7 22.205,10.41 22.205,14.603 C22.205,18.795 18.795,22.205 14.603,22.205 L14.603,22.205 Z" transform="translate(0 0)" fill-rule="evenodd"></path></svg>',
icon_externallink:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g fill-rule="evenodd"><path d="M19,11.9902943 C19,11.4433698 18.549245,11 18.0097057,11 L13.0029293,11 C12.4378814,11 12,11.4477153 12,12 C12,12.5561352 12.4490268,13 13.0029293,13 L17,13 L17,16.9970707 C17,17.5621186 17.4477153,18 18,18 C18.5561352,18 19,17.5509732 19,16.9970707 L19,11.9902943 Z" transform="translate(-618 -248) translate(618 248)"></path><path d="M10.7671577,19.2205712 C10.3766334,18.8300469 10.3780953,18.19542 10.7709077,17.8026076 L15.7626525,12.8108629 C16.1552478,12.4182675 16.7873691,12.4138659 17.180616,12.8071129 L17.180616,12.8071129 C17.5711403,13.1976372 17.5696784,13.8322641 17.176866,14.2250764 L12.1851213,19.2168212 C11.7925259,19.6094165 11.1604047,19.6138181 10.7671577,19.2205712 L10.7671577,19.2205712 L10.7671577,19.2205712 Z" transform="translate(-618 -248) translate(618 248)"></path></g></svg>',
icon_layer_visible:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M14.992,12.8150099 C14.119,12.8150099 13.41,13.5750099 13.41,14.5150099 C13.41,15.4530099 14.119,16.2150099 14.992,16.2150099 C15.866,16.2150099 16.574,15.4530099 16.574,14.5150099 C16.574,13.5750099 15.866,12.8150099 14.992,12.8150099 L14.992,12.8150099 Z M23.12,13.4640099 L23.12,13.4560099 C20.897,11.1790099 14.25,5.79400988 6.888,13.5160099 L6.888,13.5230099 C6.65,13.7610099 6.5,14.0960099 6.5,14.4730099 C6.5,14.8530099 6.654,15.1910099 6.896,15.4280099 C9.195,17.8560099 15.869,23.3830099 23.12,15.2690099 L23.12,15.2650099 C23.343,15.0390099 23.485,14.7200099 23.485,14.3640099 C23.484,14.0080099 23.343,13.6890099 23.12,13.4640099 L23.12,13.4640099 Z M14.977,18.3510099 C13.003,18.3510099 11.404,16.6330099 11.404,14.5140099 C11.404,12.3940099 13.003,10.6770099 14.977,10.6770099 C16.95,10.6770099 18.55,12.3950099 18.55,14.5140099 C18.55,16.6340099 16.95,18.3510099 14.977,18.3510099 L14.977,18.3510099 Z" transform="translate(0 0)" fill-rule="evenodd"></path></svg>',
icon_cornertype_left_miter:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M11,22 L9,22 L9,16.765 L16.765,9 L22,9 L22,11 L17.593,11 L11,17.593 L11,22 Z" transform="translate(0 0)" fill-rule="evenodd"></path></svg>',icon_hint:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M14.993,6 C9.483,6 5,9.958 5,14.822 C5,16.917 5.833,18.915 7.357,20.506 C7.362,20.773 7.272,21.044 6.951,21.555 C6.658,22.016 6.624,22.599 6.858,23.093 C7.094,23.587 7.564,23.923 8.103,23.98 C8.15,23.985 8.319,24.001 8.572,24.001 C9.306,24.001 10.546,23.87 11.641,23.128 C12.719,23.47 13.844,23.644 14.995,23.644 C20.504,23.644 24.985,19.686 24.985,14.822 C24.983,9.958 20.501,6 14.993,6 L14.993,6 Z M14.993,22.062 C13.672,22.062 12.428,21.795 11.317,21.33 C10.47,22.302 9.158,22.42 8.57,22.42 C8.379,22.42 8.265,22.408 8.265,22.408 C9.01,21.228 8.99,20.568 8.82,19.741 C7.422,18.45 6.563,16.724 6.563,14.822 C6.563,10.823 10.336,7.582 14.993,7.582 C19.647,7.582 23.421,10.824 23.421,14.822 C23.421,18.821 19.646,22.062 14.993,22.062 L14.993,22.062 Z M12.503,13.98 C13.206,13.98 13.78,13.402 13.78,12.69 C13.78,11.976 13.206,11.397 12.503,11.397 C11.798,11.397 11.227,11.977 11.227,12.69 C11.227,13.402 11.798,13.98 12.503,13.98 L12.503,13.98 Z M17.482,13.98 C18.185,13.98 18.758,13.402 18.758,12.69 C18.758,11.976 18.185,11.397 17.482,11.397 C16.776,11.397 16.205,11.977 16.205,12.69 C16.205,13.402 16.776,13.98 17.482,13.98 L17.482,13.98 Z M15.056,19.02 C17.101,19.02 18.759,18.043 18.759,15.975 L11.352,15.975 C11.352,18.043 13.011,19.02 15.056,19.02 L15.056,19.02 Z" transform="translate(0 0)" fill-rule="evenodd"></path></svg>',
icon_doc_ino:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g fill-rule="evenodd"><path d="M22,11 L17,11 L17,6 L18,6 L18,10 L22,10 L22,11 Z" transform=""></path><path d="M18,6 L10,6 C8.896,6 8,6.895 8,8 L8,22 C8,23.105 8.896,24 10,24 L20,24 C21.104,24 22,23.105 22,22 L22,10 L18,6 Z M21,13 L22,13 L22,20 L21,20 L21,13 Z M21,22 C21,22.551 20.552,23 20,23 L10,23 C9.448,23 9,22.551 9,22 L9,8 C9,7.449 9.448,7 10,7 L17.586,7 L21,10.414 L21,22 L21,22 Z"></path><path d="M11,13 L23,13 L23,20 L11,20 L11,13 Z M19,18 L21,18 L21,19 L19,19 L19,18 Z M21,15 L22,15 L22,19 L21,19 L21,15 Z M20,14 L22,14 L22,15 L20,15 L20,14 Z M19,14 L20,14 L20,18 L19,18 L19,14 Z M16,16 L17,16 L17,17 L16,17 L16,16 Z M15,15 L16,15 L16,16 L15,16 L15,15 Z M17,14 L18,14 L18,19 L17,19 L17,14 Z M14,14 L15,14 L15,19 L14,19 L14,14 Z M12,14 L13,14 L13,19 L12,19 L12,14 Z"></path></g></svg>',
icon_doc_csv:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g fill-rule="evenodd"><path d="M22,11 L17,11 L17,6 L18,6 L18,10 L22,10 L22,11 Z" transform=""></path><path d="M18,6 L10,6 C8.896,6 8,6.895 8,8 L8,22 C8,23.105 8.896,24 10,24 L20,24 C21.104,24 22,23.105 22,22 L22,10 L18,6 Z M21,13 L22,13 L22,20 L21,20 L21,13 Z M21,22 C21,22.551 20.552,23 20,23 L10,23 C9.448,23 9,22.551 9,22 L9,8 C9,7.449 9.448,7 10,7 L17.586,7 L21,10.414 L21,22 L21,22 Z"></path><path d="M11,13 L24,13 L24,20 L11,20 L11,13 Z M12,14 L15,14 L15,15 L12,15 L12,14 Z M12,15 L13,15 L13,19 L12,19 L12,15 Z M13,18 L15,18 L15,19 L13,19 L13,18 Z M16,14 L19,14 L19,15 L16,15 L16,14 Z M16,15 L17,15 L17,17 L16,17 L16,15 Z M17,16 L19,16 L19,17 L17,17 L17,16 Z M18,17 L19,17 L19,19 L18,19 L18,17 Z M16,18 L18,18 L18,19 L16,19 L16,18 Z M20,14 L21,14 L21,18 L20,18 L20,14 Z M21,18 L22,18 L22,19 L21,19 L21,18 Z M22,14 L23,14 L23,18 L22,18 L22,14 Z"></path></g></svg>',
icon_mesh:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g fill-rule="evenodd"><path d="M12.844,24.234 L19.984,23.556 C20.02,23.552 20.068,23.512 20.076,23.49 L20.075,5.848 L12.877,5.42 L12.937,4.422 L20.296,4.86 C20.718,4.869 21.075,5.229 21.075,5.661 L21.075,23.501 C21.075,24.029 20.63,24.5 20.083,24.551 L12.962,25.317 L12.844,24.234 Z" transform="translate(-498 -18) translate(498 18)"></path><path d="M12.578,25.317 C12.392,25.285 9.72,24.827 9.72,24.827 C9.309,24.765 9,24.406 9,23.993 L9,5.881 C9,5.423 9.354,5.006 9.806,4.931 L12.962,4.41 L12.962,25.317 C12.962,25.317 12.764,25.349 12.578,25.317 Z M9.953,23.812 L11.962,24.155 L11.962,5.589 L9.969,5.917 L9.953,23.812 L9.953,23.812 Z" transform="translate(-498 -18) translate(498 18)"></path><path d="M16.656,8.5 C15.846,8.5 15.187,9.173 15.187,10 C15.187,10.827 15.827,11.5 16.614,11.5 L16.644,11.5 C17.434,11.482 18.111,10.792 18.124,9.992 C18.131,9.598 17.981,9.225 17.703,8.942 C17.424,8.657 17.052,8.5 16.656,8.5 L16.656,8.5 Z" transform="translate(-498 -18) translate(498 18)"></path><path d="M12.629,4.984 L9.566,5.468 L9.532,15.278 L12.852,15.426 L12.852,15.408 L20.429,15.176 L20.468,5.469 L12.629,4.984 L12.629,4.984 Z M16.667,12.5 L16.614,12.5 C15.276,12.5 14.187,11.378 14.187,10 C14.187,8.622 15.294,7.5 16.656,7.5 C17.322,7.5 17.947,7.763 18.417,8.241 C18.885,8.717 19.136,9.345 19.125,10.009 C19.103,11.352 18,12.47 16.667,12.5 L16.667,12.5 L16.667,12.5 Z" transform="translate(-498 -18) translate(498 18)"></path></g></svg>',
icon_doc_sch:'<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg width="16px" height="18px" viewbox="0 0 16 18" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\x3c!-- Generator: Sketch 39.1 (31720) - http://www.bohemiancoding.com/sketch --\x3e<title>icon-doc-sch</title><desc>Created with Sketch.</desc><defs></defs><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Filetypes" transform="translate(-388.000000, -26.000000)" fill="#000000"><g id="doc-sch" transform="translate(380.000000, 20.000000)"><g id="icon-doc-sch" transform="translate(8.000000, 6.000000)"><polygon id="Shape-23-Copy" points="14 5 9 5 9 0 10 0 10 4 14 4"></polygon><path d="M10,0 L2,0 C0.896,0 0,0.895 0,2 L0,16 C0,17.105 0.896,18 2,18 L12,18 C13.104,18 14,17.105 14,16 L14,4 L10,0 Z M13,7 L14,7 L14,14 L13,14 L13,7 Z M13,16 C13,16.551 12.552,17 12,17 L2,17 C1.448,17 1,16.551 1,16 L1,2 C1,1.449 1.448,1 2,1 L9.586,1 L13,4.414 L13,16 L13,16 Z" id="Shape-22-Copy"></path><path d="M3,7 L16,7 L16,14 L3,14 L3,7 Z M4,8 L5,8 L5,11 L4,11 L4,8 Z M5,8 L7,8 L7,9 L5,9 L5,8 Z M4,12 L7,12 L7,13 L4,13 L4,12 Z M5,10 L7,10 L7,11 L5,11 L5,10 Z M8,8 L9,8 L9,13 L8,13 L8,8 Z M9,8 L11,8 L11,9 L9,9 L9,8 Z M9,12 L11,12 L11,13 L9,13 L9,12 Z M12,8 L13,8 L13,13 L12,13 L12,8 Z M13,10 L14,10 L14,11 L13,11 L13,10 Z M14,8 L15,8 L15,13 L14,13 L14,8 Z M6,11 L7,11 L7,12 L6,12 L6,11 Z" id="Combined-Shape"></path></g></g></g></g></svg>',
admin_horse4:'<?xml version="1.0" encoding="iso-8859-1"?>\x3c!-- Generator: Adobe Illustrator 18.1.1, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --\x3e<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewbox="0 0 382.257 382.257" style="enable-background:new 0 0 382.257 382.257;" xml:space="preserve"><g><g id="Layer_5_11_"><g><g><path d="M381.397,363.507c1.972,3.307,0.435,6.013-3.415,6.013H4.275c-3.85,0-5.387-2.706-3.416-6.013l14.443-24.228\t\t\t\t\tc1.972-3.307,6.734-6.013,10.584-6.013h330.482c3.851,0,8.613,2.706,10.585,6.013L381.397,363.507z"></path></g><g><path d="M208.126,309.138c0,2.75-2.25,5-5,5h-23.997c-2.75,0-5-2.25-5-5V159.13c0-2.75,2.25-5,5-5h23.997c2.75,0,5,2.25,5,5\t\t\t\t\tV309.138z"></path></g><path d="M194.048,13.316c-1.606-0.772-4.234-0.772-5.84,0l-176.9,85.018c0,0-8.417,4.126-0.019,4.126\t\t\t\tc92.062,0,267.291,0,356.387,0c11.767,0-0.08-5.738-0.08-5.738L194.048,13.316z"></path><path d="M376.857,122.27c-93.535,0-276.944,0-369.259,0c-4.659,0-4.875,1.313-4.649,3.282\t\t\t\tc0.682,5.905,3.407,17.716,14.307,17.716c10.438,0,17.075-9.74,17.075-9.74c1.004-1.473,2.918-2.678,4.254-2.678\t\t\t\tc1.335,0,3.25,1.205,4.253,2.678c0,0,6.637,9.74,17.075,9.74s17.075-9.74,17.075-9.74c1.003-1.473,3.161-2.678,4.794-2.678\t\t\t\ts3.792,1.205,4.794,2.678c0,0,6.637,9.74,17.075,9.74s17.075-9.74,17.075-9.74c1.003-1.473,3.161-2.678,4.794-2.678\t\t\t\tc1.634,0,3.792,1.205,4.795,2.678c0,0,6.637,9.74,17.075,9.74s17.075-9.74,17.075-9.74c1.003-1.473,3.161-2.678,4.794-2.678\t\t\t\tc1.633,0,3.792,1.205,4.794,2.678c0,0,6.637,9.74,17.074,9.74c10.439,0,17.075-9.74,17.075-9.74\t\t\t\tc1.003-1.473,3.161-2.678,4.795-2.678c1.633,0,3.791,1.205,4.795,2.678c0,0,6.637,9.74,17.074,9.74s17.075-9.74,17.075-9.74\t\t\t\tc1.002-1.473,3.16-2.678,4.794-2.678c1.633,0,3.791,1.205,4.794,2.678c0,0,6.638,9.74,17.075,9.74s17.074-9.74,17.074-9.74\t\t\t\tc1.004-1.473,3.162-2.678,4.795-2.678c1.635,0,3.791,1.205,4.794,2.678c0,0,6.638,9.74,17.075,9.74s17.074-9.74,17.074-9.74\t\t\t\tc1.004-1.473,2.92-2.678,4.254-2.678c1.336,0,3.25,1.205,4.254,2.678c0,0,6.639,9.74,17.075,9.74\t\t\t\tc11.456,0,13.882-13.047,14.396-18.572C379.533,123.211,379.533,122.27,376.857,122.27z"></path><g><path d="M40.495,228.795c-0.292,0.437-0.655,1.496-0.461,2.425l1.54,7.704c0.373,1.857,2.219,3.233,4.105,3.059l9.844-0.914\t\t\t\t\tc1.886-0.175,4.204,1.024,5.15,2.666l4.035,6.999c0.947,1.641,1.445,4.507,1.107,6.371l-6.981,38.574\t\t\t\t\tc-0.338,1.864,0.863,3.858,2.668,4.432l6.286,1.998c1.553,0.459,2.176-0.892,2.437-1.697c3.136-9.7,8.761-27.347,31.267-27.347\t\t\t\t\tc23.497,0,29.938,16.539,34.098,26.66c0.32,0.776,1.018,2.383,3.951,1.712l5.904-1.986c1.796-0.604,2.721-2.55,2.058-4.323\t\t\t\t\tc0,0-5.376-14.366-6.932-20.421c-1.042-4.055-2.419-12.315-2.471-16.502c-0.053-4.44-1.138-16.452-0.385-16.484\t\t\t\t\tc1.519-0.064,9.813,12.667,10.773,14.104c0,0,1.594,2.319,2.673,0.38c0.292-0.521,1.126-2.105,1.126-2.105\t\t\t\t\tc0.894-1.669,0.957-4.435,0.139-6.143l-6.301-13.189c-0.817-1.71-1.396-4.77-20.652-4.77l-32.943-0.084\t\t\t\t\tc-1.896-0.005-4.364-1.256-5.488-2.78l-10.898-14.778c-1.124-1.524-3.237-3.761-4.695-4.968l-6.747-5.59\t\t\t\t\tc-1.458-1.208-3.282-0.782-4.055,0.947l-2.53,5.667C54.649,215.697,44.903,222.204,40.495,228.795z"></path><path d="M106.055,210.068c1.782,0.004,3.24-1.449,3.24-3.231v-42.466c0-1.783-1.458-3.24-3.24-3.24h-2.7\t\t\t\t\tc-1.782,0-3.24,1.458-3.24,3.24v42.441c0,1.782,1.458,3.244,3.24,3.248L106.055,210.068z"></path><path d="M102.367,289.943c-2.252,0-2.252,1.513-2.252,3.295v17.66c0,1.782,1.458,3.24,3.24,3.24h2.7\t\t\t\t\tc1.782,0,3.24-1.458,3.24-3.24V294.2c0-2.458-1.426-3.544-3.168-3.916C106.127,290.284,105.402,289.943,102.367,289.943z"></path></g><g><path d="M322.329,208.411l-2.531-5.667c-0.772-1.729-2.598-2.156-4.055-0.947l-6.747,5.59c-1.458,1.208-3.571,3.444-4.695,4.968\t\t\t\t\tl-10.897,14.778c-1.125,1.524-3.594,2.775-5.488,2.78l-32.943,0.084c-19.256,0-19.834,3.06-20.652,4.77l-6.302,13.189\t\t\t\t\tc-0.817,1.708-0.754,4.474,0.14,6.143c0,0,0.835,1.584,1.126,2.105c1.08,1.938,2.675-0.38,2.675-0.38\t\t\t\t\tc0.959-1.437,9.254-14.168,10.773-14.104c0.752,0.033-0.332,12.044-0.386,16.484c-0.052,4.187-1.429,12.447-2.472,16.502\t\t\t\t\tc-1.556,6.055-6.931,20.421-6.931,20.421c-0.663,1.773,0.262,3.719,2.058,4.323l5.904,1.986\t\t\t\t\tc2.933,0.671,3.631-0.936,3.951-1.712c4.158-10.121,10.602-26.66,34.098-26.66c22.506,0,28.13,17.647,31.267,27.347\t\t\t\t\tc0.261,0.805,0.884,2.156,2.437,1.697l6.285-1.998c1.807-0.574,3.008-2.568,2.668-4.432l-6.98-38.574\t\t\t\t\tc-0.338-1.864,0.16-4.73,1.107-6.371l4.035-6.999c0.947-1.641,3.264-2.84,5.15-2.666l9.844,0.914\t\t\t\t\tc1.887,0.175,3.732-1.201,4.104-3.059l1.54-7.704c0.193-0.929-0.169-1.988-0.461-2.425\t\t\t\t\tC335.542,222.204,325.796,215.697,322.329,208.411z"></path><path d="M274.39,210.068c-1.781,0.004-3.239-1.449-3.239-3.231v-42.466c0-1.783,1.458-3.24,3.239-3.24h2.701\t\t\t\t\tc1.781,0,3.238,1.458,3.238,3.24v42.441c0,1.782-1.457,3.244-3.238,3.248L274.39,210.068z"></path><path d="M278.079,289.943c2.25,0,2.25,1.513,2.25,3.295v17.66c0,1.782-1.457,3.24-3.238,3.24h-2.701\t\t\t\t\tc-1.781,0-3.239-1.458-3.239-3.24V294.2c0-2.458,1.427-3.544,3.169-3.916C274.319,290.284,275.044,289.943,278.079,289.943z"></path></g></g></g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',
icon_hub_librarymanager:'<svg width="30px" height="30px" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 30 30" enable-background="new 0 0 30 30"><defs><path id="a" d="M-314.468-375.722c-0.127,0.077-0.213,0.206-0.235,0.353l-0.292,1.932 c-0.022,0.148,0.022,0.297,0.122,0.409l7.075,7.889c0.164,0.183,0.436,0.219,0.642,0.087l11.195-7.19 c0.074-0.048,0.135-0.114,0.175-0.193l0.91-1.779c0.071-0.138,0.073-0.301,0.007-0.442l-0.696-1.469l-0.091-0.132l-6.332-6.588 c-0.162-0.169-0.42-0.202-0.62-0.081L-314.468-375.722z"></path></defs><clippath id="b"><use xlink:href="#a" overflow="visible"></use></clippath><g clip-path="url(#b)"><defs><rect id="c" x="-637.91" y="-405.796" width="1277" height="883"></rect></defs><clippath><use xlink:href="#c" overflow="visible"></use></clippath></g><defs><path id="d" d="M-305.91-367.398v2.499c0,0.552,0.448,1,1,1c0.552,0,1-0.448,1-1v-2.499c0-0.552-0.448-1-1-1 C-305.462-368.398-305.91-367.951-305.91-367.398z"></path></defs><clippath id="e"><use xlink:href="#d" overflow="visible"></use></clippath><g clip-path="url(#e)"><defs><rect id="f" x="-637.91" y="-405.796" width="1277" height="883"></rect></defs><clippath><use xlink:href="#f" overflow="visible"></use></clippath></g><defs><path id="g" d="M-305.41-363.958v1.641c0,0.276,0.224,0.5,0.5,0.5c0.276,0,0.5-0.224,0.5-0.5v-1.641 c0-0.276-0.224-0.5-0.5-0.5C-305.186-364.458-305.41-364.234-305.41-363.958z"></path></defs><clippath id="h"><use xlink:href="#g" overflow="visible"></use></clippath><g clip-path="url(#h)"><defs><rect id="i" x="-637.91" y="-405.796" width="1277" height="883"></rect></defs><clippath><use xlink:href="#i" overflow="visible"></use></clippath></g><defs><path id="j" d="M-301.91-370.398v2.499c0,0.552,0.448,1,1,1c0.552,0,1-0.448,1-1v-2.499c0-0.552-0.448-1-1-1 C-301.462-371.398-301.91-370.951-301.91-370.398z"></path></defs><clippath id="k"><use xlink:href="#j" overflow="visible"></use></clippath><g clip-path="url(#k)"><defs><rect id="l" x="-637.91" y="-405.796" width="1277" height="883"></rect></defs><clippath><use xlink:href="#l" overflow="visible"></use></clippath></g><defs><path id="m" d="M-301.41-366.958v1.641c0,0.276,0.224,0.5,0.5,0.5c0.276,0,0.5-0.224,0.5-0.5v-1.641 c0-0.276-0.224-0.5-0.5-0.5C-301.186-367.458-301.41-367.234-301.41-366.958z"></path></defs><clippath id="n"><use xlink:href="#m" overflow="visible"></use></clippath><g clip-path="url(#n)"><defs><rect id="o" x="-637.91" y="-405.796" width="1277" height="883"></rect></defs><clippath><use xlink:href="#o" overflow="visible"></use></clippath></g><defs><path id="p" d="M-297.91-373.398v2.499c0,0.552,0.448,1,1,1c0.552,0,1-0.448,1-1v-2.499c0-0.552-0.448-1-1-1 C-297.462-374.398-297.91-373.951-297.91-373.398z"></path></defs><clippath id="q"><use xlink:href="#p" overflow="visible"></use></clippath><g clip-path="url(#q)"><defs><rect id="r" x="-637.91" y="-405.796" width="1277" height="883"></rect></defs><clippath><use xlink:href="#r" overflow="visible"></use></clippath></g><defs><path id="s" d="M-297.41-369.958v1.641c0,0.276,0.224,0.5,0.5,0.5c0.276,0,0.5-0.224,0.5-0.5v-1.641 c0-0.276-0.224-0.5-0.5-0.5C-297.186-370.458-297.41-370.234-297.41-369.958z"></path></defs><clippath id="t"><use xlink:href="#s" overflow="visible"></use></clippath><g clip-path="url(#t)"><defs><rect id="u" x="-637.91" y="-405.796" width="1277" height="883"></rect></defs><clippath><use xlink:href="#u" overflow="visible"></use></clippath></g><g><g><g><g><path d="M4.299,11.913c-0.141,0.085-0.236,0.229-0.261,0.391l-0.324,2.144c-0.025,0.164,0.025,0.33,0.136,0.454 l7.855,8.758c0.182,0.203,0.484,0.244,0.713,0.096l12.429-7.982c0.083-0.053,0.15-0.127,0.194-0.214l1.01-1.975 c0.078-0.153,0.081-0.335,0.007-0.49l-0.772-1.631l-0.101-0.147l-7.029-7.313c-0.18-0.187-0.466-0.225-0.688-0.09L4.299,11.913 L4.299,11.913z" transform=""></path><path d="M13.799,21.153v2.774c0,0.613,0.497,1.11,1.11,1.11c0.613,0,1.11-0.497,1.11-1.11v-2.774 c0-0.613-0.497-1.11-1.11-1.11C14.297,20.043,13.799,20.54,13.799,21.153L13.799,21.153z"></path><path d="M14.355,24.973v1.822c0,0.307,0.249,0.555,0.555,0.555s0.555-0.249,0.555-0.555v-1.822 c0-0.307-0.249-0.555-0.555-0.555S14.355,24.667,14.355,24.973L14.355,24.973z"></path><path d="M18.24,17.823v2.774c0,0.613,0.497,1.11,1.11,1.11s1.11-0.497,1.11-1.11v-2.774 c0-0.613-0.497-1.11-1.11-1.11S18.24,17.21,18.24,17.823L18.24,17.823z"></path><path d="M18.795,21.643v1.822c0,0.307,0.249,0.555,0.555,0.555s0.555-0.249,0.555-0.555v-1.822 c0-0.307-0.249-0.555-0.555-0.555S18.795,21.336,18.795,21.643L18.795,21.643z"></path><path d="M22.681,14.493v2.774c0,0.613,0.497,1.11,1.11,1.11s1.11-0.497,1.11-1.11v-2.774 c0-0.613-0.497-1.11-1.11-1.11S22.681,13.879,22.681,14.493L22.681,14.493z"></path><path d="M23.236,18.312v1.822c0,0.307,0.249,0.555,0.555,0.555s0.555-0.249,0.555-0.555v-1.822 c0-0.307-0.249-0.555-0.555-0.555S23.236,18.006,23.236,18.312L23.236,18.312z"></path></g></g></g></g></svg>',
icon_previous:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g fill-rule="evenodd"><path d="M23,9.99844617 L23,21.9984462 C23,22.8054462 22.094,23.2794462 21.431,22.8204462 L12.431,17.1844462 C11.874,16.7984462 11.854,15.9824462 12.39,15.5694462 L21.39,9.20544617 C22.048,8.70044617 23,9.16844617 23,9.99844617 L23,9.99844617 L23,9.99844617 Z" transform="translate(-258 -318) translate(258 318)"></path><path d="M9.485,9.03 L9.515,9.03 C10.335,9.03 11,9.695 11,10.515 L11,20.515 C11,21.335 10.335,22 9.515,22 L9.485,22 C8.665,22 8,21.335 8,20.515 L8,10.515 C8,9.695 8.665,9.03 9.485,9.03 L9.485,9.03 L9.485,9.03 Z" transform="translate(-258 -318) translate(258 318)"></path></g></svg>',
icon_key:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M19.479,12.217625 C18.584,13.112625 17.141,13.112625 16.246,12.217625 C15.351,11.322625 15.351,9.87962503 16.246,8.98462503 C17.141,8.08962503 18.584,8.08962503 19.479,8.98462503 C20.325,9.87962503 20.325,11.322625 19.479,12.217625 L19.479,12.217625 Z M14.605,7.34262503 C13.113,8.83462503 12.864,11.122625 13.859,12.913625 L6,20.772625 L7.691,22.463625 L8.487,21.667625 L9.333,22.513625 L8.537,23.308625 L10.228,24.999625 L13.511,21.766625 L11.82,20.075625 L11.024,20.821625 L10.178,19.975625 L15.55,14.603625 C17.291,15.598625 19.629,15.349625 21.121,13.857625 C22.912,12.066625 22.912,9.13262503 21.121,7.34162503 C19.33,5.55262503 16.395,5.55262503 14.605,7.34262503 L14.605,7.34262503 Z" transform="translate(0 0)" fill-rule="evenodd"></path></svg>',
icon_graph:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M22.416,21.91 L22.416,8.646 C22.416,8.29 22.114,8 21.744,8 L19.392,8 C19.022,8 18.719,8.29 18.719,8.646 L18.719,21.91 L16.851,21.91 L16.851,12.113 C16.851,11.759 16.548,11.468 16.179,11.468 L13.828,11.468 C13.459,11.468 13.156,11.759 13.156,12.113 L13.156,21.91 L11.288,21.91 L11.288,16.147 C11.288,15.792 10.985,15.502 10.617,15.502 L8.266,15.502 C7.896,15.502 7.593,15.793 7.593,16.147 L7.593,21.91 L6,21.91 L6,23.004 L8.266,23.004 L10.618,23.004 L13.829,23.004 L16.18,23.004 L19.392,23.004 L21.744,23.004 L24.009,23.004 L24.009,21.91 L22.416,21.91 L22.416,21.91 Z" transform="translate(0 0)" fill-rule="evenodd"></path></svg>',
icon_view_3dpackage:'<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg width="25px" height="20px" viewbox="0 0 25 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs></defs><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g transform="translate(-861.000000, -103.000000)" fill="#000000"><g transform="translate(855.000000, 98.000000)"><g transform="translate(6.000000, 5.000000)"><path d="M2.55250901,4.99603225 L5.49078147,5 L5.8051281,4 L2.83418777,4 L3.6825903,1 L6.95734549,1 L3.44479585,15.0218506 L1.76255402,15.0218506 L2.08718865,18.6150846 C2.16254641,19.1613223 1.83779618,19.6041355 1.47435877,19.6041355 L0.537633359,19.6041355 L3.01980663e-14,14.0218506 L1.13738273,10 L4.35831398,10 L4.64853811,9 L1.42018357,9 L2.55250901,4.99603225 Z"></path><path d="M19.7236239,5 L22.7126667,5 L22.9615463,4 L20.0144343,4 L20.8868656,1 L24.0999756,1 L20.6865107,15.0218506 L18.9124493,15.0218506 L19.1941177,18.5802144 C19.2716097,19.1264522 18.8203668,19.5692654 18.4615388,19.5692654 L17.6006753,19.5692654 L17.0999756,14.0218506 L18.2695717,10 L21.5021743,10 L21.7441161,9 L18.5603821,9 L19.7236239,5 Z" transform="translate(20.599976, 10.284633) scale(-1, 1) translate(-20.599976, -10.284633) "></path><path d="M3.92715414,14.0000001 L3.92715414,14.0000001 L4.01248093,14.0000001 L4.34653379,17.9149821 L3.35015436,17 L20.7219877,17 L19.7258668,17.9120044 L20.0714466,14 L20.159785,14 L20.994776,14.9120044 L20.9870026,15 L3.09417399,15.0000001 L3.08691969,14.9149823 L3.92715414,14.0000001 Z M3.0088472,14.0000001 L3.0088472,14.0000001 L21.0753409,14 L20.7219877,18 L3.35015436,18 L3.0088472,14.0000001 Z"></path><path d="M3.95427496,15 L3.95427496,15 L3.73812745,15 L3.10166405,14.2112686 L3.14732924,14 L20.7745786,14 L20.8188217,14.208027 L20.177572,15 L19.9648922,15 L16.8189384,0.208027015 L17.7970615,1 L6.17339435,1 L7.15082239,0.211268634 L3.95427496,15 Z M2.93118173,15 L6.17339435,0 L17.7970615,0 L20.9872584,15 L2.93118173,15 L2.93118173,15 Z"></path><path d="M15.5793604,15 C15.5793604,13.0231738 13.9768262,12 12,12 C10.0231738,12 8.42063958,13.0231738 8.42063958,15 L15.5793604,15 Z"></path></g></g></g></g></svg>',
icon_flip_vertical:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M15.5601515,22.851608 L15.5601515,6.80560801 C15.5571515,5.94360801 16.7511515,5.74760801 17.0961515,6.46060801 L24.1471515,22.537608 C24.3521515,23.007608 24.1651515,23.634608 23.4261515,23.634608 L16.3431515,23.634608 C15.9361515,23.634608 15.5601515,23.289608 15.5601515,22.851608 L15.5601515,22.851608 Z M11.9251515,11.099608 L7.1921515,21.816608 L11.9241515,21.816608 L11.9241515,11.099608 L11.9251515,11.099608 Z M5.0931515,22.537608 L12.1761515,6.46060801 C12.5621515,5.65860801 13.6801515,5.98760801 13.6801515,6.80560801 L13.6801515,22.850608 C13.6801515,23.289608 13.3351515,23.633608 12.8961515,23.633608 L5.8141515,23.633608 C5.1471515,23.634608 4.8281515,23.151608 5.0931515,22.537608 L5.0931515,22.537608 Z" transform="translate(0 0)" fill-rule="evenodd"></path></svg>',
icon_duplicate:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g transform="translate(0 0)" fill-rule="evenodd"><rect x="7" y="11" width="12" height="2"></rect><rect x="7" y="13" width="2" height="10"></rect><rect x="9" y="21" width="10" height="2"></rect><rect x="17" y="13" width="2" height="8"></rect><rect x="12" y="7" width="12" height="2"></rect><rect x="22" y="9" width="2" height="10"></rect><rect x="19" y="17" width="3" height="2"></rect><rect x="12" y="9" width="2" height="2"></rect></g></svg>',
icon_check:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M14.074,21 L8,14.129 L9.822,12.294 L14.216,17.184 L22.328,9 L24.007,10.982 L14.074,21 L14.074,21 Z" transform="translate(0 0)" fill-rule="evenodd"></path></svg>',icon_view_wire:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g fill-rule="evenodd"><path d="M8.98809814,19 L8.98809822,25.0000009 L11.0264282,25.0000009 L11.0264282,20 L17.0618629,9.99999998 L17.0618629,6.06350992 L14.999742,6.06350992 L14.999742,8.99999998 L8.98809814,19 Z" transform="translate(-918 -98) translate(918 98)"></path><path d="M6.99999999,15.0396727 L6.99999999,25.0000008 L4.99999991,25.0000008 L4.99999999,14.0129393 L7.99798304,9.00367404 L7.99060058,5.94566997 L10,5.94566997 L10,9.99999984 L6.99999999,15.0396727 Z" transform="translate(-918 -98) translate(918 98)"></path><path d="M15.5315552,24.9999998 L13.072815,25.0000008 L22,9.00000008 L22,5.94566997 L24,5.94566997 L24,9.99999984 C20.9646633,15.0679598 15.5315552,24.9999998 15.5315552,24.9999998 Z" transform="translate(-918 -98) translate(918 98)"></path><path d="M6.25,6.42458404 L9,8.06350992 L11.75,6.42458404 L9.00103112,4.78778525 L6.25,6.42458404 Z" transform="translate(-918 -98) translate(918 98)"></path><path d="M13.25,6.42458404 L16,8.06350992 L18.75,6.42458404 L16.0010311,4.78778525 L13.25,6.42458404 Z" transform="translate(-918 -98) translate(918 98)"></path><path d="M20.25,6.42458404 L23,8.06350992 L25.75,6.42458404 L23.0010311,4.78778525 L20.25,6.42458404 Z" transform="translate(-918 -98) translate(918 98)"></path></g></svg>',
icon_layers:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g fill-rule="evenodd"><path d="M15.0997875,16.80025 C14.9337875,16.80025 14.7687875,16.75425 14.6227875,16.66325 L6.62278746,11.66325 C6.35978746,11.49925 6.19978746,11.21125 6.19978746,10.90025 C6.19978746,10.58925 6.35978746,10.30125 6.62278746,10.13725 L14.6227875,5.13725 C14.9147875,4.95425 15.2847875,4.95425 15.5767875,5.13725 L23.5767875,10.13725 C23.8397875,10.30125 23.9997875,10.58925 23.9997875,10.90025 C23.9997875,11.21125 23.8397875,11.49925 23.5767875,11.66325 L15.5767875,16.66325 C15.4307875,16.75425 15.2657875,16.80025 15.0997875,16.80025 L15.0997875,16.80025 Z M8.79778746,10.90025 L15.0997875,14.83825 L21.4017875,10.90025 L15.0997875,6.96225 L8.79778746,10.90025 L8.79778746,10.90025 Z" transform=""></path><path d="M15.0998937,20.9624224 L6.62289373,15.6644224 C6.20189373,15.4014224 6.07289373,14.8454224 6.33689373,14.4244224 C6.59989373,14.0044224 7.15489373,13.8754224 7.57689373,14.1384224 L15.0998937,18.8384224 L22.6228937,14.1364224 C23.0458937,13.8734224 23.5998937,14.0024224 23.8628937,14.4224224 C24.1268937,14.8434224 23.9978937,15.3994224 23.5768937,15.6624224 L15.0998937,20.9624224 L15.0998937,20.9624224 Z"></path><path d="M15.0998937,24.961492 L6.62289373,19.663492 C6.20189373,19.399492 6.07289373,18.844492 6.33689373,18.423492 C6.59989373,18.002492 7.15489373,17.875492 7.57689373,18.136492 L15.0998937,22.837492 L22.6228937,18.135492 C23.0458937,17.874492 23.5998937,18.001492 23.8628937,18.422492 C24.1268937,18.843492 23.9978937,19.399492 23.5768937,19.662492 L15.0998937,24.961492 L15.0998937,24.961492 Z"></path></g></svg>',
icon_settings:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M18.502,14.99 C18.502,16.93 16.877,18.503 14.989,18.503 C13.049,18.503 11.424,16.93 11.424,14.99 C11.424,13.05 13.049,11.425 14.989,11.425 C16.877,11.425 18.502,13.05 18.502,14.99 L18.502,14.99 Z M23.798,13.365 L22.802,13.365 C22.435,13.365 22.12,13.208 22.016,12.841 L21.23,11.53 C21.125,11.215 21.178,10.744 21.387,10.534 L22.226,9.748 C22.436,9.538 22.436,9.066 22.226,8.857 L21.125,7.704 C20.81,7.442 20.443,7.442 20.181,7.704 L19.394,8.593 C19.132,8.75 18.712,8.803 18.398,8.645 L17.087,7.911 C16.825,7.859 16.51,7.492 16.51,7.125 L16.51,6.129 C16.51,5.762 16.195,5.5 15.619,5.5 L14.361,5.5 C13.679,5.5 13.47,5.762 13.47,6.129 L13.47,7.125 C13.47,7.492 13.155,7.859 12.893,7.911 L11.53,8.645 C11.267,8.803 10.848,8.751 10.585,8.593 L9.747,7.702 C9.537,7.44 9.118,7.44 8.908,7.702 L7.702,8.856 C7.492,9.066 7.492,9.538 7.702,9.747 L8.541,10.533 C8.803,10.743 8.803,11.215 8.698,11.529 L8.016,12.84 C7.859,13.207 7.544,13.364 7.177,13.364 L6.129,13.364 C5.814,13.364 5.5,13.731 5.5,14.36 L5.5,15.513 C5.5,16.247 5.815,16.457 6.129,16.457 L7.178,16.457 C7.545,16.457 7.86,16.719 7.964,17.034 L8.698,18.397 C8.803,18.712 8.803,19.131 8.541,19.288 L7.702,20.127 C7.492,20.442 7.492,20.809 7.702,21.018 L8.908,22.224 C9.118,22.434 9.537,22.434 9.747,22.224 L10.586,21.385 C10.848,21.175 11.268,21.07 11.53,21.28 L12.893,21.962 C13.155,22.119 13.47,22.381 13.47,22.801 L13.47,23.85 C13.47,24.112 13.68,24.427 14.361,24.427 L15.619,24.427 C16.196,24.427 16.51,24.112 16.51,23.85 L16.51,22.801 C16.51,22.382 16.825,22.119 17.087,21.962 L18.398,21.28 C18.713,21.07 19.132,21.175 19.394,21.385 L20.18,22.224 C20.442,22.434 20.809,22.434 21.124,22.224 L22.225,21.018 C22.435,20.808 22.435,20.441 22.225,20.127 L21.386,19.288 C21.176,19.131 21.124,18.711 21.229,18.397 L22.015,17.034 C22.12,16.719 22.434,16.457 22.801,16.457 L23.797,16.457 C24.164,16.457 24.426,16.247 24.426,15.566 L24.426,14.36 C24.427,13.732 24.165,13.365 23.798,13.365 L23.798,13.365 Z" transform="translate(0 0)" fill-rule="evenodd"></path></svg>',
icon_trash:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g fill-rule="evenodd"><path d="M12.39,6 C11.346,6 10.5,6.846 10.5,7.89 L10.5,8 L10.5,9 L12.5,9 L12.5,8 L17.5,8 L17.5,9 L19.5,9 L19.5,8 L19.5,7.89 C19.5,6.846 18.654,6 17.61,6 L12.39,6 L12.39,6 Z" transform=""></path><path d="M20.5,23 L9.5,23 C8.948,23 8.5,22.553 8.5,22 L8.5,10 C8.5,9.448 8.948,9 9.5,9 L20.5,9 C21.052,9 21.5,9.448 21.5,10 L21.5,22 C21.5,22.553 21.052,23 20.5,23 L20.5,23 Z M11.261,21 L18.74,21 C19.159,21 19.5,20.659 19.5,20.239 L19.5,11 L10.5,11 L10.5,20.239 C10.5,20.659 10.841,21 11.261,21 L11.261,21 Z"></path><path d="M13.51,20 L13.49,20 C12.943,20 12.5,19.557 12.5,19.01 L12.5,12.99 C12.5,12.443 12.943,12 13.49,12 L13.51,12 C14.057,12 14.5,12.443 14.5,12.99 L14.5,19.01 C14.5,19.557 14.057,20 13.51,20 L13.51,20 Z"></path><path d="M16.51,20 L16.49,20 C15.943,20 15.5,19.557 15.5,19.01 L15.5,12.99 C15.5,12.443 15.943,12 16.49,12 L16.51,12 C17.057,12 17.5,12.443 17.5,12.99 L17.5,19.01 C17.5,19.557 17.057,20 16.51,20 L16.51,20 Z"></path><path d="M21.5,9 L8.5,9 C7.953,9 7.51,9.443 7.51,9.99 L7.51,10.01 C7.51,10.557 7.953,11 8.5,11 L21.5,11 C22.047,11 22.49,10.557 22.49,10.01 L22.49,9.99 C22.49,9.443 22.047,9 21.5,9 L21.5,9 Z"></path></g></svg>',
icon_shop:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M22.8065838,9.22045455 C22.7382681,8.66136364 22.2392154,8.23977273 21.6475312,8.23977273 L19.571426,8.23977273 L19.571426,7.89659091 C19.571426,5.19545455 17.261426,3 14.4222681,3 C11.5842681,3 9.27426806,5.19545455 9.27426806,7.89659091 L9.27426806,8.23977273 L7.19816279,8.23977273 C6.60532069,8.23977273 6.10742595,8.66136364 6.03795227,9.22045455 L4.00816279,25.6386364 C3.96879437,25.9534091 4.0730049,26.2704545 4.29532069,26.5056818 C4.51647858,26.7431818 4.83374174,26.8784091 5.16721543,26.8784091 L23.6773207,26.8784091 C24.0107944,26.8784091 24.3292154,26.7431818 24.5503733,26.5056818 C24.7715312,26.2704545 24.8757417,25.9534091 24.8375312,25.6386364 L22.8065838,9.22045455 L22.8065838,9.22045455 Z M11.6097417,7.89659091 C11.6097417,6.42045455 12.8706891,5.22045455 14.4222681,5.22045455 C15.973847,5.22045455 17.2359523,6.42045455 17.2359523,7.89659091 L17.2359523,8.23977273 L11.6097417,8.23977273 L11.6097417,7.89659091 L11.6097417,7.89659091 Z M8.23563648,10.4602273 L9.27426806,10.4602273 L9.27426806,11.9204545 C9.27426806,12.5340909 9.79763648,13.0306818 10.441426,13.0306818 C11.0863733,13.0306818 11.6097417,12.5340909 11.6097417,11.9204545 L11.6097417,10.4602273 L17.2359523,10.4602273 L17.2359523,11.9204545 C17.2359523,12.5340909 17.7593207,13.0306818 18.4031102,13.0306818 C19.0480575,13.0306818 19.571426,12.5340909 19.571426,11.9204545 L19.571426,10.4602273 L20.6088996,10.4602273 L21.9300575,21.1477273 L6.91447858,21.1477273 L8.23563648,10.4602273 L8.23563648,10.4602273 Z M6.48026806,24.6579545 L6.70489964,22.8465909 L22.1407944,22.8465909 L22.3642681,24.6579545 L6.48026806,24.6579545 L6.48026806,24.6579545 Z" transform="translate(0 0)" fill-rule="evenodd"></path></svg>',
icon_cs_resistiveink:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M15.0078016,24.114 L15.0078016,24.114 L14.8468016,24.112 C10.7998016,24.028 7.44980162,21.017 7.05180162,17.108 C6.77780162,14.41 7.58880162,12.201 9.53180162,10.353 C10.5858016,9.35 11.6358016,8.307 12.6528016,7.297 L14.9668016,5 L17.1558016,7.333 C18.1008016,8.343 19.0658016,9.376 20.0548016,10.331 C21.9328016,12.143 22.8918016,14.589 22.6868016,17.04 C22.4928016,19.383 21.2948016,21.421 19.3148016,22.78 C18.0458016,23.652 16.5558016,24.114 15.0078016,24.114 L15.0078016,24.114 Z M14.9208016,7.596 L13.9438016,8.566 C12.9028016,9.6 11.8428016,10.653 10.7788016,11.665 C9.24780162,13.121 8.63580162,14.792 8.85280162,16.925 C9.15780162,19.925 11.7498016,22.237 14.8828016,22.302 L15.0078016,22.304 C16.1888016,22.304 17.3238016,21.953 18.2908016,21.288 C19.8148016,20.242 20.7358016,18.681 20.8838016,16.89 C21.0438016,14.982 20.2838016,13.067 18.7988016,11.634 C17.7758016,10.647 16.7938016,9.597 15.8448016,8.581 L14.9208016,7.596 L14.9208016,7.596 Z" transform=""></path><path d="M8.80000305,17 L9.81666946,17 L10.8333359,15 L12.8666687,19 L14.9000015,15 L16.9333344,19 L18.9666672,15 L19.9833336,17 L21,17"></path></g></svg>',
icon_eagle:'<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg width="23px" height="22px" viewbox="0 0 23 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\x3c!-- Generator: Sketch 39.1 (31720) - http://www.bohemiancoding.com/sketch --\x3e<title>Group</title><desc>Created with Sketch.</desc><defs></defs><g id="Hub---Eagle" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="SCREEN_Eagle_Overview" transform="translate(-263.000000, -251.000000)" fill="#D90035"><g id="Latest-sketches--Big-title" transform="translate(249.500000, 131.000000)"><g id="Row"><g transform="translate(0.000000, 57.000000)"><g id="Group" transform="translate(13.000000, 63.000000)"><path d="M11.798899,20.0588235 L11.798899,20.0588235 C16.8010655,20.0588235 20.8561226,16.0030501 20.8561226,11 C20.8561226,5.99694991 16.8010655,1.94117647 11.798899,1.94117647 C6.79673259,1.94117647 2.74167549,5.99694991 2.74167549,11 C2.74167549,16.0030501 6.79673259,20.0588235 11.798899,20.0588235 L11.798899,20.0588235 Z M11.798899,22 L11.798899,22 C5.72483979,22 0.800841867,17.0751322 0.800841867,11 C0.800841867,4.92486775 5.72483979,0 11.798899,0 C17.8729583,0 22.7969562,4.92486775 22.7969562,11 C22.7969562,17.0751322 17.8729583,22 11.798899,22 L11.798899,22 Z" id="Oval-223"></path><path d="M20.3034067,5.38744729 C19.1070036,3.91725678 15.4454097,1.14459919 15.4454097,1.14459919 C15.4454097,1.14459919 14.5682492,-0.427250702 14.5682492,2.01674126 C14.5682492,4.46073323 16.1913851,5.47791352 17.1159946,6.80413801 C17.4695935,7.31132673 16.2518995,8.55874086 16.2518995,8.55874086 C16.2518995,8.55874086 12.3310883,7.38872895 10.2746773,8.80518485 C8.21826631,10.2216408 8.62014698,11.392201 8.62014698,11.392201 C8.62014698,11.392201 6.82042427,12.3538371 6.63726659,13.770293 C6.48372124,14.962463 7.75206735,16.3731027 7.75206735,16.3731027 C7.75206735,16.3731027 7.43236398,14.8195527 8.48305291,14.499301 C9.53429022,14.1795976 10.4023699,12.6715629 13.098736,16.0533993 C13.098736,16.0533993 13.1903148,17.5614341 13.6471122,18.3839985 C14.1039097,19.2065629 14.0918969,20.5505189 14.0918969,20.5505189 L16.2518994,20.1624642 C16.2518994,20.1624642 18.9558853,20.0500845 20.769586,16.5879155 C22.5832867,13.1257464 22.1216799,9.86235826 22.1216799,9.86235826 C22.1216799,9.86235826 21.8951355,7.34343061 20.3034067,5.38744729 Z" id="Fill-1"></path></g></g></g></g></g></g></svg>',
icon_view_pcb:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M9,7 L6,7 L6,11 L9,11 L9,13 L6,13 L6,17 L9,17 L9,19 L6,19 L6,23 L9,23 L9,24 L10,24 L10,23 L12,23 L12,19 L10,19 L10,17 L12,17 L12,13 L10,13 L10,11 L12,11 L12,7 L10,7 L10,6 L9,6 L9,7 L9,7 Z M20,7 L18,7 L18,11 L20,11 L20,13 L18,13 L18,17 L20,17 L20,19 L18,19 L18,23 L20,23 L20,24 L21,24 L21,23 L24,23 L24,19 L21,19 L21,17 L24,17 L24,13 L21,13 L21,11 L24,11 L24,7 L21,7 L21,6 L20,6 L20,7 L20,7 Z M9,5 L21,5 L21,6 L9,6 L9,5 Z M9,24 L21,24 L21,25 L9,25 L9,24 Z" transform="translate(0 0)" fill-rule="evenodd"></path></svg>',
icon_youtube:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M4,14.9335079 C4,10.7166071 4.33612773,10.3933184 4.33612773,10.3933184 C4.65675053,8.78155218 6.2598727,7.37855244 7.9055857,7.27014566 C7.9055857,7.27014566 11.4680057,6.97495747 15.0658321,6.97495747 C18.6636585,6.97495747 22.091672,7.26653304 22.091672,7.26653304 C23.7439209,7.38164267 25.3911201,8.78050146 25.6742366,10.4224241 C25.6742366,10.4224241 26,10.597765 26,14.9749575 C26,19.35215 25.6716514,19.5454289 25.6716514,19.5454289 C25.3467323,21.1633628 23.7447879,22.5784243 22.0888438,22.6971125 C22.0888438,22.6971125 18.3380351,23.0250425 15.0658317,23.0250425 C11.7936284,23.0250425 7.90587151,22.6931557 7.90587151,22.6931557 C6.25497926,22.5726482 4.61905127,21.1626085 4.34133283,19.5400523 C4.34133283,19.5400523 4,19.1504087 4,14.9335079 Z M13,18 L13,12 L18,15 L13,18 Z" transform="translate(0 0)" fill-rule="evenodd"></path></svg>',
icon_rotate_ccw:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g fill-rule="evenodd"><path d="M21.7606028,10.3060673 C20.5903471,10.2204043 19.3978407,10.3175494 18.3299426,10.6800228 C16.3104116,11.365506 15.0520281,12.8861438 14.7961167,15.5976842 C14.7540545,16.0433598 14.3586649,16.370553 13.9129894,16.3284907 C13.4673139,16.2864285 13.1401206,15.8910389 13.1821829,15.4453634 C13.4995053,12.083135 15.1974486,10.0313306 17.8088928,9.14493607 C19.0173063,8.73476792 20.3098548,8.60676736 21.5833563,8.6709158 L21.3187271,8.38160488 C21.0165902,8.05128802 21.0394346,7.53858298 21.3697515,7.23644613 C21.7000684,6.93430928 22.2127734,6.95715369 22.5149102,7.28747055 L24.1846588,9.11295498 C24.4802005,9.4360615 24.4656918,9.93548325 24.1518912,10.2408877 L22.3152473,12.0283904 C21.994444,12.3406102 21.4812775,12.333652 21.1690577,12.0128488 C20.8568379,11.6920456 20.8637961,11.178879 21.1845993,10.8666592 L21.7606028,10.3060673 L21.7606028,10.3060673 Z" transform="matrix(-1 0 0 1 37.576 0)"></path><path d="M26.5999756,14.6282576 L26.5999756,20.5810833 C26.5999756,21.1755359 26.1107988,21.6579936 25.5201724,21.658668 L13.4687205,21.6724289 C12.8723617,21.6731099 12.8142261,21.4305939 13.3213446,21.1407708 L25.6675484,14.084797 C26.1825137,13.7904893 26.5999756,14.0346698 26.5999756,14.6282576 Z M18.5165224,20.0375631 L24.9788699,20.0375631 L24.9788699,16.3507691 L18.5165224,20.0375631 Z" transform="matrix(-1 0 0 1 39.578 0)"></path><path d="M10.8312453,21.6400003 L4.8784196,21.6400003 C4.28396697,21.6400003 3.80196901,21.1501891 3.8018496,20.5587967 L3.79941311,8.4917144 C3.79929254,7.8945821 4.04186317,7.83637109 4.33120972,8.34414729 L11.3755821,20.7063638 C11.6694058,21.221997 11.4248332,21.6400003 10.8312453,21.6400003 Z" transform="matrix(-1 0 0 1 15.3 0)"></path></g></svg>',
icon_hamburger:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M5,8 L25,8 L25,11 L5,11 L5,8 Z M5,14 L25,14 L25,17 L5,17 L5,14 Z M5,20 L25,20 L25,23 L5,23 L5,20 Z" transform="translate(0 0)" fill-rule="evenodd"></path></svg>',icon_close:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g fill-rule="evenodd"><path d="M14.978,6.935 C19.42,6.935 23.022,10.537 23.022,14.981 C23.022,19.423 19.42,23.026 14.978,23.026 C10.534,23.026 6.933,19.423 6.933,14.981 C6.933,10.536 10.535,6.935 14.978,6.935 L14.978,6.935 Z M14.979,5 C9.476,5 5,9.479 5,14.98 C5,20.481 9.476,24.959 14.979,24.959 C20.481,24.959 24.958,20.482 24.958,14.98 C24.958,9.478 20.48,5 14.979,5 L14.979,5 L14.979,5 Z" transform=""></path><path d="M18.56,17.076 L16.268,14.781 L18.569,12.484 L17.087,11 L14.788,13.299 L12.497,11.007 L11,12.476 L13.306,14.781 L11.006,17.083 L12.484,18.561 L14.787,16.261 L17.082,18.556 L18.56,17.076 Z"></path></g></svg>',
icon_copperpour:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M22.632,22.793 L18.042,22.793 C17.302,22.793 17.006,22.25 17.006,21.51 C17.006,20.819 17.302,20.227 18.042,20.227 L22.632,20.227 C23.323,20.227 23.619,20.819 23.619,21.51 C23.619,22.25 23.323,22.793 22.632,22.793 L22.632,22.793 Z M14.884,22.793 L10.936,22.793 C10.245,22.793 9.949,22.25 9.949,21.51 C9.949,20.819 10.245,20.227 10.936,20.227 L14.884,20.227 C15.624,20.227 15.871,20.819 15.871,21.51 C15.871,22.25 15.624,22.793 14.884,22.793 L14.884,22.793 Z M22.286,19.042 C21.644,19.042 21.003,18.795 21.003,18.055 L21.003,16.032 L18.535,13.614 C17.943,13.17 18.239,12.627 18.683,12.084 C19.177,11.541 19.719,11.245 20.213,11.689 L23.618,14.848 L23.618,18.056 C23.619,18.795 23.027,19.042 22.286,19.042 L22.286,19.042 Z M16.167,11.688 L13.946,9.763 C13.403,9.319 13.601,8.727 14.094,8.233 C14.588,7.69 15.081,7.345 15.624,7.789 L17.845,9.763 C18.388,10.207 18.19,10.75 17.697,11.293 C17.154,11.886 16.414,11.886 16.167,11.688 L16.167,11.688 Z M11.182,9.566 L7.431,9.566 C6.691,9.566 6.395,9.023 6.395,8.283 C6.395,7.543 6.691,7 7.431,7 L11.182,7 C11.922,7 12.169,7.543 12.169,8.283 C12.169,9.023 11.923,9.566 11.182,9.566 L11.182,9.566 Z M7.333,16.081 C6.593,16.081 6,15.736 6,15.094 L6,12.084 C6,11.393 6.592,11.048 7.333,11.048 C8.024,11.048 8.567,11.393 8.567,12.084 L8.567,15.094 C8.567,15.735 8.024,16.081 7.333,16.081 L7.333,16.081 Z M7.333,22.349 C6.593,22.349 6,22.053 6,21.362 L6,18.154 C6,17.463 6.592,17.167 7.333,17.167 C8.024,17.167 8.567,17.463 8.567,18.154 L8.567,21.362 C8.567,22.052 8.024,22.349 7.333,22.349 L7.333,22.349 Z" transform="translate(-18 -468) translate(18 468)" fill-rule="evenodd"></path></svg>',
admin_horse3:'<?xml version="1.0" encoding="iso-8859-1"?>\x3c!-- Generator: Adobe Illustrator 18.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --\x3e<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewbox="0 0 448.546 448.546" style="enable-background:new 0 0 448.546 448.546;" xml:space="preserve"><g><path d="M440.243,167.706c0-11.868-4.621-23.025-13.013-31.416c-8.391-8.392-19.552-13.014-31.427-13.014\t\tc-19.69,0-36.765,13.135-42.448,31.277c-5.418-1.311-10.982-1.988-16.624-1.988c-16.155,0-32.298,5.542-45.455,15.607\t\tc-6.048,4.628-12.589,8.308-19.475,11.001c-0.379-56.859-22.995-110.52-59.285-139.536c-2.278-4.122-5.096-7.947-8.453-11.322\t\tl-6.029-6.063l-4.615,5.245c-14.915-7.159-30.575-9.539-45.658-6.858c-10.969,1.952-20.159,9.247-24.584,19.514\t\tc-3.117,7.234-3.543,15.173-1.412,22.511c-1.653,0.767-3.252,1.625-4.796,2.569L8.303,0L88.68,107.432l-22.606,49.411\t\tc-4.969,10.856-3.98,23.269,2.643,33.202c6.358,9.534,17.001,15.227,28.469,15.227c6.129,0,12.163-1.661,17.449-4.805\t\tl17.271-10.269c-8.082,18.234-16.945,40.986-16.945,53.067c0,22.728,7.94,44.652,22.357,61.737\t\tc5.036,5.967,10.79,11.242,17.086,15.753v127.79h33h15h42V338.559c23.455-1.98,55.128-15.9,83.098-30.766\t\tc-0.066,3.365-0.098,6.385-0.098,9.213v131.54h32h16h41V316.088l23.84,43.529V167.706z M241.637,107.103\t\tc9.688,23.505,14.535,49.807,14.142,76.437c-4.132,0.664-8.339,1.006-12.597,1.006h-9.405\t\tc-2.255-16.181-8.859-56.497-22.198-87.708c5.073-8.275,7.696-17.871,7.973-27.541C228.232,80.062,235.794,92.925,241.637,107.103z\t\t M137.871,46.486c2.323-5.393,6.95-9.072,12.69-10.094c10.537-1.87,21.194-0.621,31.788,3.684L171.452,52.46\t\tc-1.186,1.096-2.835,1.697-4.758,1.697c-6.766,0-18.485,1.586-29.624,3.927C135.987,54.31,136.238,50.275,137.871,46.486z\t\t M69.922,55.652l32.549,19.54l-6.209,15.667L69.922,55.652z M106.457,186.715c-2.813,1.672-6.019,2.557-9.271,2.557\t\tc-6.107,0-11.773-3.029-15.156-8.104c-3.472-5.206-4.011-11.976-1.406-17.668l32.285-70.566c4.13-9.025,11.996-15.538,21.58-17.868\t\tc11.51-2.798,25.355-4.908,32.305-4.908c6.164,0,11.88-2.308,16.092-6.496l15.13-17.166c7.906,13.432,7.512,32.182-1.935,44.711\t\tl-2.878,3.817l1.998,4.343c0.569,1.237,1.126,2.496,1.672,3.775c4.245,9.944,4.454,21.294-0.004,31.145\t\tc-3.774,8.34-10.347,14.981-19.683,19.849c-13.224,6.896-27.214,7.729-27.354,7.736l0,0c-1.263,0.129-2.484,0.532-3.575,1.181\t\tL106.457,186.715z M187.403,335.923v71.623h-17v-77.53C175.845,332.496,181.532,334.486,187.403,335.923z M170.403,432.546v-9h17v9\t\tH170.403z M203.403,432.546v-9h25v9H203.403z M238.937,322.8c-0.721,0-1.43-0.019-2.106-0.055l-8.428-0.452v85.253h-25v-84.874\t\tl-6.649-1.138c-18.506-3.169-35.271-12.704-47.208-26.85c-11.985-14.202-18.586-32.464-18.586-51.419\t\tc0-10.817,12.437-41.03,24.581-65.919c6.205-0.849,17.416-3.073,28.536-8.763c9.202-4.71,19.319-12.309,25.808-24.357\t\tc6.24,26.061,8.868,48.854,8.908,49.212l0.801,7.106h23.59c21.01,0,41.003-6.801,57.815-19.665\t\tc10.382-7.942,23.072-12.315,35.733-12.315c6.323,0,12.518,1.071,18.414,3.185c1.911,0.685,3.44,1.347,4.545,1.969\t\tc6.377,3.587,12.215,8.01,17.349,13.145c15.066,15.066,23.364,35.053,23.364,56.278v164.404h-25v-83.374l-4.846-2.078\t\tc-10.421-4.471-17.154-14.845-17.154-26.429v-20.904l-12.021,6.988C295.849,308.221,259.467,322.8,238.937,322.8z M359.403,334.354\t\tv73.191h-16v-89.347C347.211,324.822,352.678,330.427,359.403,334.354z M343.403,432.546v-9h16v9H343.403z M375.403,432.546v-9h25\t\tv9H375.403z M424.243,297.094l-7.84-14.315v-39.637c0-25.499-9.962-49.504-28.05-67.593c-5.947-5.946-12.68-11.084-20.01-15.302\t\tc3.324-12.102,14.51-20.971,27.46-20.971c7.601,0,14.744,2.957,20.112,8.327c5.37,5.369,8.327,12.509,8.327,20.103V297.094z"></path><path d="M160.997,128.102c7.36-10.74,4.61-25.465-6.13-32.825c-3.948-2.705-8.56-4.136-13.333-4.136\t\tc-7.8,0-15.087,3.838-19.492,10.267c-7.359,10.74-4.609,25.466,6.131,32.824c3.948,2.706,8.559,4.137,13.333,4.137h0.001\t\tC149.306,138.368,156.592,134.53,160.997,128.102z M147.798,119.058c-1.421,2.073-3.772,3.311-6.292,3.311\t\tc-1.532,0-3.016-0.462-4.29-1.335c-3.462-2.372-4.349-7.12-1.977-10.582c1.421-2.073,3.773-3.311,6.294-3.311\t\tc1.532,0,3.016,0.462,4.289,1.334c1.677,1.149,2.807,2.884,3.18,4.882C149.375,115.355,148.948,117.38,147.798,119.058z"></path></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',
icon_cornertype_left_bevel:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M11.5,22 L9.5,22 L9.5,9 L22.5,9 L22.5,11 L11.5,11 L11.5,22 Z" transform="translate(0 0)" fill-rule="evenodd"></path></svg>',icon_drawingaids:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M24,14 L19,14 L19,11 L16,11 L16,6 L14,6 L14,11 L11,11 L11,14 L6,14 L6,16 L11,16 L11,19 L14,19 L14,24 L16,24 L16,19 L19,19 L19,16 L24,16 L24,14 L24,14 Z M17,17 L13,17 L13,13 L17,13 L17,17 L17,17 Z" transform="translate(0 0)" fill-rule="evenodd"></path></svg>',
icon_locked:'<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg width="14px" height="17px" viewbox="0 0 14 17" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\x3c!-- Generator: Sketch 3.7.1 (28215) - http://www.bohemiancoding.com/sketch --\x3e<title>icon-lock</title><desc>Created with Sketch.</desc><defs></defs><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Other" transform="translate(-217.000000, -34.000000)" fill="#000000"><g id="lock" transform="translate(208.000000, 28.566406)"><g id="icon-lock" transform="translate(9.000000, 6.000000)"><path d="M11.5477424,7.12840444 L11.3473897,7.12840444 L11.3473897,5.00855151 C11.3473897,2.42163753 9.18174537,0.317138672 6.51853306,0.317138672 C3.85634036,0.317138672 1.68967644,2.42163753 1.68967644,5.00855151 L1.68967644,7.12840444 L1.49034336,7.12840444 C0.676697333,7.12840444 0.0190511085,7.76832266 0.0190511085,8.557324 L0.0190511085,14.9069769 C0.0190511085,15.6959783 0.676697333,16.3358965 1.49034336,16.3358965 L11.5472326,16.3358965 C12.3608786,16.3358965 13.0185248,15.6959783 13.0185248,14.9069769 L13.0185248,8.557324 C13.0190346,7.76832266 12.3613884,7.12840444 11.5477424,7.12840444 L11.5477424,7.12840444 Z M9.31684324,7.12840444 L3.72124249,7.12840444 L3.72124249,5.00855151 C3.72124249,3.50979568 4.97637816,2.29038495 6.51853306,2.29038495 C8.06170758,2.29038495 9.31633344,3.50979568 9.31633344,5.00855151 L9.31633344,7.12840444 L9.31684324,7.12840444 Z" id="Shape"></path></g></g></g></g></svg>',
icon_shoppingcart:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g transform="translate(0 0)" fill-rule="evenodd"><path d="M4.89591806,6.25235078 L3.81630022,5.22901931 L7.85646916,18.6043472 L8.17854609,19.6706106 L9.29239138,19.6706106 L24.8871821,19.6706106 L25.8761888,19.6706106 L26.2658516,18.7616018 L29.5221586,11.1652588 C29.848554,10.4038407 29.4958984,9.52199358 28.7344803,9.1955982 C27.9730621,8.86920283 27.0912151,9.22185845 26.7648197,9.98327657 L23.8707506,16.6706106 L10.3928902,16.6706106 L6.68814466,4.36154624 L6.44048833,3.54165861 L5.60852681,3.33821476 L2.35630438,2.54293199 C1.55158793,2.34615051 0.739713461,2.83897918 0.542931988,3.64369562 C0.346150515,4.44841207 0.838979181,5.26028654 1.64369562,5.45706801 L4.89591806,6.25235078 Z"></path><circle cx="11.142" cy="23.031" r="2"></circle><circle cx="23.142" cy="23.031" r="2"></circle></g></svg>',
icon_cornertype_polygon:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><rect transform="rotate(45.009)" x="14" y="7" width="2" height="16.971" fill-rule="evenodd"></rect></svg>',icon_view_bitlab:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g transform="translate(0 0)" fill="none" fill-rule="evenodd"><path d="M24,21 L24,23 L7,23 L7,21 L4,21 L4,9 L7,9 L7,7 L24,7 L24,9 L27,9 L27,21 L24,21 L24,21 Z"></path><rect x="10" y="11" width="3" height="3"></rect><rect x="14" y="11" width="3" height="3"></rect><rect x="18" y="11" width="3" height="3"></rect><rect x="18" y="16" width="3" height="3"></rect><rect x="14" y="16" width="3" height="3"></rect><rect x="10" y="16" width="3" height="3"></rect><circle cx="7" cy="12.017" r="1"></circle><circle cx="7" cy="15.017" r="1"></circle><circle cx="7" cy="18.017" r="1"></circle><circle cx="24" cy="12.017" r="1"></circle><circle cx="24" cy="15.017" r="1"></circle><circle cx="24" cy="18.017" r="1"></circle></g></svg>',
icon_stop:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M20.5,22 L9.5,22 C8.672,22 8,21.328 8,20.5 L8,9.5 C8,8.672 8.672,8 9.5,8 L20.5,8 C21.328,8 22,8.672 22,9.5 L22,20.5 C22,21.328 21.328,22 20.5,22 L20.5,22 Z" transform="translate(0 0)" fill-rule="evenodd"></path></svg>',icon_uploadandsimulate:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M20,16 L17,16 L17,21 L13,21 L13,16 L10,16 L15,8 L20,16 L20,16 Z" transform="translate(0 0)" fill-rule="evenodd"></path></svg>',
icon_plus:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g fill-rule="evenodd"><path d="M14.781,22.438 L14.22,22.438 C13.546,22.438 13,21.892 13,21.219 L13,8.219 C13,7.546 13.546,7 14.219,7 L14.78,7 C15.454,7 16,7.546 16,8.219 L16,21.219 C16,21.892 15.454,22.438 14.781,22.438 L14.781,22.438 Z" transform=""></path><path d="M7,14.674 L7,14.327 C7,13.594 7.593,13 8.326,13 L21.326,13 C22.059,13 22.279,13.594 22.279,14.326 L22.279,14.673 C22.279,15.406 22.059,16 21.326,16 L8.326,16 C7.593,16 7,15.406 7,14.674 L7,14.674 Z"></path></g></svg>',
icon_reddit:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g fill-rule="evenodd"><path d="M21.2903399,6.49601361 L16.7870066,5.43601361 L16.2904406,5.31913133 L16.1365971,5.80551736 L14.4819304,11.0368507 L15.5307177,11.3685813 L17.1853844,6.13724796 L16.5349749,6.50675171 L21.0383083,7.56675171 L21.2903399,6.49601361 L21.2903399,6.49601361 Z" transform="translate(-198 -178) translate(198 178)"></path><path d="M24.2273241,7.39538266 C24.2273241,8.07148354 23.6783765,8.62071599 23.0033241,8.62071599 C22.3256762,8.62071599 21.7773241,8.07222166 21.7773241,7.39538266 C21.7773241,6.71833055 22.3252229,6.17071599 23.0033241,6.17071599 C23.6788297,6.17071599 24.2273241,6.71906804 24.2273241,7.39538266 L24.2273241,7.39538266 Z M25.3273241,7.39538266 C25.3273241,6.11149091 24.286279,5.07071599 23.0033241,5.07071599 C21.7178374,5.07071599 20.6773241,6.1106895 20.6773241,7.39538266 C20.6773241,8.67967103 21.7180991,9.72071599 23.0033241,9.72071599 C24.2860175,9.72071599 25.3273241,8.67886905 25.3273241,7.39538266 L25.3273241,7.39538266 Z" transform="translate(-198 -178) translate(198 178)"></path><path d="M11.0099487,21.4840247 C11.9045602,22.3786362 13.2138167,22.7044493 14.9088574,22.7044493 C16.6282182,22.7044493 17.9366634,22.3804551 18.8336203,21.4841705 L18.0560945,20.7060615 C17.4188618,21.3428165 16.3622623,21.6044493 14.9088574,21.6044493 C13.4797099,21.6044493 12.4230562,21.3414974 11.7877661,20.7062073 L11.0099487,21.4840247 L11.0099487,21.4840247 Z" transform="translate(-198 -178) translate(198 178)"></path><path d="M18.5172574,14.9899827 C17.5556836,14.9899827 16.7759241,15.7700434 16.7759241,16.7326493 C16.7759241,17.6947393 17.5558341,18.4746493 18.5172574,18.4746493 C19.4796807,18.4746493 20.2592574,17.6950726 20.2592574,16.7326493 C20.2592574,15.76971 19.4798313,14.9899827 18.5172574,14.9899827 Z" transform="translate(-198 -178) translate(198 178)"></path><path d="M11.3321908,14.9899827 C10.3691008,14.9899827 9.58952408,15.7695594 9.58952408,16.7326493 C9.58952408,17.6952232 10.3692514,18.4746493 11.3321908,18.4746493 C12.2941301,18.4746493 13.0741908,17.69489 13.0741908,16.7326493 C13.0741908,15.7700753 12.2937968,14.9899827 11.3321908,14.9899827 Z" transform="translate(-198 -178) translate(198 178)"></path><path d="M22.628998,13.1896587 C23.043774,12.831861 23.5708048,12.632116 24.1301241,12.632116 C25.4021043,12.632116 26.4327908,13.6628676 26.4327908,14.9347827 C26.4327908,15.7525149 26.0036967,16.4950424 25.315638,16.9089432 L26.0685486,17.2681025 C25.8019275,15.3628329 24.5443143,13.6487575 22.5714045,12.3895846 L22.628998,13.1896587 L22.628998,13.1896587 Z M21.9758153,12.4324583 L21.4672295,12.8711789 L22.0334089,13.2325323 C23.7759344,14.3446667 24.8556348,15.8162541 25.0781986,17.4066909 L25.1830154,18.1557101 L25.8311092,17.7658501 C26.8168223,17.1728958 27.4327908,16.1069906 27.4327908,14.9347827 C27.4327908,13.110597 25.9544032,11.632116 24.1301241,11.632116 C23.3287045,11.632116 22.57048,11.9194836 21.9758153,12.4324583 L21.9758153,12.4324583 Z" transform="translate(-198 -178) translate(198 178)"></path><path d="M4.45391657,16.8629684 C3.80790167,16.4401746 3.41112408,15.72199 3.41112408,14.9347827 C3.41112408,13.6629186 4.44109272,12.632116 5.71179075,12.632116 C6.25583146,12.632116 6.76957705,12.8208246 7.17971307,13.1606476 L7.23245447,12.3524296 C5.24845657,13.6006886 3.97362092,15.3062409 3.68575142,17.2064421 L4.45391657,16.8629684 L4.45391657,16.8629684 Z M3.90630484,17.6997009 L4.55783779,18.1261061 L4.67446999,17.3562272 C4.91497806,15.7686546 6.01092446,14.3024312 7.76498514,13.1988404 L8.3494008,12.8311474 L7.81772654,12.3906224 C7.22982284,11.9035078 6.49097789,11.632116 5.71179075,11.632116 C3.88862671,11.632116 2.41112408,13.1108149 2.41112408,14.9347827 C2.41112408,16.0628321 2.98081792,17.0940026 3.90630484,17.6997009 L3.90630484,17.6997009 Z" transform="translate(-198 -178) translate(198 178)"></path><path d="M26.1216574,18.031916 C26.1216574,13.6908372 21.0604595,10.325916 14.8723241,10.325916 C8.68472157,10.325916 3.62365742,13.6909388 3.62365742,18.031916 C3.62365742,22.3722434 8.68466449,25.7365827 14.8723241,25.7365827 C21.0609779,25.7365827 26.1216574,22.3727214 26.1216574,18.031916 L26.1216574,18.031916 Z M25.1216574,18.031916 C25.1216574,21.7138595 20.5741949,24.7365827 14.8723241,24.7365827 C9.171454,24.7365827 4.62365742,21.7134036 4.62365742,18.031916 C4.62365742,14.349724 9.17152734,11.325916 14.8723241,11.325916 C20.5736585,11.325916 25.1216574,14.3496384 25.1216574,18.031916 L25.1216574,18.031916 Z" transform="translate(-198 -178) translate(198 178)"></path></g></svg>',
icon_step_into_next_function:'<svg width="10" height="21" viewbox="0 0 10 21" xmlns="http://www.w3.org/2000/svg"><g transform="matrix(-1 0 0 1 11 0)" fill-rule="evenodd"><path d="M5,1 L5,10 C5,10.5522847 5.44771525,11 6,11 C6.55228475,11 7,10.5522847 7,10 L7,1 C7,0.44771525 6.55228475,0 6,0 C5.44771525,0 5,0.44771525 5,1 L5,1 Z"></path><path d="M1.26430901,7.72188274 L5.24220129,11.718701 C5.63361651,12.1119785 6.27038537,12.1113891 6.66107186,11.7173877 L10.6655749,7.67890676 C11.0544459,7.28673618 11.0517711,6.65357685 10.6596005,6.26470581 C10.2674299,5.87583478 9.63427062,5.87850958 9.24539958,6.27068016 L5.24089657,10.3091611 L6.65976714,10.3078477 L2.68187487,6.31102944 C2.29227849,5.91957944 1.65911529,5.91807678 1.26766529,6.30767316 C0.876215286,6.69726954 0.874712629,7.33043274 1.26430901,7.72188274 L1.26430901,7.72188274 Z"></path><circle cx="6" cy="18" r="3"></circle></g></svg>',
icon_text:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M21.312,7.948 C21.153,7.387 20.641,7 20.059,7 L15.805,7 L14.805,7 L9.551,7 C8.969,7 8.457,7.387 8.298,7.948 C8.298,7.948 8,9.844 8,10.375 C8,10.906 8.391,11 8.391,11 L9,11 L9.64,9.72 C9.86,9.279 10.311,9 10.805,9 L13.805,9 L13.805,20 L12.805,21 L10.805,21 L10.805,23 L18.805,23 L18.805,21 L16.805,21 L15.805,20 L15.805,9 L18.805,9 C19.299,9 19.75,9.279 19.971,9.72 L20.611,11 L21.22,11 C21.22,11 21.611,10.906 21.611,10.375 C21.61,9.844 21.312,7.948 21.312,7.948 L21.312,7.948 Z" transform="translate(-498 -468) translate(498 468)" fill-rule="evenodd"></path></svg>',
icon_pause:'<svg width="12" height="13" viewbox="0 0 12 13" xmlns="http://www.w3.org/2000/svg"><g transform="translate(0 0)" fill-rule="evenodd"><rect width="4" height="13" rx="2"></rect><rect x="8" width="4" height="13" rx="2"></rect></g></svg>',icon_play_incircle:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g fill-rule="evenodd"><path d="M18.1957853,14.4324959 C18.7979427,14.8327188 18.798049,15.4815378 18.1957853,15.8818314 L13.5903024,18.9428582 C12.988145,19.3430812 12.5,19.0187777 12.5,18.2181905 L12.5,12.0961368 C12.5,11.2956909 12.9880387,10.9711754 13.5903024,11.371469 L18.1957853,14.4324959 L18.1957853,14.4324959 Z" transform=""></path><path d="M26.5,15 C26.5,8.64872538 21.3512746,3.5 15,3.5 C8.64872538,3.5 3.5,8.64872538 3.5,15 C3.5,21.3512746 8.64872538,26.5 15,26.5 C21.3512746,26.5 26.5,21.3512746 26.5,15 Z M5.5,15 C5.5,9.75329488 9.75329488,5.5 15,5.5 C20.2467051,5.5 24.5,9.75329488 24.5,15 C24.5,20.2467051 20.2467051,24.5 15,24.5 C9.75329488,24.5 5.5,20.2467051 5.5,15 Z"></path></g></svg>',
icon_pauze:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M20.062,20.931 C20.062,21.519 19.581,22 18.993,22 L16.962,22 C16.374,22 15.893,21.519 15.893,20.931 L15.893,9.069 C15.893,8.481 16.374,8 16.962,8 L18.993,8 C19.581,8 20.062,8.481 20.062,9.069 L20.062,20.931 L20.062,20.931 Z M13.169,20.931 C13.169,21.519 12.688,22 12.1,22 L10.069,22 C9.481,22 9,21.519 9,20.931 L9,9.069 C9,8.481 9.481,8 10.069,8 L12.1,8 C12.688,8 13.169,8.481 13.169,9.069 L13.169,20.931 L13.169,20.931 Z" transform="translate(0 0)" fill-rule="evenodd"></path></svg>',
icon_cornertype_left_round:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M11,22 L9,22 L9,20 C9,13.935 13.935,9 20,9 L22,9 L22,11 L20,11 C15.037,11 11,15.037 11,20 L11,22 L11,22 Z" transform="translate(0 0)" fill-rule="evenodd"></path></svg>',icon_drill:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><g fill-rule="evenodd"><path d="M15.025,11.185 C12.88,11.185 11.185,12.881 11.185,15.025 C11.185,17.169 12.881,18.865 15.025,18.865 C17.169,18.865 18.865,17.169 18.865,15.025 C18.865,12.881 17.17,11.185 15.025,11.185 L15.025,11.185 Z M15.025,22.057 C11.135,22.057 7.943,18.865 7.943,15.025 C7.943,11.135 11.135,7.993 15.025,7.993 C18.915,7.993 22.008,11.135 22.008,15.025 C22.007,18.865 18.915,22.057 15.025,22.057 L15.025,22.057 Z" transform=""></path><path d="M24.352,15.673 L5.698,15.673 C5.349,15.673 5,15.424 5,15.025 C5,14.626 5.349,14.327 5.698,14.327 L24.351,14.327 C24.7,14.327 24.999,14.626 24.999,15.025 C24.999,15.424 24.701,15.673 24.352,15.673 L24.352,15.673 Z"></path><path d="M15.025,25 C14.626,25 14.327,24.701 14.327,24.302 L14.327,5.698 C14.327,5.349 14.626,5 15.025,5 C15.424,5 15.673,5.349 15.673,5.698 L15.673,24.301 C15.673,24.701 15.424,25 15.025,25 L15.025,25 Z"></path></g></svg>',
icon_starred:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M14.3927923,5.5475 C14.7577923,4.8175 15.3057923,4.8175 15.6247923,5.5475 L17.4037923,9.2885 C17.7227923,10.0185 18.6357923,10.7025 19.4117923,10.8395 L23.3357923,11.4325 C24.1117923,11.5695 24.2937923,12.1165 23.7007923,12.7105 L20.8717923,15.5855 C20.3237923,16.1785 20.0047923,17.2735 20.0957923,18.0945 L20.7797923,22.2005 C20.9167923,22.9765 20.4607923,23.3415 19.7757923,22.9765 L16.2627923,21.0145 C15.5787923,20.6495 14.4377923,20.6495 13.7537923,21.0145 L10.2857923,22.9765 C9.60179229,23.3415 9.14479229,22.9765 9.23679229,22.2005 L9.92079229,18.0945 C10.0577923,17.2735 9.69279229,16.1785 9.14479229,15.5855 L6.31579229,12.7105 C5.76779229,12.1175 5.95079229,11.5695 6.72679229,11.4325 L10.6047923,10.8395 C11.3807923,10.7025 12.2927923,10.0185 12.6577923,9.2885 L14.3927923,5.5475 L14.3927923,5.5475 Z" transform="translate(0 0)" fill-rule="evenodd"></path></svg>',
icon_arrow:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M20.591,16.4925606 C22.171,16.0245606 21.878,14.8545606 21.001,14.1515606 L11.404,6.48556063 C10.468,5.72456063 10,5.84156063 10,6.95356063 L10.176,20.0025606 C10.176,21.1145606 10.937,21.4065606 11.697,20.7635606 L13.277,19.5345606 C14.038,18.8905606 15.032,19.1245606 15.501,20.0025606 L17.198,23.3375606 C17.842,24.5665606 20.241,23.3375606 19.714,22.2845606 L17.9,18.6565606 C17.49,17.8375606 17.549,17.2525606 18.661,16.9595606 L20.591,16.4925606 L20.591,16.4925606 Z" transform="translate(-618 -468) translate(618 468)" fill-rule="evenodd"></path></svg>',
icon_home:'<svg width="30" height="30" viewbox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M23.4880051,16.489124 C23.4725149,16.489124 23.229097,16.2811619 22.9458471,16.0287159 L15.5149624,9.37948976 C15.2306061,9.12704381 14.7692185,9.12704381 14.4848622,9.37948976 L7.05397752,16.0287159 C6.7707276,16.2811619 6.5273097,16.489124 6.51181947,16.489124 L6.48526479,16.5135901 L6.47862612,16.5436167 L6.47862612,16.5569619 L6.48526479,17.214211 L6.48526479,24.3494234 C6.48415834,24.7064065 6.81277251,25 7.21219915,25 L12.7643402,25 L12.7543822,24.919929 L12.7543822,19.709756 C12.7543822,19.3516609 13.0818899,19.0591794 13.482423,19.0591794 L16.5151887,19.0591794 C16.9168283,19.0591794 17.244336,19.352773 17.244336,19.709756 L17.244336,24.919929 L17.234378,25 L22.786519,25 C23.1870521,25 23.5145598,24.7064065 23.5145598,24.3505355 L23.5145598,17.214211 L23.5211985,16.5569619 L23.5211985,16.5436167 L23.5145598,16.5135901 L23.4880051,16.489124 L23.4880051,16.489124 Z M26.6646087,13.9991394 L20.9055625,8.84679544 L20.9033496,8.84457125 L15.8446831,4.31944978 C15.3666988,3.89351674 14.5213748,3.89351674 14.0433906,4.31944978 L3.40602835,13.8367733 C2.9081281,14.281612 2.84948651,14.8954894 3.33410942,15.3525611 C3.47462794,15.4837885 3.65719136,15.5627474 3.85303213,15.6005587 C4.13849494,15.6739571 4.44719309,15.6461547 4.71495278,15.5160393 L4.77691371,15.4871248 L4.80457483,15.4737797 C4.93070956,15.4148385 5.05241851,15.3414402 5.1553179,15.2502482 L14.4627333,6.92398025 C14.7459832,6.6715343 15.2084772,6.6715343 15.4917271,6.92398025 L24.8511454,15.2902837 L24.9274901,15.3458886 L25.0436668,15.4493135 C25.491777,15.8496684 26.2187114,15.8496684 26.6657152,15.4493135 C27.1116125,15.0478466 27.1116125,14.3994943 26.6646087,13.9991394 L26.6646087,13.9991394 Z" transform="translate(0 0)" fill-rule="evenodd"></path></svg>',
icon_doc_circuits_component:'<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg width="22px" height="22px" viewbox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\x3c!-- Generator: Sketch 3.7.2 (28276) - http://www.bohemiancoding.com/sketch --\x3e<title>icon-doc-circuits-component</title><desc>Created with Sketch.</desc><defs></defs><g id="Page-1" stroke="none" stroke-width="1" fill-rule="evenodd"><g id="Filetypes" transform="translate(-564.000000, -24.000000)"><g id="docs-circuits-component" transform="translate(549.000000, 20.000000)"><g id="icon-doc-circuits-component" transform="translate(15.000000, 4.000000)"><path d="M10.0082746,16.3976779 L10.0082746,18.896343 C10.0082746,19.4486278 10.4559899,19.896343 11.0082746,19.896343 C11.5605594,19.896343 12.0082746,19.4486278 12.0082746,18.896343 L12.0082746,16.3976779 C12.0082746,15.8453931 11.5605594,15.3976779 11.0082746,15.3976779 C10.4559899,15.3976779 10.0082746,15.8453931 10.0082746,16.3976779 L10.0082746,16.3976779 Z" id="Shape"></path><path d="M10.5082746,19.8385803 L10.5082746,21.4795836 C10.5082746,21.755726 10.7321322,21.9795836 11.0082746,21.9795836 C11.284417,21.9795836 11.5082746,21.755726 11.5082746,21.4795836 L11.5082746,19.8385803 C11.5082746,19.5624379 11.284417,19.3385803 11.0082746,19.3385803 C10.7321322,19.3385803 10.5082746,19.5624379 10.5082746,19.8385803 L10.5082746,19.8385803 Z" id="Shape"></path><path d="M14.0082746,13.3976779 L14.0082746,15.896343 C14.0082746,16.4486278 14.4559899,16.896343 15.0082746,16.896343 C15.5605594,16.896343 16.0082746,16.4486278 16.0082746,15.896343 L16.0082746,13.3976779 C16.0082746,12.8453931 15.5605594,12.3976779 15.0082746,12.3976779 C14.4559899,12.3976779 14.0082746,12.8453931 14.0082746,13.3976779 L14.0082746,13.3976779 Z" id="Shape"></path><path d="M14.5082746,16.8385803 L14.5082746,18.4795836 C14.5082746,18.755726 14.7321322,18.9795836 15.0082746,18.9795836 C15.284417,18.9795836 15.5082746,18.755726 15.5082746,18.4795836 L15.5082746,16.8385803 C15.5082746,16.5624379 15.284417,16.3385803 15.0082746,16.3385803 C14.7321322,16.3385803 14.5082746,16.5624379 14.5082746,16.8385803 L14.5082746,16.8385803 Z" id="Shape"></path><path d="M18.0082746,10.3976779 L18.0082746,12.896343 C18.0082746,13.4486278 18.4559899,13.896343 19.0082746,13.896343 C19.5605594,13.896343 20.0082746,13.4486278 20.0082746,12.896343 L20.0082746,10.3976779 C20.0082746,9.84539313 19.5605594,9.39767788 19.0082746,9.39767788 C18.4559899,9.39767788 18.0082746,9.84539313 18.0082746,10.3976779 L18.0082746,10.3976779 Z" id="Shape"></path><path d="M18.5082746,13.8385803 L18.5082746,15.4795836 C18.5082746,15.755726 18.7321322,15.9795836 19.0082746,15.9795836 C19.284417,15.9795836 19.5082746,15.755726 19.5082746,15.4795836 L19.5082746,13.8385803 C19.5082746,13.5624379 19.284417,13.3385803 19.0082746,13.3385803 C18.7321322,13.3385803 18.5082746,13.5624379 18.5082746,13.8385803 L18.5082746,13.8385803 Z" id="Shape"></path><path d="M1.45009358,8.07384803 C1.32342875,8.15079029 1.23742394,8.27995931 1.21528705,8.42649958 L0.923505135,10.3580177 C0.901211562,10.5055951 0.946011714,10.6554158 1.04566044,10.7665295 L8.12091917,18.6558222 C8.28473679,18.8384876 8.55689295,18.8752942 8.76334592,18.7427045 L19.9588254,11.5526616 C20.0331704,11.5049152 20.0935354,11.4383207 20.1337742,11.3596585 L21.0437934,9.58067625 C21.1144947,9.4424634 21.1169842,9.27925022 21.0505312,9.13894534 L20.3547181,7.66984802 L20.2633233,7.53738716 L13.931376,0.949630811 C13.7691156,0.780815189 13.5114318,0.747215696 13.3113087,0.868780011 L1.45009358,8.07384803 L1.45009358,8.07384803 Z" id="Shape"></path></g></g></g></g></svg>'};
